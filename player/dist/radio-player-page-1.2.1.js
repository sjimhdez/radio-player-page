var Ax=Object.defineProperty;var Rx=(i,e,t)=>e in i?Ax(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var xx=(i,e)=>()=>(e||i((e={exports:{}}).exports,e),e.exports);var ih=(i,e,t)=>Rx(i,typeof e!="symbol"?e+"":e,t);var $z=xx(cd=>{function Ix(i,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const r in n)if(r!=="default"&&!(r in i)){const o=Object.getOwnPropertyDescriptor(n,r);o&&Object.defineProperty(i,r,o.get?o:{enumerable:!0,get:()=>n[r]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}function jS(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Py={exports:{}},ah={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ev;function wx(){if(ev)return ah;ev=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(n,r,o){var u=null;if(o!==void 0&&(u=""+o),r.key!==void 0&&(u=""+r.key),"key"in r){o={};for(var d in r)d!=="key"&&(o[d]=r[d])}else o=r;return r=o.ref,{$$typeof:i,type:n,key:u,ref:r!==void 0?r:null,props:o}}return ah.Fragment=e,ah.jsx=t,ah.jsxs=t,ah}var tv;function kx(){return tv||(tv=1,Py.exports=wx()),Py.exports}var bn=kx(),zy={exports:{}},gr={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nv;function Cx(){if(nv)return gr;nv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),m=Symbol.iterator;function p(Pe){return Pe===null||typeof Pe!="object"?null:(Pe=m&&Pe[m]||Pe["@@iterator"],typeof Pe=="function"?Pe:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,A={};function k(Pe,qe,et){this.props=Pe,this.context=qe,this.refs=A,this.updater=et||T}k.prototype.isReactComponent={},k.prototype.setState=function(Pe,qe){if(typeof Pe!="object"&&typeof Pe!="function"&&Pe!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Pe,qe,"setState")},k.prototype.forceUpdate=function(Pe){this.updater.enqueueForceUpdate(this,Pe,"forceUpdate")};function B(){}B.prototype=k.prototype;function $(Pe,qe,et){this.props=Pe,this.context=qe,this.refs=A,this.updater=et||T}var K=$.prototype=new B;K.constructor=$,v(K,k.prototype),K.isPureReactComponent=!0;var ue=Array.isArray,me={H:null,A:null,T:null,S:null,V:null},Te=Object.prototype.hasOwnProperty;function X(Pe,qe,et,pt,jt,Fe){return et=Fe.ref,{$$typeof:i,type:Pe,key:qe,ref:et!==void 0?et:null,props:Fe}}function Q(Pe,qe){return X(Pe.type,qe,void 0,void 0,void 0,Pe.props)}function be(Pe){return typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===i}function F(Pe){var qe={"=":"=0",":":"=2"};return"$"+Pe.replace(/[=:]/g,function(et){return qe[et]})}var ke=/\/+/g;function Qe(Pe,qe){return typeof Pe=="object"&&Pe!==null&&Pe.key!=null?F(""+Pe.key):qe.toString(36)}function xe(){}function Ye(Pe){switch(Pe.status){case"fulfilled":return Pe.value;case"rejected":throw Pe.reason;default:switch(typeof Pe.status=="string"?Pe.then(xe,xe):(Pe.status="pending",Pe.then(function(qe){Pe.status==="pending"&&(Pe.status="fulfilled",Pe.value=qe)},function(qe){Pe.status==="pending"&&(Pe.status="rejected",Pe.reason=qe)})),Pe.status){case"fulfilled":return Pe.value;case"rejected":throw Pe.reason}}throw Pe}function Ge(Pe,qe,et,pt,jt){var Fe=typeof Pe;(Fe==="undefined"||Fe==="boolean")&&(Pe=null);var Ne=!1;if(Pe===null)Ne=!0;else switch(Fe){case"bigint":case"string":case"number":Ne=!0;break;case"object":switch(Pe.$$typeof){case i:case e:Ne=!0;break;case y:return Ne=Pe._init,Ge(Ne(Pe._payload),qe,et,pt,jt)}}if(Ne)return jt=jt(Pe),Ne=pt===""?"."+Qe(Pe,0):pt,ue(jt)?(et="",Ne!=null&&(et=Ne.replace(ke,"$&/")+"/"),Ge(jt,qe,et,"",function(ne){return ne})):jt!=null&&(be(jt)&&(jt=Q(jt,et+(jt.key==null||Pe&&Pe.key===jt.key?"":(""+jt.key).replace(ke,"$&/")+"/")+Ne)),qe.push(jt)),1;Ne=0;var bt=pt===""?".":pt+":";if(ue(Pe))for(var Z=0;Z<Pe.length;Z++)pt=Pe[Z],Fe=bt+Qe(pt,Z),Ne+=Ge(pt,qe,et,Fe,jt);else if(Z=p(Pe),typeof Z=="function")for(Pe=Z.call(Pe),Z=0;!(pt=Pe.next()).done;)pt=pt.value,Fe=bt+Qe(pt,Z++),Ne+=Ge(pt,qe,et,Fe,jt);else if(Fe==="object"){if(typeof Pe.then=="function")return Ge(Ye(Pe),qe,et,pt,jt);throw qe=String(Pe),Error("Objects are not valid as a React child (found: "+(qe==="[object Object]"?"object with keys {"+Object.keys(Pe).join(", ")+"}":qe)+"). If you meant to render a collection of children, use an array instead.")}return Ne}function _e(Pe,qe,et){if(Pe==null)return Pe;var pt=[],jt=0;return Ge(Pe,pt,"","",function(Fe){return qe.call(et,Fe,jt++)}),pt}function $e(Pe){if(Pe._status===-1){var qe=Pe._result;qe=qe(),qe.then(function(et){(Pe._status===0||Pe._status===-1)&&(Pe._status=1,Pe._result=et)},function(et){(Pe._status===0||Pe._status===-1)&&(Pe._status=2,Pe._result=et)}),Pe._status===-1&&(Pe._status=0,Pe._result=qe)}if(Pe._status===1)return Pe._result.default;throw Pe._result}var Je=typeof reportError=="function"?reportError:function(Pe){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var qe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Pe=="object"&&Pe!==null&&typeof Pe.message=="string"?String(Pe.message):String(Pe),error:Pe});if(!window.dispatchEvent(qe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Pe);return}console.error(Pe)};function tt(){}return gr.Children={map:_e,forEach:function(Pe,qe,et){_e(Pe,function(){qe.apply(this,arguments)},et)},count:function(Pe){var qe=0;return _e(Pe,function(){qe++}),qe},toArray:function(Pe){return _e(Pe,function(qe){return qe})||[]},only:function(Pe){if(!be(Pe))throw Error("React.Children.only expected to receive a single React element child.");return Pe}},gr.Component=k,gr.Fragment=t,gr.Profiler=r,gr.PureComponent=$,gr.StrictMode=n,gr.Suspense=h,gr.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=me,gr.__COMPILER_RUNTIME={__proto__:null,c:function(Pe){return me.H.useMemoCache(Pe)}},gr.cache=function(Pe){return function(){return Pe.apply(null,arguments)}},gr.cloneElement=function(Pe,qe,et){if(Pe==null)throw Error("The argument must be a React element, but you passed "+Pe+".");var pt=v({},Pe.props),jt=Pe.key,Fe=void 0;if(qe!=null)for(Ne in qe.ref!==void 0&&(Fe=void 0),qe.key!==void 0&&(jt=""+qe.key),qe)!Te.call(qe,Ne)||Ne==="key"||Ne==="__self"||Ne==="__source"||Ne==="ref"&&qe.ref===void 0||(pt[Ne]=qe[Ne]);var Ne=arguments.length-2;if(Ne===1)pt.children=et;else if(1<Ne){for(var bt=Array(Ne),Z=0;Z<Ne;Z++)bt[Z]=arguments[Z+2];pt.children=bt}return X(Pe.type,jt,void 0,void 0,Fe,pt)},gr.createContext=function(Pe){return Pe={$$typeof:u,_currentValue:Pe,_currentValue2:Pe,_threadCount:0,Provider:null,Consumer:null},Pe.Provider=Pe,Pe.Consumer={$$typeof:o,_context:Pe},Pe},gr.createElement=function(Pe,qe,et){var pt,jt={},Fe=null;if(qe!=null)for(pt in qe.key!==void 0&&(Fe=""+qe.key),qe)Te.call(qe,pt)&&pt!=="key"&&pt!=="__self"&&pt!=="__source"&&(jt[pt]=qe[pt]);var Ne=arguments.length-2;if(Ne===1)jt.children=et;else if(1<Ne){for(var bt=Array(Ne),Z=0;Z<Ne;Z++)bt[Z]=arguments[Z+2];jt.children=bt}if(Pe&&Pe.defaultProps)for(pt in Ne=Pe.defaultProps,Ne)jt[pt]===void 0&&(jt[pt]=Ne[pt]);return X(Pe,Fe,void 0,void 0,null,jt)},gr.createRef=function(){return{current:null}},gr.forwardRef=function(Pe){return{$$typeof:d,render:Pe}},gr.isValidElement=be,gr.lazy=function(Pe){return{$$typeof:y,_payload:{_status:-1,_result:Pe},_init:$e}},gr.memo=function(Pe,qe){return{$$typeof:f,type:Pe,compare:qe===void 0?null:qe}},gr.startTransition=function(Pe){var qe=me.T,et={};me.T=et;try{var pt=Pe(),jt=me.S;jt!==null&&jt(et,pt),typeof pt=="object"&&pt!==null&&typeof pt.then=="function"&&pt.then(tt,Je)}catch(Fe){Je(Fe)}finally{me.T=qe}},gr.unstable_useCacheRefresh=function(){return me.H.useCacheRefresh()},gr.use=function(Pe){return me.H.use(Pe)},gr.useActionState=function(Pe,qe,et){return me.H.useActionState(Pe,qe,et)},gr.useCallback=function(Pe,qe){return me.H.useCallback(Pe,qe)},gr.useContext=function(Pe){return me.H.useContext(Pe)},gr.useDebugValue=function(){},gr.useDeferredValue=function(Pe,qe){return me.H.useDeferredValue(Pe,qe)},gr.useEffect=function(Pe,qe,et){var pt=me.H;if(typeof et=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return pt.useEffect(Pe,qe)},gr.useId=function(){return me.H.useId()},gr.useImperativeHandle=function(Pe,qe,et){return me.H.useImperativeHandle(Pe,qe,et)},gr.useInsertionEffect=function(Pe,qe){return me.H.useInsertionEffect(Pe,qe)},gr.useLayoutEffect=function(Pe,qe){return me.H.useLayoutEffect(Pe,qe)},gr.useMemo=function(Pe,qe){return me.H.useMemo(Pe,qe)},gr.useOptimistic=function(Pe,qe){return me.H.useOptimistic(Pe,qe)},gr.useReducer=function(Pe,qe,et){return me.H.useReducer(Pe,qe,et)},gr.useRef=function(Pe){return me.H.useRef(Pe)},gr.useState=function(Pe){return me.H.useState(Pe)},gr.useSyncExternalStore=function(Pe,qe,et){return me.H.useSyncExternalStore(Pe,qe,et)},gr.useTransition=function(){return me.H.useTransition()},gr.version="19.1.0",gr}var rv;function fE(){return rv||(rv=1,zy.exports=Cx()),zy.exports}var Et=fE();const eo=jS(Et),_b=Ix({__proto__:null,default:eo},[Et]);var Fy={exports:{}},sh={},Uy={exports:{}},By={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iv;function Dx(){return iv||(iv=1,function(i){function e(_e,$e){var Je=_e.length;_e.push($e);e:for(;0<Je;){var tt=Je-1>>>1,Pe=_e[tt];if(0<r(Pe,$e))_e[tt]=$e,_e[Je]=Pe,Je=tt;else break e}}function t(_e){return _e.length===0?null:_e[0]}function n(_e){if(_e.length===0)return null;var $e=_e[0],Je=_e.pop();if(Je!==$e){_e[0]=Je;e:for(var tt=0,Pe=_e.length,qe=Pe>>>1;tt<qe;){var et=2*(tt+1)-1,pt=_e[et],jt=et+1,Fe=_e[jt];if(0>r(pt,Je))jt<Pe&&0>r(Fe,pt)?(_e[tt]=Fe,_e[jt]=Je,tt=jt):(_e[tt]=pt,_e[et]=Je,tt=et);else if(jt<Pe&&0>r(Fe,Je))_e[tt]=Fe,_e[jt]=Je,tt=jt;else break e}}return $e}function r(_e,$e){var Je=_e.sortIndex-$e.sortIndex;return Je!==0?Je:_e.id-$e.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;i.unstable_now=function(){return o.now()}}else{var u=Date,d=u.now();i.unstable_now=function(){return u.now()-d}}var h=[],f=[],y=1,m=null,p=3,T=!1,v=!1,A=!1,k=!1,B=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;function ue(_e){for(var $e=t(f);$e!==null;){if($e.callback===null)n(f);else if($e.startTime<=_e)n(f),$e.sortIndex=$e.expirationTime,e(h,$e);else break;$e=t(f)}}function me(_e){if(A=!1,ue(_e),!v)if(t(h)!==null)v=!0,Te||(Te=!0,Qe());else{var $e=t(f);$e!==null&&Ge(me,$e.startTime-_e)}}var Te=!1,X=-1,Q=5,be=-1;function F(){return k?!0:!(i.unstable_now()-be<Q)}function ke(){if(k=!1,Te){var _e=i.unstable_now();be=_e;var $e=!0;try{e:{v=!1,A&&(A=!1,$(X),X=-1),T=!0;var Je=p;try{t:{for(ue(_e),m=t(h);m!==null&&!(m.expirationTime>_e&&F());){var tt=m.callback;if(typeof tt=="function"){m.callback=null,p=m.priorityLevel;var Pe=tt(m.expirationTime<=_e);if(_e=i.unstable_now(),typeof Pe=="function"){m.callback=Pe,ue(_e),$e=!0;break t}m===t(h)&&n(h),ue(_e)}else n(h);m=t(h)}if(m!==null)$e=!0;else{var qe=t(f);qe!==null&&Ge(me,qe.startTime-_e),$e=!1}}break e}finally{m=null,p=Je,T=!1}$e=void 0}}finally{$e?Qe():Te=!1}}}var Qe;if(typeof K=="function")Qe=function(){K(ke)};else if(typeof MessageChannel<"u"){var xe=new MessageChannel,Ye=xe.port2;xe.port1.onmessage=ke,Qe=function(){Ye.postMessage(null)}}else Qe=function(){B(ke,0)};function Ge(_e,$e){X=B(function(){_e(i.unstable_now())},$e)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(_e){_e.callback=null},i.unstable_forceFrameRate=function(_e){0>_e||125<_e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<_e?Math.floor(1e3/_e):5},i.unstable_getCurrentPriorityLevel=function(){return p},i.unstable_next=function(_e){switch(p){case 1:case 2:case 3:var $e=3;break;default:$e=p}var Je=p;p=$e;try{return _e()}finally{p=Je}},i.unstable_requestPaint=function(){k=!0},i.unstable_runWithPriority=function(_e,$e){switch(_e){case 1:case 2:case 3:case 4:case 5:break;default:_e=3}var Je=p;p=_e;try{return $e()}finally{p=Je}},i.unstable_scheduleCallback=function(_e,$e,Je){var tt=i.unstable_now();switch(typeof Je=="object"&&Je!==null?(Je=Je.delay,Je=typeof Je=="number"&&0<Je?tt+Je:tt):Je=tt,_e){case 1:var Pe=-1;break;case 2:Pe=250;break;case 5:Pe=1073741823;break;case 4:Pe=1e4;break;default:Pe=5e3}return Pe=Je+Pe,_e={id:y++,callback:$e,priorityLevel:_e,startTime:Je,expirationTime:Pe,sortIndex:-1},Je>tt?(_e.sortIndex=Je,e(f,_e),t(h)===null&&_e===t(f)&&(A?($(X),X=-1):A=!0,Ge(me,Je-tt))):(_e.sortIndex=Pe,e(h,_e),v||T||(v=!0,Te||(Te=!0,Qe()))),_e},i.unstable_shouldYield=F,i.unstable_wrapCallback=function(_e){var $e=p;return function(){var Je=p;p=$e;try{return _e.apply(this,arguments)}finally{p=Je}}}}(By)),By}var av;function Lx(){return av||(av=1,Uy.exports=Dx()),Uy.exports}var jy={exports:{}},la={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sv;function Nx(){if(sv)return la;sv=1;var i=fE();function e(h){var f="https://react.dev/errors/"+h;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)f+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var n={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(h,f,y){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:m==null?null:""+m,children:h,containerInfo:f,implementation:y}}var u=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(h,f){if(h==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return la.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,la.createPortal=function(h,f){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return o(h,f,null,y)},la.flushSync=function(h){var f=u.T,y=n.p;try{if(u.T=null,n.p=2,h)return h()}finally{u.T=f,n.p=y,n.d.f()}},la.preconnect=function(h,f){typeof h=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,n.d.C(h,f))},la.prefetchDNS=function(h){typeof h=="string"&&n.d.D(h)},la.preinit=function(h,f){if(typeof h=="string"&&f&&typeof f.as=="string"){var y=f.as,m=d(y,f.crossOrigin),p=typeof f.integrity=="string"?f.integrity:void 0,T=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;y==="style"?n.d.S(h,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:m,integrity:p,fetchPriority:T}):y==="script"&&n.d.X(h,{crossOrigin:m,integrity:p,fetchPriority:T,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},la.preinitModule=function(h,f){if(typeof h=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var y=d(f.as,f.crossOrigin);n.d.M(h,{crossOrigin:y,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&n.d.M(h)},la.preload=function(h,f){if(typeof h=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var y=f.as,m=d(y,f.crossOrigin);n.d.L(h,y,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},la.preloadModule=function(h,f){if(typeof h=="string")if(f){var y=d(f.as,f.crossOrigin);n.d.m(h,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:y,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else n.d.m(h)},la.requestFormReset=function(h){n.d.r(h)},la.unstable_batchedUpdates=function(h,f){return h(f)},la.useFormState=function(h,f,y){return u.H.useFormState(h,f,y)},la.useFormStatus=function(){return u.H.useHostTransitionStatus()},la.version="19.1.0",la}var ov;function qS(){if(ov)return jy.exports;ov=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),jy.exports=Nx(),jy.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lv;function Ox(){if(lv)return sh;lv=1;var i=Lx(),e=fE(),t=qS();function n(l){var c="https://react.dev/errors/"+l;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)c+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+l+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function o(l){var c=l,g=l;if(l.alternate)for(;c.return;)c=c.return;else{l=c;do c=l,(c.flags&4098)!==0&&(g=c.return),l=c.return;while(l)}return c.tag===3?g:null}function u(l){if(l.tag===13){var c=l.memoizedState;if(c===null&&(l=l.alternate,l!==null&&(c=l.memoizedState)),c!==null)return c.dehydrated}return null}function d(l){if(o(l)!==l)throw Error(n(188))}function h(l){var c=l.alternate;if(!c){if(c=o(l),c===null)throw Error(n(188));return c!==l?null:l}for(var g=l,E=c;;){var x=g.return;if(x===null)break;var N=x.alternate;if(N===null){if(E=x.return,E!==null){g=E;continue}break}if(x.child===N.child){for(N=x.child;N;){if(N===g)return d(x),l;if(N===E)return d(x),c;N=N.sibling}throw Error(n(188))}if(g.return!==E.return)g=x,E=N;else{for(var Ie=!1,Be=x.child;Be;){if(Be===g){Ie=!0,g=x,E=N;break}if(Be===E){Ie=!0,E=x,g=N;break}Be=Be.sibling}if(!Ie){for(Be=N.child;Be;){if(Be===g){Ie=!0,g=N,E=x;break}if(Be===E){Ie=!0,E=N,g=x;break}Be=Be.sibling}if(!Ie)throw Error(n(189))}}if(g.alternate!==E)throw Error(n(190))}if(g.tag!==3)throw Error(n(188));return g.stateNode.current===g?l:c}function f(l){var c=l.tag;if(c===5||c===26||c===27||c===6)return l;for(l=l.child;l!==null;){if(c=f(l),c!==null)return c;l=l.sibling}return null}var y=Object.assign,m=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),B=Symbol.for("react.provider"),$=Symbol.for("react.consumer"),K=Symbol.for("react.context"),ue=Symbol.for("react.forward_ref"),me=Symbol.for("react.suspense"),Te=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),be=Symbol.for("react.activity"),F=Symbol.for("react.memo_cache_sentinel"),ke=Symbol.iterator;function Qe(l){return l===null||typeof l!="object"?null:(l=ke&&l[ke]||l["@@iterator"],typeof l=="function"?l:null)}var xe=Symbol.for("react.client.reference");function Ye(l){if(l==null)return null;if(typeof l=="function")return l.$$typeof===xe?null:l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case v:return"Fragment";case k:return"Profiler";case A:return"StrictMode";case me:return"Suspense";case Te:return"SuspenseList";case be:return"Activity"}if(typeof l=="object")switch(l.$$typeof){case T:return"Portal";case K:return(l.displayName||"Context")+".Provider";case $:return(l._context.displayName||"Context")+".Consumer";case ue:var c=l.render;return l=l.displayName,l||(l=c.displayName||c.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case X:return c=l.displayName||null,c!==null?c:Ye(l.type)||"Memo";case Q:c=l._payload,l=l._init;try{return Ye(l(c))}catch{}}return null}var Ge=Array.isArray,_e=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$e=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Je={pending:!1,data:null,method:null,action:null},tt=[],Pe=-1;function qe(l){return{current:l}}function et(l){0>Pe||(l.current=tt[Pe],tt[Pe]=null,Pe--)}function pt(l,c){Pe++,tt[Pe]=l.current,l.current=c}var jt=qe(null),Fe=qe(null),Ne=qe(null),bt=qe(null);function Z(l,c){switch(pt(Ne,c),pt(Fe,l),pt(jt,null),c.nodeType){case 9:case 11:l=(l=c.documentElement)&&(l=l.namespaceURI)?w0(l):0;break;default:if(l=c.tagName,c=c.namespaceURI)c=w0(c),l=k0(c,l);else switch(l){case"svg":l=1;break;case"math":l=2;break;default:l=0}}et(jt),pt(jt,l)}function ne(){et(jt),et(Fe),et(Ne)}function L(l){l.memoizedState!==null&&pt(bt,l);var c=jt.current,g=k0(c,l.type);c!==g&&(pt(Fe,l),pt(jt,g))}function j(l){Fe.current===l&&(et(jt),et(Fe)),bt.current===l&&(et(bt),Jf._currentValue=Je)}var pe=Object.prototype.hasOwnProperty,ie=i.unstable_scheduleCallback,He=i.unstable_cancelCallback,st=i.unstable_shouldYield,Xe=i.unstable_requestPaint,Ze=i.unstable_now,We=i.unstable_getCurrentPriorityLevel,rt=i.unstable_ImmediatePriority,vt=i.unstable_UserBlockingPriority,yt=i.unstable_NormalPriority,ht=i.unstable_LowPriority,Sn=i.unstable_IdlePriority,tn=i.log,ft=i.unstable_setDisableYieldValue,dt=null,nn=null;function Cn(l){if(typeof tn=="function"&&ft(l),nn&&typeof nn.setStrictMode=="function")try{nn.setStrictMode(dt,l)}catch{}}var Pn=Math.clz32?Math.clz32:cr,Dn=Math.log,Kn=Math.LN2;function cr(l){return l>>>=0,l===0?32:31-(Dn(l)/Kn|0)|0}var Gt=256,Ht=4194304;function Mt(l){var c=l&42;if(c!==0)return c;switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return l&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return l}}function Lt(l,c,g){var E=l.pendingLanes;if(E===0)return 0;var x=0,N=l.suspendedLanes,Ie=l.pingedLanes;l=l.warmLanes;var Be=E&134217727;return Be!==0?(E=Be&~N,E!==0?x=Mt(E):(Ie&=Be,Ie!==0?x=Mt(Ie):g||(g=Be&~l,g!==0&&(x=Mt(g))))):(Be=E&~N,Be!==0?x=Mt(Be):Ie!==0?x=Mt(Ie):g||(g=E&~l,g!==0&&(x=Mt(g)))),x===0?0:c!==0&&c!==x&&(c&N)===0&&(N=x&-x,g=c&-c,N>=g||N===32&&(g&4194048)!==0)?c:x}function on(l,c){return(l.pendingLanes&~(l.suspendedLanes&~l.pingedLanes)&c)===0}function fn(l,c){switch(l){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mn(){var l=Gt;return Gt<<=1,(Gt&4194048)===0&&(Gt=256),l}function _n(){var l=Ht;return Ht<<=1,(Ht&62914560)===0&&(Ht=4194304),l}function Xt(l){for(var c=[],g=0;31>g;g++)c.push(l);return c}function Ft(l,c){l.pendingLanes|=c,c!==268435456&&(l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0)}function en(l,c,g,E,x,N){var Ie=l.pendingLanes;l.pendingLanes=g,l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0,l.expiredLanes&=g,l.entangledLanes&=g,l.errorRecoveryDisabledLanes&=g,l.shellSuspendCounter=0;var Be=l.entanglements,nt=l.expirationTimes,Ot=l.hiddenUpdates;for(g=Ie&~g;0<g;){var un=31-Pn(g),En=1<<un;Be[un]=0,nt[un]=-1;var qt=Ot[un];if(qt!==null)for(Ot[un]=null,un=0;un<qt.length;un++){var $t=qt[un];$t!==null&&($t.lane&=-536870913)}g&=~En}E!==0&&Tn(l,E,0),N!==0&&x===0&&l.tag!==0&&(l.suspendedLanes|=N&~(Ie&~c))}function Tn(l,c,g){l.pendingLanes|=c,l.suspendedLanes&=~c;var E=31-Pn(c);l.entangledLanes|=c,l.entanglements[E]=l.entanglements[E]|1073741824|g&4194090}function Jt(l,c){var g=l.entangledLanes|=c;for(l=l.entanglements;g;){var E=31-Pn(g),x=1<<E;x&c|l[E]&c&&(l[E]|=c),g&=~x}}function wn(l){switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=128;break;case 268435456:l=134217728;break;default:l=0}return l}function Wn(l){return l&=-l,2<l?8<l?(l&134217727)!==0?32:268435456:8:2}function Un(){var l=$e.p;return l!==0?l:(l=window.event,l===void 0?32:Y0(l.type))}function qn(l,c){var g=$e.p;try{return $e.p=l,c()}finally{$e.p=g}}var rr=Math.random().toString(36).slice(2),ln="__reactFiber$"+rr,Rt="__reactProps$"+rr,gt="__reactContainer$"+rr,yn="__reactEvents$"+rr,Rn="__reactListeners$"+rr,Hn="__reactHandles$"+rr,fr="__reactResources$"+rr,br="__reactMarker$"+rr;function ti(l){delete l[ln],delete l[Rt],delete l[yn],delete l[Rn],delete l[Hn]}function Sr(l){var c=l[ln];if(c)return c;for(var g=l.parentNode;g;){if(c=g[gt]||g[ln]){if(g=c.alternate,c.child!==null||g!==null&&g.child!==null)for(l=N0(l);l!==null;){if(g=l[ln])return g;l=N0(l)}return c}l=g,g=l.parentNode}return null}function Pr(l){if(l=l[ln]||l[gt]){var c=l.tag;if(c===5||c===6||c===13||c===26||c===27||c===3)return l}return null}function De(l){var c=l.tag;if(c===5||c===26||c===27||c===6)return l.stateNode;throw Error(n(33))}function Yr(l){var c=l[fr];return c||(c=l[fr]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function Lr(l){l[br]=!0}var Wa=new Set,Ii={};function da(l,c){si(l,c),si(l+"Capture",c)}function si(l,c){for(Ii[l]=c,l=0;l<c.length;l++)Wa.add(c[l])}var Ol=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ml={},qo={};function zu(l){return pe.call(qo,l)?!0:pe.call(Ml,l)?!1:Ol.test(l)?qo[l]=!0:(Ml[l]=!0,!1)}function Cs(l,c,g){if(zu(c))if(g===null)l.removeAttribute(c);else{switch(typeof g){case"undefined":case"function":case"symbol":l.removeAttribute(c);return;case"boolean":var E=c.toLowerCase().slice(0,5);if(E!=="data-"&&E!=="aria-"){l.removeAttribute(c);return}}l.setAttribute(c,""+g)}}function Ma(l,c,g){if(g===null)l.removeAttribute(c);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(c);return}l.setAttribute(c,""+g)}}function Ta(l,c,g,E){if(E===null)l.removeAttribute(g);else{switch(typeof E){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(g);return}l.setAttributeNS(c,g,""+E)}}var rn,xn;function zn(l){if(rn===void 0)try{throw Error()}catch(g){var c=g.stack.trim().match(/\n( *(at )?)/);rn=c&&c[1]||"",xn=-1<g.stack.indexOf(`
    at`)?" (<anonymous>)":-1<g.stack.indexOf("@")?"@unknown:0:0":""}return`
`+rn+l+xn}var or=!1;function ir(l,c){if(!l||or)return"";or=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var E={DetermineComponentFrameRoot:function(){try{if(c){var En=function(){throw Error()};if(Object.defineProperty(En.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(En,[])}catch($t){var qt=$t}Reflect.construct(l,[],En)}else{try{En.call()}catch($t){qt=$t}l.call(En.prototype)}}else{try{throw Error()}catch($t){qt=$t}(En=l())&&typeof En.catch=="function"&&En.catch(function(){})}}catch($t){if($t&&qt&&typeof $t.stack=="string")return[$t.stack,qt.stack]}return[null,null]}};E.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var x=Object.getOwnPropertyDescriptor(E.DetermineComponentFrameRoot,"name");x&&x.configurable&&Object.defineProperty(E.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var N=E.DetermineComponentFrameRoot(),Ie=N[0],Be=N[1];if(Ie&&Be){var nt=Ie.split(`
`),Ot=Be.split(`
`);for(x=E=0;E<nt.length&&!nt[E].includes("DetermineComponentFrameRoot");)E++;for(;x<Ot.length&&!Ot[x].includes("DetermineComponentFrameRoot");)x++;if(E===nt.length||x===Ot.length)for(E=nt.length-1,x=Ot.length-1;1<=E&&0<=x&&nt[E]!==Ot[x];)x--;for(;1<=E&&0<=x;E--,x--)if(nt[E]!==Ot[x]){if(E!==1||x!==1)do if(E--,x--,0>x||nt[E]!==Ot[x]){var un=`
`+nt[E].replace(" at new "," at ");return l.displayName&&un.includes("<anonymous>")&&(un=un.replace("<anonymous>",l.displayName)),un}while(1<=E&&0<=x);break}}}finally{or=!1,Error.prepareStackTrace=g}return(g=l?l.displayName||l.name:"")?zn(g):""}function Rr(l){switch(l.tag){case 26:case 27:case 5:return zn(l.type);case 16:return zn("Lazy");case 13:return zn("Suspense");case 19:return zn("SuspenseList");case 0:case 15:return ir(l.type,!1);case 11:return ir(l.type.render,!1);case 1:return ir(l.type,!0);case 31:return zn("Activity");default:return""}}function Nr(l){try{var c="";do c+=Rr(l),l=l.return;while(l);return c}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}function ar(l){switch(typeof l){case"bigint":case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function mr(l){var c=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function pr(l){var c=mr(l)?"checked":"value",g=Object.getOwnPropertyDescriptor(l.constructor.prototype,c),E=""+l[c];if(!l.hasOwnProperty(c)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var x=g.get,N=g.set;return Object.defineProperty(l,c,{configurable:!0,get:function(){return x.call(this)},set:function(Ie){E=""+Ie,N.call(this,Ie)}}),Object.defineProperty(l,c,{enumerable:g.enumerable}),{getValue:function(){return E},setValue:function(Ie){E=""+Ie},stopTracking:function(){l._valueTracker=null,delete l[c]}}}}function Ar(l){l._valueTracker||(l._valueTracker=pr(l))}function gi(l){if(!l)return!1;var c=l._valueTracker;if(!c)return!0;var g=c.getValue(),E="";return l&&(E=mr(l)?l.checked?"true":"false":l.value),l=E,l!==g?(c.setValue(l),!0):!1}function fa(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}var Ds=/[\n"\\]/g;function mi(l){return l.replace(Ds,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function Go(l,c,g,E,x,N,Ie,Be){l.name="",Ie!=null&&typeof Ie!="function"&&typeof Ie!="symbol"&&typeof Ie!="boolean"?l.type=Ie:l.removeAttribute("type"),c!=null?Ie==="number"?(c===0&&l.value===""||l.value!=c)&&(l.value=""+ar(c)):l.value!==""+ar(c)&&(l.value=""+ar(c)):Ie!=="submit"&&Ie!=="reset"||l.removeAttribute("value"),c!=null?Pa(l,Ie,ar(c)):g!=null?Pa(l,Ie,ar(g)):E!=null&&l.removeAttribute("value"),x==null&&N!=null&&(l.defaultChecked=!!N),x!=null&&(l.checked=x&&typeof x!="function"&&typeof x!="symbol"),Be!=null&&typeof Be!="function"&&typeof Be!="symbol"&&typeof Be!="boolean"?l.name=""+ar(Be):l.removeAttribute("name")}function pi(l,c,g,E,x,N,Ie,Be){if(N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(l.type=N),c!=null||g!=null){if(!(N!=="submit"&&N!=="reset"||c!=null))return;g=g!=null?""+ar(g):"",c=c!=null?""+ar(c):g,Be||c===l.value||(l.value=c),l.defaultValue=c}E=E??x,E=typeof E!="function"&&typeof E!="symbol"&&!!E,l.checked=Be?l.checked:!!E,l.defaultChecked=!!E,Ie!=null&&typeof Ie!="function"&&typeof Ie!="symbol"&&typeof Ie!="boolean"&&(l.name=Ie)}function Pa(l,c,g){c==="number"&&fa(l.ownerDocument)===l||l.defaultValue===""+g||(l.defaultValue=""+g)}function Xa(l,c,g,E){if(l=l.options,c){c={};for(var x=0;x<g.length;x++)c["$"+g[x]]=!0;for(g=0;g<l.length;g++)x=c.hasOwnProperty("$"+l[g].value),l[g].selected!==x&&(l[g].selected=x),x&&E&&(l[g].defaultSelected=!0)}else{for(g=""+ar(g),c=null,x=0;x<l.length;x++){if(l[x].value===g){l[x].selected=!0,E&&(l[x].defaultSelected=!0);return}c!==null||l[x].disabled||(c=l[x])}c!==null&&(c.selected=!0)}}function ha(l,c,g){if(c!=null&&(c=""+ar(c),c!==l.value&&(l.value=c),g==null)){l.defaultValue!==c&&(l.defaultValue=c);return}l.defaultValue=g!=null?""+ar(g):""}function Pl(l,c,g,E){if(c==null){if(E!=null){if(g!=null)throw Error(n(92));if(Ge(E)){if(1<E.length)throw Error(n(93));E=E[0]}g=E}g==null&&(g=""),c=g}g=ar(c),l.defaultValue=g,E=l.textContent,E===g&&E!==""&&E!==null&&(l.value=E)}function Qa(l,c){if(c){var g=l.firstChild;if(g&&g===l.lastChild&&g.nodeType===3){g.nodeValue=c;return}}l.textContent=c}var zl=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $o(l,c,g){var E=c.indexOf("--")===0;g==null||typeof g=="boolean"||g===""?E?l.setProperty(c,""):c==="float"?l.cssFloat="":l[c]="":E?l.setProperty(c,g):typeof g!="number"||g===0||zl.has(c)?c==="float"?l.cssFloat=g:l[c]=(""+g).trim():l[c]=g+"px"}function Fl(l,c,g){if(c!=null&&typeof c!="object")throw Error(n(62));if(l=l.style,g!=null){for(var E in g)!g.hasOwnProperty(E)||c!=null&&c.hasOwnProperty(E)||(E.indexOf("--")===0?l.setProperty(E,""):E==="float"?l.cssFloat="":l[E]="");for(var x in c)E=c[x],c.hasOwnProperty(x)&&g[x]!==E&&$o(l,x,E)}else for(var N in c)c.hasOwnProperty(N)&&$o(l,N,c[N])}function Ho(l){if(l.indexOf("-")===-1)return!1;switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ul=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ho(l){return Ul.test(""+l)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":l}var kr=null;function na(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var Sa=null,ga=null;function Bl(l){var c=Pr(l);if(c&&(l=c.stateNode)){var g=l[Rt]||null;e:switch(l=c.stateNode,c.type){case"input":if(Go(l,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name),c=g.name,g.type==="radio"&&c!=null){for(g=l;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll('input[name="'+mi(""+c)+'"][type="radio"]'),c=0;c<g.length;c++){var E=g[c];if(E!==l&&E.form===l.form){var x=E[Rt]||null;if(!x)throw Error(n(90));Go(E,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name)}}for(c=0;c<g.length;c++)E=g[c],E.form===l.form&&gi(E)}break e;case"textarea":ha(l,g.value,g.defaultValue);break e;case"select":c=g.value,c!=null&&Xa(l,!!g.multiple,c,!1)}}}var Mi=!1;function Vo(l,c,g){if(Mi)return l(c,g);Mi=!0;try{var E=l(c);return E}finally{if(Mi=!1,(Sa!==null||ga!==null)&&(Wt(),Sa&&(c=Sa,l=ga,ga=Sa=null,Bl(c),l)))for(c=0;c<l.length;c++)Bl(l[c])}}function qi(l,c){var g=l.stateNode;if(g===null)return null;var E=g[Rt]||null;if(E===null)return null;g=E[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(E=!E.disabled)||(l=l.type,E=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!E;break e;default:l=!1}if(l)return null;if(g&&typeof g!="function")throw Error(n(231,c,typeof g));return g}var za=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jl=!1;if(za)try{var Ko={};Object.defineProperty(Ko,"passive",{get:function(){jl=!0}}),window.addEventListener("test",Ko,Ko),window.removeEventListener("test",Ko,Ko)}catch{jl=!1}var ms=null,Uu=null,go=null;function Bu(){if(go)return go;var l,c=Uu,g=c.length,E,x="value"in ms?ms.value:ms.textContent,N=x.length;for(l=0;l<g&&c[l]===x[l];l++);var Ie=g-l;for(E=1;E<=Ie&&c[g-E]===x[N-E];E++);return go=x.slice(l,1<E?1-E:void 0)}function mo(l){var c=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&c===13&&(l=13)):l=c,l===10&&(l=13),32<=l||l===13?l:0}function ju(){return!0}function _d(){return!1}function Gi(l){function c(g,E,x,N,Ie){this._reactName=g,this._targetInst=x,this.type=E,this.nativeEvent=N,this.target=Ie,this.currentTarget=null;for(var Be in l)l.hasOwnProperty(Be)&&(g=l[Be],this[Be]=g?g(N):N[Be]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?ju:_d,this.isPropagationStopped=_d,this}return y(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=ju)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=ju)},persist:function(){},isPersistent:ju}),c}var ps={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qu=Gi(ps),ql=y({},ps,{view:0,detail:0}),Gu=Gi(ql),$u,Ad,Gl,Hu=y({},ql,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yo,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==Gl&&(Gl&&l.type==="mousemove"?($u=l.screenX-Gl.screenX,Ad=l.screenY-Gl.screenY):Ad=$u=0,Gl=l),$u)},movementY:function(l){return"movementY"in l?l.movementY:Ad}}),Bh=Gi(Hu),jh=y({},Hu,{dataTransfer:0}),Fa=Gi(jh),ni=y({},ql,{relatedTarget:0}),Za=Gi(ni),ys=y({},ps,{animationName:0,elapsedTime:0,pseudoElement:0}),Qp=Gi(ys),Rd=y({},ps,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),qh=Gi(Rd),Gh=y({},ps,{data:0}),xd=Gi(Gh),$l={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$h={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Br(l){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(l):(l=Vu[l])?!!c[l]:!1}function Yo(){return Br}var Pi=y({},ql,{key:function(l){if(l.key){var c=$l[l.key]||l.key;if(c!=="Unidentified")return c}return l.type==="keypress"?(l=mo(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?$h[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yo,charCode:function(l){return l.type==="keypress"?mo(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?mo(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),Id=Gi(Pi),Hh=y({},Hu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wd=Gi(Hh),Vh=y({},ql,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yo}),Kh=Gi(Vh),Yh=y({},ps,{propertyName:0,elapsedTime:0,pseudoElement:0}),kd=Gi(Yh),Wh=y({},Hu,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),Xh=Gi(Wh),Zp=y({},ps,{newState:0,oldState:0}),Jp=Gi(Zp),ey=[9,13,27,32],Hl=za&&"CompositionEvent"in window,Vl=null;za&&"documentMode"in document&&(Vl=document.documentMode);var Qh=za&&"TextEvent"in window&&!Vl,Cd=za&&(!Hl||Vl&&8<Vl&&11>=Vl),Ku=" ",Dd=!1;function Zh(l,c){switch(l){case"keyup":return ey.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ld(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var po=!1;function Jh(l,c){switch(l){case"compositionend":return Ld(c);case"keypress":return c.which!==32?null:(Dd=!0,Ku);case"textInput":return l=c.data,l===Ku&&Dd?null:l;default:return null}}function eg(l,c){if(po)return l==="compositionend"||!Hl&&Zh(l,c)?(l=Bu(),go=Uu=ms=null,po=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return Cd&&c.locale!=="ko"?null:c.data;default:return null}}var Nd={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yu(l){var c=l&&l.nodeName&&l.nodeName.toLowerCase();return c==="input"?!!Nd[l.type]:c==="textarea"}function Od(l,c,g,E){Sa?ga?ga.push(E):ga=[E]:Sa=E,c=sm(c,"onChange"),0<c.length&&(g=new qu("onChange","change",null,g,E),l.push({event:g,listeners:c}))}var Kl=null,Wo=null;function tg(l){_0(l,0)}function Yl(l){var c=De(l);if(gi(c))return l}function yo(l,c){if(l==="change")return c}var ng=!1;if(za){var Md;if(za){var Wu="oninput"in document;if(!Wu){var Xu=document.createElement("div");Xu.setAttribute("oninput","return;"),Wu=typeof Xu.oninput=="function"}Md=Wu}else Md=!1;ng=Md&&(!document.documentMode||9<document.documentMode)}function Pd(){Kl&&(Kl.detachEvent("onpropertychange",rg),Wo=Kl=null)}function rg(l){if(l.propertyName==="value"&&Yl(Wo)){var c=[];Od(c,Wo,l,na(l)),Vo(tg,c)}}function ig(l,c,g){l==="focusin"?(Pd(),Kl=c,Wo=g,Kl.attachEvent("onpropertychange",rg)):l==="focusout"&&Pd()}function ty(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return Yl(Wo)}function ag(l,c){if(l==="click")return Yl(c)}function ny(l,c){if(l==="input"||l==="change")return Yl(c)}function zd(l,c){return l===c&&(l!==0||1/l===1/c)||l!==l&&c!==c}var ma=typeof Object.is=="function"?Object.is:zd;function Xo(l,c){if(ma(l,c))return!0;if(typeof l!="object"||l===null||typeof c!="object"||c===null)return!1;var g=Object.keys(l),E=Object.keys(c);if(g.length!==E.length)return!1;for(E=0;E<g.length;E++){var x=g[E];if(!pe.call(c,x)||!ma(l[x],c[x]))return!1}return!0}function sg(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function Qo(l,c){var g=sg(l);l=0;for(var E;g;){if(g.nodeType===3){if(E=l+g.textContent.length,l<=c&&E>=c)return{node:g,offset:c-l};l=E}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=sg(g)}}function Qu(l,c){return l&&c?l===c?!0:l&&l.nodeType===3?!1:c&&c.nodeType===3?Qu(l,c.parentNode):"contains"in l?l.contains(c):l.compareDocumentPosition?!!(l.compareDocumentPosition(c)&16):!1:!1}function Fd(l){l=l!=null&&l.ownerDocument!=null&&l.ownerDocument.defaultView!=null?l.ownerDocument.defaultView:window;for(var c=fa(l.document);c instanceof l.HTMLIFrameElement;){try{var g=typeof c.contentWindow.location.href=="string"}catch{g=!1}if(g)l=c.contentWindow;else break;c=fa(l.document)}return c}function Zo(l){var c=l&&l.nodeName&&l.nodeName.toLowerCase();return c&&(c==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||c==="textarea"||l.contentEditable==="true")}var og=za&&"documentMode"in document&&11>=document.documentMode,bo=null,Ud=null,Jo=null,Bd=!1;function lg(l,c,g){var E=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;Bd||bo==null||bo!==fa(E)||(E=bo,"selectionStart"in E&&Zo(E)?E={start:E.selectionStart,end:E.selectionEnd}:(E=(E.ownerDocument&&E.ownerDocument.defaultView||window).getSelection(),E={anchorNode:E.anchorNode,anchorOffset:E.anchorOffset,focusNode:E.focusNode,focusOffset:E.focusOffset}),Jo&&Xo(Jo,E)||(Jo=E,E=sm(Ud,"onSelect"),0<E.length&&(c=new qu("onSelect","select",null,c,g),l.push({event:c,listeners:E}),c.target=bo)))}function Ls(l,c){var g={};return g[l.toLowerCase()]=c.toLowerCase(),g["Webkit"+l]="webkit"+c,g["Moz"+l]="moz"+c,g}var Eo={animationend:Ls("Animation","AnimationEnd"),animationiteration:Ls("Animation","AnimationIteration"),animationstart:Ls("Animation","AnimationStart"),transitionrun:Ls("Transition","TransitionRun"),transitionstart:Ls("Transition","TransitionStart"),transitioncancel:Ls("Transition","TransitionCancel"),transitionend:Ls("Transition","TransitionEnd")},Ns={},jd={};za&&(jd=document.createElement("div").style,"AnimationEvent"in window||(delete Eo.animationend.animation,delete Eo.animationiteration.animation,delete Eo.animationstart.animation),"TransitionEvent"in window||delete Eo.transitionend.transition);function Os(l){if(Ns[l])return Ns[l];if(!Eo[l])return l;var c=Eo[l],g;for(g in c)if(c.hasOwnProperty(g)&&g in jd)return Ns[l]=c[g];return l}var qd=Os("animationend"),ug=Os("animationiteration"),Wl=Os("animationstart"),cg=Os("transitionrun"),ry=Os("transitionstart"),iy=Os("transitioncancel"),dg=Os("transitionend"),Gd=new Map,$d="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$d.push("scrollEnd");function wi(l,c){Gd.set(l,c),da(c,[l])}var $i=new WeakMap;function ki(l,c){if(typeof l=="object"&&l!==null){var g=$i.get(l);return g!==void 0?g:(c={value:l,source:c,stack:Nr(c)},$i.set(l,c),c)}return{value:l,source:c,stack:Nr(c)}}var yi=[],el=0,Zu=0;function Ju(){for(var l=el,c=Zu=el=0;c<l;){var g=yi[c];yi[c++]=null;var E=yi[c];yi[c++]=null;var x=yi[c];yi[c++]=null;var N=yi[c];if(yi[c++]=null,E!==null&&x!==null){var Ie=E.pending;Ie===null?x.next=x:(x.next=Ie.next,Ie.next=x),E.pending=x}N!==0&&Vd(g,x,N)}}function Ua(l,c,g,E){yi[el++]=l,yi[el++]=c,yi[el++]=g,yi[el++]=E,Zu|=E,l.lanes|=E,l=l.alternate,l!==null&&(l.lanes|=E)}function Hd(l,c,g,E){return Ua(l,c,g,E),tl(l)}function Ms(l,c){return Ua(l,null,null,c),tl(l)}function Vd(l,c,g){l.lanes|=g;var E=l.alternate;E!==null&&(E.lanes|=g);for(var x=!1,N=l.return;N!==null;)N.childLanes|=g,E=N.alternate,E!==null&&(E.childLanes|=g),N.tag===22&&(l=N.stateNode,l===null||l._visibility&1||(x=!0)),l=N,N=N.return;return l.tag===3?(N=l.stateNode,x&&c!==null&&(x=31-Pn(g),l=N.hiddenUpdates,E=l[x],E===null?l[x]=[c]:E.push(c),c.lane=g|536870912),N):null}function tl(l){if(50<Yi)throw Yi=0,sa=null,Error(n(185));for(var c=l.return;c!==null;)l=c,c=l.return;return l.tag===3?l.stateNode:null}var Ja={};function Kd(l,c,g,E){this.tag=l,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=E,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zi(l,c,g,E){return new Kd(l,c,g,E)}function nl(l){return l=l.prototype,!(!l||!l.isReactComponent)}function _a(l,c){var g=l.alternate;return g===null?(g=zi(l.tag,c,l.key,l.mode),g.elementType=l.elementType,g.type=l.type,g.stateNode=l.stateNode,g.alternate=l,l.alternate=g):(g.pendingProps=c,g.type=l.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=l.flags&65011712,g.childLanes=l.childLanes,g.lanes=l.lanes,g.child=l.child,g.memoizedProps=l.memoizedProps,g.memoizedState=l.memoizedState,g.updateQueue=l.updateQueue,c=l.dependencies,g.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},g.sibling=l.sibling,g.index=l.index,g.ref=l.ref,g.refCleanup=l.refCleanup,g}function Xl(l,c){l.flags&=65011714;var g=l.alternate;return g===null?(l.childLanes=0,l.lanes=c,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=g.childLanes,l.lanes=g.lanes,l.child=g.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=g.memoizedProps,l.memoizedState=g.memoizedState,l.updateQueue=g.updateQueue,l.type=g.type,c=g.dependencies,l.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),l}function ec(l,c,g,E,x,N){var Ie=0;if(E=l,typeof l=="function")nl(l)&&(Ie=1);else if(typeof l=="string")Ie=dx(l,g,jt.current)?26:l==="html"||l==="head"||l==="body"?27:5;else e:switch(l){case be:return l=zi(31,g,c,x),l.elementType=be,l.lanes=N,l;case v:return Ps(g.children,x,N,c);case A:Ie=8,x|=24;break;case k:return l=zi(12,g,c,x|2),l.elementType=k,l.lanes=N,l;case me:return l=zi(13,g,c,x),l.elementType=me,l.lanes=N,l;case Te:return l=zi(19,g,c,x),l.elementType=Te,l.lanes=N,l;default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case B:case K:Ie=10;break e;case $:Ie=9;break e;case ue:Ie=11;break e;case X:Ie=14;break e;case Q:Ie=16,E=null;break e}Ie=29,g=Error(n(130,l===null?"null":typeof l,"")),E=null}return c=zi(Ie,g,c,x),c.elementType=l,c.type=E,c.lanes=N,c}function Ps(l,c,g,E){return l=zi(7,l,E,c),l.lanes=g,l}function tc(l,c,g){return l=zi(6,l,null,c),l.lanes=g,l}function Yd(l,c,g){return c=zi(4,l.children!==null?l.children:[],l.key,c),c.lanes=g,c.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},c}var Hi=[],zs=0,nc=null,Ql=0,Aa=[],Ra=0,vo=null,es=1,bs="";function To(l,c){Hi[zs++]=Ql,Hi[zs++]=nc,nc=l,Ql=c}function fg(l,c,g){Aa[Ra++]=es,Aa[Ra++]=bs,Aa[Ra++]=vo,vo=l;var E=es;l=bs;var x=32-Pn(E)-1;E&=~(1<<x),g+=1;var N=32-Pn(c)+x;if(30<N){var Ie=x-x%5;N=(E&(1<<Ie)-1).toString(32),E>>=Ie,x-=Ie,es=1<<32-Pn(c)+x|g<<x|E,bs=N+l}else es=1<<N|g<<x|E,bs=l}function Wd(l){l.return!==null&&(To(l,1),fg(l,1,0))}function Xd(l){for(;l===nc;)nc=Hi[--zs],Hi[zs]=null,Ql=Hi[--zs],Hi[zs]=null;for(;l===vo;)vo=Aa[--Ra],Aa[Ra]=null,bs=Aa[--Ra],Aa[Ra]=null,es=Aa[--Ra],Aa[Ra]=null}var Vi=null,ri=null,Ir=!1,So=null,ts=!1,Qd=Error(n(519));function _o(l){var c=Error(n(418,""));throw rl(ki(c,l)),Qd}function hg(l){var c=l.stateNode,g=l.type,E=l.memoizedProps;switch(c[ln]=l,c[Rt]=E,g){case"dialog":_r("cancel",c),_r("close",c);break;case"iframe":case"object":case"embed":_r("load",c);break;case"video":case"audio":for(g=0;g<Kf.length;g++)_r(Kf[g],c);break;case"source":_r("error",c);break;case"img":case"image":case"link":_r("error",c),_r("load",c);break;case"details":_r("toggle",c);break;case"input":_r("invalid",c),pi(c,E.value,E.defaultValue,E.checked,E.defaultChecked,E.type,E.name,!0),Ar(c);break;case"select":_r("invalid",c);break;case"textarea":_r("invalid",c),Pl(c,E.value,E.defaultValue,E.children),Ar(c)}g=E.children,typeof g!="string"&&typeof g!="number"&&typeof g!="bigint"||c.textContent===""+g||E.suppressHydrationWarning===!0||I0(c.textContent,g)?(E.popover!=null&&(_r("beforetoggle",c),_r("toggle",c)),E.onScroll!=null&&_r("scroll",c),E.onScrollEnd!=null&&_r("scrollend",c),E.onClick!=null&&(c.onclick=om),c=!0):c=!1,c||_o(l)}function Zd(l){for(Vi=l.return;Vi;)switch(Vi.tag){case 5:case 13:ts=!1;return;case 27:case 3:ts=!0;return;default:Vi=Vi.return}}function Zl(l){if(l!==Vi)return!1;if(!Ir)return Zd(l),Ir=!0,!1;var c=l.tag,g;if((g=c!==3&&c!==27)&&((g=c===5)&&(g=l.type,g=!(g!=="form"&&g!=="button")||Sy(l.type,l.memoizedProps)),g=!g),g&&ri&&_o(l),Zd(l),c===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(n(317));e:{for(l=l.nextSibling,c=0;l;){if(l.nodeType===8)if(g=l.data,g==="/$"){if(c===0){ri=Rs(l.nextSibling);break e}c--}else g!=="$"&&g!=="$!"&&g!=="$?"||c++;l=l.nextSibling}ri=null}}else c===27?(c=ri,pl(l.type)?(l=xy,xy=null,ri=l):ri=c):ri=Vi?Rs(l.stateNode.nextSibling):null;return!0}function xa(){ri=Vi=null,Ir=!1}function Ci(){var l=So;return l!==null&&(kn===null?kn=l:kn.push.apply(kn,l),So=null),l}function rl(l){So===null?So=[l]:So.push(l)}var Jd=qe(null),Fs=null,Es=null;function Us(l,c,g){pt(Jd,c._currentValue),c._currentValue=g}function ns(l){l._currentValue=Jd.current,et(Jd)}function ef(l,c,g){for(;l!==null;){var E=l.alternate;if((l.childLanes&c)!==c?(l.childLanes|=c,E!==null&&(E.childLanes|=c)):E!==null&&(E.childLanes&c)!==c&&(E.childLanes|=c),l===g)break;l=l.return}}function rc(l,c,g,E){var x=l.child;for(x!==null&&(x.return=l);x!==null;){var N=x.dependencies;if(N!==null){var Ie=x.child;N=N.firstContext;e:for(;N!==null;){var Be=N;N=x;for(var nt=0;nt<c.length;nt++)if(Be.context===c[nt]){N.lanes|=g,Be=N.alternate,Be!==null&&(Be.lanes|=g),ef(N.return,g,l),E||(Ie=null);break e}N=Be.next}}else if(x.tag===18){if(Ie=x.return,Ie===null)throw Error(n(341));Ie.lanes|=g,N=Ie.alternate,N!==null&&(N.lanes|=g),ef(Ie,g,l),Ie=null}else Ie=x.child;if(Ie!==null)Ie.return=x;else for(Ie=x;Ie!==null;){if(Ie===l){Ie=null;break}if(x=Ie.sibling,x!==null){x.return=Ie.return,Ie=x;break}Ie=Ie.return}x=Ie}}function il(l,c,g,E){l=null;for(var x=c,N=!1;x!==null;){if(!N){if((x.flags&524288)!==0)N=!0;else if((x.flags&262144)!==0)break}if(x.tag===10){var Ie=x.alternate;if(Ie===null)throw Error(n(387));if(Ie=Ie.memoizedProps,Ie!==null){var Be=x.type;ma(x.pendingProps.value,Ie.value)||(l!==null?l.push(Be):l=[Be])}}else if(x===bt.current){if(Ie=x.alternate,Ie===null)throw Error(n(387));Ie.memoizedState.memoizedState!==x.memoizedState.memoizedState&&(l!==null?l.push(Jf):l=[Jf])}x=x.return}l!==null&&rc(c,l,g,E),c.flags|=262144}function ic(l){for(l=l.firstContext;l!==null;){if(!ma(l.context._currentValue,l.memoizedValue))return!0;l=l.next}return!1}function Ia(l){Fs=l,Es=null,l=l.dependencies,l!==null&&(l.firstContext=null)}function Di(l){return tf(Fs,l)}function ac(l,c){return Fs===null&&Ia(l),tf(l,c)}function tf(l,c){var g=c._currentValue;if(c={context:c,memoizedValue:g,next:null},Es===null){if(l===null)throw Error(n(308));Es=c,l.dependencies={lanes:0,firstContext:c},l.flags|=524288}else Es=Es.next=c;return g}var ay=typeof AbortController<"u"?AbortController:function(){var l=[],c=this.signal={aborted:!1,addEventListener:function(g,E){l.push(E)}};this.abort=function(){c.aborted=!0,l.forEach(function(g){return g()})}},sc=i.unstable_scheduleCallback,gg=i.unstable_NormalPriority,bi={$$typeof:K,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function oc(){return{controller:new ay,data:new Map,refCount:0}}function Jl(l){l.refCount--,l.refCount===0&&sc(gg,function(){l.controller.abort()})}var eu=null,nf=0,al=0,sl=null;function sy(l,c){if(eu===null){var g=eu=[];nf=0,al=hy(),sl={status:"pending",value:void 0,then:function(E){g.push(E)}}}return nf++,c.then(Ao,Ao),c}function Ao(){if(--nf===0&&eu!==null){sl!==null&&(sl.status="fulfilled");var l=eu;eu=null,al=0,sl=null;for(var c=0;c<l.length;c++)(0,l[c])()}}function oy(l,c){var g=[],E={status:"pending",value:null,reason:null,then:function(x){g.push(x)}};return l.then(function(){E.status="fulfilled",E.value=c;for(var x=0;x<g.length;x++)(0,g[x])(c)},function(x){for(E.status="rejected",E.reason=x,x=0;x<g.length;x++)(0,g[x])(void 0)}),E}var mg=_e.S;_e.S=function(l,c){typeof c=="object"&&c!==null&&typeof c.then=="function"&&sy(l,c),mg!==null&&mg(l,c)};var Ro=qe(null);function lc(){var l=Ro.current;return l!==null?l:wt.pooledCache}function uc(l,c){c===null?pt(Ro,Ro.current):pt(Ro,c.pool)}function rf(){var l=lc();return l===null?null:{parent:bi._currentValue,pool:l}}var tu=Error(n(460)),af=Error(n(474)),cc=Error(n(542)),dc={then:function(){}};function pg(l){return l=l.status,l==="fulfilled"||l==="rejected"}function nu(){}function yg(l,c,g){switch(g=l[g],g===void 0?l.push(c):g!==c&&(c.then(nu,nu),c=g),c.status){case"fulfilled":return c.value;case"rejected":throw l=c.reason,bg(l),l;default:if(typeof c.status=="string")c.then(nu,nu);else{if(l=wt,l!==null&&100<l.shellSuspendCounter)throw Error(n(482));l=c,l.status="pending",l.then(function(E){if(c.status==="pending"){var x=c;x.status="fulfilled",x.value=E}},function(E){if(c.status==="pending"){var x=c;x.status="rejected",x.reason=E}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw l=c.reason,bg(l),l}throw ol=c,tu}}var ol=null;function sf(){if(ol===null)throw Error(n(459));var l=ol;return ol=null,l}function bg(l){if(l===tu||l===cc)throw Error(n(483))}var vs=!1;function ru(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function iu(l,c){l=l.updateQueue,c.updateQueue===l&&(c.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,callbacks:null})}function Ts(l){return{lane:l,tag:0,payload:null,callback:null,next:null}}function Bs(l,c,g){var E=l.updateQueue;if(E===null)return null;if(E=E.shared,(Ct&2)!==0){var x=E.pending;return x===null?c.next=c:(c.next=x.next,x.next=c),E.pending=c,c=tl(l),Vd(l,null,g),c}return Ua(l,E,c,g),tl(l)}function ll(l,c,g){if(c=c.updateQueue,c!==null&&(c=c.shared,(g&4194048)!==0)){var E=c.lanes;E&=l.pendingLanes,g|=E,c.lanes=g,Jt(l,g)}}function of(l,c){var g=l.updateQueue,E=l.alternate;if(E!==null&&(E=E.updateQueue,g===E)){var x=null,N=null;if(g=g.firstBaseUpdate,g!==null){do{var Ie={lane:g.lane,tag:g.tag,payload:g.payload,callback:null,next:null};N===null?x=N=Ie:N=N.next=Ie,g=g.next}while(g!==null);N===null?x=N=c:N=N.next=c}else x=N=c;g={baseState:E.baseState,firstBaseUpdate:x,lastBaseUpdate:N,shared:E.shared,callbacks:E.callbacks},l.updateQueue=g;return}l=g.lastBaseUpdate,l===null?g.firstBaseUpdate=c:l.next=c,g.lastBaseUpdate=c}var fc=!1;function au(){if(fc){var l=sl;if(l!==null)throw l}}function ul(l,c,g,E){fc=!1;var x=l.updateQueue;vs=!1;var N=x.firstBaseUpdate,Ie=x.lastBaseUpdate,Be=x.shared.pending;if(Be!==null){x.shared.pending=null;var nt=Be,Ot=nt.next;nt.next=null,Ie===null?N=Ot:Ie.next=Ot,Ie=nt;var un=l.alternate;un!==null&&(un=un.updateQueue,Be=un.lastBaseUpdate,Be!==Ie&&(Be===null?un.firstBaseUpdate=Ot:Be.next=Ot,un.lastBaseUpdate=nt))}if(N!==null){var En=x.baseState;Ie=0,un=Ot=nt=null,Be=N;do{var qt=Be.lane&-536870913,$t=qt!==Be.lane;if($t?(Ve&qt)===qt:(E&qt)===qt){qt!==0&&qt===al&&(fc=!0),un!==null&&(un=un.next={lane:0,tag:Be.tag,payload:Be.payload,callback:null,next:null});e:{var sr=l,er=Be;qt=c;var Hr=g;switch(er.tag){case 1:if(sr=er.payload,typeof sr=="function"){En=sr.call(Hr,En,qt);break e}En=sr;break e;case 3:sr.flags=sr.flags&-65537|128;case 0:if(sr=er.payload,qt=typeof sr=="function"?sr.call(Hr,En,qt):sr,qt==null)break e;En=y({},En,qt);break e;case 2:vs=!0}}qt=Be.callback,qt!==null&&(l.flags|=64,$t&&(l.flags|=8192),$t=x.callbacks,$t===null?x.callbacks=[qt]:$t.push(qt))}else $t={lane:qt,tag:Be.tag,payload:Be.payload,callback:Be.callback,next:null},un===null?(Ot=un=$t,nt=En):un=un.next=$t,Ie|=qt;if(Be=Be.next,Be===null){if(Be=x.shared.pending,Be===null)break;$t=Be,Be=$t.next,$t.next=null,x.lastBaseUpdate=$t,x.shared.pending=null}}while(!0);un===null&&(nt=En),x.baseState=nt,x.firstBaseUpdate=Ot,x.lastBaseUpdate=un,N===null&&(x.shared.lanes=0),Qt|=Ie,l.lanes=Ie,l.memoizedState=En}}function hc(l,c){if(typeof l!="function")throw Error(n(191,l));l.call(c)}function lf(l,c){var g=l.callbacks;if(g!==null)for(l.callbacks=null,l=0;l<g.length;l++)hc(g[l],c)}var cl=qe(null),su=qe(0);function uf(l,c){l=ze,pt(su,l),pt(cl,c),ze=l|c.baseLanes}function gc(){pt(su,ze),pt(cl,cl.current)}function cf(){ze=su.current,et(cl),et(su)}var Ss=0,hr=null,zr=null,oi=null,ou=!1,xo=!1,Io=!1,mc=0,dl=0,wo=null,Eg=0;function ii(){throw Error(n(321))}function df(l,c){if(c===null)return!1;for(var g=0;g<c.length&&g<l.length;g++)if(!ma(l[g],c[g]))return!1;return!0}function pc(l,c,g,E,x,N){return Ss=N,hr=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,_e.H=l===null||l.memoizedState===null?kf:jg,Io=!1,N=g(E,x),Io=!1,xo&&(N=bc(c,g,E,x)),yc(l),N}function yc(l){_e.H=Oc;var c=zr!==null&&zr.next!==null;if(Ss=0,oi=zr=hr=null,ou=!1,dl=0,wo=null,c)throw Error(n(300));l===null||Si||(l=l.dependencies,l!==null&&ic(l)&&(Si=!0))}function bc(l,c,g,E){hr=l;var x=0;do{if(xo&&(wo=null),dl=0,xo=!1,25<=x)throw Error(n(301));if(x+=1,oi=zr=null,l.updateQueue!=null){var N=l.updateQueue;N.lastEffect=null,N.events=null,N.stores=null,N.memoCache!=null&&(N.memoCache.index=0)}_e.H=Mc,N=c(g,E)}while(xo);return N}function vg(){var l=_e.H,c=l.useState()[0];return c=typeof c.then=="function"?lu(c):c,l=l.useState()[0],(zr!==null?zr.memoizedState:null)!==l&&(hr.flags|=1024),c}function Ec(){var l=mc!==0;return mc=0,l}function ff(l,c,g){c.updateQueue=l.updateQueue,c.flags&=-2053,l.lanes&=~g}function vc(l){if(ou){for(l=l.memoizedState;l!==null;){var c=l.queue;c!==null&&(c.pending=null),l=l.next}ou=!1}Ss=0,oi=zr=hr=null,xo=!1,dl=mc=0,wo=null}function Ki(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return oi===null?hr.memoizedState=oi=l:oi=oi.next=l,oi}function ci(){if(zr===null){var l=hr.alternate;l=l!==null?l.memoizedState:null}else l=zr.next;var c=oi===null?hr.memoizedState:oi.next;if(c!==null)oi=c,zr=l;else{if(l===null)throw hr.alternate===null?Error(n(467)):Error(n(310));zr=l,l={memoizedState:zr.memoizedState,baseState:zr.baseState,baseQueue:zr.baseQueue,queue:zr.queue,next:null},oi===null?hr.memoizedState=oi=l:oi=oi.next=l}return oi}function Tc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function lu(l){var c=dl;return dl+=1,wo===null&&(wo=[]),l=yg(wo,l,c),c=hr,(oi===null?c.memoizedState:oi.next)===null&&(c=c.alternate,_e.H=c===null||c.memoizedState===null?kf:jg),l}function Sc(l){if(l!==null&&typeof l=="object"){if(typeof l.then=="function")return lu(l);if(l.$$typeof===K)return Di(l)}throw Error(n(438,String(l)))}function hf(l){var c=null,g=hr.updateQueue;if(g!==null&&(c=g.memoCache),c==null){var E=hr.alternate;E!==null&&(E=E.updateQueue,E!==null&&(E=E.memoCache,E!=null&&(c={data:E.data.map(function(x){return x.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),g===null&&(g=Tc(),hr.updateQueue=g),g.memoCache=c,g=c.data[c.index],g===void 0)for(g=c.data[c.index]=Array(l),E=0;E<l;E++)g[E]=F;return c.index++,g}function rs(l,c){return typeof c=="function"?c(l):c}function uu(l){var c=ci();return _c(c,zr,l)}function _c(l,c,g){var E=l.queue;if(E===null)throw Error(n(311));E.lastRenderedReducer=g;var x=l.baseQueue,N=E.pending;if(N!==null){if(x!==null){var Ie=x.next;x.next=N.next,N.next=Ie}c.baseQueue=x=N,E.pending=null}if(N=l.baseState,x===null)l.memoizedState=N;else{c=x.next;var Be=Ie=null,nt=null,Ot=c,un=!1;do{var En=Ot.lane&-536870913;if(En!==Ot.lane?(Ve&En)===En:(Ss&En)===En){var qt=Ot.revertLane;if(qt===0)nt!==null&&(nt=nt.next={lane:0,revertLane:0,action:Ot.action,hasEagerState:Ot.hasEagerState,eagerState:Ot.eagerState,next:null}),En===al&&(un=!0);else if((Ss&qt)===qt){Ot=Ot.next,qt===al&&(un=!0);continue}else En={lane:0,revertLane:Ot.revertLane,action:Ot.action,hasEagerState:Ot.hasEagerState,eagerState:Ot.eagerState,next:null},nt===null?(Be=nt=En,Ie=N):nt=nt.next=En,hr.lanes|=qt,Qt|=qt;En=Ot.action,Io&&g(N,En),N=Ot.hasEagerState?Ot.eagerState:g(N,En)}else qt={lane:En,revertLane:Ot.revertLane,action:Ot.action,hasEagerState:Ot.hasEagerState,eagerState:Ot.eagerState,next:null},nt===null?(Be=nt=qt,Ie=N):nt=nt.next=qt,hr.lanes|=En,Qt|=En;Ot=Ot.next}while(Ot!==null&&Ot!==c);if(nt===null?Ie=N:nt.next=Be,!ma(N,l.memoizedState)&&(Si=!0,un&&(g=sl,g!==null)))throw g;l.memoizedState=N,l.baseState=Ie,l.baseQueue=nt,E.lastRenderedState=N}return x===null&&(E.lanes=0),[l.memoizedState,E.dispatch]}function Ac(l){var c=ci(),g=c.queue;if(g===null)throw Error(n(311));g.lastRenderedReducer=l;var E=g.dispatch,x=g.pending,N=c.memoizedState;if(x!==null){g.pending=null;var Ie=x=x.next;do N=l(N,Ie.action),Ie=Ie.next;while(Ie!==x);ma(N,c.memoizedState)||(Si=!0),c.memoizedState=N,c.baseQueue===null&&(c.baseState=N),g.lastRenderedState=N}return[N,E]}function fl(l,c,g){var E=hr,x=ci(),N=Ir;if(N){if(g===void 0)throw Error(n(407));g=g()}else g=c();var Ie=!ma((zr||x).memoizedState,g);Ie&&(x.memoizedState=g,Si=!0),x=x.queue;var Be=xc.bind(null,E,x,l);if(du(2048,8,Be,[l]),x.getSnapshot!==c||Ie||oi!==null&&oi.memoizedState.tag&1){if(E.flags|=2048,ra(9,cu(),Rc.bind(null,E,x,g,c),null),wt===null)throw Error(n(349));N||(Ss&124)!==0||gf(E,c,g)}return g}function gf(l,c,g){l.flags|=16384,l={getSnapshot:c,value:g},c=hr.updateQueue,c===null?(c=Tc(),hr.updateQueue=c,c.stores=[l]):(g=c.stores,g===null?c.stores=[l]:g.push(l))}function Rc(l,c,g,E){c.value=g,c.getSnapshot=E,mf(c)&&Tg(l)}function xc(l,c,g){return g(function(){mf(c)&&Tg(l)})}function mf(l){var c=l.getSnapshot;l=l.value;try{var g=c();return!ma(l,g)}catch{return!0}}function Tg(l){var c=Ms(l,2);c!==null&&Fi(c,l,2)}function Ic(l){var c=Ki();if(typeof l=="function"){var g=l;if(l=g(),Io){Cn(!0);try{g()}finally{Cn(!1)}}}return c.memoizedState=c.baseState=l,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:l},c}function pf(l,c,g,E){return l.baseState=g,_c(l,zr,typeof E=="function"?E:rs)}function Sg(l,c,g,E,x){if(fu(l))throw Error(n(485));if(l=c.action,l!==null){var N={payload:x,action:l,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(Ie){N.listeners.push(Ie)}};_e.T!==null?g(!0):N.isTransition=!1,E(N),g=c.pending,g===null?(N.next=c.pending=N,_g(c,N)):(N.next=g.next,c.pending=g.next=N)}}function _g(l,c){var g=c.action,E=c.payload,x=l.state;if(c.isTransition){var N=_e.T,Ie={};_e.T=Ie;try{var Be=g(x,E),nt=_e.S;nt!==null&&nt(Ie,Be),yf(l,c,Be)}catch(Ot){wc(l,c,Ot)}finally{_e.T=N}}else try{N=g(x,E),yf(l,c,N)}catch(Ot){wc(l,c,Ot)}}function yf(l,c,g){g!==null&&typeof g=="object"&&typeof g.then=="function"?g.then(function(E){Ag(l,c,E)},function(E){return wc(l,c,E)}):Ag(l,c,g)}function Ag(l,c,g){c.status="fulfilled",c.value=g,Rg(c),l.state=g,c=l.pending,c!==null&&(g=c.next,g===c?l.pending=null:(g=g.next,c.next=g,_g(l,g)))}function wc(l,c,g){var E=l.pending;if(l.pending=null,E!==null){E=E.next;do c.status="rejected",c.reason=g,Rg(c),c=c.next;while(c!==E)}l.action=null}function Rg(l){l=l.listeners;for(var c=0;c<l.length;c++)(0,l[c])()}function bf(l,c){return c}function xg(l,c){if(Ir){var g=wt.formState;if(g!==null){e:{var E=hr;if(Ir){if(ri){t:{for(var x=ri,N=ts;x.nodeType!==8;){if(!N){x=null;break t}if(x=Rs(x.nextSibling),x===null){x=null;break t}}N=x.data,x=N==="F!"||N==="F"?x:null}if(x){ri=Rs(x.nextSibling),E=x.data==="F!";break e}}_o(E)}E=!1}E&&(c=g[0])}}return g=Ki(),g.memoizedState=g.baseState=c,E={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bf,lastRenderedState:c},g.queue=E,g=ko.bind(null,hr,E),E.dispatch=g,E=Ic(!1),N=Nc.bind(null,hr,!1,E.queue),E=Ki(),x={state:c,dispatch:null,action:l,pending:null},E.queue=x,g=Sg.bind(null,hr,x,N,g),x.dispatch=g,E.memoizedState=l,[c,g,!1]}function Ef(l){var c=ci();return vf(c,zr,l)}function vf(l,c,g){if(c=_c(l,c,bf)[0],l=uu(rs)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var E=lu(c)}catch(Ie){throw Ie===tu?cc:Ie}else E=c;c=ci();var x=c.queue,N=x.dispatch;return g!==c.memoizedState&&(hr.flags|=2048,ra(9,cu(),Ig.bind(null,x,g),null)),[E,N,l]}function Ig(l,c){l.action=c}function wg(l){var c=ci(),g=zr;if(g!==null)return vf(c,g,l);ci(),c=c.memoizedState,g=ci();var E=g.queue.dispatch;return g.memoizedState=l,[c,E,!1]}function ra(l,c,g,E){return l={tag:l,create:g,deps:E,inst:c,next:null},c=hr.updateQueue,c===null&&(c=Tc(),hr.updateQueue=c),g=c.lastEffect,g===null?c.lastEffect=l.next=l:(E=g.next,g.next=l,l.next=E,c.lastEffect=l),l}function cu(){return{destroy:void 0,resource:void 0}}function kg(){return ci().memoizedState}function kc(l,c,g,E){var x=Ki();E=E===void 0?null:E,hr.flags|=l,x.memoizedState=ra(1|c,cu(),g,E)}function du(l,c,g,E){var x=ci();E=E===void 0?null:E;var N=x.memoizedState.inst;zr!==null&&E!==null&&df(E,zr.memoizedState.deps)?x.memoizedState=ra(c,N,g,E):(hr.flags|=l,x.memoizedState=ra(1|c,N,g,E))}function Tf(l,c){kc(8390656,8,l,c)}function Cg(l,c){du(2048,8,l,c)}function Sf(l,c){return du(4,2,l,c)}function Dg(l,c){return du(4,4,l,c)}function Lg(l,c){if(typeof c=="function"){l=l();var g=c(l);return function(){typeof g=="function"?g():c(null)}}if(c!=null)return l=l(),c.current=l,function(){c.current=null}}function Ng(l,c,g){g=g!=null?g.concat([l]):null,du(4,4,Lg.bind(null,c,l),g)}function Cc(){}function Og(l,c){var g=ci();c=c===void 0?null:c;var E=g.memoizedState;return c!==null&&df(c,E[1])?E[0]:(g.memoizedState=[l,c],l)}function _f(l,c){var g=ci();c=c===void 0?null:c;var E=g.memoizedState;if(c!==null&&df(c,E[1]))return E[0];if(E=l(),Io){Cn(!0);try{l()}finally{Cn(!1)}}return g.memoizedState=[E,c],E}function Af(l,c,g){return g===void 0||(Ss&1073741824)!==0?l.memoizedState=c:(l.memoizedState=g,l=vu(),hr.lanes|=l,Qt|=l,g)}function Mg(l,c,g,E){return ma(g,c)?g:cl.current!==null?(l=Af(l,g,E),ma(l,c)||(Si=!0),l):(Ss&42)===0?(Si=!0,l.memoizedState=g):(l=vu(),hr.lanes|=l,Qt|=l,c)}function Pg(l,c,g,E,x){var N=$e.p;$e.p=N!==0&&8>N?N:8;var Ie=_e.T,Be={};_e.T=Be,Nc(l,!1,c,g);try{var nt=x(),Ot=_e.S;if(Ot!==null&&Ot(Be,nt),nt!==null&&typeof nt=="object"&&typeof nt.then=="function"){var un=oy(nt,E);hl(l,c,un,Ri(l))}else hl(l,c,E,Ri(l))}catch(En){hl(l,c,{then:function(){},status:"rejected",reason:En},Ri())}finally{$e.p=N,_e.T=Ie}}function zg(){}function Rf(l,c,g,E){if(l.tag!==5)throw Error(n(476));var x=Dc(l).queue;Pg(l,x,c,Je,g===null?zg:function(){return Lc(l),g(E)})}function Dc(l){var c=l.memoizedState;if(c!==null)return c;c={memoizedState:Je,baseState:Je,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:Je},next:null};var g={};return c.next={memoizedState:g,baseState:g,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:g},next:null},l.memoizedState=c,l=l.alternate,l!==null&&(l.memoizedState=c),c}function Lc(l){var c=Dc(l).next.queue;hl(l,c,{},Ri())}function xf(){return Di(Jf)}function If(){return ci().memoizedState}function Fg(){return ci().memoizedState}function Ug(l){for(var c=l.return;c!==null;){switch(c.tag){case 24:case 3:var g=Ri();l=Ts(g);var E=Bs(c,l,g);E!==null&&(Fi(E,c,g),ll(E,c,g)),c={cache:oc()},l.payload=c;return}c=c.return}}function ly(l,c,g){var E=Ri();g={lane:E,revertLane:0,action:g,hasEagerState:!1,eagerState:null,next:null},fu(l)?wf(c,g):(g=Hd(l,c,g,E),g!==null&&(Fi(g,l,E),Bg(g,c,E)))}function ko(l,c,g){var E=Ri();hl(l,c,g,E)}function hl(l,c,g,E){var x={lane:E,revertLane:0,action:g,hasEagerState:!1,eagerState:null,next:null};if(fu(l))wf(c,x);else{var N=l.alternate;if(l.lanes===0&&(N===null||N.lanes===0)&&(N=c.lastRenderedReducer,N!==null))try{var Ie=c.lastRenderedState,Be=N(Ie,g);if(x.hasEagerState=!0,x.eagerState=Be,ma(Be,Ie))return Ua(l,c,x,0),wt===null&&Ju(),!1}catch{}finally{}if(g=Hd(l,c,x,E),g!==null)return Fi(g,l,E),Bg(g,c,E),!0}return!1}function Nc(l,c,g,E){if(E={lane:2,revertLane:hy(),action:E,hasEagerState:!1,eagerState:null,next:null},fu(l)){if(c)throw Error(n(479))}else c=Hd(l,g,E,2),c!==null&&Fi(c,l,2)}function fu(l){var c=l.alternate;return l===hr||c!==null&&c===hr}function wf(l,c){xo=ou=!0;var g=l.pending;g===null?c.next=c:(c.next=g.next,g.next=c),l.pending=c}function Bg(l,c,g){if((g&4194048)!==0){var E=c.lanes;E&=l.pendingLanes,g|=E,c.lanes=g,Jt(l,g)}}var Oc={readContext:Di,use:Sc,useCallback:ii,useContext:ii,useEffect:ii,useImperativeHandle:ii,useLayoutEffect:ii,useInsertionEffect:ii,useMemo:ii,useReducer:ii,useRef:ii,useState:ii,useDebugValue:ii,useDeferredValue:ii,useTransition:ii,useSyncExternalStore:ii,useId:ii,useHostTransitionStatus:ii,useFormState:ii,useActionState:ii,useOptimistic:ii,useMemoCache:ii,useCacheRefresh:ii},kf={readContext:Di,use:Sc,useCallback:function(l,c){return Ki().memoizedState=[l,c===void 0?null:c],l},useContext:Di,useEffect:Tf,useImperativeHandle:function(l,c,g){g=g!=null?g.concat([l]):null,kc(4194308,4,Lg.bind(null,c,l),g)},useLayoutEffect:function(l,c){return kc(4194308,4,l,c)},useInsertionEffect:function(l,c){kc(4,2,l,c)},useMemo:function(l,c){var g=Ki();c=c===void 0?null:c;var E=l();if(Io){Cn(!0);try{l()}finally{Cn(!1)}}return g.memoizedState=[E,c],E},useReducer:function(l,c,g){var E=Ki();if(g!==void 0){var x=g(c);if(Io){Cn(!0);try{g(c)}finally{Cn(!1)}}}else x=c;return E.memoizedState=E.baseState=x,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:x},E.queue=l,l=l.dispatch=ly.bind(null,hr,l),[E.memoizedState,l]},useRef:function(l){var c=Ki();return l={current:l},c.memoizedState=l},useState:function(l){l=Ic(l);var c=l.queue,g=ko.bind(null,hr,c);return c.dispatch=g,[l.memoizedState,g]},useDebugValue:Cc,useDeferredValue:function(l,c){var g=Ki();return Af(g,l,c)},useTransition:function(){var l=Ic(!1);return l=Pg.bind(null,hr,l.queue,!0,!1),Ki().memoizedState=l,[!1,l]},useSyncExternalStore:function(l,c,g){var E=hr,x=Ki();if(Ir){if(g===void 0)throw Error(n(407));g=g()}else{if(g=c(),wt===null)throw Error(n(349));(Ve&124)!==0||gf(E,c,g)}x.memoizedState=g;var N={value:g,getSnapshot:c};return x.queue=N,Tf(xc.bind(null,E,N,l),[l]),E.flags|=2048,ra(9,cu(),Rc.bind(null,E,N,g,c),null),g},useId:function(){var l=Ki(),c=wt.identifierPrefix;if(Ir){var g=bs,E=es;g=(E&~(1<<32-Pn(E)-1)).toString(32)+g,c=""+c+"R"+g,g=mc++,0<g&&(c+="H"+g.toString(32)),c+=""}else g=Eg++,c=""+c+"r"+g.toString(32)+"";return l.memoizedState=c},useHostTransitionStatus:xf,useFormState:xg,useActionState:xg,useOptimistic:function(l){var c=Ki();c.memoizedState=c.baseState=l;var g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=g,c=Nc.bind(null,hr,!0,g),g.dispatch=c,[l,c]},useMemoCache:hf,useCacheRefresh:function(){return Ki().memoizedState=Ug.bind(null,hr)}},jg={readContext:Di,use:Sc,useCallback:Og,useContext:Di,useEffect:Cg,useImperativeHandle:Ng,useInsertionEffect:Sf,useLayoutEffect:Dg,useMemo:_f,useReducer:uu,useRef:kg,useState:function(){return uu(rs)},useDebugValue:Cc,useDeferredValue:function(l,c){var g=ci();return Mg(g,zr.memoizedState,l,c)},useTransition:function(){var l=uu(rs)[0],c=ci().memoizedState;return[typeof l=="boolean"?l:lu(l),c]},useSyncExternalStore:fl,useId:If,useHostTransitionStatus:xf,useFormState:Ef,useActionState:Ef,useOptimistic:function(l,c){var g=ci();return pf(g,zr,l,c)},useMemoCache:hf,useCacheRefresh:Fg},Mc={readContext:Di,use:Sc,useCallback:Og,useContext:Di,useEffect:Cg,useImperativeHandle:Ng,useInsertionEffect:Sf,useLayoutEffect:Dg,useMemo:_f,useReducer:Ac,useRef:kg,useState:function(){return Ac(rs)},useDebugValue:Cc,useDeferredValue:function(l,c){var g=ci();return zr===null?Af(g,l,c):Mg(g,zr.memoizedState,l,c)},useTransition:function(){var l=Ac(rs)[0],c=ci().memoizedState;return[typeof l=="boolean"?l:lu(l),c]},useSyncExternalStore:fl,useId:If,useHostTransitionStatus:xf,useFormState:wg,useActionState:wg,useOptimistic:function(l,c){var g=ci();return zr!==null?pf(g,zr,l,c):(g.baseState=l,[l,g.queue.dispatch])},useMemoCache:hf,useCacheRefresh:Fg},Co=null,hu=0;function wa(l){var c=hu;return hu+=1,Co===null&&(Co=[]),yg(Co,l,c)}function gu(l,c){c=c.props.ref,l.ref=c!==void 0?c:null}function mu(l,c){throw c.$$typeof===m?Error(n(525)):(l=Object.prototype.toString.call(c),Error(n(31,l==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":l)))}function qg(l){var c=l._init;return c(l._payload)}function js(l){function c(_t,mt){if(l){var Dt=_t.deletions;Dt===null?(_t.deletions=[mt],_t.flags|=16):Dt.push(mt)}}function g(_t,mt){if(!l)return null;for(;mt!==null;)c(_t,mt),mt=mt.sibling;return null}function E(_t){for(var mt=new Map;_t!==null;)_t.key!==null?mt.set(_t.key,_t):mt.set(_t.index,_t),_t=_t.sibling;return mt}function x(_t,mt){return _t=_a(_t,mt),_t.index=0,_t.sibling=null,_t}function N(_t,mt,Dt){return _t.index=Dt,l?(Dt=_t.alternate,Dt!==null?(Dt=Dt.index,Dt<mt?(_t.flags|=67108866,mt):Dt):(_t.flags|=67108866,mt)):(_t.flags|=1048576,mt)}function Ie(_t){return l&&_t.alternate===null&&(_t.flags|=67108866),_t}function Be(_t,mt,Dt,gn){return mt===null||mt.tag!==6?(mt=tc(Dt,_t.mode,gn),mt.return=_t,mt):(mt=x(mt,Dt),mt.return=_t,mt)}function nt(_t,mt,Dt,gn){var Vn=Dt.type;return Vn===v?un(_t,mt,Dt.props.children,gn,Dt.key):mt!==null&&(mt.elementType===Vn||typeof Vn=="object"&&Vn!==null&&Vn.$$typeof===Q&&qg(Vn)===mt.type)?(mt=x(mt,Dt.props),gu(mt,Dt),mt.return=_t,mt):(mt=ec(Dt.type,Dt.key,Dt.props,null,_t.mode,gn),gu(mt,Dt),mt.return=_t,mt)}function Ot(_t,mt,Dt,gn){return mt===null||mt.tag!==4||mt.stateNode.containerInfo!==Dt.containerInfo||mt.stateNode.implementation!==Dt.implementation?(mt=Yd(Dt,_t.mode,gn),mt.return=_t,mt):(mt=x(mt,Dt.children||[]),mt.return=_t,mt)}function un(_t,mt,Dt,gn,Vn){return mt===null||mt.tag!==7?(mt=Ps(Dt,_t.mode,gn,Vn),mt.return=_t,mt):(mt=x(mt,Dt),mt.return=_t,mt)}function En(_t,mt,Dt){if(typeof mt=="string"&&mt!==""||typeof mt=="number"||typeof mt=="bigint")return mt=tc(""+mt,_t.mode,Dt),mt.return=_t,mt;if(typeof mt=="object"&&mt!==null){switch(mt.$$typeof){case p:return Dt=ec(mt.type,mt.key,mt.props,null,_t.mode,Dt),gu(Dt,mt),Dt.return=_t,Dt;case T:return mt=Yd(mt,_t.mode,Dt),mt.return=_t,mt;case Q:var gn=mt._init;return mt=gn(mt._payload),En(_t,mt,Dt)}if(Ge(mt)||Qe(mt))return mt=Ps(mt,_t.mode,Dt,null),mt.return=_t,mt;if(typeof mt.then=="function")return En(_t,wa(mt),Dt);if(mt.$$typeof===K)return En(_t,ac(_t,mt),Dt);mu(_t,mt)}return null}function qt(_t,mt,Dt,gn){var Vn=mt!==null?mt.key:null;if(typeof Dt=="string"&&Dt!==""||typeof Dt=="number"||typeof Dt=="bigint")return Vn!==null?null:Be(_t,mt,""+Dt,gn);if(typeof Dt=="object"&&Dt!==null){switch(Dt.$$typeof){case p:return Dt.key===Vn?nt(_t,mt,Dt,gn):null;case T:return Dt.key===Vn?Ot(_t,mt,Dt,gn):null;case Q:return Vn=Dt._init,Dt=Vn(Dt._payload),qt(_t,mt,Dt,gn)}if(Ge(Dt)||Qe(Dt))return Vn!==null?null:un(_t,mt,Dt,gn,null);if(typeof Dt.then=="function")return qt(_t,mt,wa(Dt),gn);if(Dt.$$typeof===K)return qt(_t,mt,ac(_t,Dt),gn);mu(_t,Dt)}return null}function $t(_t,mt,Dt,gn,Vn){if(typeof gn=="string"&&gn!==""||typeof gn=="number"||typeof gn=="bigint")return _t=_t.get(Dt)||null,Be(mt,_t,""+gn,Vn);if(typeof gn=="object"&&gn!==null){switch(gn.$$typeof){case p:return _t=_t.get(gn.key===null?Dt:gn.key)||null,nt(mt,_t,gn,Vn);case T:return _t=_t.get(gn.key===null?Dt:gn.key)||null,Ot(mt,_t,gn,Vn);case Q:var vr=gn._init;return gn=vr(gn._payload),$t(_t,mt,Dt,gn,Vn)}if(Ge(gn)||Qe(gn))return _t=_t.get(Dt)||null,un(mt,_t,gn,Vn,null);if(typeof gn.then=="function")return $t(_t,mt,Dt,wa(gn),Vn);if(gn.$$typeof===K)return $t(_t,mt,Dt,ac(mt,gn),Vn);mu(mt,gn)}return null}function sr(_t,mt,Dt,gn){for(var Vn=null,vr=null,Jn=mt,nr=mt=0,Ui=null;Jn!==null&&nr<Dt.length;nr++){Jn.index>nr?(Ui=Jn,Jn=null):Ui=Jn.sibling;var Dr=qt(_t,Jn,Dt[nr],gn);if(Dr===null){Jn===null&&(Jn=Ui);break}l&&Jn&&Dr.alternate===null&&c(_t,Jn),mt=N(Dr,mt,nr),vr===null?Vn=Dr:vr.sibling=Dr,vr=Dr,Jn=Ui}if(nr===Dt.length)return g(_t,Jn),Ir&&To(_t,nr),Vn;if(Jn===null){for(;nr<Dt.length;nr++)Jn=En(_t,Dt[nr],gn),Jn!==null&&(mt=N(Jn,mt,nr),vr===null?Vn=Jn:vr.sibling=Jn,vr=Jn);return Ir&&To(_t,nr),Vn}for(Jn=E(Jn);nr<Dt.length;nr++)Ui=$t(Jn,_t,nr,Dt[nr],gn),Ui!==null&&(l&&Ui.alternate!==null&&Jn.delete(Ui.key===null?nr:Ui.key),mt=N(Ui,mt,nr),vr===null?Vn=Ui:vr.sibling=Ui,vr=Ui);return l&&Jn.forEach(function(Tl){return c(_t,Tl)}),Ir&&To(_t,nr),Vn}function er(_t,mt,Dt,gn){if(Dt==null)throw Error(n(151));for(var Vn=null,vr=null,Jn=mt,nr=mt=0,Ui=null,Dr=Dt.next();Jn!==null&&!Dr.done;nr++,Dr=Dt.next()){Jn.index>nr?(Ui=Jn,Jn=null):Ui=Jn.sibling;var Tl=qt(_t,Jn,Dr.value,gn);if(Tl===null){Jn===null&&(Jn=Ui);break}l&&Jn&&Tl.alternate===null&&c(_t,Jn),mt=N(Tl,mt,nr),vr===null?Vn=Tl:vr.sibling=Tl,vr=Tl,Jn=Ui}if(Dr.done)return g(_t,Jn),Ir&&To(_t,nr),Vn;if(Jn===null){for(;!Dr.done;nr++,Dr=Dt.next())Dr=En(_t,Dr.value,gn),Dr!==null&&(mt=N(Dr,mt,nr),vr===null?Vn=Dr:vr.sibling=Dr,vr=Dr);return Ir&&To(_t,nr),Vn}for(Jn=E(Jn);!Dr.done;nr++,Dr=Dt.next())Dr=$t(Jn,_t,nr,Dr.value,gn),Dr!==null&&(l&&Dr.alternate!==null&&Jn.delete(Dr.key===null?nr:Dr.key),mt=N(Dr,mt,nr),vr===null?Vn=Dr:vr.sibling=Dr,vr=Dr);return l&&Jn.forEach(function(_x){return c(_t,_x)}),Ir&&To(_t,nr),Vn}function Hr(_t,mt,Dt,gn){if(typeof Dt=="object"&&Dt!==null&&Dt.type===v&&Dt.key===null&&(Dt=Dt.props.children),typeof Dt=="object"&&Dt!==null){switch(Dt.$$typeof){case p:e:{for(var Vn=Dt.key;mt!==null;){if(mt.key===Vn){if(Vn=Dt.type,Vn===v){if(mt.tag===7){g(_t,mt.sibling),gn=x(mt,Dt.props.children),gn.return=_t,_t=gn;break e}}else if(mt.elementType===Vn||typeof Vn=="object"&&Vn!==null&&Vn.$$typeof===Q&&qg(Vn)===mt.type){g(_t,mt.sibling),gn=x(mt,Dt.props),gu(gn,Dt),gn.return=_t,_t=gn;break e}g(_t,mt);break}else c(_t,mt);mt=mt.sibling}Dt.type===v?(gn=Ps(Dt.props.children,_t.mode,gn,Dt.key),gn.return=_t,_t=gn):(gn=ec(Dt.type,Dt.key,Dt.props,null,_t.mode,gn),gu(gn,Dt),gn.return=_t,_t=gn)}return Ie(_t);case T:e:{for(Vn=Dt.key;mt!==null;){if(mt.key===Vn)if(mt.tag===4&&mt.stateNode.containerInfo===Dt.containerInfo&&mt.stateNode.implementation===Dt.implementation){g(_t,mt.sibling),gn=x(mt,Dt.children||[]),gn.return=_t,_t=gn;break e}else{g(_t,mt);break}else c(_t,mt);mt=mt.sibling}gn=Yd(Dt,_t.mode,gn),gn.return=_t,_t=gn}return Ie(_t);case Q:return Vn=Dt._init,Dt=Vn(Dt._payload),Hr(_t,mt,Dt,gn)}if(Ge(Dt))return sr(_t,mt,Dt,gn);if(Qe(Dt)){if(Vn=Qe(Dt),typeof Vn!="function")throw Error(n(150));return Dt=Vn.call(Dt),er(_t,mt,Dt,gn)}if(typeof Dt.then=="function")return Hr(_t,mt,wa(Dt),gn);if(Dt.$$typeof===K)return Hr(_t,mt,ac(_t,Dt),gn);mu(_t,Dt)}return typeof Dt=="string"&&Dt!==""||typeof Dt=="number"||typeof Dt=="bigint"?(Dt=""+Dt,mt!==null&&mt.tag===6?(g(_t,mt.sibling),gn=x(mt,Dt),gn.return=_t,_t=gn):(g(_t,mt),gn=tc(Dt,_t.mode,gn),gn.return=_t,_t=gn),Ie(_t)):g(_t,mt)}return function(_t,mt,Dt,gn){try{hu=0;var Vn=Hr(_t,mt,Dt,gn);return Co=null,Vn}catch(Jn){if(Jn===tu||Jn===cc)throw Jn;var vr=zi(29,Jn,null,_t.mode);return vr.lanes=gn,vr.return=_t,vr}finally{}}}var qs=js(!0),Cf=js(!1),ka=qe(null),is=null;function ia(l){var c=l.alternate;pt(Ei,Ei.current&1),pt(ka,l),is===null&&(c===null||cl.current!==null||c.memoizedState!==null)&&(is=l)}function Gg(l){if(l.tag===22){if(pt(Ei,Ei.current),pt(ka,l),is===null){var c=l.alternate;c!==null&&c.memoizedState!==null&&(is=l)}}else Gs()}function Gs(){pt(Ei,Ei.current),pt(ka,ka.current)}function _s(l){et(ka),is===l&&(is=null),et(Ei)}var Ei=qe(0);function Do(l){for(var c=l;c!==null;){if(c.tag===13){var g=c.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||g.data==="$?"||Ry(g)))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===l)break;for(;c.sibling===null;){if(c.return===null||c.return===l)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}function Pc(l,c,g,E){c=l.memoizedState,g=g(E,c),g=g==null?c:y({},c,g),l.memoizedState=g,l.lanes===0&&(l.updateQueue.baseState=g)}var Df={enqueueSetState:function(l,c,g){l=l._reactInternals;var E=Ri(),x=Ts(E);x.payload=c,g!=null&&(x.callback=g),c=Bs(l,x,E),c!==null&&(Fi(c,l,E),ll(c,l,E))},enqueueReplaceState:function(l,c,g){l=l._reactInternals;var E=Ri(),x=Ts(E);x.tag=1,x.payload=c,g!=null&&(x.callback=g),c=Bs(l,x,E),c!==null&&(Fi(c,l,E),ll(c,l,E))},enqueueForceUpdate:function(l,c){l=l._reactInternals;var g=Ri(),E=Ts(g);E.tag=2,c!=null&&(E.callback=c),c=Bs(l,E,g),c!==null&&(Fi(c,l,g),ll(c,l,g))}};function $g(l,c,g,E,x,N,Ie){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(E,N,Ie):c.prototype&&c.prototype.isPureReactComponent?!Xo(g,E)||!Xo(x,N):!0}function Hg(l,c,g,E){l=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(g,E),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(g,E),c.state!==l&&Df.enqueueReplaceState(c,c.state,null)}function Lo(l,c){var g=c;if("ref"in c){g={};for(var E in c)E!=="ref"&&(g[E]=c[E])}if(l=l.defaultProps){g===c&&(g=y({},g));for(var x in l)g[x]===void 0&&(g[x]=l[x])}return g}var zc=typeof reportError=="function"?reportError:function(l){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof l=="object"&&l!==null&&typeof l.message=="string"?String(l.message):String(l),error:l});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",l);return}console.error(l)};function Lf(l){zc(l)}function Vg(l){console.error(l)}function Kg(l){zc(l)}function gl(l,c){try{var g=l.onUncaughtError;g(c.value,{componentStack:c.stack})}catch(E){setTimeout(function(){throw E})}}function Nf(l,c,g){try{var E=l.onCaughtError;E(g.value,{componentStack:g.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(x){setTimeout(function(){throw x})}}function Fc(l,c,g){return g=Ts(g),g.tag=3,g.payload={element:null},g.callback=function(){gl(l,c)},g}function Yg(l){return l=Ts(l),l.tag=3,l}function Of(l,c,g,E){var x=g.type.getDerivedStateFromError;if(typeof x=="function"){var N=E.value;l.payload=function(){return x(N)},l.callback=function(){Nf(c,g,E)}}var Ie=g.stateNode;Ie!==null&&typeof Ie.componentDidCatch=="function"&&(l.callback=function(){Nf(c,g,E),typeof x!="function"&&(Ai===null?Ai=new Set([this]):Ai.add(this));var Be=E.stack;this.componentDidCatch(E.value,{componentStack:Be!==null?Be:""})})}function uy(l,c,g,E,x){if(g.flags|=32768,E!==null&&typeof E=="object"&&typeof E.then=="function"){if(c=g.alternate,c!==null&&il(c,g,x,!0),g=ka.current,g!==null){switch(g.tag){case 13:return is===null?ba():g.alternate===null&&ut===0&&(ut=3),g.flags&=-257,g.flags|=65536,g.lanes=x,E===dc?g.flags|=16384:(c=g.updateQueue,c===null?g.updateQueue=new Set([E]):c.add(E),cy(l,E,x)),!1;case 22:return g.flags|=65536,E===dc?g.flags|=16384:(c=g.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([E])},g.updateQueue=c):(g=c.retryQueue,g===null?c.retryQueue=new Set([E]):g.add(E)),cy(l,E,x)),!1}throw Error(n(435,g.tag))}return cy(l,E,x),ba(),!1}if(Ir)return c=ka.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=x,E!==Qd&&(l=Error(n(422),{cause:E}),rl(ki(l,g)))):(E!==Qd&&(c=Error(n(423),{cause:E}),rl(ki(c,g))),l=l.current.alternate,l.flags|=65536,x&=-x,l.lanes|=x,E=ki(E,g),x=Fc(l.stateNode,E,x),of(l,x),ut!==4&&(ut=2)),!1;var N=Error(n(520),{cause:E});if(N=ki(N,g),On===null?On=[N]:On.push(N),ut!==4&&(ut=2),c===null)return!0;E=ki(E,g),g=c;do{switch(g.tag){case 3:return g.flags|=65536,l=x&-x,g.lanes|=l,l=Fc(g.stateNode,E,l),of(g,l),!1;case 1:if(c=g.type,N=g.stateNode,(g.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(Ai===null||!Ai.has(N))))return g.flags|=65536,x&=-x,g.lanes|=x,x=Yg(x),Of(x,l,g,E),of(g,x),!1}g=g.return}while(g!==null);return!1}var Mf=Error(n(461)),Si=!1;function _i(l,c,g,E){c.child=l===null?Cf(c,null,g,E):qs(c,l.child,g,E)}function Wg(l,c,g,E,x){g=g.render;var N=c.ref;if("ref"in E){var Ie={};for(var Be in E)Be!=="ref"&&(Ie[Be]=E[Be])}else Ie=E;return Ia(c),E=pc(l,c,g,Ie,N,x),Be=Ec(),l!==null&&!Si?(ff(l,c,x),As(l,c,x)):(Ir&&Be&&Wd(c),c.flags|=1,_i(l,c,E,x),c.child)}function Pf(l,c,g,E,x){if(l===null){var N=g.type;return typeof N=="function"&&!nl(N)&&N.defaultProps===void 0&&g.compare===null?(c.tag=15,c.type=N,Xg(l,c,N,E,x)):(l=ec(g.type,null,E,c,c.mode,x),l.ref=c.ref,l.return=c,c.child=l)}if(N=l.child,!S(l,x)){var Ie=N.memoizedProps;if(g=g.compare,g=g!==null?g:Xo,g(Ie,E)&&l.ref===c.ref)return As(l,c,x)}return c.flags|=1,l=_a(N,E),l.ref=c.ref,l.return=c,c.child=l}function Xg(l,c,g,E,x){if(l!==null){var N=l.memoizedProps;if(Xo(N,E)&&l.ref===c.ref)if(Si=!1,c.pendingProps=E=N,S(l,x))(l.flags&131072)!==0&&(Si=!0);else return c.lanes=l.lanes,As(l,c,x)}return Ff(l,c,g,E,x)}function zf(l,c,g){var E=c.pendingProps,x=E.children,N=l!==null?l.memoizedState:null;if(E.mode==="hidden"){if((c.flags&128)!==0){if(E=N!==null?N.baseLanes|g:g,l!==null){for(x=c.child=l.child,N=0;x!==null;)N=N|x.lanes|x.childLanes,x=x.sibling;c.childLanes=N&~E}else c.childLanes=0,c.child=null;return Qg(l,c,E,g)}if((g&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},l!==null&&uc(c,N!==null?N.cachePool:null),N!==null?uf(c,N):gc(),Gg(c);else return c.lanes=c.childLanes=536870912,Qg(l,c,N!==null?N.baseLanes|g:g,g)}else N!==null?(uc(c,N.cachePool),uf(c,N),Gs(),c.memoizedState=null):(l!==null&&uc(c,null),gc(),Gs());return _i(l,c,x,g),c.child}function Qg(l,c,g,E){var x=lc();return x=x===null?null:{parent:bi._currentValue,pool:x},c.memoizedState={baseLanes:g,cachePool:x},l!==null&&uc(c,null),gc(),Gg(c),l!==null&&il(l,c,E,!0),null}function pu(l,c){var g=c.ref;if(g===null)l!==null&&l.ref!==null&&(c.flags|=4194816);else{if(typeof g!="function"&&typeof g!="object")throw Error(n(284));(l===null||l.ref!==g)&&(c.flags|=4194816)}}function Ff(l,c,g,E,x){return Ia(c),g=pc(l,c,g,E,void 0,x),E=Ec(),l!==null&&!Si?(ff(l,c,x),As(l,c,x)):(Ir&&E&&Wd(c),c.flags|=1,_i(l,c,g,x),c.child)}function Uf(l,c,g,E,x,N){return Ia(c),c.updateQueue=null,g=bc(c,E,g,x),yc(l),E=Ec(),l!==null&&!Si?(ff(l,c,N),As(l,c,N)):(Ir&&E&&Wd(c),c.flags|=1,_i(l,c,g,N),c.child)}function Zg(l,c,g,E,x){if(Ia(c),c.stateNode===null){var N=Ja,Ie=g.contextType;typeof Ie=="object"&&Ie!==null&&(N=Di(Ie)),N=new g(E,N),c.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,N.updater=Df,c.stateNode=N,N._reactInternals=c,N=c.stateNode,N.props=E,N.state=c.memoizedState,N.refs={},ru(c),Ie=g.contextType,N.context=typeof Ie=="object"&&Ie!==null?Di(Ie):Ja,N.state=c.memoizedState,Ie=g.getDerivedStateFromProps,typeof Ie=="function"&&(Pc(c,g,Ie,E),N.state=c.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(Ie=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),Ie!==N.state&&Df.enqueueReplaceState(N,N.state,null),ul(c,E,N,x),au(),N.state=c.memoizedState),typeof N.componentDidMount=="function"&&(c.flags|=4194308),E=!0}else if(l===null){N=c.stateNode;var Be=c.memoizedProps,nt=Lo(g,Be);N.props=nt;var Ot=N.context,un=g.contextType;Ie=Ja,typeof un=="object"&&un!==null&&(Ie=Di(un));var En=g.getDerivedStateFromProps;un=typeof En=="function"||typeof N.getSnapshotBeforeUpdate=="function",Be=c.pendingProps!==Be,un||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(Be||Ot!==Ie)&&Hg(c,N,E,Ie),vs=!1;var qt=c.memoizedState;N.state=qt,ul(c,E,N,x),au(),Ot=c.memoizedState,Be||qt!==Ot||vs?(typeof En=="function"&&(Pc(c,g,En,E),Ot=c.memoizedState),(nt=vs||$g(c,g,nt,E,qt,Ot,Ie))?(un||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(c.flags|=4194308)):(typeof N.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=E,c.memoizedState=Ot),N.props=E,N.state=Ot,N.context=Ie,E=nt):(typeof N.componentDidMount=="function"&&(c.flags|=4194308),E=!1)}else{N=c.stateNode,iu(l,c),Ie=c.memoizedProps,un=Lo(g,Ie),N.props=un,En=c.pendingProps,qt=N.context,Ot=g.contextType,nt=Ja,typeof Ot=="object"&&Ot!==null&&(nt=Di(Ot)),Be=g.getDerivedStateFromProps,(Ot=typeof Be=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(Ie!==En||qt!==nt)&&Hg(c,N,E,nt),vs=!1,qt=c.memoizedState,N.state=qt,ul(c,E,N,x),au();var $t=c.memoizedState;Ie!==En||qt!==$t||vs||l!==null&&l.dependencies!==null&&ic(l.dependencies)?(typeof Be=="function"&&(Pc(c,g,Be,E),$t=c.memoizedState),(un=vs||$g(c,g,un,E,qt,$t,nt)||l!==null&&l.dependencies!==null&&ic(l.dependencies))?(Ot||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(E,$t,nt),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(E,$t,nt)),typeof N.componentDidUpdate=="function"&&(c.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof N.componentDidUpdate!="function"||Ie===l.memoizedProps&&qt===l.memoizedState||(c.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||Ie===l.memoizedProps&&qt===l.memoizedState||(c.flags|=1024),c.memoizedProps=E,c.memoizedState=$t),N.props=E,N.state=$t,N.context=nt,E=un):(typeof N.componentDidUpdate!="function"||Ie===l.memoizedProps&&qt===l.memoizedState||(c.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||Ie===l.memoizedProps&&qt===l.memoizedState||(c.flags|=1024),E=!1)}return N=E,pu(l,c),E=(c.flags&128)!==0,N||E?(N=c.stateNode,g=E&&typeof g.getDerivedStateFromError!="function"?null:N.render(),c.flags|=1,l!==null&&E?(c.child=qs(c,l.child,null,x),c.child=qs(c,null,g,x)):_i(l,c,g,x),c.memoizedState=N.state,l=c.child):l=As(l,c,x),l}function Bf(l,c,g,E){return xa(),c.flags|=256,_i(l,c,g,E),c.child}var jf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function qf(l){return{baseLanes:l,cachePool:rf()}}function Uc(l,c,g){return l=l!==null?l.childLanes&~g:0,c&&(l|=St),l}function Jg(l,c,g){var E=c.pendingProps,x=!1,N=(c.flags&128)!==0,Ie;if((Ie=N)||(Ie=l!==null&&l.memoizedState===null?!1:(Ei.current&2)!==0),Ie&&(x=!0,c.flags&=-129),Ie=(c.flags&32)!==0,c.flags&=-33,l===null){if(Ir){if(x?ia(c):Gs(),Ir){var Be=ri,nt;if(nt=Be){e:{for(nt=Be,Be=ts;nt.nodeType!==8;){if(!Be){Be=null;break e}if(nt=Rs(nt.nextSibling),nt===null){Be=null;break e}}Be=nt}Be!==null?(c.memoizedState={dehydrated:Be,treeContext:vo!==null?{id:es,overflow:bs}:null,retryLane:536870912,hydrationErrors:null},nt=zi(18,null,null,0),nt.stateNode=Be,nt.return=c,c.child=nt,Vi=c,ri=null,nt=!0):nt=!1}nt||_o(c)}if(Be=c.memoizedState,Be!==null&&(Be=Be.dehydrated,Be!==null))return Ry(Be)?c.lanes=32:c.lanes=536870912,null;_s(c)}return Be=E.children,E=E.fallback,x?(Gs(),x=c.mode,Be=yu({mode:"hidden",children:Be},x),E=Ps(E,x,g,null),Be.return=c,E.return=c,Be.sibling=E,c.child=Be,x=c.child,x.memoizedState=qf(g),x.childLanes=Uc(l,Ie,g),c.memoizedState=jf,E):(ia(c),Gf(c,Be))}if(nt=l.memoizedState,nt!==null&&(Be=nt.dehydrated,Be!==null)){if(N)c.flags&256?(ia(c),c.flags&=-257,c=$f(l,c,g)):c.memoizedState!==null?(Gs(),c.child=l.child,c.flags|=128,c=null):(Gs(),x=E.fallback,Be=c.mode,E=yu({mode:"visible",children:E.children},Be),x=Ps(x,Be,g,null),x.flags|=2,E.return=c,x.return=c,E.sibling=x,c.child=E,qs(c,l.child,null,g),E=c.child,E.memoizedState=qf(g),E.childLanes=Uc(l,Ie,g),c.memoizedState=jf,c=x);else if(ia(c),Ry(Be)){if(Ie=Be.nextSibling&&Be.nextSibling.dataset,Ie)var Ot=Ie.dgst;Ie=Ot,E=Error(n(419)),E.stack="",E.digest=Ie,rl({value:E,source:null,stack:null}),c=$f(l,c,g)}else if(Si||il(l,c,g,!1),Ie=(g&l.childLanes)!==0,Si||Ie){if(Ie=wt,Ie!==null&&(E=g&-g,E=(E&42)!==0?1:wn(E),E=(E&(Ie.suspendedLanes|g))!==0?0:E,E!==0&&E!==nt.retryLane))throw nt.retryLane=E,Ms(l,E),Fi(Ie,l,E),Mf;Be.data==="$?"||ba(),c=$f(l,c,g)}else Be.data==="$?"?(c.flags|=192,c.child=l.child,c=null):(l=nt.treeContext,ri=Rs(Be.nextSibling),Vi=c,Ir=!0,So=null,ts=!1,l!==null&&(Aa[Ra++]=es,Aa[Ra++]=bs,Aa[Ra++]=vo,es=l.id,bs=l.overflow,vo=c),c=Gf(c,E.children),c.flags|=4096);return c}return x?(Gs(),x=E.fallback,Be=c.mode,nt=l.child,Ot=nt.sibling,E=_a(nt,{mode:"hidden",children:E.children}),E.subtreeFlags=nt.subtreeFlags&65011712,Ot!==null?x=_a(Ot,x):(x=Ps(x,Be,g,null),x.flags|=2),x.return=c,E.return=c,E.sibling=x,c.child=E,E=x,x=c.child,Be=l.child.memoizedState,Be===null?Be=qf(g):(nt=Be.cachePool,nt!==null?(Ot=bi._currentValue,nt=nt.parent!==Ot?{parent:Ot,pool:Ot}:nt):nt=rf(),Be={baseLanes:Be.baseLanes|g,cachePool:nt}),x.memoizedState=Be,x.childLanes=Uc(l,Ie,g),c.memoizedState=jf,E):(ia(c),g=l.child,l=g.sibling,g=_a(g,{mode:"visible",children:E.children}),g.return=c,g.sibling=null,l!==null&&(Ie=c.deletions,Ie===null?(c.deletions=[l],c.flags|=16):Ie.push(l)),c.child=g,c.memoizedState=null,g)}function Gf(l,c){return c=yu({mode:"visible",children:c},l.mode),c.return=l,l.child=c}function yu(l,c){return l=zi(22,l,null,c),l.lanes=0,l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},l}function $f(l,c,g){return qs(c,l.child,null,g),l=Gf(c,c.pendingProps.children),l.flags|=2,c.memoizedState=null,l}function em(l,c,g){l.lanes|=c;var E=l.alternate;E!==null&&(E.lanes|=c),ef(l.return,c,g)}function bu(l,c,g,E,x){var N=l.memoizedState;N===null?l.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:E,tail:g,tailMode:x}:(N.isBackwards=c,N.rendering=null,N.renderingStartTime=0,N.last=E,N.tail=g,N.tailMode=x)}function Eu(l,c,g){var E=c.pendingProps,x=E.revealOrder,N=E.tail;if(_i(l,c,E.children,g),E=Ei.current,(E&2)!==0)E=E&1|2,c.flags|=128;else{if(l!==null&&(l.flags&128)!==0)e:for(l=c.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&em(l,g,c);else if(l.tag===19)em(l,g,c);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===c)break e;for(;l.sibling===null;){if(l.return===null||l.return===c)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}E&=1}switch(pt(Ei,E),x){case"forwards":for(g=c.child,x=null;g!==null;)l=g.alternate,l!==null&&Do(l)===null&&(x=g),g=g.sibling;g=x,g===null?(x=c.child,c.child=null):(x=g.sibling,g.sibling=null),bu(c,!1,x,g,N);break;case"backwards":for(g=null,x=c.child,c.child=null;x!==null;){if(l=x.alternate,l!==null&&Do(l)===null){c.child=x;break}l=x.sibling,x.sibling=g,g=x,x=l}bu(c,!0,g,null,N);break;case"together":bu(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function As(l,c,g){if(l!==null&&(c.dependencies=l.dependencies),Qt|=c.lanes,(g&c.childLanes)===0)if(l!==null){if(il(l,c,g,!1),(g&c.childLanes)===0)return null}else return null;if(l!==null&&c.child!==l.child)throw Error(n(153));if(c.child!==null){for(l=c.child,g=_a(l,l.pendingProps),c.child=g,g.return=c;l.sibling!==null;)l=l.sibling,g=g.sibling=_a(l,l.pendingProps),g.return=c;g.sibling=null}return c.child}function S(l,c){return(l.lanes&c)!==0?!0:(l=l.dependencies,!!(l!==null&&ic(l)))}function b(l,c,g){switch(c.tag){case 3:Z(c,c.stateNode.containerInfo),Us(c,bi,l.memoizedState.cache),xa();break;case 27:case 5:L(c);break;case 4:Z(c,c.stateNode.containerInfo);break;case 10:Us(c,c.type,c.memoizedProps.value);break;case 13:var E=c.memoizedState;if(E!==null)return E.dehydrated!==null?(ia(c),c.flags|=128,null):(g&c.child.childLanes)!==0?Jg(l,c,g):(ia(c),l=As(l,c,g),l!==null?l.sibling:null);ia(c);break;case 19:var x=(l.flags&128)!==0;if(E=(g&c.childLanes)!==0,E||(il(l,c,g,!1),E=(g&c.childLanes)!==0),x){if(E)return Eu(l,c,g);c.flags|=128}if(x=c.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),pt(Ei,Ei.current),E)break;return null;case 22:case 23:return c.lanes=0,zf(l,c,g);case 24:Us(c,bi,l.memoizedState.cache)}return As(l,c,g)}function _(l,c,g){if(l!==null)if(l.memoizedProps!==c.pendingProps)Si=!0;else{if(!S(l,g)&&(c.flags&128)===0)return Si=!1,b(l,c,g);Si=(l.flags&131072)!==0}else Si=!1,Ir&&(c.flags&1048576)!==0&&fg(c,Ql,c.index);switch(c.lanes=0,c.tag){case 16:e:{l=c.pendingProps;var E=c.elementType,x=E._init;if(E=x(E._payload),c.type=E,typeof E=="function")nl(E)?(l=Lo(E,l),c.tag=1,c=Zg(null,c,E,l,g)):(c.tag=0,c=Ff(null,c,E,l,g));else{if(E!=null){if(x=E.$$typeof,x===ue){c.tag=11,c=Wg(null,c,E,l,g);break e}else if(x===X){c.tag=14,c=Pf(null,c,E,l,g);break e}}throw c=Ye(E)||E,Error(n(306,c,""))}}return c;case 0:return Ff(l,c,c.type,c.pendingProps,g);case 1:return E=c.type,x=Lo(E,c.pendingProps),Zg(l,c,E,x,g);case 3:e:{if(Z(c,c.stateNode.containerInfo),l===null)throw Error(n(387));E=c.pendingProps;var N=c.memoizedState;x=N.element,iu(l,c),ul(c,E,null,g);var Ie=c.memoizedState;if(E=Ie.cache,Us(c,bi,E),E!==N.cache&&rc(c,[bi],g,!0),au(),E=Ie.element,N.isDehydrated)if(N={element:E,isDehydrated:!1,cache:Ie.cache},c.updateQueue.baseState=N,c.memoizedState=N,c.flags&256){c=Bf(l,c,E,g);break e}else if(E!==x){x=ki(Error(n(424)),c),rl(x),c=Bf(l,c,E,g);break e}else{switch(l=c.stateNode.containerInfo,l.nodeType){case 9:l=l.body;break;default:l=l.nodeName==="HTML"?l.ownerDocument.body:l}for(ri=Rs(l.firstChild),Vi=c,Ir=!0,So=null,ts=!0,g=Cf(c,null,E,g),c.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling}else{if(xa(),E===x){c=As(l,c,g);break e}_i(l,c,E,g)}c=c.child}return c;case 26:return pu(l,c),l===null?(g=z0(c.type,null,c.pendingProps,null))?c.memoizedState=g:Ir||(g=c.type,l=c.pendingProps,E=lm(Ne.current).createElement(g),E[ln]=c,E[Rt]=l,Xi(E,g,l),Lr(E),c.stateNode=E):c.memoizedState=z0(c.type,l.memoizedProps,c.pendingProps,l.memoizedState),null;case 27:return L(c),l===null&&Ir&&(E=c.stateNode=O0(c.type,c.pendingProps,Ne.current),Vi=c,ts=!0,x=ri,pl(c.type)?(xy=x,ri=Rs(E.firstChild)):ri=x),_i(l,c,c.pendingProps.children,g),pu(l,c),l===null&&(c.flags|=4194304),c.child;case 5:return l===null&&Ir&&((x=E=ri)&&(E=ZR(E,c.type,c.pendingProps,ts),E!==null?(c.stateNode=E,Vi=c,ri=Rs(E.firstChild),ts=!1,x=!0):x=!1),x||_o(c)),L(c),x=c.type,N=c.pendingProps,Ie=l!==null?l.memoizedProps:null,E=N.children,Sy(x,N)?E=null:Ie!==null&&Sy(x,Ie)&&(c.flags|=32),c.memoizedState!==null&&(x=pc(l,c,vg,null,null,g),Jf._currentValue=x),pu(l,c),_i(l,c,E,g),c.child;case 6:return l===null&&Ir&&((l=g=ri)&&(g=JR(g,c.pendingProps,ts),g!==null?(c.stateNode=g,Vi=c,ri=null,l=!0):l=!1),l||_o(c)),null;case 13:return Jg(l,c,g);case 4:return Z(c,c.stateNode.containerInfo),E=c.pendingProps,l===null?c.child=qs(c,null,E,g):_i(l,c,E,g),c.child;case 11:return Wg(l,c,c.type,c.pendingProps,g);case 7:return _i(l,c,c.pendingProps,g),c.child;case 8:return _i(l,c,c.pendingProps.children,g),c.child;case 12:return _i(l,c,c.pendingProps.children,g),c.child;case 10:return E=c.pendingProps,Us(c,c.type,E.value),_i(l,c,E.children,g),c.child;case 9:return x=c.type._context,E=c.pendingProps.children,Ia(c),x=Di(x),E=E(x),c.flags|=1,_i(l,c,E,g),c.child;case 14:return Pf(l,c,c.type,c.pendingProps,g);case 15:return Xg(l,c,c.type,c.pendingProps,g);case 19:return Eu(l,c,g);case 31:return E=c.pendingProps,g=c.mode,E={mode:E.mode,children:E.children},l===null?(g=yu(E,g),g.ref=c.ref,c.child=g,g.return=c,c=g):(g=_a(l.child,E),g.ref=c.ref,c.child=g,g.return=c,c=g),c;case 22:return zf(l,c,g);case 24:return Ia(c),E=Di(bi),l===null?(x=lc(),x===null&&(x=wt,N=oc(),x.pooledCache=N,N.refCount++,N!==null&&(x.pooledCacheLanes|=g),x=N),c.memoizedState={parent:E,cache:x},ru(c),Us(c,bi,x)):((l.lanes&g)!==0&&(iu(l,c),ul(c,null,null,g),au()),x=l.memoizedState,N=c.memoizedState,x.parent!==E?(x={parent:E,cache:E},c.memoizedState=x,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=x),Us(c,bi,E)):(E=N.cache,Us(c,bi,E),E!==x.cache&&rc(c,[bi],g,!0))),_i(l,c,c.pendingProps.children,g),c.child;case 29:throw c.pendingProps}throw Error(n(156,c.tag))}function R(l){l.flags|=4}function I(l,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)l.flags&=-16777217;else if(l.flags|=16777216,!q0(c)){if(c=ka.current,c!==null&&((Ve&4194048)===Ve?is!==null:(Ve&62914560)!==Ve&&(Ve&536870912)===0||c!==is))throw ol=dc,af;l.flags|=8192}}function w(l,c){c!==null&&(l.flags|=4),l.flags&16384&&(c=l.tag!==22?_n():536870912,l.lanes|=c,hn|=c)}function z(l,c){if(!Ir)switch(l.tailMode){case"hidden":c=l.tail;for(var g=null;c!==null;)c.alternate!==null&&(g=c),c=c.sibling;g===null?l.tail=null:g.sibling=null;break;case"collapsed":g=l.tail;for(var E=null;g!==null;)g.alternate!==null&&(E=g),g=g.sibling;E===null?c||l.tail===null?l.tail=null:l.tail.sibling=null:E.sibling=null}}function O(l){var c=l.alternate!==null&&l.alternate.child===l.child,g=0,E=0;if(c)for(var x=l.child;x!==null;)g|=x.lanes|x.childLanes,E|=x.subtreeFlags&65011712,E|=x.flags&65011712,x.return=l,x=x.sibling;else for(x=l.child;x!==null;)g|=x.lanes|x.childLanes,E|=x.subtreeFlags,E|=x.flags,x.return=l,x=x.sibling;return l.subtreeFlags|=E,l.childLanes=g,c}function M(l,c,g){var E=c.pendingProps;switch(Xd(c),c.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return O(c),null;case 1:return O(c),null;case 3:return g=c.stateNode,E=null,l!==null&&(E=l.memoizedState.cache),c.memoizedState.cache!==E&&(c.flags|=2048),ns(bi),ne(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(l===null||l.child===null)&&(Zl(c)?R(c):l===null||l.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,Ci())),O(c),null;case 26:return g=c.memoizedState,l===null?(R(c),g!==null?(O(c),I(c,g)):(O(c),c.flags&=-16777217)):g?g!==l.memoizedState?(R(c),O(c),I(c,g)):(O(c),c.flags&=-16777217):(l.memoizedProps!==E&&R(c),O(c),c.flags&=-16777217),null;case 27:j(c),g=Ne.current;var x=c.type;if(l!==null&&c.stateNode!=null)l.memoizedProps!==E&&R(c);else{if(!E){if(c.stateNode===null)throw Error(n(166));return O(c),null}l=jt.current,Zl(c)?hg(c):(l=O0(x,E,g),c.stateNode=l,R(c))}return O(c),null;case 5:if(j(c),g=c.type,l!==null&&c.stateNode!=null)l.memoizedProps!==E&&R(c);else{if(!E){if(c.stateNode===null)throw Error(n(166));return O(c),null}if(l=jt.current,Zl(c))hg(c);else{switch(x=lm(Ne.current),l){case 1:l=x.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:l=x.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":l=x.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":l=x.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":l=x.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild);break;case"select":l=typeof E.is=="string"?x.createElement("select",{is:E.is}):x.createElement("select"),E.multiple?l.multiple=!0:E.size&&(l.size=E.size);break;default:l=typeof E.is=="string"?x.createElement(g,{is:E.is}):x.createElement(g)}}l[ln]=c,l[Rt]=E;e:for(x=c.child;x!==null;){if(x.tag===5||x.tag===6)l.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===c)break e;for(;x.sibling===null;){if(x.return===null||x.return===c)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}c.stateNode=l;e:switch(Xi(l,g,E),g){case"button":case"input":case"select":case"textarea":l=!!E.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&R(c)}}return O(c),c.flags&=-16777217,null;case 6:if(l&&c.stateNode!=null)l.memoizedProps!==E&&R(c);else{if(typeof E!="string"&&c.stateNode===null)throw Error(n(166));if(l=Ne.current,Zl(c)){if(l=c.stateNode,g=c.memoizedProps,E=null,x=Vi,x!==null)switch(x.tag){case 27:case 5:E=x.memoizedProps}l[ln]=c,l=!!(l.nodeValue===g||E!==null&&E.suppressHydrationWarning===!0||I0(l.nodeValue,g)),l||_o(c)}else l=lm(l).createTextNode(E),l[ln]=c,c.stateNode=l}return O(c),null;case 13:if(E=c.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(x=Zl(c),E!==null&&E.dehydrated!==null){if(l===null){if(!x)throw Error(n(318));if(x=c.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(n(317));x[ln]=c}else xa(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;O(c),x=!1}else x=Ci(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=x),x=!0;if(!x)return c.flags&256?(_s(c),c):(_s(c),null)}if(_s(c),(c.flags&128)!==0)return c.lanes=g,c;if(g=E!==null,l=l!==null&&l.memoizedState!==null,g){E=c.child,x=null,E.alternate!==null&&E.alternate.memoizedState!==null&&E.alternate.memoizedState.cachePool!==null&&(x=E.alternate.memoizedState.cachePool.pool);var N=null;E.memoizedState!==null&&E.memoizedState.cachePool!==null&&(N=E.memoizedState.cachePool.pool),N!==x&&(E.flags|=2048)}return g!==l&&g&&(c.child.flags|=8192),w(c,c.updateQueue),O(c),null;case 4:return ne(),l===null&&yy(c.stateNode.containerInfo),O(c),null;case 10:return ns(c.type),O(c),null;case 19:if(et(Ei),x=c.memoizedState,x===null)return O(c),null;if(E=(c.flags&128)!==0,N=x.rendering,N===null)if(E)z(x,!1);else{if(ut!==0||l!==null&&(l.flags&128)!==0)for(l=c.child;l!==null;){if(N=Do(l),N!==null){for(c.flags|=128,z(x,!1),l=N.updateQueue,c.updateQueue=l,w(c,l),c.subtreeFlags=0,l=g,g=c.child;g!==null;)Xl(g,l),g=g.sibling;return pt(Ei,Ei.current&1|2),c.child}l=l.sibling}x.tail!==null&&Ze()>yr&&(c.flags|=128,E=!0,z(x,!1),c.lanes=4194304)}else{if(!E)if(l=Do(N),l!==null){if(c.flags|=128,E=!0,l=l.updateQueue,c.updateQueue=l,w(c,l),z(x,!0),x.tail===null&&x.tailMode==="hidden"&&!N.alternate&&!Ir)return O(c),null}else 2*Ze()-x.renderingStartTime>yr&&g!==536870912&&(c.flags|=128,E=!0,z(x,!1),c.lanes=4194304);x.isBackwards?(N.sibling=c.child,c.child=N):(l=x.last,l!==null?l.sibling=N:c.child=N,x.last=N)}return x.tail!==null?(c=x.tail,x.rendering=c,x.tail=c.sibling,x.renderingStartTime=Ze(),c.sibling=null,l=Ei.current,pt(Ei,E?l&1|2:l&1),c):(O(c),null);case 22:case 23:return _s(c),cf(),E=c.memoizedState!==null,l!==null?l.memoizedState!==null!==E&&(c.flags|=8192):E&&(c.flags|=8192),E?(g&536870912)!==0&&(c.flags&128)===0&&(O(c),c.subtreeFlags&6&&(c.flags|=8192)):O(c),g=c.updateQueue,g!==null&&w(c,g.retryQueue),g=null,l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(g=l.memoizedState.cachePool.pool),E=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(E=c.memoizedState.cachePool.pool),E!==g&&(c.flags|=2048),l!==null&&et(Ro),null;case 24:return g=null,l!==null&&(g=l.memoizedState.cache),c.memoizedState.cache!==g&&(c.flags|=2048),ns(bi),O(c),null;case 25:return null;case 30:return null}throw Error(n(156,c.tag))}function q(l,c){switch(Xd(c),c.tag){case 1:return l=c.flags,l&65536?(c.flags=l&-65537|128,c):null;case 3:return ns(bi),ne(),l=c.flags,(l&65536)!==0&&(l&128)===0?(c.flags=l&-65537|128,c):null;case 26:case 27:case 5:return j(c),null;case 13:if(_s(c),l=c.memoizedState,l!==null&&l.dehydrated!==null){if(c.alternate===null)throw Error(n(340));xa()}return l=c.flags,l&65536?(c.flags=l&-65537|128,c):null;case 19:return et(Ei),null;case 4:return ne(),null;case 10:return ns(c.type),null;case 22:case 23:return _s(c),cf(),l!==null&&et(Ro),l=c.flags,l&65536?(c.flags=l&-65537|128,c):null;case 24:return ns(bi),null;case 25:return null;default:return null}}function G(l,c){switch(Xd(c),c.tag){case 3:ns(bi),ne();break;case 26:case 27:case 5:j(c);break;case 4:ne();break;case 13:_s(c);break;case 19:et(Ei);break;case 10:ns(c.type);break;case 22:case 23:_s(c),cf(),l!==null&&et(Ro);break;case 24:ns(bi)}}function C(l,c){try{var g=c.updateQueue,E=g!==null?g.lastEffect:null;if(E!==null){var x=E.next;g=x;do{if((g.tag&l)===l){E=void 0;var N=g.create,Ie=g.inst;E=N(),Ie.destroy=E}g=g.next}while(g!==x)}}catch(Be){Wr(c,c.return,Be)}}function P(l,c,g){try{var E=c.updateQueue,x=E!==null?E.lastEffect:null;if(x!==null){var N=x.next;E=N;do{if((E.tag&l)===l){var Ie=E.inst,Be=Ie.destroy;if(Be!==void 0){Ie.destroy=void 0,x=c;var nt=g,Ot=Be;try{Ot()}catch(un){Wr(x,nt,un)}}}E=E.next}while(E!==N)}}catch(un){Wr(c,c.return,un)}}function U(l){var c=l.updateQueue;if(c!==null){var g=l.stateNode;try{lf(c,g)}catch(E){Wr(l,l.return,E)}}}function H(l,c,g){g.props=Lo(l.type,l.memoizedProps),g.state=l.memoizedState;try{g.componentWillUnmount()}catch(E){Wr(l,c,E)}}function J(l,c){try{var g=l.ref;if(g!==null){switch(l.tag){case 26:case 27:case 5:var E=l.stateNode;break;case 30:E=l.stateNode;break;default:E=l.stateNode}typeof g=="function"?l.refCleanup=g(E):g.current=E}}catch(x){Wr(l,c,x)}}function re(l,c){var g=l.ref,E=l.refCleanup;if(g!==null)if(typeof E=="function")try{E()}catch(x){Wr(l,c,x)}finally{l.refCleanup=null,l=l.alternate,l!=null&&(l.refCleanup=null)}else if(typeof g=="function")try{g(null)}catch(x){Wr(l,c,x)}else g.current=null}function ae(l){var c=l.type,g=l.memoizedProps,E=l.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":g.autoFocus&&E.focus();break e;case"img":g.src?E.src=g.src:g.srcSet&&(E.srcset=g.srcSet)}}catch(x){Wr(l,l.return,x)}}function fe(l,c,g){try{var E=l.stateNode;KR(E,l.type,g,c),E[Rt]=c}catch(x){Wr(l,l.return,x)}}function he(l){return l.tag===5||l.tag===3||l.tag===26||l.tag===27&&pl(l.type)||l.tag===4}function ge(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||he(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.tag===27&&pl(l.type)||l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function Se(l,c,g){var E=l.tag;if(E===5||E===6)l=l.stateNode,c?(g.nodeType===9?g.body:g.nodeName==="HTML"?g.ownerDocument.body:g).insertBefore(l,c):(c=g.nodeType===9?g.body:g.nodeName==="HTML"?g.ownerDocument.body:g,c.appendChild(l),g=g._reactRootContainer,g!=null||c.onclick!==null||(c.onclick=om));else if(E!==4&&(E===27&&pl(l.type)&&(g=l.stateNode,c=null),l=l.child,l!==null))for(Se(l,c,g),l=l.sibling;l!==null;)Se(l,c,g),l=l.sibling}function ee(l,c,g){var E=l.tag;if(E===5||E===6)l=l.stateNode,c?g.insertBefore(l,c):g.appendChild(l);else if(E!==4&&(E===27&&pl(l.type)&&(g=l.stateNode),l=l.child,l!==null))for(ee(l,c,g),l=l.sibling;l!==null;)ee(l,c,g),l=l.sibling}function Y(l){var c=l.stateNode,g=l.memoizedProps;try{for(var E=l.type,x=c.attributes;x.length;)c.removeAttributeNode(x[0]);Xi(c,E,g),c[ln]=l,c[Rt]=g}catch(N){Wr(l,l.return,N)}}var D=!1,te=!1,ye=!1,le=typeof WeakSet=="function"?WeakSet:Set,we=null;function Ce(l,c){if(l=l.containerInfo,vy=gm,l=Fd(l),Zo(l)){if("selectionStart"in l)var g={start:l.selectionStart,end:l.selectionEnd};else e:{g=(g=l.ownerDocument)&&g.defaultView||window;var E=g.getSelection&&g.getSelection();if(E&&E.rangeCount!==0){g=E.anchorNode;var x=E.anchorOffset,N=E.focusNode;E=E.focusOffset;try{g.nodeType,N.nodeType}catch{g=null;break e}var Ie=0,Be=-1,nt=-1,Ot=0,un=0,En=l,qt=null;t:for(;;){for(var $t;En!==g||x!==0&&En.nodeType!==3||(Be=Ie+x),En!==N||E!==0&&En.nodeType!==3||(nt=Ie+E),En.nodeType===3&&(Ie+=En.nodeValue.length),($t=En.firstChild)!==null;)qt=En,En=$t;for(;;){if(En===l)break t;if(qt===g&&++Ot===x&&(Be=Ie),qt===N&&++un===E&&(nt=Ie),($t=En.nextSibling)!==null)break;En=qt,qt=En.parentNode}En=$t}g=Be===-1||nt===-1?null:{start:Be,end:nt}}else g=null}g=g||{start:0,end:0}}else g=null;for(Ty={focusedElem:l,selectionRange:g},gm=!1,we=c;we!==null;)if(c=we,l=c.child,(c.subtreeFlags&1024)!==0&&l!==null)l.return=c,we=l;else for(;we!==null;){switch(c=we,N=c.alternate,l=c.flags,c.tag){case 0:break;case 11:case 15:break;case 1:if((l&1024)!==0&&N!==null){l=void 0,g=c,x=N.memoizedProps,N=N.memoizedState,E=g.stateNode;try{var sr=Lo(g.type,x,g.elementType===g.type);l=E.getSnapshotBeforeUpdate(sr,N),E.__reactInternalSnapshotBeforeUpdate=l}catch(er){Wr(g,g.return,er)}}break;case 3:if((l&1024)!==0){if(l=c.stateNode.containerInfo,g=l.nodeType,g===9)Ay(l);else if(g===1)switch(l.nodeName){case"HEAD":case"HTML":case"BODY":Ay(l);break;default:l.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((l&1024)!==0)throw Error(n(163))}if(l=c.sibling,l!==null){l.return=c.return,we=l;break}we=c.return}}function Me(l,c,g){var E=g.flags;switch(g.tag){case 0:case 11:case 15:Ue(l,g),E&4&&C(5,g);break;case 1:if(Ue(l,g),E&4)if(l=g.stateNode,c===null)try{l.componentDidMount()}catch(Ie){Wr(g,g.return,Ie)}else{var x=Lo(g.type,c.memoizedProps);c=c.memoizedState;try{l.componentDidUpdate(x,c,l.__reactInternalSnapshotBeforeUpdate)}catch(Ie){Wr(g,g.return,Ie)}}E&64&&U(g),E&512&&J(g,g.return);break;case 3:if(Ue(l,g),E&64&&(l=g.updateQueue,l!==null)){if(c=null,g.child!==null)switch(g.child.tag){case 27:case 5:c=g.child.stateNode;break;case 1:c=g.child.stateNode}try{lf(l,c)}catch(Ie){Wr(g,g.return,Ie)}}break;case 27:c===null&&E&4&&Y(g);case 26:case 5:Ue(l,g),c===null&&E&4&&ae(g),E&512&&J(g,g.return);break;case 12:Ue(l,g);break;case 13:Ue(l,g),E&4&&de(l,g),E&64&&(l=g.memoizedState,l!==null&&(l=l.dehydrated,l!==null&&(g=PR.bind(null,g),ex(l,g))));break;case 22:if(E=g.memoizedState!==null||D,!E){c=c!==null&&c.memoizedState!==null||te,x=D;var N=te;D=E,(te=c)&&!N?Tt(l,g,(g.subtreeFlags&8772)!==0):Ue(l,g),D=x,te=N}break;case 30:break;default:Ue(l,g)}}function Ke(l){var c=l.alternate;c!==null&&(l.alternate=null,Ke(c)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(c=l.stateNode,c!==null&&ti(c)),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}var Oe=null,W=!1;function oe(l,c,g){for(g=g.child;g!==null;)ve(l,c,g),g=g.sibling}function ve(l,c,g){if(nn&&typeof nn.onCommitFiberUnmount=="function")try{nn.onCommitFiberUnmount(dt,g)}catch{}switch(g.tag){case 26:te||re(g,c),oe(l,c,g),g.memoizedState?g.memoizedState.count--:g.stateNode&&(g=g.stateNode,g.parentNode.removeChild(g));break;case 27:te||re(g,c);var E=Oe,x=W;pl(g.type)&&(Oe=g.stateNode,W=!1),oe(l,c,g),Wf(g.stateNode),Oe=E,W=x;break;case 5:te||re(g,c);case 6:if(E=Oe,x=W,Oe=null,oe(l,c,g),Oe=E,W=x,Oe!==null)if(W)try{(Oe.nodeType===9?Oe.body:Oe.nodeName==="HTML"?Oe.ownerDocument.body:Oe).removeChild(g.stateNode)}catch(N){Wr(g,c,N)}else try{Oe.removeChild(g.stateNode)}catch(N){Wr(g,c,N)}break;case 18:Oe!==null&&(W?(l=Oe,L0(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,g.stateNode),rh(l)):L0(Oe,g.stateNode));break;case 4:E=Oe,x=W,Oe=g.stateNode.containerInfo,W=!0,oe(l,c,g),Oe=E,W=x;break;case 0:case 11:case 14:case 15:te||P(2,g,c),te||P(4,g,c),oe(l,c,g);break;case 1:te||(re(g,c),E=g.stateNode,typeof E.componentWillUnmount=="function"&&H(g,c,E)),oe(l,c,g);break;case 21:oe(l,c,g);break;case 22:te=(E=te)||g.memoizedState!==null,oe(l,c,g),te=E;break;default:oe(l,c,g)}}function de(l,c){if(c.memoizedState===null&&(l=c.alternate,l!==null&&(l=l.memoizedState,l!==null&&(l=l.dehydrated,l!==null))))try{rh(l)}catch(g){Wr(c,c.return,g)}}function V(l){switch(l.tag){case 13:case 19:var c=l.stateNode;return c===null&&(c=l.stateNode=new le),c;case 22:return l=l.stateNode,c=l._retryCache,c===null&&(c=l._retryCache=new le),c;default:throw Error(n(435,l.tag))}}function ce(l,c){var g=V(l);c.forEach(function(E){var x=zR.bind(null,l,E);g.has(E)||(g.add(E),E.then(x,x))})}function se(l,c){var g=c.deletions;if(g!==null)for(var E=0;E<g.length;E++){var x=g[E],N=l,Ie=c,Be=Ie;e:for(;Be!==null;){switch(Be.tag){case 27:if(pl(Be.type)){Oe=Be.stateNode,W=!1;break e}break;case 5:Oe=Be.stateNode,W=!1;break e;case 3:case 4:Oe=Be.stateNode.containerInfo,W=!0;break e}Be=Be.return}if(Oe===null)throw Error(n(160));ve(N,Ie,x),Oe=null,W=!1,N=x.alternate,N!==null&&(N.return=null),x.return=null}if(c.subtreeFlags&13878)for(c=c.child;c!==null;)Re(c,l),c=c.sibling}var Ae=null;function Re(l,c){var g=l.alternate,E=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:se(c,l),Le(l),E&4&&(P(3,l,l.return),C(3,l),P(5,l,l.return));break;case 1:se(c,l),Le(l),E&512&&(te||g===null||re(g,g.return)),E&64&&D&&(l=l.updateQueue,l!==null&&(E=l.callbacks,E!==null&&(g=l.shared.hiddenCallbacks,l.shared.hiddenCallbacks=g===null?E:g.concat(E))));break;case 26:var x=Ae;if(se(c,l),Le(l),E&512&&(te||g===null||re(g,g.return)),E&4){var N=g!==null?g.memoizedState:null;if(E=l.memoizedState,g===null)if(E===null)if(l.stateNode===null){e:{E=l.type,g=l.memoizedProps,x=x.ownerDocument||x;t:switch(E){case"title":N=x.getElementsByTagName("title")[0],(!N||N[br]||N[ln]||N.namespaceURI==="http://www.w3.org/2000/svg"||N.hasAttribute("itemprop"))&&(N=x.createElement(E),x.head.insertBefore(N,x.querySelector("head > title"))),Xi(N,E,g),N[ln]=l,Lr(N),E=N;break e;case"link":var Ie=B0("link","href",x).get(E+(g.href||""));if(Ie){for(var Be=0;Be<Ie.length;Be++)if(N=Ie[Be],N.getAttribute("href")===(g.href==null||g.href===""?null:g.href)&&N.getAttribute("rel")===(g.rel==null?null:g.rel)&&N.getAttribute("title")===(g.title==null?null:g.title)&&N.getAttribute("crossorigin")===(g.crossOrigin==null?null:g.crossOrigin)){Ie.splice(Be,1);break t}}N=x.createElement(E),Xi(N,E,g),x.head.appendChild(N);break;case"meta":if(Ie=B0("meta","content",x).get(E+(g.content||""))){for(Be=0;Be<Ie.length;Be++)if(N=Ie[Be],N.getAttribute("content")===(g.content==null?null:""+g.content)&&N.getAttribute("name")===(g.name==null?null:g.name)&&N.getAttribute("property")===(g.property==null?null:g.property)&&N.getAttribute("http-equiv")===(g.httpEquiv==null?null:g.httpEquiv)&&N.getAttribute("charset")===(g.charSet==null?null:g.charSet)){Ie.splice(Be,1);break t}}N=x.createElement(E),Xi(N,E,g),x.head.appendChild(N);break;default:throw Error(n(468,E))}N[ln]=l,Lr(N),E=N}l.stateNode=E}else j0(x,l.type,l.stateNode);else l.stateNode=U0(x,E,l.memoizedProps);else N!==E?(N===null?g.stateNode!==null&&(g=g.stateNode,g.parentNode.removeChild(g)):N.count--,E===null?j0(x,l.type,l.stateNode):U0(x,E,l.memoizedProps)):E===null&&l.stateNode!==null&&fe(l,l.memoizedProps,g.memoizedProps)}break;case 27:se(c,l),Le(l),E&512&&(te||g===null||re(g,g.return)),g!==null&&E&4&&fe(l,l.memoizedProps,g.memoizedProps);break;case 5:if(se(c,l),Le(l),E&512&&(te||g===null||re(g,g.return)),l.flags&32){x=l.stateNode;try{Qa(x,"")}catch($t){Wr(l,l.return,$t)}}E&4&&l.stateNode!=null&&(x=l.memoizedProps,fe(l,x,g!==null?g.memoizedProps:x)),E&1024&&(ye=!0);break;case 6:if(se(c,l),Le(l),E&4){if(l.stateNode===null)throw Error(n(162));E=l.memoizedProps,g=l.stateNode;try{g.nodeValue=E}catch($t){Wr(l,l.return,$t)}}break;case 3:if(dm=null,x=Ae,Ae=um(c.containerInfo),se(c,l),Ae=x,Le(l),E&4&&g!==null&&g.memoizedState.isDehydrated)try{rh(c.containerInfo)}catch($t){Wr(l,l.return,$t)}ye&&(ye=!1,je(l));break;case 4:E=Ae,Ae=um(l.stateNode.containerInfo),se(c,l),Le(l),Ae=E;break;case 12:se(c,l),Le(l);break;case 13:se(c,l),Le(l),l.child.flags&8192&&l.memoizedState!==null!=(g!==null&&g.memoizedState!==null)&&(Fn=Ze()),E&4&&(E=l.updateQueue,E!==null&&(l.updateQueue=null,ce(l,E)));break;case 22:x=l.memoizedState!==null;var nt=g!==null&&g.memoizedState!==null,Ot=D,un=te;if(D=Ot||x,te=un||nt,se(c,l),te=un,D=Ot,Le(l),E&8192)e:for(c=l.stateNode,c._visibility=x?c._visibility&-2:c._visibility|1,x&&(g===null||nt||D||te||at(l)),g=null,c=l;;){if(c.tag===5||c.tag===26){if(g===null){nt=g=c;try{if(N=nt.stateNode,x)Ie=N.style,typeof Ie.setProperty=="function"?Ie.setProperty("display","none","important"):Ie.display="none";else{Be=nt.stateNode;var En=nt.memoizedProps.style,qt=En!=null&&En.hasOwnProperty("display")?En.display:null;Be.style.display=qt==null||typeof qt=="boolean"?"":(""+qt).trim()}}catch($t){Wr(nt,nt.return,$t)}}}else if(c.tag===6){if(g===null){nt=c;try{nt.stateNode.nodeValue=x?"":nt.memoizedProps}catch($t){Wr(nt,nt.return,$t)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===l)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===l)break e;for(;c.sibling===null;){if(c.return===null||c.return===l)break e;g===c&&(g=null),c=c.return}g===c&&(g=null),c.sibling.return=c.return,c=c.sibling}E&4&&(E=l.updateQueue,E!==null&&(g=E.retryQueue,g!==null&&(E.retryQueue=null,ce(l,g))));break;case 19:se(c,l),Le(l),E&4&&(E=l.updateQueue,E!==null&&(l.updateQueue=null,ce(l,E)));break;case 30:break;case 21:break;default:se(c,l),Le(l)}}function Le(l){var c=l.flags;if(c&2){try{for(var g,E=l.return;E!==null;){if(he(E)){g=E;break}E=E.return}if(g==null)throw Error(n(160));switch(g.tag){case 27:var x=g.stateNode,N=ge(l);ee(l,N,x);break;case 5:var Ie=g.stateNode;g.flags&32&&(Qa(Ie,""),g.flags&=-33);var Be=ge(l);ee(l,Be,Ie);break;case 3:case 4:var nt=g.stateNode.containerInfo,Ot=ge(l);Se(l,Ot,nt);break;default:throw Error(n(161))}}catch(un){Wr(l,l.return,un)}l.flags&=-3}c&4096&&(l.flags&=-4097)}function je(l){if(l.subtreeFlags&1024)for(l=l.child;l!==null;){var c=l;je(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),l=l.sibling}}function Ue(l,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)Me(l,c.alternate,c),c=c.sibling}function at(l){for(l=l.child;l!==null;){var c=l;switch(c.tag){case 0:case 11:case 14:case 15:P(4,c,c.return),at(c);break;case 1:re(c,c.return);var g=c.stateNode;typeof g.componentWillUnmount=="function"&&H(c,c.return,g),at(c);break;case 27:Wf(c.stateNode);case 26:case 5:re(c,c.return),at(c);break;case 22:c.memoizedState===null&&at(c);break;case 30:at(c);break;default:at(c)}l=l.sibling}}function Tt(l,c,g){for(g=g&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var E=c.alternate,x=l,N=c,Ie=N.flags;switch(N.tag){case 0:case 11:case 15:Tt(x,N,g),C(4,N);break;case 1:if(Tt(x,N,g),E=N,x=E.stateNode,typeof x.componentDidMount=="function")try{x.componentDidMount()}catch(Ot){Wr(E,E.return,Ot)}if(E=N,x=E.updateQueue,x!==null){var Be=E.stateNode;try{var nt=x.shared.hiddenCallbacks;if(nt!==null)for(x.shared.hiddenCallbacks=null,x=0;x<nt.length;x++)hc(nt[x],Be)}catch(Ot){Wr(E,E.return,Ot)}}g&&Ie&64&&U(N),J(N,N.return);break;case 27:Y(N);case 26:case 5:Tt(x,N,g),g&&E===null&&Ie&4&&ae(N),J(N,N.return);break;case 12:Tt(x,N,g);break;case 13:Tt(x,N,g),g&&Ie&4&&de(x,N);break;case 22:N.memoizedState===null&&Tt(x,N,g),J(N,N.return);break;case 30:break;default:Tt(x,N,g)}c=c.sibling}}function zt(l,c){var g=null;l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(g=l.memoizedState.cachePool.pool),l=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(l=c.memoizedState.cachePool.pool),l!==g&&(l!=null&&l.refCount++,g!=null&&Jl(g))}function Yt(l,c){l=null,c.alternate!==null&&(l=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==l&&(c.refCount++,l!=null&&Jl(l))}function pn(l,c,g,E){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)Ut(l,c,g,E),c=c.sibling}function Ut(l,c,g,E){var x=c.flags;switch(c.tag){case 0:case 11:case 15:pn(l,c,g,E),x&2048&&C(9,c);break;case 1:pn(l,c,g,E);break;case 3:pn(l,c,g,E),x&2048&&(l=null,c.alternate!==null&&(l=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==l&&(c.refCount++,l!=null&&Jl(l)));break;case 12:if(x&2048){pn(l,c,g,E),l=c.stateNode;try{var N=c.memoizedProps,Ie=N.id,Be=N.onPostCommit;typeof Be=="function"&&Be(Ie,c.alternate===null?"mount":"update",l.passiveEffectDuration,-0)}catch(nt){Wr(c,c.return,nt)}}else pn(l,c,g,E);break;case 13:pn(l,c,g,E);break;case 23:break;case 22:N=c.stateNode,Ie=c.alternate,c.memoizedState!==null?N._visibility&2?pn(l,c,g,E):An(l,c):N._visibility&2?pn(l,c,g,E):(N._visibility|=2,dn(l,c,g,E,(c.subtreeFlags&10256)!==0)),x&2048&&zt(Ie,c);break;case 24:pn(l,c,g,E),x&2048&&Yt(c.alternate,c);break;default:pn(l,c,g,E)}}function dn(l,c,g,E,x){for(x=x&&(c.subtreeFlags&10256)!==0,c=c.child;c!==null;){var N=l,Ie=c,Be=g,nt=E,Ot=Ie.flags;switch(Ie.tag){case 0:case 11:case 15:dn(N,Ie,Be,nt,x),C(8,Ie);break;case 23:break;case 22:var un=Ie.stateNode;Ie.memoizedState!==null?un._visibility&2?dn(N,Ie,Be,nt,x):An(N,Ie):(un._visibility|=2,dn(N,Ie,Be,nt,x)),x&&Ot&2048&&zt(Ie.alternate,Ie);break;case 24:dn(N,Ie,Be,nt,x),x&&Ot&2048&&Yt(Ie.alternate,Ie);break;default:dn(N,Ie,Be,nt,x)}c=c.sibling}}function An(l,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var g=l,E=c,x=E.flags;switch(E.tag){case 22:An(g,E),x&2048&&zt(E.alternate,E);break;case 24:An(g,E),x&2048&&Yt(E.alternate,E);break;default:An(g,E)}c=c.sibling}}var Gn=8192;function Yn(l){if(l.subtreeFlags&Gn)for(l=l.child;l!==null;)Bn(l),l=l.sibling}function Bn(l){switch(l.tag){case 26:Yn(l),l.flags&Gn&&l.memoizedState!==null&&hx(Ae,l.memoizedState,l.memoizedProps);break;case 5:Yn(l);break;case 3:case 4:var c=Ae;Ae=um(l.stateNode.containerInfo),Yn(l),Ae=c;break;case 22:l.memoizedState===null&&(c=l.alternate,c!==null&&c.memoizedState!==null?(c=Gn,Gn=16777216,Yn(l),Gn=c):Yn(l));break;default:Yn(l)}}function Nn(l){var c=l.alternate;if(c!==null&&(l=c.child,l!==null)){c.child=null;do c=l.sibling,l.sibling=null,l=c;while(l!==null)}}function it(l){var c=l.deletions;if((l.flags&16)!==0){if(c!==null)for(var g=0;g<c.length;g++){var E=c[g];we=E,Vt(E,l)}Nn(l)}if(l.subtreeFlags&10256)for(l=l.child;l!==null;)Bt(l),l=l.sibling}function Bt(l){switch(l.tag){case 0:case 11:case 15:it(l),l.flags&2048&&P(9,l,l.return);break;case 3:it(l);break;case 12:it(l);break;case 22:var c=l.stateNode;l.memoizedState!==null&&c._visibility&2&&(l.return===null||l.return.tag!==13)?(c._visibility&=-3,It(l)):it(l);break;default:it(l)}}function It(l){var c=l.deletions;if((l.flags&16)!==0){if(c!==null)for(var g=0;g<c.length;g++){var E=c[g];we=E,Vt(E,l)}Nn(l)}for(l=l.child;l!==null;){switch(c=l,c.tag){case 0:case 11:case 15:P(8,c,c.return),It(c);break;case 22:g=c.stateNode,g._visibility&2&&(g._visibility&=-3,It(c));break;default:It(c)}l=l.sibling}}function Vt(l,c){for(;we!==null;){var g=we;switch(g.tag){case 0:case 11:case 15:P(8,g,c);break;case 23:case 22:if(g.memoizedState!==null&&g.memoizedState.cachePool!==null){var E=g.memoizedState.cachePool.pool;E!=null&&E.refCount++}break;case 24:Jl(g.memoizedState.cache)}if(E=g.child,E!==null)E.return=g,we=E;else e:for(g=l;we!==null;){E=we;var x=E.sibling,N=E.return;if(Ke(E),E===g){we=null;break e}if(x!==null){x.return=N,we=x;break e}we=N}}}var vn={getCacheForType:function(l){var c=Di(bi),g=c.data.get(l);return g===void 0&&(g=l(),c.data.set(l,g)),g}},At=typeof WeakMap=="function"?WeakMap:Map,Ct=0,wt=null,Pt=null,Ve=0,lt=0,Nt=null,ct=!1,Kt=!1,Zt=!1,ze=0,ut=0,Qt=0,sn=0,$n=0,St=0,hn=0,On=null,kn=null,Xn=!1,Fn=0,yr=1/0,wr=null,Ai=null,jr=0,Li=null,Ca=null,pa=0,aa=0,as=null,ya=null,Yi=0,sa=null;function Ri(){if((Ct&2)!==0&&Ve!==0)return Ve&-Ve;if(_e.T!==null){var l=al;return l!==0?l:hy()}return Un()}function vu(){St===0&&(St=(Ve&536870912)===0||Ir?mn():536870912);var l=ka.current;return l!==null&&(l.flags|=32),St}function Fi(l,c,g){(l===wt&&(lt===2||lt===9)||l.cancelPendingCommit!==null)&&(Ln(l,0),ot(l,Ve,St,!1)),Ft(l,g),((Ct&2)===0||l!==wt)&&(l===wt&&((Ct&2)===0&&(sn|=g),ut===4&&ot(l,Ve,St,!1)),$s(l))}function Wi(l,c,g){if((Ct&6)!==0)throw Error(n(327));var E=!g&&(c&124)===0&&(c&l.expiredLanes)===0||on(l,c),x=E?Hf(l,c):oa(l,c,!0),N=E;do{if(x===0){Kt&&!E&&ot(l,c,0,!1);break}else{if(g=l.current.alternate,N&&!Oo(g)){x=oa(l,c,!1),N=!1;continue}if(x===2){if(N=c,l.errorRecoveryDisabledLanes&N)var Ie=0;else Ie=l.pendingLanes&-536870913,Ie=Ie!==0?Ie:Ie&536870912?536870912:0;if(Ie!==0){c=Ie;e:{var Be=l;x=On;var nt=Be.current.memoizedState.isDehydrated;if(nt&&(Ln(Be,Ie).flags|=256),Ie=oa(Be,Ie,!1),Ie!==2){if(Zt&&!nt){Be.errorRecoveryDisabledLanes|=N,sn|=N,x=4;break e}N=kn,kn=x,N!==null&&(kn===null?kn=N:kn.push.apply(kn,N))}x=Ie}if(N=!1,x!==2)continue}}if(x===1){Ln(l,0),ot(l,c,0,!0);break}e:{switch(E=l,N=x,N){case 0:case 1:throw Error(n(345));case 4:if((c&4194048)!==c)break;case 6:ot(E,c,St,!ct);break e;case 2:kn=null;break;case 3:case 5:break;default:throw Error(n(329))}if((c&62914560)===c&&(x=Fn+300-Ze(),10<x)){if(ot(E,c,St,!ct),Lt(E,0,!0)!==0)break e;E.timeoutHandle=C0(No.bind(null,E,g,kn,wr,Xn,c,St,sn,hn,ct,N,2,-0,0),x);break e}No(E,g,kn,wr,Xn,c,St,sn,hn,ct,N,0,-0,0)}}break}while(!0);$s(l)}function No(l,c,g,E,x,N,Ie,Be,nt,Ot,un,En,qt,$t){if(l.timeoutHandle=-1,En=c.subtreeFlags,(En&8192||(En&16785408)===16785408)&&(Zf={stylesheets:null,count:0,unsuspend:fx},Bn(c),En=gx(),En!==null)){l.cancelPendingCommit=En(u0.bind(null,l,c,N,g,E,x,Ie,Be,nt,un,1,qt,$t)),ot(l,N,Ie,!Ot);return}u0(l,c,N,g,E,x,Ie,Be,nt)}function Oo(l){for(var c=l;;){var g=c.tag;if((g===0||g===11||g===15)&&c.flags&16384&&(g=c.updateQueue,g!==null&&(g=g.stores,g!==null)))for(var E=0;E<g.length;E++){var x=g[E],N=x.getSnapshot;x=x.value;try{if(!ma(N(),x))return!1}catch{return!1}}if(g=c.child,c.subtreeFlags&16384&&g!==null)g.return=c,c=g;else{if(c===l)break;for(;c.sibling===null;){if(c.return===null||c.return===l)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function ot(l,c,g,E){c&=~$n,c&=~sn,l.suspendedLanes|=c,l.pingedLanes&=~c,E&&(l.warmLanes|=c),E=l.expirationTimes;for(var x=c;0<x;){var N=31-Pn(x),Ie=1<<N;E[N]=-1,x&=~Ie}g!==0&&Tn(l,g,c)}function Wt(){return(Ct&6)===0?(Vf(0),!1):!0}function In(){if(Pt!==null){if(lt===0)var l=Pt.return;else l=Pt,Es=Fs=null,vc(l),Co=null,hu=0,l=Pt;for(;l!==null;)G(l.alternate,l),l=l.return;Pt=null}}function Ln(l,c){var g=l.timeoutHandle;g!==-1&&(l.timeoutHandle=-1,WR(g)),g=l.cancelPendingCommit,g!==null&&(l.cancelPendingCommit=null,g()),In(),wt=l,Pt=g=_a(l.current,null),Ve=c,lt=0,Nt=null,ct=!1,Kt=on(l,c),Zt=!1,hn=St=$n=sn=Qt=ut=0,kn=On=null,Xn=!1,(c&8)!==0&&(c|=c&32);var E=l.entangledLanes;if(E!==0)for(l=l.entanglements,E&=c;0<E;){var x=31-Pn(E),N=1<<x;c|=l[x],E&=~N}return ze=c,Ju(),g}function Zn(l,c){hr=null,_e.H=Oc,c===tu||c===cc?(c=sf(),lt=3):c===af?(c=sf(),lt=4):lt=c===Mf?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,Nt=c,Pt===null&&(ut=1,gl(l,ki(c,l.current)))}function tr(){var l=_e.H;return _e.H=Oc,l===null?Oc:l}function Cr(){var l=_e.A;return _e.A=vn,l}function ba(){ut=4,ct||(Ve&4194048)!==Ve&&ka.current!==null||(Kt=!0),(Qt&134217727)===0&&(sn&134217727)===0||wt===null||ot(wt,Ve,St,!1)}function oa(l,c,g){var E=Ct;Ct|=2;var x=tr(),N=Cr();(wt!==l||Ve!==c)&&(wr=null,Ln(l,c)),c=!1;var Ie=ut;e:do try{if(lt!==0&&Pt!==null){var Be=Pt,nt=Nt;switch(lt){case 8:In(),Ie=6;break e;case 3:case 2:case 9:case 6:ka.current===null&&(c=!0);var Ot=lt;if(lt=0,Nt=null,Bc(l,Be,nt,Ot),g&&Kt){Ie=0;break e}break;default:Ot=lt,lt=0,Nt=null,Bc(l,Be,nt,Ot)}}ml(),Ie=ut;break}catch(un){Zn(l,un)}while(!0);return c&&l.shellSuspendCounter++,Es=Fs=null,Ct=E,_e.H=x,_e.A=N,Pt===null&&(wt=null,Ve=0,Ju()),Ie}function ml(){for(;Pt!==null;)s0(Pt)}function Hf(l,c){var g=Ct;Ct|=2;var E=tr(),x=Cr();wt!==l||Ve!==c?(wr=null,yr=Ze()+500,Ln(l,c)):Kt=on(l,c);e:do try{if(lt!==0&&Pt!==null){c=Pt;var N=Nt;t:switch(lt){case 1:lt=0,Nt=null,Bc(l,c,N,1);break;case 2:case 9:if(pg(N)){lt=0,Nt=null,o0(c);break}c=function(){lt!==2&&lt!==9||wt!==l||(lt=7),$s(l)},N.then(c,c);break e;case 3:lt=7;break e;case 4:lt=5;break e;case 7:pg(N)?(lt=0,Nt=null,o0(c)):(lt=0,Nt=null,Bc(l,c,N,7));break;case 5:var Ie=null;switch(Pt.tag){case 26:Ie=Pt.memoizedState;case 5:case 27:var Be=Pt;if(!Ie||q0(Ie)){lt=0,Nt=null;var nt=Be.sibling;if(nt!==null)Pt=nt;else{var Ot=Be.return;Ot!==null?(Pt=Ot,tm(Ot)):Pt=null}break t}}lt=0,Nt=null,Bc(l,c,N,5);break;case 6:lt=0,Nt=null,Bc(l,c,N,6);break;case 8:In(),ut=6;break e;default:throw Error(n(462))}}OR();break}catch(un){Zn(l,un)}while(!0);return Es=Fs=null,_e.H=E,_e.A=x,Ct=g,Pt!==null?0:(wt=null,Ve=0,Ju(),ut)}function OR(){for(;Pt!==null&&!st();)s0(Pt)}function s0(l){var c=_(l.alternate,l,ze);l.memoizedProps=l.pendingProps,c===null?tm(l):Pt=c}function o0(l){var c=l,g=c.alternate;switch(c.tag){case 15:case 0:c=Uf(g,c,c.pendingProps,c.type,void 0,Ve);break;case 11:c=Uf(g,c,c.pendingProps,c.type.render,c.ref,Ve);break;case 5:vc(c);default:G(g,c),c=Pt=Xl(c,ze),c=_(g,c,ze)}l.memoizedProps=l.pendingProps,c===null?tm(l):Pt=c}function Bc(l,c,g,E){Es=Fs=null,vc(c),Co=null,hu=0;var x=c.return;try{if(uy(l,x,c,g,Ve)){ut=1,gl(l,ki(g,l.current)),Pt=null;return}}catch(N){if(x!==null)throw Pt=x,N;ut=1,gl(l,ki(g,l.current)),Pt=null;return}c.flags&32768?(Ir||E===1?l=!0:Kt||(Ve&536870912)!==0?l=!1:(ct=l=!0,(E===2||E===9||E===3||E===6)&&(E=ka.current,E!==null&&E.tag===13&&(E.flags|=16384))),l0(c,l)):tm(c)}function tm(l){var c=l;do{if((c.flags&32768)!==0){l0(c,ct);return}l=c.return;var g=M(c.alternate,c,ze);if(g!==null){Pt=g;return}if(c=c.sibling,c!==null){Pt=c;return}Pt=c=l}while(c!==null);ut===0&&(ut=5)}function l0(l,c){do{var g=q(l.alternate,l);if(g!==null){g.flags&=32767,Pt=g;return}if(g=l.return,g!==null&&(g.flags|=32768,g.subtreeFlags=0,g.deletions=null),!c&&(l=l.sibling,l!==null)){Pt=l;return}Pt=l=g}while(l!==null);ut=6,Pt=null}function u0(l,c,g,E,x,N,Ie,Be,nt){l.cancelPendingCommit=null;do nm();while(jr!==0);if((Ct&6)!==0)throw Error(n(327));if(c!==null){if(c===l.current)throw Error(n(177));if(N=c.lanes|c.childLanes,N|=Zu,en(l,g,N,Ie,Be,nt),l===wt&&(Pt=wt=null,Ve=0),Ca=c,Li=l,pa=g,aa=N,as=x,ya=E,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(l.callbackNode=null,l.callbackPriority=0,FR(yt,function(){return g0(),null})):(l.callbackNode=null,l.callbackPriority=0),E=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||E){E=_e.T,_e.T=null,x=$e.p,$e.p=2,Ie=Ct,Ct|=4;try{Ce(l,c,g)}finally{Ct=Ie,$e.p=x,_e.T=E}}jr=1,c0(),d0(),f0()}}function c0(){if(jr===1){jr=0;var l=Li,c=Ca,g=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||g){g=_e.T,_e.T=null;var E=$e.p;$e.p=2;var x=Ct;Ct|=4;try{Re(c,l);var N=Ty,Ie=Fd(l.containerInfo),Be=N.focusedElem,nt=N.selectionRange;if(Ie!==Be&&Be&&Be.ownerDocument&&Qu(Be.ownerDocument.documentElement,Be)){if(nt!==null&&Zo(Be)){var Ot=nt.start,un=nt.end;if(un===void 0&&(un=Ot),"selectionStart"in Be)Be.selectionStart=Ot,Be.selectionEnd=Math.min(un,Be.value.length);else{var En=Be.ownerDocument||document,qt=En&&En.defaultView||window;if(qt.getSelection){var $t=qt.getSelection(),sr=Be.textContent.length,er=Math.min(nt.start,sr),Hr=nt.end===void 0?er:Math.min(nt.end,sr);!$t.extend&&er>Hr&&(Ie=Hr,Hr=er,er=Ie);var _t=Qo(Be,er),mt=Qo(Be,Hr);if(_t&&mt&&($t.rangeCount!==1||$t.anchorNode!==_t.node||$t.anchorOffset!==_t.offset||$t.focusNode!==mt.node||$t.focusOffset!==mt.offset)){var Dt=En.createRange();Dt.setStart(_t.node,_t.offset),$t.removeAllRanges(),er>Hr?($t.addRange(Dt),$t.extend(mt.node,mt.offset)):(Dt.setEnd(mt.node,mt.offset),$t.addRange(Dt))}}}}for(En=[],$t=Be;$t=$t.parentNode;)$t.nodeType===1&&En.push({element:$t,left:$t.scrollLeft,top:$t.scrollTop});for(typeof Be.focus=="function"&&Be.focus(),Be=0;Be<En.length;Be++){var gn=En[Be];gn.element.scrollLeft=gn.left,gn.element.scrollTop=gn.top}}gm=!!vy,Ty=vy=null}finally{Ct=x,$e.p=E,_e.T=g}}l.current=c,jr=2}}function d0(){if(jr===2){jr=0;var l=Li,c=Ca,g=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||g){g=_e.T,_e.T=null;var E=$e.p;$e.p=2;var x=Ct;Ct|=4;try{Me(l,c.alternate,c)}finally{Ct=x,$e.p=E,_e.T=g}}jr=3}}function f0(){if(jr===4||jr===3){jr=0,Xe();var l=Li,c=Ca,g=pa,E=ya;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?jr=5:(jr=0,Ca=Li=null,h0(l,l.pendingLanes));var x=l.pendingLanes;if(x===0&&(Ai=null),Wn(g),c=c.stateNode,nn&&typeof nn.onCommitFiberRoot=="function")try{nn.onCommitFiberRoot(dt,c,void 0,(c.current.flags&128)===128)}catch{}if(E!==null){c=_e.T,x=$e.p,$e.p=2,_e.T=null;try{for(var N=l.onRecoverableError,Ie=0;Ie<E.length;Ie++){var Be=E[Ie];N(Be.value,{componentStack:Be.stack})}}finally{_e.T=c,$e.p=x}}(pa&3)!==0&&nm(),$s(l),x=l.pendingLanes,(g&4194090)!==0&&(x&42)!==0?l===sa?Yi++:(Yi=0,sa=l):Yi=0,Vf(0)}}function h0(l,c){(l.pooledCacheLanes&=c)===0&&(c=l.pooledCache,c!=null&&(l.pooledCache=null,Jl(c)))}function nm(l){return c0(),d0(),f0(),g0()}function g0(){if(jr!==5)return!1;var l=Li,c=aa;aa=0;var g=Wn(pa),E=_e.T,x=$e.p;try{$e.p=32>g?32:g,_e.T=null,g=as,as=null;var N=Li,Ie=pa;if(jr=0,Ca=Li=null,pa=0,(Ct&6)!==0)throw Error(n(331));var Be=Ct;if(Ct|=4,Bt(N.current),Ut(N,N.current,Ie,g),Ct=Be,Vf(0,!1),nn&&typeof nn.onPostCommitFiberRoot=="function")try{nn.onPostCommitFiberRoot(dt,N)}catch{}return!0}finally{$e.p=x,_e.T=E,h0(l,c)}}function m0(l,c,g){c=ki(g,c),c=Fc(l.stateNode,c,2),l=Bs(l,c,2),l!==null&&(Ft(l,2),$s(l))}function Wr(l,c,g){if(l.tag===3)m0(l,l,g);else for(;c!==null;){if(c.tag===3){m0(c,l,g);break}else if(c.tag===1){var E=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof E.componentDidCatch=="function"&&(Ai===null||!Ai.has(E))){l=ki(g,l),g=Yg(2),E=Bs(c,g,2),E!==null&&(Of(g,E,c,l),Ft(E,2),$s(E));break}}c=c.return}}function cy(l,c,g){var E=l.pingCache;if(E===null){E=l.pingCache=new At;var x=new Set;E.set(c,x)}else x=E.get(c),x===void 0&&(x=new Set,E.set(c,x));x.has(g)||(Zt=!0,x.add(g),l=MR.bind(null,l,c,g),c.then(l,l))}function MR(l,c,g){var E=l.pingCache;E!==null&&E.delete(c),l.pingedLanes|=l.suspendedLanes&g,l.warmLanes&=~g,wt===l&&(Ve&g)===g&&(ut===4||ut===3&&(Ve&62914560)===Ve&&300>Ze()-Fn?(Ct&2)===0&&Ln(l,0):$n|=g,hn===Ve&&(hn=0)),$s(l)}function p0(l,c){c===0&&(c=_n()),l=Ms(l,c),l!==null&&(Ft(l,c),$s(l))}function PR(l){var c=l.memoizedState,g=0;c!==null&&(g=c.retryLane),p0(l,g)}function zR(l,c){var g=0;switch(l.tag){case 13:var E=l.stateNode,x=l.memoizedState;x!==null&&(g=x.retryLane);break;case 19:E=l.stateNode;break;case 22:E=l.stateNode._retryCache;break;default:throw Error(n(314))}E!==null&&E.delete(c),p0(l,g)}function FR(l,c){return ie(l,c)}var rm=null,jc=null,dy=!1,im=!1,fy=!1,Tu=0;function $s(l){l!==jc&&l.next===null&&(jc===null?rm=jc=l:jc=jc.next=l),im=!0,dy||(dy=!0,BR())}function Vf(l,c){if(!fy&&im){fy=!0;do for(var g=!1,E=rm;E!==null;){if(l!==0){var x=E.pendingLanes;if(x===0)var N=0;else{var Ie=E.suspendedLanes,Be=E.pingedLanes;N=(1<<31-Pn(42|l)+1)-1,N&=x&~(Ie&~Be),N=N&201326741?N&201326741|1:N?N|2:0}N!==0&&(g=!0,v0(E,N))}else N=Ve,N=Lt(E,E===wt?N:0,E.cancelPendingCommit!==null||E.timeoutHandle!==-1),(N&3)===0||on(E,N)||(g=!0,v0(E,N));E=E.next}while(g);fy=!1}}function UR(){y0()}function y0(){im=dy=!1;var l=0;Tu!==0&&(YR()&&(l=Tu),Tu=0);for(var c=Ze(),g=null,E=rm;E!==null;){var x=E.next,N=b0(E,c);N===0?(E.next=null,g===null?rm=x:g.next=x,x===null&&(jc=g)):(g=E,(l!==0||(N&3)!==0)&&(im=!0)),E=x}Vf(l)}function b0(l,c){for(var g=l.suspendedLanes,E=l.pingedLanes,x=l.expirationTimes,N=l.pendingLanes&-62914561;0<N;){var Ie=31-Pn(N),Be=1<<Ie,nt=x[Ie];nt===-1?((Be&g)===0||(Be&E)!==0)&&(x[Ie]=fn(Be,c)):nt<=c&&(l.expiredLanes|=Be),N&=~Be}if(c=wt,g=Ve,g=Lt(l,l===c?g:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),E=l.callbackNode,g===0||l===c&&(lt===2||lt===9)||l.cancelPendingCommit!==null)return E!==null&&E!==null&&He(E),l.callbackNode=null,l.callbackPriority=0;if((g&3)===0||on(l,g)){if(c=g&-g,c===l.callbackPriority)return c;switch(E!==null&&He(E),Wn(g)){case 2:case 8:g=vt;break;case 32:g=yt;break;case 268435456:g=Sn;break;default:g=yt}return E=E0.bind(null,l),g=ie(g,E),l.callbackPriority=c,l.callbackNode=g,c}return E!==null&&E!==null&&He(E),l.callbackPriority=2,l.callbackNode=null,2}function E0(l,c){if(jr!==0&&jr!==5)return l.callbackNode=null,l.callbackPriority=0,null;var g=l.callbackNode;if(nm()&&l.callbackNode!==g)return null;var E=Ve;return E=Lt(l,l===wt?E:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),E===0?null:(Wi(l,E,c),b0(l,Ze()),l.callbackNode!=null&&l.callbackNode===g?E0.bind(null,l):null)}function v0(l,c){if(nm())return null;Wi(l,c,!0)}function BR(){XR(function(){(Ct&6)!==0?ie(rt,UR):y0()})}function hy(){return Tu===0&&(Tu=mn()),Tu}function T0(l){return l==null||typeof l=="symbol"||typeof l=="boolean"?null:typeof l=="function"?l:ho(""+l)}function S0(l,c){var g=c.ownerDocument.createElement("input");return g.name=c.name,g.value=c.value,l.id&&g.setAttribute("form",l.id),c.parentNode.insertBefore(g,c),l=new FormData(l),g.parentNode.removeChild(g),l}function jR(l,c,g,E,x){if(c==="submit"&&g&&g.stateNode===x){var N=T0((x[Rt]||null).action),Ie=E.submitter;Ie&&(c=(c=Ie[Rt]||null)?T0(c.formAction):Ie.getAttribute("formAction"),c!==null&&(N=c,Ie=null));var Be=new qu("action","action",null,E,x);l.push({event:Be,listeners:[{instance:null,listener:function(){if(E.defaultPrevented){if(Tu!==0){var nt=Ie?S0(x,Ie):new FormData(x);Rf(g,{pending:!0,data:nt,method:x.method,action:N},null,nt)}}else typeof N=="function"&&(Be.preventDefault(),nt=Ie?S0(x,Ie):new FormData(x),Rf(g,{pending:!0,data:nt,method:x.method,action:N},N,nt))},currentTarget:x}]})}}for(var gy=0;gy<$d.length;gy++){var my=$d[gy],qR=my.toLowerCase(),GR=my[0].toUpperCase()+my.slice(1);wi(qR,"on"+GR)}wi(qd,"onAnimationEnd"),wi(ug,"onAnimationIteration"),wi(Wl,"onAnimationStart"),wi("dblclick","onDoubleClick"),wi("focusin","onFocus"),wi("focusout","onBlur"),wi(cg,"onTransitionRun"),wi(ry,"onTransitionStart"),wi(iy,"onTransitionCancel"),wi(dg,"onTransitionEnd"),si("onMouseEnter",["mouseout","mouseover"]),si("onMouseLeave",["mouseout","mouseover"]),si("onPointerEnter",["pointerout","pointerover"]),si("onPointerLeave",["pointerout","pointerover"]),da("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),da("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),da("onBeforeInput",["compositionend","keypress","textInput","paste"]),da("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),da("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),da("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$R=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Kf));function _0(l,c){c=(c&4)!==0;for(var g=0;g<l.length;g++){var E=l[g],x=E.event;E=E.listeners;e:{var N=void 0;if(c)for(var Ie=E.length-1;0<=Ie;Ie--){var Be=E[Ie],nt=Be.instance,Ot=Be.currentTarget;if(Be=Be.listener,nt!==N&&x.isPropagationStopped())break e;N=Be,x.currentTarget=Ot;try{N(x)}catch(un){zc(un)}x.currentTarget=null,N=nt}else for(Ie=0;Ie<E.length;Ie++){if(Be=E[Ie],nt=Be.instance,Ot=Be.currentTarget,Be=Be.listener,nt!==N&&x.isPropagationStopped())break e;N=Be,x.currentTarget=Ot;try{N(x)}catch(un){zc(un)}x.currentTarget=null,N=nt}}}}function _r(l,c){var g=c[yn];g===void 0&&(g=c[yn]=new Set);var E=l+"__bubble";g.has(E)||(A0(c,l,2,!1),g.add(E))}function py(l,c,g){var E=0;c&&(E|=4),A0(g,l,E,c)}var am="_reactListening"+Math.random().toString(36).slice(2);function yy(l){if(!l[am]){l[am]=!0,Wa.forEach(function(g){g!=="selectionchange"&&($R.has(g)||py(g,!1,l),py(g,!0,l))});var c=l.nodeType===9?l:l.ownerDocument;c===null||c[am]||(c[am]=!0,py("selectionchange",!1,c))}}function A0(l,c,g,E){switch(Y0(c)){case 2:var x=yx;break;case 8:x=bx;break;default:x=Dy}g=x.bind(null,c,g,l),x=void 0,!jl||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(x=!0),E?x!==void 0?l.addEventListener(c,g,{capture:!0,passive:x}):l.addEventListener(c,g,!0):x!==void 0?l.addEventListener(c,g,{passive:x}):l.addEventListener(c,g,!1)}function by(l,c,g,E,x){var N=E;if((c&1)===0&&(c&2)===0&&E!==null)e:for(;;){if(E===null)return;var Ie=E.tag;if(Ie===3||Ie===4){var Be=E.stateNode.containerInfo;if(Be===x)break;if(Ie===4)for(Ie=E.return;Ie!==null;){var nt=Ie.tag;if((nt===3||nt===4)&&Ie.stateNode.containerInfo===x)return;Ie=Ie.return}for(;Be!==null;){if(Ie=Sr(Be),Ie===null)return;if(nt=Ie.tag,nt===5||nt===6||nt===26||nt===27){E=N=Ie;continue e}Be=Be.parentNode}}E=E.return}Vo(function(){var Ot=N,un=na(g),En=[];e:{var qt=Gd.get(l);if(qt!==void 0){var $t=qu,sr=l;switch(l){case"keypress":if(mo(g)===0)break e;case"keydown":case"keyup":$t=Id;break;case"focusin":sr="focus",$t=Za;break;case"focusout":sr="blur",$t=Za;break;case"beforeblur":case"afterblur":$t=Za;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$t=Bh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$t=Fa;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$t=Kh;break;case qd:case ug:case Wl:$t=Qp;break;case dg:$t=kd;break;case"scroll":case"scrollend":$t=Gu;break;case"wheel":$t=Xh;break;case"copy":case"cut":case"paste":$t=qh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$t=wd;break;case"toggle":case"beforetoggle":$t=Jp}var er=(c&4)!==0,Hr=!er&&(l==="scroll"||l==="scrollend"),_t=er?qt!==null?qt+"Capture":null:qt;er=[];for(var mt=Ot,Dt;mt!==null;){var gn=mt;if(Dt=gn.stateNode,gn=gn.tag,gn!==5&&gn!==26&&gn!==27||Dt===null||_t===null||(gn=qi(mt,_t),gn!=null&&er.push(Yf(mt,gn,Dt))),Hr)break;mt=mt.return}0<er.length&&(qt=new $t(qt,sr,null,g,un),En.push({event:qt,listeners:er}))}}if((c&7)===0){e:{if(qt=l==="mouseover"||l==="pointerover",$t=l==="mouseout"||l==="pointerout",qt&&g!==kr&&(sr=g.relatedTarget||g.fromElement)&&(Sr(sr)||sr[gt]))break e;if(($t||qt)&&(qt=un.window===un?un:(qt=un.ownerDocument)?qt.defaultView||qt.parentWindow:window,$t?(sr=g.relatedTarget||g.toElement,$t=Ot,sr=sr?Sr(sr):null,sr!==null&&(Hr=o(sr),er=sr.tag,sr!==Hr||er!==5&&er!==27&&er!==6)&&(sr=null)):($t=null,sr=Ot),$t!==sr)){if(er=Bh,gn="onMouseLeave",_t="onMouseEnter",mt="mouse",(l==="pointerout"||l==="pointerover")&&(er=wd,gn="onPointerLeave",_t="onPointerEnter",mt="pointer"),Hr=$t==null?qt:De($t),Dt=sr==null?qt:De(sr),qt=new er(gn,mt+"leave",$t,g,un),qt.target=Hr,qt.relatedTarget=Dt,gn=null,Sr(un)===Ot&&(er=new er(_t,mt+"enter",sr,g,un),er.target=Dt,er.relatedTarget=Hr,gn=er),Hr=gn,$t&&sr)t:{for(er=$t,_t=sr,mt=0,Dt=er;Dt;Dt=qc(Dt))mt++;for(Dt=0,gn=_t;gn;gn=qc(gn))Dt++;for(;0<mt-Dt;)er=qc(er),mt--;for(;0<Dt-mt;)_t=qc(_t),Dt--;for(;mt--;){if(er===_t||_t!==null&&er===_t.alternate)break t;er=qc(er),_t=qc(_t)}er=null}else er=null;$t!==null&&R0(En,qt,$t,er,!1),sr!==null&&Hr!==null&&R0(En,Hr,sr,er,!0)}}e:{if(qt=Ot?De(Ot):window,$t=qt.nodeName&&qt.nodeName.toLowerCase(),$t==="select"||$t==="input"&&qt.type==="file")var Vn=yo;else if(Yu(qt))if(ng)Vn=ny;else{Vn=ty;var vr=ig}else $t=qt.nodeName,!$t||$t.toLowerCase()!=="input"||qt.type!=="checkbox"&&qt.type!=="radio"?Ot&&Ho(Ot.elementType)&&(Vn=yo):Vn=ag;if(Vn&&(Vn=Vn(l,Ot))){Od(En,Vn,g,un);break e}vr&&vr(l,qt,Ot),l==="focusout"&&Ot&&qt.type==="number"&&Ot.memoizedProps.value!=null&&Pa(qt,"number",qt.value)}switch(vr=Ot?De(Ot):window,l){case"focusin":(Yu(vr)||vr.contentEditable==="true")&&(bo=vr,Ud=Ot,Jo=null);break;case"focusout":Jo=Ud=bo=null;break;case"mousedown":Bd=!0;break;case"contextmenu":case"mouseup":case"dragend":Bd=!1,lg(En,g,un);break;case"selectionchange":if(og)break;case"keydown":case"keyup":lg(En,g,un)}var Jn;if(Hl)e:{switch(l){case"compositionstart":var nr="onCompositionStart";break e;case"compositionend":nr="onCompositionEnd";break e;case"compositionupdate":nr="onCompositionUpdate";break e}nr=void 0}else po?Zh(l,g)&&(nr="onCompositionEnd"):l==="keydown"&&g.keyCode===229&&(nr="onCompositionStart");nr&&(Cd&&g.locale!=="ko"&&(po||nr!=="onCompositionStart"?nr==="onCompositionEnd"&&po&&(Jn=Bu()):(ms=un,Uu="value"in ms?ms.value:ms.textContent,po=!0)),vr=sm(Ot,nr),0<vr.length&&(nr=new xd(nr,l,null,g,un),En.push({event:nr,listeners:vr}),Jn?nr.data=Jn:(Jn=Ld(g),Jn!==null&&(nr.data=Jn)))),(Jn=Qh?Jh(l,g):eg(l,g))&&(nr=sm(Ot,"onBeforeInput"),0<nr.length&&(vr=new xd("onBeforeInput","beforeinput",null,g,un),En.push({event:vr,listeners:nr}),vr.data=Jn)),jR(En,l,Ot,g,un)}_0(En,c)})}function Yf(l,c,g){return{instance:l,listener:c,currentTarget:g}}function sm(l,c){for(var g=c+"Capture",E=[];l!==null;){var x=l,N=x.stateNode;if(x=x.tag,x!==5&&x!==26&&x!==27||N===null||(x=qi(l,g),x!=null&&E.unshift(Yf(l,x,N)),x=qi(l,c),x!=null&&E.push(Yf(l,x,N))),l.tag===3)return E;l=l.return}return[]}function qc(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5&&l.tag!==27);return l||null}function R0(l,c,g,E,x){for(var N=c._reactName,Ie=[];g!==null&&g!==E;){var Be=g,nt=Be.alternate,Ot=Be.stateNode;if(Be=Be.tag,nt!==null&&nt===E)break;Be!==5&&Be!==26&&Be!==27||Ot===null||(nt=Ot,x?(Ot=qi(g,N),Ot!=null&&Ie.unshift(Yf(g,Ot,nt))):x||(Ot=qi(g,N),Ot!=null&&Ie.push(Yf(g,Ot,nt)))),g=g.return}Ie.length!==0&&l.push({event:c,listeners:Ie})}var HR=/\r\n?/g,VR=/\u0000|\uFFFD/g;function x0(l){return(typeof l=="string"?l:""+l).replace(HR,`
`).replace(VR,"")}function I0(l,c){return c=x0(c),x0(l)===c}function om(){}function $r(l,c,g,E,x,N){switch(g){case"children":typeof E=="string"?c==="body"||c==="textarea"&&E===""||Qa(l,E):(typeof E=="number"||typeof E=="bigint")&&c!=="body"&&Qa(l,""+E);break;case"className":Ma(l,"class",E);break;case"tabIndex":Ma(l,"tabindex",E);break;case"dir":case"role":case"viewBox":case"width":case"height":Ma(l,g,E);break;case"style":Fl(l,E,N);break;case"data":if(c!=="object"){Ma(l,"data",E);break}case"src":case"href":if(E===""&&(c!=="a"||g!=="href")){l.removeAttribute(g);break}if(E==null||typeof E=="function"||typeof E=="symbol"||typeof E=="boolean"){l.removeAttribute(g);break}E=ho(""+E),l.setAttribute(g,E);break;case"action":case"formAction":if(typeof E=="function"){l.setAttribute(g,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof N=="function"&&(g==="formAction"?(c!=="input"&&$r(l,c,"name",x.name,x,null),$r(l,c,"formEncType",x.formEncType,x,null),$r(l,c,"formMethod",x.formMethod,x,null),$r(l,c,"formTarget",x.formTarget,x,null)):($r(l,c,"encType",x.encType,x,null),$r(l,c,"method",x.method,x,null),$r(l,c,"target",x.target,x,null)));if(E==null||typeof E=="symbol"||typeof E=="boolean"){l.removeAttribute(g);break}E=ho(""+E),l.setAttribute(g,E);break;case"onClick":E!=null&&(l.onclick=om);break;case"onScroll":E!=null&&_r("scroll",l);break;case"onScrollEnd":E!=null&&_r("scrollend",l);break;case"dangerouslySetInnerHTML":if(E!=null){if(typeof E!="object"||!("__html"in E))throw Error(n(61));if(g=E.__html,g!=null){if(x.children!=null)throw Error(n(60));l.innerHTML=g}}break;case"multiple":l.multiple=E&&typeof E!="function"&&typeof E!="symbol";break;case"muted":l.muted=E&&typeof E!="function"&&typeof E!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(E==null||typeof E=="function"||typeof E=="boolean"||typeof E=="symbol"){l.removeAttribute("xlink:href");break}g=ho(""+E),l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",g);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":E!=null&&typeof E!="function"&&typeof E!="symbol"?l.setAttribute(g,""+E):l.removeAttribute(g);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":E&&typeof E!="function"&&typeof E!="symbol"?l.setAttribute(g,""):l.removeAttribute(g);break;case"capture":case"download":E===!0?l.setAttribute(g,""):E!==!1&&E!=null&&typeof E!="function"&&typeof E!="symbol"?l.setAttribute(g,E):l.removeAttribute(g);break;case"cols":case"rows":case"size":case"span":E!=null&&typeof E!="function"&&typeof E!="symbol"&&!isNaN(E)&&1<=E?l.setAttribute(g,E):l.removeAttribute(g);break;case"rowSpan":case"start":E==null||typeof E=="function"||typeof E=="symbol"||isNaN(E)?l.removeAttribute(g):l.setAttribute(g,E);break;case"popover":_r("beforetoggle",l),_r("toggle",l),Cs(l,"popover",E);break;case"xlinkActuate":Ta(l,"http://www.w3.org/1999/xlink","xlink:actuate",E);break;case"xlinkArcrole":Ta(l,"http://www.w3.org/1999/xlink","xlink:arcrole",E);break;case"xlinkRole":Ta(l,"http://www.w3.org/1999/xlink","xlink:role",E);break;case"xlinkShow":Ta(l,"http://www.w3.org/1999/xlink","xlink:show",E);break;case"xlinkTitle":Ta(l,"http://www.w3.org/1999/xlink","xlink:title",E);break;case"xlinkType":Ta(l,"http://www.w3.org/1999/xlink","xlink:type",E);break;case"xmlBase":Ta(l,"http://www.w3.org/XML/1998/namespace","xml:base",E);break;case"xmlLang":Ta(l,"http://www.w3.org/XML/1998/namespace","xml:lang",E);break;case"xmlSpace":Ta(l,"http://www.w3.org/XML/1998/namespace","xml:space",E);break;case"is":Cs(l,"is",E);break;case"innerText":case"textContent":break;default:(!(2<g.length)||g[0]!=="o"&&g[0]!=="O"||g[1]!=="n"&&g[1]!=="N")&&(g=Fu.get(g)||g,Cs(l,g,E))}}function Ey(l,c,g,E,x,N){switch(g){case"style":Fl(l,E,N);break;case"dangerouslySetInnerHTML":if(E!=null){if(typeof E!="object"||!("__html"in E))throw Error(n(61));if(g=E.__html,g!=null){if(x.children!=null)throw Error(n(60));l.innerHTML=g}}break;case"children":typeof E=="string"?Qa(l,E):(typeof E=="number"||typeof E=="bigint")&&Qa(l,""+E);break;case"onScroll":E!=null&&_r("scroll",l);break;case"onScrollEnd":E!=null&&_r("scrollend",l);break;case"onClick":E!=null&&(l.onclick=om);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ii.hasOwnProperty(g))e:{if(g[0]==="o"&&g[1]==="n"&&(x=g.endsWith("Capture"),c=g.slice(2,x?g.length-7:void 0),N=l[Rt]||null,N=N!=null?N[g]:null,typeof N=="function"&&l.removeEventListener(c,N,x),typeof E=="function")){typeof N!="function"&&N!==null&&(g in l?l[g]=null:l.hasAttribute(g)&&l.removeAttribute(g)),l.addEventListener(c,E,x);break e}g in l?l[g]=E:E===!0?l.setAttribute(g,""):Cs(l,g,E)}}}function Xi(l,c,g){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":_r("error",l),_r("load",l);var E=!1,x=!1,N;for(N in g)if(g.hasOwnProperty(N)){var Ie=g[N];if(Ie!=null)switch(N){case"src":E=!0;break;case"srcSet":x=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,c));default:$r(l,c,N,Ie,g,null)}}x&&$r(l,c,"srcSet",g.srcSet,g,null),E&&$r(l,c,"src",g.src,g,null);return;case"input":_r("invalid",l);var Be=N=Ie=x=null,nt=null,Ot=null;for(E in g)if(g.hasOwnProperty(E)){var un=g[E];if(un!=null)switch(E){case"name":x=un;break;case"type":Ie=un;break;case"checked":nt=un;break;case"defaultChecked":Ot=un;break;case"value":N=un;break;case"defaultValue":Be=un;break;case"children":case"dangerouslySetInnerHTML":if(un!=null)throw Error(n(137,c));break;default:$r(l,c,E,un,g,null)}}pi(l,N,Be,nt,Ot,Ie,x,!1),Ar(l);return;case"select":_r("invalid",l),E=Ie=N=null;for(x in g)if(g.hasOwnProperty(x)&&(Be=g[x],Be!=null))switch(x){case"value":N=Be;break;case"defaultValue":Ie=Be;break;case"multiple":E=Be;default:$r(l,c,x,Be,g,null)}c=N,g=Ie,l.multiple=!!E,c!=null?Xa(l,!!E,c,!1):g!=null&&Xa(l,!!E,g,!0);return;case"textarea":_r("invalid",l),N=x=E=null;for(Ie in g)if(g.hasOwnProperty(Ie)&&(Be=g[Ie],Be!=null))switch(Ie){case"value":E=Be;break;case"defaultValue":x=Be;break;case"children":N=Be;break;case"dangerouslySetInnerHTML":if(Be!=null)throw Error(n(91));break;default:$r(l,c,Ie,Be,g,null)}Pl(l,E,x,N),Ar(l);return;case"option":for(nt in g)if(g.hasOwnProperty(nt)&&(E=g[nt],E!=null))switch(nt){case"selected":l.selected=E&&typeof E!="function"&&typeof E!="symbol";break;default:$r(l,c,nt,E,g,null)}return;case"dialog":_r("beforetoggle",l),_r("toggle",l),_r("cancel",l),_r("close",l);break;case"iframe":case"object":_r("load",l);break;case"video":case"audio":for(E=0;E<Kf.length;E++)_r(Kf[E],l);break;case"image":_r("error",l),_r("load",l);break;case"details":_r("toggle",l);break;case"embed":case"source":case"link":_r("error",l),_r("load",l);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ot in g)if(g.hasOwnProperty(Ot)&&(E=g[Ot],E!=null))switch(Ot){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,c));default:$r(l,c,Ot,E,g,null)}return;default:if(Ho(c)){for(un in g)g.hasOwnProperty(un)&&(E=g[un],E!==void 0&&Ey(l,c,un,E,g,void 0));return}}for(Be in g)g.hasOwnProperty(Be)&&(E=g[Be],E!=null&&$r(l,c,Be,E,g,null))}function KR(l,c,g,E){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var x=null,N=null,Ie=null,Be=null,nt=null,Ot=null,un=null;for($t in g){var En=g[$t];if(g.hasOwnProperty($t)&&En!=null)switch($t){case"checked":break;case"value":break;case"defaultValue":nt=En;default:E.hasOwnProperty($t)||$r(l,c,$t,null,E,En)}}for(var qt in E){var $t=E[qt];if(En=g[qt],E.hasOwnProperty(qt)&&($t!=null||En!=null))switch(qt){case"type":N=$t;break;case"name":x=$t;break;case"checked":Ot=$t;break;case"defaultChecked":un=$t;break;case"value":Ie=$t;break;case"defaultValue":Be=$t;break;case"children":case"dangerouslySetInnerHTML":if($t!=null)throw Error(n(137,c));break;default:$t!==En&&$r(l,c,qt,$t,E,En)}}Go(l,Ie,Be,nt,Ot,un,N,x);return;case"select":$t=Ie=Be=qt=null;for(N in g)if(nt=g[N],g.hasOwnProperty(N)&&nt!=null)switch(N){case"value":break;case"multiple":$t=nt;default:E.hasOwnProperty(N)||$r(l,c,N,null,E,nt)}for(x in E)if(N=E[x],nt=g[x],E.hasOwnProperty(x)&&(N!=null||nt!=null))switch(x){case"value":qt=N;break;case"defaultValue":Be=N;break;case"multiple":Ie=N;default:N!==nt&&$r(l,c,x,N,E,nt)}c=Be,g=Ie,E=$t,qt!=null?Xa(l,!!g,qt,!1):!!E!=!!g&&(c!=null?Xa(l,!!g,c,!0):Xa(l,!!g,g?[]:"",!1));return;case"textarea":$t=qt=null;for(Be in g)if(x=g[Be],g.hasOwnProperty(Be)&&x!=null&&!E.hasOwnProperty(Be))switch(Be){case"value":break;case"children":break;default:$r(l,c,Be,null,E,x)}for(Ie in E)if(x=E[Ie],N=g[Ie],E.hasOwnProperty(Ie)&&(x!=null||N!=null))switch(Ie){case"value":qt=x;break;case"defaultValue":$t=x;break;case"children":break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(n(91));break;default:x!==N&&$r(l,c,Ie,x,E,N)}ha(l,qt,$t);return;case"option":for(var sr in g)if(qt=g[sr],g.hasOwnProperty(sr)&&qt!=null&&!E.hasOwnProperty(sr))switch(sr){case"selected":l.selected=!1;break;default:$r(l,c,sr,null,E,qt)}for(nt in E)if(qt=E[nt],$t=g[nt],E.hasOwnProperty(nt)&&qt!==$t&&(qt!=null||$t!=null))switch(nt){case"selected":l.selected=qt&&typeof qt!="function"&&typeof qt!="symbol";break;default:$r(l,c,nt,qt,E,$t)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var er in g)qt=g[er],g.hasOwnProperty(er)&&qt!=null&&!E.hasOwnProperty(er)&&$r(l,c,er,null,E,qt);for(Ot in E)if(qt=E[Ot],$t=g[Ot],E.hasOwnProperty(Ot)&&qt!==$t&&(qt!=null||$t!=null))switch(Ot){case"children":case"dangerouslySetInnerHTML":if(qt!=null)throw Error(n(137,c));break;default:$r(l,c,Ot,qt,E,$t)}return;default:if(Ho(c)){for(var Hr in g)qt=g[Hr],g.hasOwnProperty(Hr)&&qt!==void 0&&!E.hasOwnProperty(Hr)&&Ey(l,c,Hr,void 0,E,qt);for(un in E)qt=E[un],$t=g[un],!E.hasOwnProperty(un)||qt===$t||qt===void 0&&$t===void 0||Ey(l,c,un,qt,E,$t);return}}for(var _t in g)qt=g[_t],g.hasOwnProperty(_t)&&qt!=null&&!E.hasOwnProperty(_t)&&$r(l,c,_t,null,E,qt);for(En in E)qt=E[En],$t=g[En],!E.hasOwnProperty(En)||qt===$t||qt==null&&$t==null||$r(l,c,En,qt,E,$t)}var vy=null,Ty=null;function lm(l){return l.nodeType===9?l:l.ownerDocument}function w0(l){switch(l){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function k0(l,c){if(l===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return l===1&&c==="foreignObject"?0:l}function Sy(l,c){return l==="textarea"||l==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var _y=null;function YR(){var l=window.event;return l&&l.type==="popstate"?l===_y?!1:(_y=l,!0):(_y=null,!1)}var C0=typeof setTimeout=="function"?setTimeout:void 0,WR=typeof clearTimeout=="function"?clearTimeout:void 0,D0=typeof Promise=="function"?Promise:void 0,XR=typeof queueMicrotask=="function"?queueMicrotask:typeof D0<"u"?function(l){return D0.resolve(null).then(l).catch(QR)}:C0;function QR(l){setTimeout(function(){throw l})}function pl(l){return l==="head"}function L0(l,c){var g=c,E=0,x=0;do{var N=g.nextSibling;if(l.removeChild(g),N&&N.nodeType===8)if(g=N.data,g==="/$"){if(0<E&&8>E){g=E;var Ie=l.ownerDocument;if(g&1&&Wf(Ie.documentElement),g&2&&Wf(Ie.body),g&4)for(g=Ie.head,Wf(g),Ie=g.firstChild;Ie;){var Be=Ie.nextSibling,nt=Ie.nodeName;Ie[br]||nt==="SCRIPT"||nt==="STYLE"||nt==="LINK"&&Ie.rel.toLowerCase()==="stylesheet"||g.removeChild(Ie),Ie=Be}}if(x===0){l.removeChild(N),rh(c);return}x--}else g==="$"||g==="$?"||g==="$!"?x++:E=g.charCodeAt(0)-48;else E=0;g=N}while(g);rh(c)}function Ay(l){var c=l.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var g=c;switch(c=c.nextSibling,g.nodeName){case"HTML":case"HEAD":case"BODY":Ay(g),ti(g);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(g.rel.toLowerCase()==="stylesheet")continue}l.removeChild(g)}}function ZR(l,c,g,E){for(;l.nodeType===1;){var x=g;if(l.nodeName.toLowerCase()!==c.toLowerCase()){if(!E&&(l.nodeName!=="INPUT"||l.type!=="hidden"))break}else if(E){if(!l[br])switch(c){case"meta":if(!l.hasAttribute("itemprop"))break;return l;case"link":if(N=l.getAttribute("rel"),N==="stylesheet"&&l.hasAttribute("data-precedence"))break;if(N!==x.rel||l.getAttribute("href")!==(x.href==null||x.href===""?null:x.href)||l.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin)||l.getAttribute("title")!==(x.title==null?null:x.title))break;return l;case"style":if(l.hasAttribute("data-precedence"))break;return l;case"script":if(N=l.getAttribute("src"),(N!==(x.src==null?null:x.src)||l.getAttribute("type")!==(x.type==null?null:x.type)||l.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin))&&N&&l.hasAttribute("async")&&!l.hasAttribute("itemprop"))break;return l;default:return l}}else if(c==="input"&&l.type==="hidden"){var N=x.name==null?null:""+x.name;if(x.type==="hidden"&&l.getAttribute("name")===N)return l}else return l;if(l=Rs(l.nextSibling),l===null)break}return null}function JR(l,c,g){if(c==="")return null;for(;l.nodeType!==3;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!g||(l=Rs(l.nextSibling),l===null))return null;return l}function Ry(l){return l.data==="$!"||l.data==="$?"&&l.ownerDocument.readyState==="complete"}function ex(l,c){var g=l.ownerDocument;if(l.data!=="$?"||g.readyState==="complete")c();else{var E=function(){c(),g.removeEventListener("DOMContentLoaded",E)};g.addEventListener("DOMContentLoaded",E),l._reactRetry=E}}function Rs(l){for(;l!=null;l=l.nextSibling){var c=l.nodeType;if(c===1||c===3)break;if(c===8){if(c=l.data,c==="$"||c==="$!"||c==="$?"||c==="F!"||c==="F")break;if(c==="/$")return null}}return l}var xy=null;function N0(l){l=l.previousSibling;for(var c=0;l;){if(l.nodeType===8){var g=l.data;if(g==="$"||g==="$!"||g==="$?"){if(c===0)return l;c--}else g==="/$"&&c++}l=l.previousSibling}return null}function O0(l,c,g){switch(c=lm(g),l){case"html":if(l=c.documentElement,!l)throw Error(n(452));return l;case"head":if(l=c.head,!l)throw Error(n(453));return l;case"body":if(l=c.body,!l)throw Error(n(454));return l;default:throw Error(n(451))}}function Wf(l){for(var c=l.attributes;c.length;)l.removeAttributeNode(c[0]);ti(l)}var ss=new Map,M0=new Set;function um(l){return typeof l.getRootNode=="function"?l.getRootNode():l.nodeType===9?l:l.ownerDocument}var Mo=$e.d;$e.d={f:tx,r:nx,D:rx,C:ix,L:ax,m:sx,X:lx,S:ox,M:ux};function tx(){var l=Mo.f(),c=Wt();return l||c}function nx(l){var c=Pr(l);c!==null&&c.tag===5&&c.type==="form"?Lc(c):Mo.r(l)}var Gc=typeof document>"u"?null:document;function P0(l,c,g){var E=Gc;if(E&&typeof c=="string"&&c){var x=mi(c);x='link[rel="'+l+'"][href="'+x+'"]',typeof g=="string"&&(x+='[crossorigin="'+g+'"]'),M0.has(x)||(M0.add(x),l={rel:l,crossOrigin:g,href:c},E.querySelector(x)===null&&(c=E.createElement("link"),Xi(c,"link",l),Lr(c),E.head.appendChild(c)))}}function rx(l){Mo.D(l),P0("dns-prefetch",l,null)}function ix(l,c){Mo.C(l,c),P0("preconnect",l,c)}function ax(l,c,g){Mo.L(l,c,g);var E=Gc;if(E&&l&&c){var x='link[rel="preload"][as="'+mi(c)+'"]';c==="image"&&g&&g.imageSrcSet?(x+='[imagesrcset="'+mi(g.imageSrcSet)+'"]',typeof g.imageSizes=="string"&&(x+='[imagesizes="'+mi(g.imageSizes)+'"]')):x+='[href="'+mi(l)+'"]';var N=x;switch(c){case"style":N=$c(l);break;case"script":N=Hc(l)}ss.has(N)||(l=y({rel:"preload",href:c==="image"&&g&&g.imageSrcSet?void 0:l,as:c},g),ss.set(N,l),E.querySelector(x)!==null||c==="style"&&E.querySelector(Xf(N))||c==="script"&&E.querySelector(Qf(N))||(c=E.createElement("link"),Xi(c,"link",l),Lr(c),E.head.appendChild(c)))}}function sx(l,c){Mo.m(l,c);var g=Gc;if(g&&l){var E=c&&typeof c.as=="string"?c.as:"script",x='link[rel="modulepreload"][as="'+mi(E)+'"][href="'+mi(l)+'"]',N=x;switch(E){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":N=Hc(l)}if(!ss.has(N)&&(l=y({rel:"modulepreload",href:l},c),ss.set(N,l),g.querySelector(x)===null)){switch(E){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(g.querySelector(Qf(N)))return}E=g.createElement("link"),Xi(E,"link",l),Lr(E),g.head.appendChild(E)}}}function ox(l,c,g){Mo.S(l,c,g);var E=Gc;if(E&&l){var x=Yr(E).hoistableStyles,N=$c(l);c=c||"default";var Ie=x.get(N);if(!Ie){var Be={loading:0,preload:null};if(Ie=E.querySelector(Xf(N)))Be.loading=5;else{l=y({rel:"stylesheet",href:l,"data-precedence":c},g),(g=ss.get(N))&&Iy(l,g);var nt=Ie=E.createElement("link");Lr(nt),Xi(nt,"link",l),nt._p=new Promise(function(Ot,un){nt.onload=Ot,nt.onerror=un}),nt.addEventListener("load",function(){Be.loading|=1}),nt.addEventListener("error",function(){Be.loading|=2}),Be.loading|=4,cm(Ie,c,E)}Ie={type:"stylesheet",instance:Ie,count:1,state:Be},x.set(N,Ie)}}}function lx(l,c){Mo.X(l,c);var g=Gc;if(g&&l){var E=Yr(g).hoistableScripts,x=Hc(l),N=E.get(x);N||(N=g.querySelector(Qf(x)),N||(l=y({src:l,async:!0},c),(c=ss.get(x))&&wy(l,c),N=g.createElement("script"),Lr(N),Xi(N,"link",l),g.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},E.set(x,N))}}function ux(l,c){Mo.M(l,c);var g=Gc;if(g&&l){var E=Yr(g).hoistableScripts,x=Hc(l),N=E.get(x);N||(N=g.querySelector(Qf(x)),N||(l=y({src:l,async:!0,type:"module"},c),(c=ss.get(x))&&wy(l,c),N=g.createElement("script"),Lr(N),Xi(N,"link",l),g.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},E.set(x,N))}}function z0(l,c,g,E){var x=(x=Ne.current)?um(x):null;if(!x)throw Error(n(446));switch(l){case"meta":case"title":return null;case"style":return typeof g.precedence=="string"&&typeof g.href=="string"?(c=$c(g.href),g=Yr(x).hoistableStyles,E=g.get(c),E||(E={type:"style",instance:null,count:0,state:null},g.set(c,E)),E):{type:"void",instance:null,count:0,state:null};case"link":if(g.rel==="stylesheet"&&typeof g.href=="string"&&typeof g.precedence=="string"){l=$c(g.href);var N=Yr(x).hoistableStyles,Ie=N.get(l);if(Ie||(x=x.ownerDocument||x,Ie={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},N.set(l,Ie),(N=x.querySelector(Xf(l)))&&!N._p&&(Ie.instance=N,Ie.state.loading=5),ss.has(l)||(g={rel:"preload",as:"style",href:g.href,crossOrigin:g.crossOrigin,integrity:g.integrity,media:g.media,hrefLang:g.hrefLang,referrerPolicy:g.referrerPolicy},ss.set(l,g),N||cx(x,l,g,Ie.state))),c&&E===null)throw Error(n(528,""));return Ie}if(c&&E!==null)throw Error(n(529,""));return null;case"script":return c=g.async,g=g.src,typeof g=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=Hc(g),g=Yr(x).hoistableScripts,E=g.get(c),E||(E={type:"script",instance:null,count:0,state:null},g.set(c,E)),E):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,l))}}function $c(l){return'href="'+mi(l)+'"'}function Xf(l){return'link[rel="stylesheet"]['+l+"]"}function F0(l){return y({},l,{"data-precedence":l.precedence,precedence:null})}function cx(l,c,g,E){l.querySelector('link[rel="preload"][as="style"]['+c+"]")?E.loading=1:(c=l.createElement("link"),E.preload=c,c.addEventListener("load",function(){return E.loading|=1}),c.addEventListener("error",function(){return E.loading|=2}),Xi(c,"link",g),Lr(c),l.head.appendChild(c))}function Hc(l){return'[src="'+mi(l)+'"]'}function Qf(l){return"script[async]"+l}function U0(l,c,g){if(c.count++,c.instance===null)switch(c.type){case"style":var E=l.querySelector('style[data-href~="'+mi(g.href)+'"]');if(E)return c.instance=E,Lr(E),E;var x=y({},g,{"data-href":g.href,"data-precedence":g.precedence,href:null,precedence:null});return E=(l.ownerDocument||l).createElement("style"),Lr(E),Xi(E,"style",x),cm(E,g.precedence,l),c.instance=E;case"stylesheet":x=$c(g.href);var N=l.querySelector(Xf(x));if(N)return c.state.loading|=4,c.instance=N,Lr(N),N;E=F0(g),(x=ss.get(x))&&Iy(E,x),N=(l.ownerDocument||l).createElement("link"),Lr(N);var Ie=N;return Ie._p=new Promise(function(Be,nt){Ie.onload=Be,Ie.onerror=nt}),Xi(N,"link",E),c.state.loading|=4,cm(N,g.precedence,l),c.instance=N;case"script":return N=Hc(g.src),(x=l.querySelector(Qf(N)))?(c.instance=x,Lr(x),x):(E=g,(x=ss.get(N))&&(E=y({},g),wy(E,x)),l=l.ownerDocument||l,x=l.createElement("script"),Lr(x),Xi(x,"link",E),l.head.appendChild(x),c.instance=x);case"void":return null;default:throw Error(n(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(E=c.instance,c.state.loading|=4,cm(E,g.precedence,l));return c.instance}function cm(l,c,g){for(var E=g.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),x=E.length?E[E.length-1]:null,N=x,Ie=0;Ie<E.length;Ie++){var Be=E[Ie];if(Be.dataset.precedence===c)N=Be;else if(N!==x)break}N?N.parentNode.insertBefore(l,N.nextSibling):(c=g.nodeType===9?g.head:g,c.insertBefore(l,c.firstChild))}function Iy(l,c){l.crossOrigin==null&&(l.crossOrigin=c.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=c.referrerPolicy),l.title==null&&(l.title=c.title)}function wy(l,c){l.crossOrigin==null&&(l.crossOrigin=c.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=c.referrerPolicy),l.integrity==null&&(l.integrity=c.integrity)}var dm=null;function B0(l,c,g){if(dm===null){var E=new Map,x=dm=new Map;x.set(g,E)}else x=dm,E=x.get(g),E||(E=new Map,x.set(g,E));if(E.has(l))return E;for(E.set(l,null),g=g.getElementsByTagName(l),x=0;x<g.length;x++){var N=g[x];if(!(N[br]||N[ln]||l==="link"&&N.getAttribute("rel")==="stylesheet")&&N.namespaceURI!=="http://www.w3.org/2000/svg"){var Ie=N.getAttribute(c)||"";Ie=l+Ie;var Be=E.get(Ie);Be?Be.push(N):E.set(Ie,[N])}}return E}function j0(l,c,g){l=l.ownerDocument||l,l.head.insertBefore(g,c==="title"?l.querySelector("head > title"):null)}function dx(l,c,g){if(g===1||c.itemProp!=null)return!1;switch(l){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return l=c.disabled,typeof c.precedence=="string"&&l==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function q0(l){return!(l.type==="stylesheet"&&(l.state.loading&3)===0)}var Zf=null;function fx(){}function hx(l,c,g){if(Zf===null)throw Error(n(475));var E=Zf;if(c.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var x=$c(g.href),N=l.querySelector(Xf(x));if(N){l=N._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(E.count++,E=fm.bind(E),l.then(E,E)),c.state.loading|=4,c.instance=N,Lr(N);return}N=l.ownerDocument||l,g=F0(g),(x=ss.get(x))&&Iy(g,x),N=N.createElement("link"),Lr(N);var Ie=N;Ie._p=new Promise(function(Be,nt){Ie.onload=Be,Ie.onerror=nt}),Xi(N,"link",g),c.instance=N}E.stylesheets===null&&(E.stylesheets=new Map),E.stylesheets.set(c,l),(l=c.state.preload)&&(c.state.loading&3)===0&&(E.count++,c=fm.bind(E),l.addEventListener("load",c),l.addEventListener("error",c))}}function gx(){if(Zf===null)throw Error(n(475));var l=Zf;return l.stylesheets&&l.count===0&&ky(l,l.stylesheets),0<l.count?function(c){var g=setTimeout(function(){if(l.stylesheets&&ky(l,l.stylesheets),l.unsuspend){var E=l.unsuspend;l.unsuspend=null,E()}},6e4);return l.unsuspend=c,function(){l.unsuspend=null,clearTimeout(g)}}:null}function fm(){if(this.count--,this.count===0){if(this.stylesheets)ky(this,this.stylesheets);else if(this.unsuspend){var l=this.unsuspend;this.unsuspend=null,l()}}}var hm=null;function ky(l,c){l.stylesheets=null,l.unsuspend!==null&&(l.count++,hm=new Map,c.forEach(mx,l),hm=null,fm.call(l))}function mx(l,c){if(!(c.state.loading&4)){var g=hm.get(l);if(g)var E=g.get(null);else{g=new Map,hm.set(l,g);for(var x=l.querySelectorAll("link[data-precedence],style[data-precedence]"),N=0;N<x.length;N++){var Ie=x[N];(Ie.nodeName==="LINK"||Ie.getAttribute("media")!=="not all")&&(g.set(Ie.dataset.precedence,Ie),E=Ie)}E&&g.set(null,E)}x=c.instance,Ie=x.getAttribute("data-precedence"),N=g.get(Ie)||E,N===E&&g.set(null,x),g.set(Ie,x),this.count++,E=fm.bind(this),x.addEventListener("load",E),x.addEventListener("error",E),N?N.parentNode.insertBefore(x,N.nextSibling):(l=l.nodeType===9?l.head:l,l.insertBefore(x,l.firstChild)),c.state.loading|=4}}var Jf={$$typeof:K,Provider:null,Consumer:null,_currentValue:Je,_currentValue2:Je,_threadCount:0};function px(l,c,g,E,x,N,Ie,Be){this.tag=1,this.containerInfo=l,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Xt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xt(0),this.hiddenUpdates=Xt(null),this.identifierPrefix=E,this.onUncaughtError=x,this.onCaughtError=N,this.onRecoverableError=Ie,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Be,this.incompleteTransitions=new Map}function G0(l,c,g,E,x,N,Ie,Be,nt,Ot,un,En){return l=new px(l,c,g,Ie,Be,nt,Ot,En),c=1,N===!0&&(c|=24),N=zi(3,null,null,c),l.current=N,N.stateNode=l,c=oc(),c.refCount++,l.pooledCache=c,c.refCount++,N.memoizedState={element:E,isDehydrated:g,cache:c},ru(N),l}function $0(l){return l?(l=Ja,l):Ja}function H0(l,c,g,E,x,N){x=$0(x),E.context===null?E.context=x:E.pendingContext=x,E=Ts(c),E.payload={element:g},N=N===void 0?null:N,N!==null&&(E.callback=N),g=Bs(l,E,c),g!==null&&(Fi(g,l,c),ll(g,l,c))}function V0(l,c){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var g=l.retryLane;l.retryLane=g!==0&&g<c?g:c}}function Cy(l,c){V0(l,c),(l=l.alternate)&&V0(l,c)}function K0(l){if(l.tag===13){var c=Ms(l,67108864);c!==null&&Fi(c,l,67108864),Cy(l,67108864)}}var gm=!0;function yx(l,c,g,E){var x=_e.T;_e.T=null;var N=$e.p;try{$e.p=2,Dy(l,c,g,E)}finally{$e.p=N,_e.T=x}}function bx(l,c,g,E){var x=_e.T;_e.T=null;var N=$e.p;try{$e.p=8,Dy(l,c,g,E)}finally{$e.p=N,_e.T=x}}function Dy(l,c,g,E){if(gm){var x=Ly(E);if(x===null)by(l,c,E,mm,g),W0(l,E);else if(vx(x,l,c,g,E))E.stopPropagation();else if(W0(l,E),c&4&&-1<Ex.indexOf(l)){for(;x!==null;){var N=Pr(x);if(N!==null)switch(N.tag){case 3:if(N=N.stateNode,N.current.memoizedState.isDehydrated){var Ie=Mt(N.pendingLanes);if(Ie!==0){var Be=N;for(Be.pendingLanes|=2,Be.entangledLanes|=2;Ie;){var nt=1<<31-Pn(Ie);Be.entanglements[1]|=nt,Ie&=~nt}$s(N),(Ct&6)===0&&(yr=Ze()+500,Vf(0))}}break;case 13:Be=Ms(N,2),Be!==null&&Fi(Be,N,2),Wt(),Cy(N,2)}if(N=Ly(E),N===null&&by(l,c,E,mm,g),N===x)break;x=N}x!==null&&E.stopPropagation()}else by(l,c,E,null,g)}}function Ly(l){return l=na(l),Ny(l)}var mm=null;function Ny(l){if(mm=null,l=Sr(l),l!==null){var c=o(l);if(c===null)l=null;else{var g=c.tag;if(g===13){if(l=u(c),l!==null)return l;l=null}else if(g===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;l=null}else c!==l&&(l=null)}}return mm=l,null}function Y0(l){switch(l){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(We()){case rt:return 2;case vt:return 8;case yt:case ht:return 32;case Sn:return 268435456;default:return 32}default:return 32}}var Oy=!1,yl=null,bl=null,El=null,eh=new Map,th=new Map,vl=[],Ex="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function W0(l,c){switch(l){case"focusin":case"focusout":yl=null;break;case"dragenter":case"dragleave":bl=null;break;case"mouseover":case"mouseout":El=null;break;case"pointerover":case"pointerout":eh.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":th.delete(c.pointerId)}}function nh(l,c,g,E,x,N){return l===null||l.nativeEvent!==N?(l={blockedOn:c,domEventName:g,eventSystemFlags:E,nativeEvent:N,targetContainers:[x]},c!==null&&(c=Pr(c),c!==null&&K0(c)),l):(l.eventSystemFlags|=E,c=l.targetContainers,x!==null&&c.indexOf(x)===-1&&c.push(x),l)}function vx(l,c,g,E,x){switch(c){case"focusin":return yl=nh(yl,l,c,g,E,x),!0;case"dragenter":return bl=nh(bl,l,c,g,E,x),!0;case"mouseover":return El=nh(El,l,c,g,E,x),!0;case"pointerover":var N=x.pointerId;return eh.set(N,nh(eh.get(N)||null,l,c,g,E,x)),!0;case"gotpointercapture":return N=x.pointerId,th.set(N,nh(th.get(N)||null,l,c,g,E,x)),!0}return!1}function X0(l){var c=Sr(l.target);if(c!==null){var g=o(c);if(g!==null){if(c=g.tag,c===13){if(c=u(g),c!==null){l.blockedOn=c,qn(l.priority,function(){if(g.tag===13){var E=Ri();E=wn(E);var x=Ms(g,E);x!==null&&Fi(x,g,E),Cy(g,E)}});return}}else if(c===3&&g.stateNode.current.memoizedState.isDehydrated){l.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}l.blockedOn=null}function pm(l){if(l.blockedOn!==null)return!1;for(var c=l.targetContainers;0<c.length;){var g=Ly(l.nativeEvent);if(g===null){g=l.nativeEvent;var E=new g.constructor(g.type,g);kr=E,g.target.dispatchEvent(E),kr=null}else return c=Pr(g),c!==null&&K0(c),l.blockedOn=g,!1;c.shift()}return!0}function Q0(l,c,g){pm(l)&&g.delete(c)}function Tx(){Oy=!1,yl!==null&&pm(yl)&&(yl=null),bl!==null&&pm(bl)&&(bl=null),El!==null&&pm(El)&&(El=null),eh.forEach(Q0),th.forEach(Q0)}function ym(l,c){l.blockedOn===c&&(l.blockedOn=null,Oy||(Oy=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Tx)))}var bm=null;function Z0(l){bm!==l&&(bm=l,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){bm===l&&(bm=null);for(var c=0;c<l.length;c+=3){var g=l[c],E=l[c+1],x=l[c+2];if(typeof E!="function"){if(Ny(E||g)===null)continue;break}var N=Pr(g);N!==null&&(l.splice(c,3),c-=3,Rf(N,{pending:!0,data:x,method:g.method,action:E},E,x))}}))}function rh(l){function c(nt){return ym(nt,l)}yl!==null&&ym(yl,l),bl!==null&&ym(bl,l),El!==null&&ym(El,l),eh.forEach(c),th.forEach(c);for(var g=0;g<vl.length;g++){var E=vl[g];E.blockedOn===l&&(E.blockedOn=null)}for(;0<vl.length&&(g=vl[0],g.blockedOn===null);)X0(g),g.blockedOn===null&&vl.shift();if(g=(l.ownerDocument||l).$$reactFormReplay,g!=null)for(E=0;E<g.length;E+=3){var x=g[E],N=g[E+1],Ie=x[Rt]||null;if(typeof N=="function")Ie||Z0(g);else if(Ie){var Be=null;if(N&&N.hasAttribute("formAction")){if(x=N,Ie=N[Rt]||null)Be=Ie.formAction;else if(Ny(x)!==null)continue}else Be=Ie.action;typeof Be=="function"?g[E+1]=Be:(g.splice(E,3),E-=3),Z0(g)}}}function My(l){this._internalRoot=l}Em.prototype.render=My.prototype.render=function(l){var c=this._internalRoot;if(c===null)throw Error(n(409));var g=c.current,E=Ri();H0(g,E,l,c,null,null)},Em.prototype.unmount=My.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var c=l.containerInfo;H0(l.current,2,null,l,null,null),Wt(),c[gt]=null}};function Em(l){this._internalRoot=l}Em.prototype.unstable_scheduleHydration=function(l){if(l){var c=Un();l={blockedOn:null,target:l,priority:c};for(var g=0;g<vl.length&&c!==0&&c<vl[g].priority;g++);vl.splice(g,0,l),g===0&&X0(l)}};var J0=e.version;if(J0!=="19.1.0")throw Error(n(527,J0,"19.1.0"));$e.findDOMNode=function(l){var c=l._reactInternals;if(c===void 0)throw typeof l.render=="function"?Error(n(188)):(l=Object.keys(l).join(","),Error(n(268,l)));return l=h(c),l=l!==null?f(l):null,l=l===null?null:l.stateNode,l};var Sx={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:_e,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vm.isDisabled&&vm.supportsFiber)try{dt=vm.inject(Sx),nn=vm}catch{}}return sh.createRoot=function(l,c){if(!r(l))throw Error(n(299));var g=!1,E="",x=Lf,N=Vg,Ie=Kg,Be=null;return c!=null&&(c.unstable_strictMode===!0&&(g=!0),c.identifierPrefix!==void 0&&(E=c.identifierPrefix),c.onUncaughtError!==void 0&&(x=c.onUncaughtError),c.onCaughtError!==void 0&&(N=c.onCaughtError),c.onRecoverableError!==void 0&&(Ie=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(Be=c.unstable_transitionCallbacks)),c=G0(l,1,!1,null,null,g,E,x,N,Ie,Be,null),l[gt]=c.current,yy(l),new My(c)},sh.hydrateRoot=function(l,c,g){if(!r(l))throw Error(n(299));var E=!1,x="",N=Lf,Ie=Vg,Be=Kg,nt=null,Ot=null;return g!=null&&(g.unstable_strictMode===!0&&(E=!0),g.identifierPrefix!==void 0&&(x=g.identifierPrefix),g.onUncaughtError!==void 0&&(N=g.onUncaughtError),g.onCaughtError!==void 0&&(Ie=g.onCaughtError),g.onRecoverableError!==void 0&&(Be=g.onRecoverableError),g.unstable_transitionCallbacks!==void 0&&(nt=g.unstable_transitionCallbacks),g.formState!==void 0&&(Ot=g.formState)),c=G0(l,1,!0,c,g??null,E,x,N,Ie,Be,nt,Ot),c.context=$0(null),g=c.current,E=Ri(),E=wn(E),x=Ts(E),x.callback=null,Bs(g,x,E),g=E,c.current.lanes=g,Ft(c,g),$s(c),l[gt]=c.current,yy(l),new Em(c)},sh.version="19.1.0",sh}var uv;function Mx(){if(uv)return Fy.exports;uv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Fy.exports=Ox(),Fy.exports}var Px=Mx();function Du(i,...e){const t=new URL(`https://mui.com/production-error/?code=${i}`);return e.forEach(n=>t.searchParams.append("args[]",n)),`Minified MUI error #${i}; visit ${t} for the full message.`}const io="$$material";function op(){return op=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(i[n]=t[n])}return i},op.apply(null,arguments)}function zx(i){if(i.sheet)return i.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===i)return document.styleSheets[e]}function Fx(i){var e=document.createElement("style");return e.setAttribute("data-emotion",i.key),i.nonce!==void 0&&e.setAttribute("nonce",i.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var Ux=function(){function i(t){var n=this;this._insertTag=function(r){var o;n.tags.length===0?n.insertionPoint?o=n.insertionPoint.nextSibling:n.prepend?o=n.container.firstChild:o=n.before:o=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(r,o),n.tags.push(r)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=i.prototype;return e.hydrate=function(n){n.forEach(this._insertTag)},e.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Fx(this));var r=this.tags[this.tags.length-1];if(this.isSpeedy){var o=zx(r);try{o.insertRule(n,o.cssRules.length)}catch{}}else r.appendChild(document.createTextNode(n));this.ctr++},e.flush=function(){this.tags.forEach(function(n){var r;return(r=n.parentNode)==null?void 0:r.removeChild(n)}),this.tags=[],this.ctr=0},i}(),ua="-ms-",lp="-moz-",Or="-webkit-",GS="comm",hE="rule",gE="decl",Bx="@import",$S="@keyframes",jx="@layer",qx=Math.abs,Cp=String.fromCharCode,Gx=Object.assign;function $x(i,e){return Ji(i,0)^45?(((e<<2^Ji(i,0))<<2^Ji(i,1))<<2^Ji(i,2))<<2^Ji(i,3):0}function HS(i){return i.trim()}function Hx(i,e){return(i=e.exec(i))?i[0]:i}function Mr(i,e,t){return i.replace(e,t)}function Ab(i,e){return i.indexOf(e)}function Ji(i,e){return i.charCodeAt(e)|0}function Th(i,e,t){return i.slice(e,t)}function Ws(i){return i.length}function mE(i){return i.length}function Tm(i,e){return e.push(i),i}function Vx(i,e){return i.map(e).join("")}var Dp=1,Ed=1,VS=0,Na=0,xi=0,Sd="";function Lp(i,e,t,n,r,o,u){return{value:i,root:e,parent:t,type:n,props:r,children:o,line:Dp,column:Ed,length:u,return:""}}function oh(i,e){return Gx(Lp("",null,null,"",null,null,0),i,{length:-i.length},e)}function Kx(){return xi}function Yx(){return xi=Na>0?Ji(Sd,--Na):0,Ed--,xi===10&&(Ed=1,Dp--),xi}function Ha(){return xi=Na<VS?Ji(Sd,Na++):0,Ed++,xi===10&&(Ed=1,Dp++),xi}function ao(){return Ji(Sd,Na)}function Vm(){return Na}function Oh(i,e){return Th(Sd,i,e)}function Sh(i){switch(i){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function KS(i){return Dp=Ed=1,VS=Ws(Sd=i),Na=0,[]}function YS(i){return Sd="",i}function Km(i){return HS(Oh(Na-1,Rb(i===91?i+2:i===40?i+1:i)))}function Wx(i){for(;(xi=ao())&&xi<33;)Ha();return Sh(i)>2||Sh(xi)>3?"":" "}function Xx(i,e){for(;--e&&Ha()&&!(xi<48||xi>102||xi>57&&xi<65||xi>70&&xi<97););return Oh(i,Vm()+(e<6&&ao()==32&&Ha()==32))}function Rb(i){for(;Ha();)switch(xi){case i:return Na;case 34:case 39:i!==34&&i!==39&&Rb(xi);break;case 40:i===41&&Rb(i);break;case 92:Ha();break}return Na}function Qx(i,e){for(;Ha()&&i+xi!==57;)if(i+xi===84&&ao()===47)break;return"/*"+Oh(e,Na-1)+"*"+Cp(i===47?i:Ha())}function Zx(i){for(;!Sh(ao());)Ha();return Oh(i,Na)}function Jx(i){return YS(Ym("",null,null,null,[""],i=KS(i),0,[0],i))}function Ym(i,e,t,n,r,o,u,d,h){for(var f=0,y=0,m=u,p=0,T=0,v=0,A=1,k=1,B=1,$=0,K="",ue=r,me=o,Te=n,X=K;k;)switch(v=$,$=Ha()){case 40:if(v!=108&&Ji(X,m-1)==58){Ab(X+=Mr(Km($),"&","&\f"),"&\f")!=-1&&(B=-1);break}case 34:case 39:case 91:X+=Km($);break;case 9:case 10:case 13:case 32:X+=Wx(v);break;case 92:X+=Xx(Vm()-1,7);continue;case 47:switch(ao()){case 42:case 47:Tm(eI(Qx(Ha(),Vm()),e,t),h);break;default:X+="/"}break;case 123*A:d[f++]=Ws(X)*B;case 125*A:case 59:case 0:switch($){case 0:case 125:k=0;case 59+y:B==-1&&(X=Mr(X,/\f/g,"")),T>0&&Ws(X)-m&&Tm(T>32?dv(X+";",n,t,m-1):dv(Mr(X," ","")+";",n,t,m-2),h);break;case 59:X+=";";default:if(Tm(Te=cv(X,e,t,f,y,r,d,K,ue=[],me=[],m),o),$===123)if(y===0)Ym(X,e,Te,Te,ue,o,m,d,me);else switch(p===99&&Ji(X,3)===110?100:p){case 100:case 108:case 109:case 115:Ym(i,Te,Te,n&&Tm(cv(i,Te,Te,0,0,r,d,K,r,ue=[],m),me),r,me,m,d,n?ue:me);break;default:Ym(X,Te,Te,Te,[""],me,0,d,me)}}f=y=T=0,A=B=1,K=X="",m=u;break;case 58:m=1+Ws(X),T=v;default:if(A<1){if($==123)--A;else if($==125&&A++==0&&Yx()==125)continue}switch(X+=Cp($),$*A){case 38:B=y>0?1:(X+="\f",-1);break;case 44:d[f++]=(Ws(X)-1)*B,B=1;break;case 64:ao()===45&&(X+=Km(Ha())),p=ao(),y=m=Ws(K=X+=Zx(Vm())),$++;break;case 45:v===45&&Ws(X)==2&&(A=0)}}return o}function cv(i,e,t,n,r,o,u,d,h,f,y){for(var m=r-1,p=r===0?o:[""],T=mE(p),v=0,A=0,k=0;v<n;++v)for(var B=0,$=Th(i,m+1,m=qx(A=u[v])),K=i;B<T;++B)(K=HS(A>0?p[B]+" "+$:Mr($,/&\f/g,p[B])))&&(h[k++]=K);return Lp(i,e,t,r===0?hE:d,h,f,y)}function eI(i,e,t){return Lp(i,e,t,GS,Cp(Kx()),Th(i,2,-2),0)}function dv(i,e,t,n){return Lp(i,e,t,gE,Th(i,0,n),Th(i,n+1,-1),n)}function fd(i,e){for(var t="",n=mE(i),r=0;r<n;r++)t+=e(i[r],r,i,e)||"";return t}function tI(i,e,t,n){switch(i.type){case jx:if(i.children.length)break;case Bx:case gE:return i.return=i.return||i.value;case GS:return"";case $S:return i.return=i.value+"{"+fd(i.children,n)+"}";case hE:i.value=i.props.join(",")}return Ws(t=fd(i.children,n))?i.return=i.value+"{"+t+"}":""}function nI(i){var e=mE(i);return function(t,n,r,o){for(var u="",d=0;d<e;d++)u+=i[d](t,n,r,o)||"";return u}}function rI(i){return function(e){e.root||(e=e.return)&&i(e)}}function WS(i){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=i(t)),e[t]}}var iI=function(e,t,n){for(var r=0,o=0;r=o,o=ao(),r===38&&o===12&&(t[n]=1),!Sh(o);)Ha();return Oh(e,Na)},aI=function(e,t){var n=-1,r=44;do switch(Sh(r)){case 0:r===38&&ao()===12&&(t[n]=1),e[n]+=iI(Na-1,t,n);break;case 2:e[n]+=Km(r);break;case 4:if(r===44){e[++n]=ao()===58?"&\f":"",t[n]=e[n].length;break}default:e[n]+=Cp(r)}while(r=Ha());return e},sI=function(e,t){return YS(aI(KS(e),t))},fv=new WeakMap,oI=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!fv.get(n))&&!r){fv.set(e,!0);for(var o=[],u=sI(t,o),d=n.props,h=0,f=0;h<u.length;h++)for(var y=0;y<d.length;y++,f++)e.props[f]=o[h]?u[h].replace(/&\f/g,d[y]):d[y]+" "+u[h]}}},lI=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function XS(i,e){switch($x(i,e)){case 5103:return Or+"print-"+i+i;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Or+i+i;case 5349:case 4246:case 4810:case 6968:case 2756:return Or+i+lp+i+ua+i+i;case 6828:case 4268:return Or+i+ua+i+i;case 6165:return Or+i+ua+"flex-"+i+i;case 5187:return Or+i+Mr(i,/(\w+).+(:[^]+)/,Or+"box-$1$2"+ua+"flex-$1$2")+i;case 5443:return Or+i+ua+"flex-item-"+Mr(i,/flex-|-self/,"")+i;case 4675:return Or+i+ua+"flex-line-pack"+Mr(i,/align-content|flex-|-self/,"")+i;case 5548:return Or+i+ua+Mr(i,"shrink","negative")+i;case 5292:return Or+i+ua+Mr(i,"basis","preferred-size")+i;case 6060:return Or+"box-"+Mr(i,"-grow","")+Or+i+ua+Mr(i,"grow","positive")+i;case 4554:return Or+Mr(i,/([^-])(transform)/g,"$1"+Or+"$2")+i;case 6187:return Mr(Mr(Mr(i,/(zoom-|grab)/,Or+"$1"),/(image-set)/,Or+"$1"),i,"")+i;case 5495:case 3959:return Mr(i,/(image-set\([^]*)/,Or+"$1$`$1");case 4968:return Mr(Mr(i,/(.+:)(flex-)?(.*)/,Or+"box-pack:$3"+ua+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Or+i+i;case 4095:case 3583:case 4068:case 2532:return Mr(i,/(.+)-inline(.+)/,Or+"$1$2")+i;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ws(i)-1-e>6)switch(Ji(i,e+1)){case 109:if(Ji(i,e+4)!==45)break;case 102:return Mr(i,/(.+:)(.+)-([^]+)/,"$1"+Or+"$2-$3$1"+lp+(Ji(i,e+3)==108?"$3":"$2-$3"))+i;case 115:return~Ab(i,"stretch")?XS(Mr(i,"stretch","fill-available"),e)+i:i}break;case 4949:if(Ji(i,e+1)!==115)break;case 6444:switch(Ji(i,Ws(i)-3-(~Ab(i,"!important")&&10))){case 107:return Mr(i,":",":"+Or)+i;case 101:return Mr(i,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Or+(Ji(i,14)===45?"inline-":"")+"box$3$1"+Or+"$2$3$1"+ua+"$2box$3")+i}break;case 5936:switch(Ji(i,e+11)){case 114:return Or+i+ua+Mr(i,/[svh]\w+-[tblr]{2}/,"tb")+i;case 108:return Or+i+ua+Mr(i,/[svh]\w+-[tblr]{2}/,"tb-rl")+i;case 45:return Or+i+ua+Mr(i,/[svh]\w+-[tblr]{2}/,"lr")+i}return Or+i+ua+i+i}return i}var uI=function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case gE:e.return=XS(e.value,e.length);break;case $S:return fd([oh(e,{value:Mr(e.value,"@","@"+Or)})],r);case hE:if(e.length)return Vx(e.props,function(o){switch(Hx(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return fd([oh(e,{props:[Mr(o,/:(read-\w+)/,":"+lp+"$1")]})],r);case"::placeholder":return fd([oh(e,{props:[Mr(o,/:(plac\w+)/,":"+Or+"input-$1")]}),oh(e,{props:[Mr(o,/:(plac\w+)/,":"+lp+"$1")]}),oh(e,{props:[Mr(o,/:(plac\w+)/,ua+"input-$1")]})],r)}return""})}},cI=[uI],dI=function(e){var t=e.key;if(t==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(A){var k=A.getAttribute("data-emotion");k.indexOf(" ")!==-1&&(document.head.appendChild(A),A.setAttribute("data-s",""))})}var r=e.stylisPlugins||cI,o={},u,d=[];u=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(A){for(var k=A.getAttribute("data-emotion").split(" "),B=1;B<k.length;B++)o[k[B]]=!0;d.push(A)});var h,f=[oI,lI];{var y,m=[tI,rI(function(A){y.insert(A)})],p=nI(f.concat(r,m)),T=function(k){return fd(Jx(k),p)};h=function(k,B,$,K){y=$,T(k?k+"{"+B.styles+"}":B.styles),K&&(v.inserted[B.name]=!0)}}var v={key:t,sheet:new Ux({key:t,container:u,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:h};return v.sheet.hydrate(d),v},qy={exports:{}},Fr={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hv;function fI(){if(hv)return Fr;hv=1;var i=typeof Symbol=="function"&&Symbol.for,e=i?Symbol.for("react.element"):60103,t=i?Symbol.for("react.portal"):60106,n=i?Symbol.for("react.fragment"):60107,r=i?Symbol.for("react.strict_mode"):60108,o=i?Symbol.for("react.profiler"):60114,u=i?Symbol.for("react.provider"):60109,d=i?Symbol.for("react.context"):60110,h=i?Symbol.for("react.async_mode"):60111,f=i?Symbol.for("react.concurrent_mode"):60111,y=i?Symbol.for("react.forward_ref"):60112,m=i?Symbol.for("react.suspense"):60113,p=i?Symbol.for("react.suspense_list"):60120,T=i?Symbol.for("react.memo"):60115,v=i?Symbol.for("react.lazy"):60116,A=i?Symbol.for("react.block"):60121,k=i?Symbol.for("react.fundamental"):60117,B=i?Symbol.for("react.responder"):60118,$=i?Symbol.for("react.scope"):60119;function K(me){if(typeof me=="object"&&me!==null){var Te=me.$$typeof;switch(Te){case e:switch(me=me.type,me){case h:case f:case n:case o:case r:case m:return me;default:switch(me=me&&me.$$typeof,me){case d:case y:case v:case T:case u:return me;default:return Te}}case t:return Te}}}function ue(me){return K(me)===f}return Fr.AsyncMode=h,Fr.ConcurrentMode=f,Fr.ContextConsumer=d,Fr.ContextProvider=u,Fr.Element=e,Fr.ForwardRef=y,Fr.Fragment=n,Fr.Lazy=v,Fr.Memo=T,Fr.Portal=t,Fr.Profiler=o,Fr.StrictMode=r,Fr.Suspense=m,Fr.isAsyncMode=function(me){return ue(me)||K(me)===h},Fr.isConcurrentMode=ue,Fr.isContextConsumer=function(me){return K(me)===d},Fr.isContextProvider=function(me){return K(me)===u},Fr.isElement=function(me){return typeof me=="object"&&me!==null&&me.$$typeof===e},Fr.isForwardRef=function(me){return K(me)===y},Fr.isFragment=function(me){return K(me)===n},Fr.isLazy=function(me){return K(me)===v},Fr.isMemo=function(me){return K(me)===T},Fr.isPortal=function(me){return K(me)===t},Fr.isProfiler=function(me){return K(me)===o},Fr.isStrictMode=function(me){return K(me)===r},Fr.isSuspense=function(me){return K(me)===m},Fr.isValidElementType=function(me){return typeof me=="string"||typeof me=="function"||me===n||me===f||me===o||me===r||me===m||me===p||typeof me=="object"&&me!==null&&(me.$$typeof===v||me.$$typeof===T||me.$$typeof===u||me.$$typeof===d||me.$$typeof===y||me.$$typeof===k||me.$$typeof===B||me.$$typeof===$||me.$$typeof===A)},Fr.typeOf=K,Fr}var gv;function hI(){return gv||(gv=1,qy.exports=fI()),qy.exports}var Gy,mv;function gI(){if(mv)return Gy;mv=1;var i=hI(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},t={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},n={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},r={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};o[i.ForwardRef]=n,o[i.Memo]=r;function u(v){return i.isMemo(v)?r:o[v.$$typeof]||e}var d=Object.defineProperty,h=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,y=Object.getOwnPropertyDescriptor,m=Object.getPrototypeOf,p=Object.prototype;function T(v,A,k){if(typeof A!="string"){if(p){var B=m(A);B&&B!==p&&T(v,B,k)}var $=h(A);f&&($=$.concat(f(A)));for(var K=u(v),ue=u(A),me=0;me<$.length;++me){var Te=$[me];if(!t[Te]&&!(k&&k[Te])&&!(ue&&ue[Te])&&!(K&&K[Te])){var X=y(A,Te);try{d(v,Te,X)}catch{}}}}return v}return Gy=T,Gy}gI();var mI=!0;function QS(i,e,t){var n="";return t.split(" ").forEach(function(r){i[r]!==void 0?e.push(i[r]+";"):r&&(n+=r+" ")}),n}var pE=function(e,t,n){var r=e.key+"-"+t.name;(n===!1||mI===!1)&&e.registered[r]===void 0&&(e.registered[r]=t.styles)},yE=function(e,t,n){pE(e,t,n);var r=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var o=t;do e.insert(t===o?"."+r:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function pI(i){for(var e=0,t,n=0,r=i.length;r>=4;++n,r-=4)t=i.charCodeAt(n)&255|(i.charCodeAt(++n)&255)<<8|(i.charCodeAt(++n)&255)<<16|(i.charCodeAt(++n)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(r){case 3:e^=(i.charCodeAt(n+2)&255)<<16;case 2:e^=(i.charCodeAt(n+1)&255)<<8;case 1:e^=i.charCodeAt(n)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var yI={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},bI=/[A-Z]|^ms/g,EI=/_EMO_([^_]+?)_([^]*?)_EMO_/g,ZS=function(e){return e.charCodeAt(1)===45},pv=function(e){return e!=null&&typeof e!="boolean"},$y=WS(function(i){return ZS(i)?i:i.replace(bI,"-$&").toLowerCase()}),yv=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(EI,function(n,r,o){return Xs={name:r,styles:o,next:Xs},r})}return yI[e]!==1&&!ZS(e)&&typeof t=="number"&&t!==0?t+"px":t};function _h(i,e,t){if(t==null)return"";var n=t;if(n.__emotion_styles!==void 0)return n;switch(typeof t){case"boolean":return"";case"object":{var r=t;if(r.anim===1)return Xs={name:r.name,styles:r.styles,next:Xs},r.name;var o=t;if(o.styles!==void 0){var u=o.next;if(u!==void 0)for(;u!==void 0;)Xs={name:u.name,styles:u.styles,next:Xs},u=u.next;var d=o.styles+";";return d}return vI(i,e,t)}case"function":{if(i!==void 0){var h=Xs,f=t(i);return Xs=h,_h(i,e,f)}break}}var y=t;if(e==null)return y;var m=e[y];return m!==void 0?m:y}function vI(i,e,t){var n="";if(Array.isArray(t))for(var r=0;r<t.length;r++)n+=_h(i,e,t[r])+";";else for(var o in t){var u=t[o];if(typeof u!="object"){var d=u;e!=null&&e[d]!==void 0?n+=o+"{"+e[d]+"}":pv(d)&&(n+=$y(o)+":"+yv(o,d)+";")}else if(Array.isArray(u)&&typeof u[0]=="string"&&(e==null||e[u[0]]===void 0))for(var h=0;h<u.length;h++)pv(u[h])&&(n+=$y(o)+":"+yv(o,u[h])+";");else{var f=_h(i,e,u);switch(o){case"animation":case"animationName":{n+=$y(o)+":"+f+";";break}default:n+=o+"{"+f+"}"}}}return n}var bv=/label:\s*([^\s;{]+)\s*(;|$)/g,Xs;function Mh(i,e,t){if(i.length===1&&typeof i[0]=="object"&&i[0]!==null&&i[0].styles!==void 0)return i[0];var n=!0,r="";Xs=void 0;var o=i[0];if(o==null||o.raw===void 0)n=!1,r+=_h(t,e,o);else{var u=o;r+=u[0]}for(var d=1;d<i.length;d++)if(r+=_h(t,e,i[d]),n){var h=o;r+=h[d]}bv.lastIndex=0;for(var f="",y;(y=bv.exec(r))!==null;)f+="-"+y[1];var m=pI(r)+f;return{name:m,styles:r,next:Xs}}var TI=function(e){return e()},JS=_b.useInsertionEffect?_b.useInsertionEffect:!1,e_=JS||TI,Ev=JS||Et.useLayoutEffect,t_=Et.createContext(typeof HTMLElement<"u"?dI({key:"css"}):null);t_.Provider;var bE=function(e){return Et.forwardRef(function(t,n){var r=Et.useContext(t_);return e(t,r,n)})},Ph=Et.createContext({}),EE={}.hasOwnProperty,xb="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",SI=function(e,t){var n={};for(var r in t)EE.call(t,r)&&(n[r]=t[r]);return n[xb]=e,n},_I=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return pE(t,n,r),e_(function(){return yE(t,n,r)}),null},AI=bE(function(i,e,t){var n=i.css;typeof n=="string"&&e.registered[n]!==void 0&&(n=e.registered[n]);var r=i[xb],o=[n],u="";typeof i.className=="string"?u=QS(e.registered,o,i.className):i.className!=null&&(u=i.className+" ");var d=Mh(o,void 0,Et.useContext(Ph));u+=e.key+"-"+d.name;var h={};for(var f in i)EE.call(i,f)&&f!=="css"&&f!==xb&&(h[f]=i[f]);return h.className=u,t&&(h.ref=t),Et.createElement(Et.Fragment,null,Et.createElement(_I,{cache:e,serialized:d,isStringTag:typeof r=="string"}),Et.createElement(r,h))}),RI=AI,vv=function(e,t){var n=arguments;if(t==null||!EE.call(t,"css"))return Et.createElement.apply(void 0,n);var r=n.length,o=new Array(r);o[0]=RI,o[1]=SI(e,t);for(var u=2;u<r;u++)o[u]=n[u];return Et.createElement.apply(null,o)};(function(i){var e;e||(e=i.JSX||(i.JSX={}))})(vv||(vv={}));var xI=bE(function(i,e){var t=i.styles,n=Mh([t],void 0,Et.useContext(Ph)),r=Et.useRef();return Ev(function(){var o=e.key+"-global",u=new e.sheet.constructor({key:o,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),d=!1,h=document.querySelector('style[data-emotion="'+o+" "+n.name+'"]');return e.sheet.tags.length&&(u.before=e.sheet.tags[0]),h!==null&&(d=!0,h.setAttribute("data-emotion",o),u.hydrate([h])),r.current=[u,d],function(){u.flush()}},[e]),Ev(function(){var o=r.current,u=o[0],d=o[1];if(d){o[1]=!1;return}if(n.next!==void 0&&yE(e,n.next,!0),u.tags.length){var h=u.tags[u.tags.length-1].nextElementSibling;u.before=h,u.flush()}e.insert("",n,u,!1)},[e,n.name]),null});function vE(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return Mh(e)}function zh(){var i=vE.apply(void 0,arguments),e="animation-"+i.name;return{name:e,styles:"@keyframes "+e+"{"+i.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var II=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,wI=WS(function(i){return II.test(i)||i.charCodeAt(0)===111&&i.charCodeAt(1)===110&&i.charCodeAt(2)<91}),kI=wI,CI=function(e){return e!=="theme"},Tv=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?kI:CI},Sv=function(e,t,n){var r;if(t){var o=t.shouldForwardProp;r=e.__emotion_forwardProp&&o?function(u){return e.__emotion_forwardProp(u)&&o(u)}:o}return typeof r!="function"&&n&&(r=e.__emotion_forwardProp),r},DI=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return pE(t,n,r),e_(function(){return yE(t,n,r)}),null},LI=function i(e,t){var n=e.__emotion_real===e,r=n&&e.__emotion_base||e,o,u;t!==void 0&&(o=t.label,u=t.target);var d=Sv(e,t,n),h=d||Tv(r),f=!h("as");return function(){var y=arguments,m=n&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(o!==void 0&&m.push("label:"+o+";"),y[0]==null||y[0].raw===void 0)m.push.apply(m,y);else{var p=y[0];m.push(p[0]);for(var T=y.length,v=1;v<T;v++)m.push(y[v],p[v])}var A=bE(function(k,B,$){var K=f&&k.as||r,ue="",me=[],Te=k;if(k.theme==null){Te={};for(var X in k)Te[X]=k[X];Te.theme=Et.useContext(Ph)}typeof k.className=="string"?ue=QS(B.registered,me,k.className):k.className!=null&&(ue=k.className+" ");var Q=Mh(m.concat(me),B.registered,Te);ue+=B.key+"-"+Q.name,u!==void 0&&(ue+=" "+u);var be=f&&d===void 0?Tv(K):h,F={};for(var ke in k)f&&ke==="as"||be(ke)&&(F[ke]=k[ke]);return F.className=ue,$&&(F.ref=$),Et.createElement(Et.Fragment,null,Et.createElement(DI,{cache:B,serialized:Q,isStringTag:typeof K=="string"}),Et.createElement(K,F))});return A.displayName=o!==void 0?o:"Styled("+(typeof r=="string"?r:r.displayName||r.name||"Component")+")",A.defaultProps=e.defaultProps,A.__emotion_real=A,A.__emotion_base=r,A.__emotion_styles=m,A.__emotion_forwardProp=d,Object.defineProperty(A,"toString",{value:function(){return"."+u}}),A.withComponent=function(k,B){var $=i(k,op({},t,B,{shouldForwardProp:Sv(A,B,!0)}));return $.apply(void 0,m)},A}},NI=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Ib=LI.bind(null);NI.forEach(function(i){Ib[i]=Ib(i)});function OI(i){return i==null||Object.keys(i).length===0}function n_(i){const{styles:e,defaultTheme:t={}}=i,n=typeof e=="function"?r=>e(OI(r)?t:r):e;return bn.jsx(xI,{styles:n})}function r_(i,e){return Ib(i,e)}function MI(i,e){Array.isArray(i.__emotion_styles)&&(i.__emotion_styles=e(i.__emotion_styles))}const _v=[];function Av(i){return _v[0]=i,Mh(_v)}var Hy={exports:{}},Vr={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rv;function PI(){if(Rv)return Vr;Rv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),y=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.for("react.view_transition"),T=Symbol.for("react.client.reference");function v(A){if(typeof A=="object"&&A!==null){var k=A.$$typeof;switch(k){case i:switch(A=A.type,A){case t:case r:case n:case h:case f:case p:return A;default:switch(A=A&&A.$$typeof,A){case u:case d:case m:case y:return A;case o:return A;default:return k}}case e:return k}}}return Vr.ContextConsumer=o,Vr.ContextProvider=u,Vr.Element=i,Vr.ForwardRef=d,Vr.Fragment=t,Vr.Lazy=m,Vr.Memo=y,Vr.Portal=e,Vr.Profiler=r,Vr.StrictMode=n,Vr.Suspense=h,Vr.SuspenseList=f,Vr.isContextConsumer=function(A){return v(A)===o},Vr.isContextProvider=function(A){return v(A)===u},Vr.isElement=function(A){return typeof A=="object"&&A!==null&&A.$$typeof===i},Vr.isForwardRef=function(A){return v(A)===d},Vr.isFragment=function(A){return v(A)===t},Vr.isLazy=function(A){return v(A)===m},Vr.isMemo=function(A){return v(A)===y},Vr.isPortal=function(A){return v(A)===e},Vr.isProfiler=function(A){return v(A)===r},Vr.isStrictMode=function(A){return v(A)===n},Vr.isSuspense=function(A){return v(A)===h},Vr.isSuspenseList=function(A){return v(A)===f},Vr.isValidElementType=function(A){return typeof A=="string"||typeof A=="function"||A===t||A===r||A===n||A===h||A===f||typeof A=="object"&&A!==null&&(A.$$typeof===m||A.$$typeof===y||A.$$typeof===u||A.$$typeof===o||A.$$typeof===d||A.$$typeof===T||A.getModuleId!==void 0)},Vr.typeOf=v,Vr}var xv;function zI(){return xv||(xv=1,Hy.exports=PI()),Hy.exports}var i_=zI();function Js(i){if(typeof i!="object"||i===null)return!1;const e=Object.getPrototypeOf(i);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)}function a_(i){if(Et.isValidElement(i)||i_.isValidElementType(i)||!Js(i))return i;const e={};return Object.keys(i).forEach(t=>{e[t]=a_(i[t])}),e}function va(i,e,t={clone:!0}){const n=t.clone?{...i}:i;return Js(i)&&Js(e)&&Object.keys(e).forEach(r=>{Et.isValidElement(e[r])||i_.isValidElementType(e[r])?n[r]=e[r]:Js(e[r])&&Object.prototype.hasOwnProperty.call(i,r)&&Js(i[r])?n[r]=va(i[r],e[r],t):t.clone?n[r]=Js(e[r])?a_(e[r]):e[r]:n[r]=e[r]}),n}const FI=i=>{const e=Object.keys(i).map(t=>({key:t,val:i[t]}))||[];return e.sort((t,n)=>t.val-n.val),e.reduce((t,n)=>({...t,[n.key]:n.val}),{})};function UI(i){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:t="px",step:n=5,...r}=i,o=FI(e),u=Object.keys(o);function d(p){return`@media (min-width:${typeof e[p]=="number"?e[p]:p}${t})`}function h(p){return`@media (max-width:${(typeof e[p]=="number"?e[p]:p)-n/100}${t})`}function f(p,T){const v=u.indexOf(T);return`@media (min-width:${typeof e[p]=="number"?e[p]:p}${t}) and (max-width:${(v!==-1&&typeof e[u[v]]=="number"?e[u[v]]:T)-n/100}${t})`}function y(p){return u.indexOf(p)+1<u.length?f(p,u[u.indexOf(p)+1]):d(p)}function m(p){const T=u.indexOf(p);return T===0?d(u[1]):T===u.length-1?h(u[T]):f(p,u[u.indexOf(p)+1]).replace("@media","@media not all and")}return{keys:u,values:o,up:d,down:h,between:f,only:y,not:m,unit:t,...r}}function BI(i,e){if(!i.containerQueries)return e;const t=Object.keys(e).filter(n=>n.startsWith("@container")).sort((n,r)=>{var u,d;const o=/min-width:\s*([0-9.]+)/;return+(((u=n.match(o))==null?void 0:u[1])||0)-+(((d=r.match(o))==null?void 0:d[1])||0)});return t.length?t.reduce((n,r)=>{const o=e[r];return delete n[r],n[r]=o,n},{...e}):e}function jI(i,e){return e==="@"||e.startsWith("@")&&(i.some(t=>e.startsWith(`@${t}`))||!!e.match(/^@\d/))}function qI(i,e){const t=e.match(/^@([^/]+)?\/?(.+)?$/);if(!t)return null;const[,n,r]=t,o=Number.isNaN(+n)?n||0:+n;return i.containerQueries(r).up(o)}function GI(i){const e=(o,u)=>o.replace("@media",u?`@container ${u}`:"@container");function t(o,u){o.up=(...d)=>e(i.breakpoints.up(...d),u),o.down=(...d)=>e(i.breakpoints.down(...d),u),o.between=(...d)=>e(i.breakpoints.between(...d),u),o.only=(...d)=>e(i.breakpoints.only(...d),u),o.not=(...d)=>{const h=e(i.breakpoints.not(...d),u);return h.includes("not all and")?h.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):h}}const n={},r=o=>(t(n,o),n);return t(r),{...i,containerQueries:r}}const $I={borderRadius:4};function ph(i,e){return e?va(i,e,{clone:!1}):i}const Np={xs:0,sm:600,md:900,lg:1200,xl:1536},Iv={keys:["xs","sm","md","lg","xl"],up:i=>`@media (min-width:${Np[i]}px)`},HI={containerQueries:i=>({up:e=>{let t=typeof e=="number"?e:Np[e]||e;return typeof t=="number"&&(t=`${t}px`),i?`@container ${i} (min-width:${t})`:`@container (min-width:${t})`}})};function ks(i,e,t){const n=i.theme||{};if(Array.isArray(e)){const o=n.breakpoints||Iv;return e.reduce((u,d,h)=>(u[o.up(o.keys[h])]=t(e[h]),u),{})}if(typeof e=="object"){const o=n.breakpoints||Iv;return Object.keys(e).reduce((u,d)=>{if(jI(o.keys,d)){const h=qI(n.containerQueries?n:HI,d);h&&(u[h]=t(e[d],d))}else if(Object.keys(o.values||Np).includes(d)){const h=o.up(d);u[h]=t(e[d],d)}else{const h=d;u[h]=e[h]}return u},{})}return t(e)}function s_(i={}){var t;return((t=i.keys)==null?void 0:t.reduce((n,r)=>{const o=i.up(r);return n[o]={},n},{}))||{}}function o_(i,e){return i.reduce((t,n)=>{const r=t[n];return(!r||Object.keys(r).length===0)&&delete t[n],t},e)}function VI(i,...e){const t=s_(i),n=[t,...e].reduce((r,o)=>va(r,o),{});return o_(Object.keys(t),n)}function KI(i,e){if(typeof i!="object")return{};const t={},n=Object.keys(e);return Array.isArray(i)?n.forEach((r,o)=>{o<i.length&&(t[r]=!0)}):n.forEach(r=>{i[r]!=null&&(t[r]=!0)}),t}function Vy({values:i,breakpoints:e,base:t}){const n=t||KI(i,e),r=Object.keys(n);if(r.length===0)return i;let o;return r.reduce((u,d,h)=>(Array.isArray(i)?(u[d]=i[h]!=null?i[h]:i[o],o=h):typeof i=="object"?(u[d]=i[d]!=null?i[d]:i[o],o=d):u[d]=i,u),{})}function xr(i){if(typeof i!="string")throw new Error(Du(7));return i.charAt(0).toUpperCase()+i.slice(1)}function Op(i,e,t=!0){if(!e||typeof e!="string")return null;if(i&&i.vars&&t){const n=`vars.${e}`.split(".").reduce((r,o)=>r&&r[o]?r[o]:null,i);if(n!=null)return n}return e.split(".").reduce((n,r)=>n&&n[r]!=null?n[r]:null,i)}function up(i,e,t,n=t){let r;return typeof i=="function"?r=i(t):Array.isArray(i)?r=i[t]||n:r=Op(i,t)||n,e&&(r=e(r,n,i)),r}function Ti(i){const{prop:e,cssProperty:t=i.prop,themeKey:n,transform:r}=i,o=u=>{if(u[e]==null)return null;const d=u[e],h=u.theme,f=Op(h,n)||{};return ks(u,d,m=>{let p=up(f,r,m);return m===p&&typeof m=="string"&&(p=up(f,r,`${e}${m==="default"?"":xr(m)}`,m)),t===!1?p:{[t]:p}})};return o.propTypes={},o.filterProps=[e],o}function YI(i){const e={};return t=>(e[t]===void 0&&(e[t]=i(t)),e[t])}const WI={m:"margin",p:"padding"},XI={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},wv={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},QI=YI(i=>{if(i.length>2)if(wv[i])i=wv[i];else return[i];const[e,t]=i.split(""),n=WI[e],r=XI[t]||"";return Array.isArray(r)?r.map(o=>n+o):[n+r]}),TE=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],SE=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...TE,...SE];function Fh(i,e,t,n){const r=Op(i,e,!0)??t;return typeof r=="number"||typeof r=="string"?o=>typeof o=="string"?o:typeof r=="string"?r.startsWith("var(")&&o===0?0:r.startsWith("var(")&&o===1?r:`calc(${o} * ${r})`:r*o:Array.isArray(r)?o=>{if(typeof o=="string")return o;const u=Math.abs(o),d=r[u];return o>=0?d:typeof d=="number"?-d:typeof d=="string"&&d.startsWith("var(")?`calc(-1 * ${d})`:`-${d}`}:typeof r=="function"?r:()=>{}}function Mp(i){return Fh(i,"spacing",8)}function Lu(i,e){return typeof e=="string"||e==null?e:i(e)}function ZI(i,e){return t=>i.reduce((n,r)=>(n[r]=Lu(e,t),n),{})}function JI(i,e,t,n){if(!e.includes(t))return null;const r=QI(t),o=ZI(r,n),u=i[t];return ks(i,u,o)}function l_(i,e){const t=Mp(i.theme);return Object.keys(i).map(n=>JI(i,e,n,t)).reduce(ph,{})}function fi(i){return l_(i,TE)}fi.propTypes={};fi.filterProps=TE;function hi(i){return l_(i,SE)}hi.propTypes={};hi.filterProps=SE;function u_(i=8,e=Mp({spacing:i})){if(i.mui)return i;const t=(...n)=>(n.length===0?[1]:n).map(o=>{const u=e(o);return typeof u=="number"?`${u}px`:u}).join(" ");return t.mui=!0,t}function Pp(...i){const e=i.reduce((n,r)=>(r.filterProps.forEach(o=>{n[o]=r}),n),{}),t=n=>Object.keys(n).reduce((r,o)=>e[o]?ph(r,e[o](n)):r,{});return t.propTypes={},t.filterProps=i.reduce((n,r)=>n.concat(r.filterProps),[]),t}function ls(i){return typeof i!="number"?i:`${i}px solid`}function fs(i,e){return Ti({prop:i,themeKey:"borders",transform:e})}const ew=fs("border",ls),tw=fs("borderTop",ls),nw=fs("borderRight",ls),rw=fs("borderBottom",ls),iw=fs("borderLeft",ls),aw=fs("borderColor"),sw=fs("borderTopColor"),ow=fs("borderRightColor"),lw=fs("borderBottomColor"),uw=fs("borderLeftColor"),cw=fs("outline",ls),dw=fs("outlineColor"),zp=i=>{if(i.borderRadius!==void 0&&i.borderRadius!==null){const e=Fh(i.theme,"shape.borderRadius",4),t=n=>({borderRadius:Lu(e,n)});return ks(i,i.borderRadius,t)}return null};zp.propTypes={};zp.filterProps=["borderRadius"];Pp(ew,tw,nw,rw,iw,aw,sw,ow,lw,uw,zp,cw,dw);const Fp=i=>{if(i.gap!==void 0&&i.gap!==null){const e=Fh(i.theme,"spacing",8),t=n=>({gap:Lu(e,n)});return ks(i,i.gap,t)}return null};Fp.propTypes={};Fp.filterProps=["gap"];const Up=i=>{if(i.columnGap!==void 0&&i.columnGap!==null){const e=Fh(i.theme,"spacing",8),t=n=>({columnGap:Lu(e,n)});return ks(i,i.columnGap,t)}return null};Up.propTypes={};Up.filterProps=["columnGap"];const Bp=i=>{if(i.rowGap!==void 0&&i.rowGap!==null){const e=Fh(i.theme,"spacing",8),t=n=>({rowGap:Lu(e,n)});return ks(i,i.rowGap,t)}return null};Bp.propTypes={};Bp.filterProps=["rowGap"];const fw=Ti({prop:"gridColumn"}),hw=Ti({prop:"gridRow"}),gw=Ti({prop:"gridAutoFlow"}),mw=Ti({prop:"gridAutoColumns"}),pw=Ti({prop:"gridAutoRows"}),yw=Ti({prop:"gridTemplateColumns"}),bw=Ti({prop:"gridTemplateRows"}),Ew=Ti({prop:"gridTemplateAreas"}),vw=Ti({prop:"gridArea"});Pp(Fp,Up,Bp,fw,hw,gw,mw,pw,yw,bw,Ew,vw);function hd(i,e){return e==="grey"?e:i}const Tw=Ti({prop:"color",themeKey:"palette",transform:hd}),Sw=Ti({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:hd}),_w=Ti({prop:"backgroundColor",themeKey:"palette",transform:hd});Pp(Tw,Sw,_w);function $a(i){return i<=1&&i!==0?`${i*100}%`:i}const Aw=Ti({prop:"width",transform:$a}),_E=i=>{if(i.maxWidth!==void 0&&i.maxWidth!==null){const e=t=>{var r,o,u,d,h;const n=((u=(o=(r=i.theme)==null?void 0:r.breakpoints)==null?void 0:o.values)==null?void 0:u[t])||Np[t];return n?((h=(d=i.theme)==null?void 0:d.breakpoints)==null?void 0:h.unit)!=="px"?{maxWidth:`${n}${i.theme.breakpoints.unit}`}:{maxWidth:n}:{maxWidth:$a(t)}};return ks(i,i.maxWidth,e)}return null};_E.filterProps=["maxWidth"];const Rw=Ti({prop:"minWidth",transform:$a}),xw=Ti({prop:"height",transform:$a}),Iw=Ti({prop:"maxHeight",transform:$a}),ww=Ti({prop:"minHeight",transform:$a});Ti({prop:"size",cssProperty:"width",transform:$a});Ti({prop:"size",cssProperty:"height",transform:$a});const kw=Ti({prop:"boxSizing"});Pp(Aw,_E,Rw,xw,Iw,ww,kw);const Uh={border:{themeKey:"borders",transform:ls},borderTop:{themeKey:"borders",transform:ls},borderRight:{themeKey:"borders",transform:ls},borderBottom:{themeKey:"borders",transform:ls},borderLeft:{themeKey:"borders",transform:ls},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:ls},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:zp},color:{themeKey:"palette",transform:hd},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:hd},backgroundColor:{themeKey:"palette",transform:hd},p:{style:hi},pt:{style:hi},pr:{style:hi},pb:{style:hi},pl:{style:hi},px:{style:hi},py:{style:hi},padding:{style:hi},paddingTop:{style:hi},paddingRight:{style:hi},paddingBottom:{style:hi},paddingLeft:{style:hi},paddingX:{style:hi},paddingY:{style:hi},paddingInline:{style:hi},paddingInlineStart:{style:hi},paddingInlineEnd:{style:hi},paddingBlock:{style:hi},paddingBlockStart:{style:hi},paddingBlockEnd:{style:hi},m:{style:fi},mt:{style:fi},mr:{style:fi},mb:{style:fi},ml:{style:fi},mx:{style:fi},my:{style:fi},margin:{style:fi},marginTop:{style:fi},marginRight:{style:fi},marginBottom:{style:fi},marginLeft:{style:fi},marginX:{style:fi},marginY:{style:fi},marginInline:{style:fi},marginInlineStart:{style:fi},marginInlineEnd:{style:fi},marginBlock:{style:fi},marginBlockStart:{style:fi},marginBlockEnd:{style:fi},displayPrint:{cssProperty:!1,transform:i=>({"@media print":{display:i}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Fp},rowGap:{style:Bp},columnGap:{style:Up},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:$a},maxWidth:{style:_E},minWidth:{transform:$a},height:{transform:$a},maxHeight:{transform:$a},minHeight:{transform:$a},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function Cw(...i){const e=i.reduce((n,r)=>n.concat(Object.keys(r)),[]),t=new Set(e);return i.every(n=>t.size===Object.keys(n).length)}function Dw(i,e){return typeof i=="function"?i(e):i}function Lw(){function i(t,n,r,o){const u={[t]:n,theme:r},d=o[t];if(!d)return{[t]:n};const{cssProperty:h=t,themeKey:f,transform:y,style:m}=d;if(n==null)return null;if(f==="typography"&&n==="inherit")return{[t]:n};const p=Op(r,f)||{};return m?m(u):ks(u,n,v=>{let A=up(p,y,v);return v===A&&typeof v=="string"&&(A=up(p,y,`${t}${v==="default"?"":xr(v)}`,v)),h===!1?A:{[h]:A}})}function e(t){const{sx:n,theme:r={}}=t||{};if(!n)return null;const o=r.unstable_sxConfig??Uh;function u(d){let h=d;if(typeof d=="function")h=d(r);else if(typeof d!="object")return d;if(!h)return null;const f=s_(r.breakpoints),y=Object.keys(f);let m=f;return Object.keys(h).forEach(p=>{const T=Dw(h[p],r);if(T!=null)if(typeof T=="object")if(o[p])m=ph(m,i(p,T,r,o));else{const v=ks({theme:r},T,A=>({[p]:A}));Cw(v,T)?m[p]=e({sx:T,theme:r}):m=ph(m,v)}else m=ph(m,i(p,T,r,o))}),BI(r,o_(y,m))}return Array.isArray(n)?n.map(u):u(n)}return e}const kl=Lw();kl.filterProps=["sx"];function Nw(i,e){var n;const t=this;if(t.vars){if(!((n=t.colorSchemes)!=null&&n[i])||typeof t.getColorSchemeSelector!="function")return{};let r=t.getColorSchemeSelector(i);return r==="&"?e:((r.includes("data-")||r.includes("."))&&(r=`*:where(${r.replace(/\s*&$/,"")}) &`),{[r]:e})}return t.palette.mode===i?e:{}}function jp(i={},...e){const{breakpoints:t={},palette:n={},spacing:r,shape:o={},...u}=i,d=UI(t),h=u_(r);let f=va({breakpoints:d,direction:"ltr",components:{},palette:{mode:"light",...n},spacing:h,shape:{...$I,...o}},u);return f=GI(f),f.applyStyles=Nw,f=e.reduce((y,m)=>va(y,m),f),f.unstable_sxConfig={...Uh,...u==null?void 0:u.unstable_sxConfig},f.unstable_sx=function(m){return kl({sx:m,theme:this})},f}function Ow(i){return Object.keys(i).length===0}function c_(i=null){const e=Et.useContext(Ph);return!e||Ow(e)?i:e}const Mw=jp();function qp(i=Mw){return c_(i)}function Pw({styles:i,themeId:e,defaultTheme:t={}}){const n=qp(t),r=typeof i=="function"?i(e&&n[e]||n):i;return bn.jsx(n_,{styles:r})}const zw=i=>{var n;const e={systemProps:{},otherProps:{}},t=((n=i==null?void 0:i.theme)==null?void 0:n.unstable_sxConfig)??Uh;return Object.keys(i).forEach(r=>{t[r]?e.systemProps[r]=i[r]:e.otherProps[r]=i[r]}),e};function AE(i){const{sx:e,...t}=i,{systemProps:n,otherProps:r}=zw(t);let o;return Array.isArray(e)?o=[n,...e]:typeof e=="function"?o=(...u)=>{const d=e(...u);return Js(d)?{...n,...d}:n}:o={...n,...e},{...r,sx:o}}const kv=i=>i,Fw=()=>{let i=kv;return{configure(e){i=e},generate(e){return i(e)},reset(){i=kv}}},d_=Fw();function f_(i){var e,t,n="";if(typeof i=="string"||typeof i=="number")n+=i;else if(typeof i=="object")if(Array.isArray(i)){var r=i.length;for(e=0;e<r;e++)i[e]&&(t=f_(i[e]))&&(n&&(n+=" "),n+=t)}else for(t in i)i[t]&&(n&&(n+=" "),n+=t);return n}function Zr(){for(var i,e,t=0,n="",r=arguments.length;t<r;t++)(i=arguments[t])&&(e=f_(i))&&(n&&(n+=" "),n+=e);return n}function Uw(i={}){const{themeId:e,defaultTheme:t,defaultClassName:n="MuiBox-root",generateClassName:r}=i,o=r_("div",{shouldForwardProp:d=>d!=="theme"&&d!=="sx"&&d!=="as"})(kl);return Et.forwardRef(function(h,f){const y=qp(t),{className:m,component:p="div",...T}=AE(h);return bn.jsx(o,{as:p,ref:f,className:Zr(m,r?r(n):n),theme:e&&y[e]||y,...T})})}const Bw={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Ka(i,e,t="Mui"){const n=Bw[e];return n?`${t}-${n}`:`${d_.generate(i)}-${e}`}function Ya(i,e,t="Mui"){const n={};return e.forEach(r=>{n[r]=Ka(i,r,t)}),n}function h_(i){const{variants:e,...t}=i,n={variants:e,style:Av(t),isProcessed:!0};return n.style===t||e&&e.forEach(r=>{typeof r.style!="function"&&(r.style=Av(r.style))}),n}const jw=jp();function Ky(i){return i!=="ownerState"&&i!=="theme"&&i!=="sx"&&i!=="as"}function qw(i){return i?(e,t)=>t[i]:null}function Gw(i,e,t){i.theme=Hw(i.theme)?t:i.theme[e]||i.theme}function Wm(i,e){const t=typeof e=="function"?e(i):e;if(Array.isArray(t))return t.flatMap(n=>Wm(i,n));if(Array.isArray(t==null?void 0:t.variants)){let n;if(t.isProcessed)n=t.style;else{const{variants:r,...o}=t;n=o}return g_(i,t.variants,[n])}return t!=null&&t.isProcessed?t.style:t}function g_(i,e,t=[]){var r;let n;e:for(let o=0;o<e.length;o+=1){const u=e[o];if(typeof u.props=="function"){if(n??(n={...i,...i.ownerState,ownerState:i.ownerState}),!u.props(n))continue}else for(const d in u.props)if(i[d]!==u.props[d]&&((r=i.ownerState)==null?void 0:r[d])!==u.props[d])continue e;typeof u.style=="function"?(n??(n={...i,...i.ownerState,ownerState:i.ownerState}),t.push(u.style(n))):t.push(u.style)}return t}function m_(i={}){const{themeId:e,defaultTheme:t=jw,rootShouldForwardProp:n=Ky,slotShouldForwardProp:r=Ky}=i;function o(d){Gw(d,e,t)}return(d,h={})=>{MI(d,me=>me.filter(Te=>Te!==kl));const{name:f,slot:y,skipVariantsResolver:m,skipSx:p,overridesResolver:T=qw(Kw(y)),...v}=h,A=m!==void 0?m:y&&y!=="Root"&&y!=="root"||!1,k=p||!1;let B=Ky;y==="Root"||y==="root"?B=n:y?B=r:Vw(d)&&(B=void 0);const $=r_(d,{shouldForwardProp:B,label:$w(),...v}),K=me=>{if(me.__emotion_real===me)return me;if(typeof me=="function")return function(X){return Wm(X,me)};if(Js(me)){const Te=h_(me);return Te.variants?function(Q){return Wm(Q,Te)}:Te.style}return me},ue=(...me)=>{const Te=[],X=me.map(K),Q=[];if(Te.push(o),f&&T&&Q.push(function(Qe){var _e,$e;const Ye=($e=(_e=Qe.theme.components)==null?void 0:_e[f])==null?void 0:$e.styleOverrides;if(!Ye)return null;const Ge={};for(const Je in Ye)Ge[Je]=Wm(Qe,Ye[Je]);return T(Qe,Ge)}),f&&!A&&Q.push(function(Qe){var Ge,_e;const xe=Qe.theme,Ye=(_e=(Ge=xe==null?void 0:xe.components)==null?void 0:Ge[f])==null?void 0:_e.variants;return Ye?g_(Qe,Ye):null}),k||Q.push(kl),Array.isArray(X[0])){const ke=X.shift(),Qe=new Array(Te.length).fill(""),xe=new Array(Q.length).fill("");let Ye;Ye=[...Qe,...ke,...xe],Ye.raw=[...Qe,...ke.raw,...xe],Te.unshift(Ye)}const be=[...Te,...X,...Q],F=$(...be);return d.muiName&&(F.muiName=d.muiName),F};return $.withConfig&&(ue.withConfig=$.withConfig),ue}}function $w(i,e){return void 0}function Hw(i){for(const e in i)return!1;return!0}function Vw(i){return typeof i=="string"&&i.charCodeAt(0)>96}function Kw(i){return i&&i.charAt(0).toLowerCase()+i.slice(1)}const Yw=m_();function cp(i,e){const t={...e};for(const n in i)if(Object.prototype.hasOwnProperty.call(i,n)){const r=n;if(r==="components"||r==="slots")t[r]={...i[r],...t[r]};else if(r==="componentsProps"||r==="slotProps"){const o=i[r],u=e[r];if(!u)t[r]=o||{};else if(!o)t[r]=u;else{t[r]={...u};for(const d in o)if(Object.prototype.hasOwnProperty.call(o,d)){const h=d;t[r][h]=cp(o[h],u[h])}}}else t[r]===void 0&&(t[r]=i[r])}return t}function Ww(i){const{theme:e,name:t,props:n}=i;return!e||!e.components||!e.components[t]||!e.components[t].defaultProps?n:cp(e.components[t].defaultProps,n)}function Xw({props:i,name:e,defaultTheme:t,themeId:n}){let r=qp(t);return n&&(r=r[n]||r),Ww({theme:r,name:e,props:i})}const RE=typeof window<"u"?Et.useLayoutEffect:Et.useEffect;function od(i,e=Number.MIN_SAFE_INTEGER,t=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(i,t))}function xE(i,e=0,t=1){return od(i,e,t)}function Qw(i){i=i.slice(1);const e=new RegExp(`.{1,${i.length>=6?2:1}}`,"g");let t=i.match(e);return t&&t[0].length===1&&(t=t.map(n=>n+n)),t?`rgb${t.length===4?"a":""}(${t.map((n,r)=>r<3?parseInt(n,16):Math.round(parseInt(n,16)/255*1e3)/1e3).join(", ")})`:""}function Cl(i){if(i.type)return i;if(i.charAt(0)==="#")return Cl(Qw(i));const e=i.indexOf("("),t=i.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(t))throw new Error(Du(9,i));let n=i.substring(e+1,i.length-1),r;if(t==="color"){if(n=n.split(" "),r=n.shift(),n.length===4&&n[3].charAt(0)==="/"&&(n[3]=n[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(r))throw new Error(Du(10,r))}else n=n.split(",");return n=n.map(o=>parseFloat(o)),{type:t,values:n,colorSpace:r}}const Zw=i=>{const e=Cl(i);return e.values.slice(0,3).map((t,n)=>e.type.includes("hsl")&&n!==0?`${t}%`:t).join(" ")},fh=(i,e)=>{try{return Zw(i)}catch{return i}};function Gp(i){const{type:e,colorSpace:t}=i;let{values:n}=i;return e.includes("rgb")?n=n.map((r,o)=>o<3?parseInt(r,10):r):e.includes("hsl")&&(n[1]=`${n[1]}%`,n[2]=`${n[2]}%`),e.includes("color")?n=`${t} ${n.join(" ")}`:n=`${n.join(", ")}`,`${e}(${n})`}function p_(i){i=Cl(i);const{values:e}=i,t=e[0],n=e[1]/100,r=e[2]/100,o=n*Math.min(r,1-r),u=(f,y=(f+t/30)%12)=>r-o*Math.max(Math.min(y-3,9-y,1),-1);let d="rgb";const h=[Math.round(u(0)*255),Math.round(u(8)*255),Math.round(u(4)*255)];return i.type==="hsla"&&(d+="a",h.push(e[3])),Gp({type:d,values:h})}function wb(i){i=Cl(i);let e=i.type==="hsl"||i.type==="hsla"?Cl(p_(i)).values:i.values;return e=e.map(t=>(i.type!=="color"&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function Jw(i,e){const t=wb(i),n=wb(e);return(Math.max(t,n)+.05)/(Math.min(t,n)+.05)}function Nu(i,e){return i=Cl(i),e=xE(e),(i.type==="rgb"||i.type==="hsl")&&(i.type+="a"),i.type==="color"?i.values[3]=`/${e}`:i.values[3]=e,Gp(i)}function Sm(i,e,t){try{return Nu(i,e)}catch{return i}}function Ou(i,e){if(i=Cl(i),e=xE(e),i.type.includes("hsl"))i.values[2]*=1-e;else if(i.type.includes("rgb")||i.type.includes("color"))for(let t=0;t<3;t+=1)i.values[t]*=1-e;return Gp(i)}function Xr(i,e,t){try{return Ou(i,e)}catch{return i}}function Mu(i,e){if(i=Cl(i),e=xE(e),i.type.includes("hsl"))i.values[2]+=(100-i.values[2])*e;else if(i.type.includes("rgb"))for(let t=0;t<3;t+=1)i.values[t]+=(255-i.values[t])*e;else if(i.type.includes("color"))for(let t=0;t<3;t+=1)i.values[t]+=(1-i.values[t])*e;return Gp(i)}function Qr(i,e,t){try{return Mu(i,e)}catch{return i}}function kb(i,e=.15){return wb(i)>.5?Ou(i,e):Mu(i,e)}function _m(i,e,t){try{return kb(i,e)}catch{return i}}const y_=Et.createContext(null);function IE(){return Et.useContext(y_)}const ek=typeof Symbol=="function"&&Symbol.for,tk=ek?Symbol.for("mui.nested"):"__THEME_NESTED__";function nk(i,e){return typeof e=="function"?e(i):{...i,...e}}function rk(i){const{children:e,theme:t}=i,n=IE(),r=Et.useMemo(()=>{const o=n===null?{...t}:nk(n,t);return o!=null&&(o[tk]=n!==null),o},[t,n]);return bn.jsx(y_.Provider,{value:r,children:e})}const b_=Et.createContext();function ik({value:i,...e}){return bn.jsx(b_.Provider,{value:i??!0,...e})}const ak=()=>Et.useContext(b_)??!1,E_=Et.createContext(void 0);function sk({value:i,children:e}){return bn.jsx(E_.Provider,{value:i,children:e})}function ok(i){const{theme:e,name:t,props:n}=i;if(!e||!e.components||!e.components[t])return n;const r=e.components[t];return r.defaultProps?cp(r.defaultProps,n):!r.styleOverrides&&!r.variants?cp(r,n):n}function lk({props:i,name:e}){const t=Et.useContext(E_);return ok({props:i,name:e,theme:{components:t}})}const Cv={};function Dv(i,e,t,n=!1){return Et.useMemo(()=>{const r=i&&e[i]||e;if(typeof t=="function"){const o=t(r),u=i?{...e,[i]:o}:o;return n?()=>u:u}return i?{...e,[i]:t}:{...e,...t}},[i,e,t,n])}function v_(i){const{children:e,theme:t,themeId:n}=i,r=c_(Cv),o=IE()||Cv,u=Dv(n,r,t),d=Dv(n,o,t,!0),h=(n?u[n]:u).direction==="rtl";return bn.jsx(rk,{theme:d,children:bn.jsx(Ph.Provider,{value:u,children:bn.jsx(ik,{value:h,children:bn.jsx(sk,{value:n?u[n].components:u.components,children:e})})})})}const Lv={theme:void 0};function uk(i){let e,t;return function(r){let o=e;return(o===void 0||r.theme!==t)&&(Lv.theme=r.theme,o=h_(i(Lv)),e=o,t=r.theme),o}}const wE="mode",kE="color-scheme",ck="data-color-scheme";function dk(i){const{defaultMode:e="system",defaultLightColorScheme:t="light",defaultDarkColorScheme:n="dark",modeStorageKey:r=wE,colorSchemeStorageKey:o=kE,attribute:u=ck,colorSchemeNode:d="document.documentElement",nonce:h}=i||{};let f="",y=u;if(u==="class"&&(y=".%s"),u==="data"&&(y="[data-%s]"),y.startsWith(".")){const p=y.substring(1);f+=`${d}.classList.remove('${p}'.replace('%s', light), '${p}'.replace('%s', dark));
      ${d}.classList.add('${p}'.replace('%s', colorScheme));`}const m=y.match(/\[([^\]]+)\]/);if(m){const[p,T]=m[1].split("=");T||(f+=`${d}.removeAttribute('${p}'.replace('%s', light));
      ${d}.removeAttribute('${p}'.replace('%s', dark));`),f+=`
      ${d}.setAttribute('${p}'.replace('%s', colorScheme), ${T?`${T}.replace('%s', colorScheme)`:'""'});`}else f+=`${d}.setAttribute('${y}', colorScheme);`;return bn.jsx("script",{suppressHydrationWarning:!0,nonce:typeof window>"u"?h:"",dangerouslySetInnerHTML:{__html:`(function() {
try {
  let colorScheme = '';
  const mode = localStorage.getItem('${r}') || '${e}';
  const dark = localStorage.getItem('${o}-dark') || '${n}';
  const light = localStorage.getItem('${o}-light') || '${t}';
  if (mode === 'system') {
    // handle system mode
    const mql = window.matchMedia('(prefers-color-scheme: dark)');
    if (mql.matches) {
      colorScheme = dark
    } else {
      colorScheme = light
    }
  }
  if (mode === 'light') {
    colorScheme = light;
  }
  if (mode === 'dark') {
    colorScheme = dark;
  }
  if (colorScheme) {
    ${f}
  }
} catch(e){}})();`}},"mui-color-scheme-init")}function fk(){}const hk=({key:i,storageWindow:e})=>(!e&&typeof window<"u"&&(e=window),{get(t){if(typeof window>"u")return;if(!e)return t;let n;try{n=e.localStorage.getItem(i)}catch{}return n||t},set:t=>{if(e)try{e.localStorage.setItem(i,t)}catch{}},subscribe:t=>{if(!e)return fk;const n=r=>{const o=r.newValue;r.key===i&&t(o)};return e.addEventListener("storage",n),()=>{e.removeEventListener("storage",n)}}});function Yy(){}function Nv(i){if(typeof window<"u"&&typeof window.matchMedia=="function"&&i==="system")return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function T_(i,e){if(i.mode==="light"||i.mode==="system"&&i.systemMode==="light")return e("light");if(i.mode==="dark"||i.mode==="system"&&i.systemMode==="dark")return e("dark")}function gk(i){return T_(i,e=>{if(e==="light")return i.lightColorScheme;if(e==="dark")return i.darkColorScheme})}function mk(i){const{defaultMode:e="light",defaultLightColorScheme:t,defaultDarkColorScheme:n,supportedColorSchemes:r=[],modeStorageKey:o=wE,colorSchemeStorageKey:u=kE,storageWindow:d=typeof window>"u"?void 0:window,storageManager:h=hk,noSsr:f=!1}=i,y=r.join(","),m=r.length>1,p=Et.useMemo(()=>h==null?void 0:h({key:o,storageWindow:d}),[h,o,d]),T=Et.useMemo(()=>h==null?void 0:h({key:`${u}-light`,storageWindow:d}),[h,u,d]),v=Et.useMemo(()=>h==null?void 0:h({key:`${u}-dark`,storageWindow:d}),[h,u,d]),[A,k]=Et.useState(()=>{const Q=(p==null?void 0:p.get(e))||e,be=(T==null?void 0:T.get(t))||t,F=(v==null?void 0:v.get(n))||n;return{mode:Q,systemMode:Nv(Q),lightColorScheme:be,darkColorScheme:F}}),[B,$]=Et.useState(f||!m);Et.useEffect(()=>{$(!0)},[]);const K=gk(A),ue=Et.useCallback(Q=>{k(be=>{if(Q===be.mode)return be;const F=Q??e;return p==null||p.set(F),{...be,mode:F,systemMode:Nv(F)}})},[p,e]),me=Et.useCallback(Q=>{Q?typeof Q=="string"?Q&&!y.includes(Q)?console.error(`\`${Q}\` does not exist in \`theme.colorSchemes\`.`):k(be=>{const F={...be};return T_(be,ke=>{ke==="light"&&(T==null||T.set(Q),F.lightColorScheme=Q),ke==="dark"&&(v==null||v.set(Q),F.darkColorScheme=Q)}),F}):k(be=>{const F={...be},ke=Q.light===null?t:Q.light,Qe=Q.dark===null?n:Q.dark;return ke&&(y.includes(ke)?(F.lightColorScheme=ke,T==null||T.set(ke)):console.error(`\`${ke}\` does not exist in \`theme.colorSchemes\`.`)),Qe&&(y.includes(Qe)?(F.darkColorScheme=Qe,v==null||v.set(Qe)):console.error(`\`${Qe}\` does not exist in \`theme.colorSchemes\`.`)),F}):k(be=>(T==null||T.set(t),v==null||v.set(n),{...be,lightColorScheme:t,darkColorScheme:n}))},[y,T,v,t,n]),Te=Et.useCallback(Q=>{A.mode==="system"&&k(be=>{const F=Q!=null&&Q.matches?"dark":"light";return be.systemMode===F?be:{...be,systemMode:F}})},[A.mode]),X=Et.useRef(Te);return X.current=Te,Et.useEffect(()=>{if(typeof window.matchMedia!="function"||!m)return;const Q=(...F)=>X.current(...F),be=window.matchMedia("(prefers-color-scheme: dark)");return be.addListener(Q),Q(be),()=>{be.removeListener(Q)}},[m]),Et.useEffect(()=>{if(m){const Q=(p==null?void 0:p.subscribe(ke=>{(!ke||["light","dark","system"].includes(ke))&&ue(ke||e)}))||Yy,be=(T==null?void 0:T.subscribe(ke=>{(!ke||y.match(ke))&&me({light:ke})}))||Yy,F=(v==null?void 0:v.subscribe(ke=>{(!ke||y.match(ke))&&me({dark:ke})}))||Yy;return()=>{Q(),be(),F()}}},[me,ue,y,e,d,m,p,T,v]),{...A,mode:B?A.mode:void 0,systemMode:B?A.systemMode:void 0,colorScheme:B?K:void 0,setMode:ue,setColorScheme:me}}const pk="*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function yk(i){const{themeId:e,theme:t={},modeStorageKey:n=wE,colorSchemeStorageKey:r=kE,disableTransitionOnChange:o=!1,defaultColorScheme:u,resolveTheme:d}=i,h={allColorSchemes:[],colorScheme:void 0,darkColorScheme:void 0,lightColorScheme:void 0,mode:void 0,setColorScheme:()=>{},setMode:()=>{},systemMode:void 0},f=Et.createContext(void 0),y=()=>Et.useContext(f)||h,m={},p={};function T(B){var dt,nn,Cn,Pn;const{children:$,theme:K,modeStorageKey:ue=n,colorSchemeStorageKey:me=r,disableTransitionOnChange:Te=o,storageManager:X,storageWindow:Q=typeof window>"u"?void 0:window,documentNode:be=typeof document>"u"?void 0:document,colorSchemeNode:F=typeof document>"u"?void 0:document.documentElement,disableNestedContext:ke=!1,disableStyleSheetGeneration:Qe=!1,defaultMode:xe="system",forceThemeRerender:Ye=!1,noSsr:Ge}=B,_e=Et.useRef(!1),$e=IE(),Je=Et.useContext(f),tt=!!Je&&!ke,Pe=Et.useMemo(()=>K||(typeof t=="function"?t():t),[K]),qe=Pe[e],et=qe||Pe,{colorSchemes:pt=m,components:jt=p,cssVarPrefix:Fe}=et,Ne=Object.keys(pt).filter(Dn=>!!pt[Dn]).join(","),bt=Et.useMemo(()=>Ne.split(","),[Ne]),Z=typeof u=="string"?u:u.light,ne=typeof u=="string"?u:u.dark,L=pt[Z]&&pt[ne]?xe:((nn=(dt=pt[et.defaultColorScheme])==null?void 0:dt.palette)==null?void 0:nn.mode)||((Cn=et.palette)==null?void 0:Cn.mode),{mode:j,setMode:pe,systemMode:ie,lightColorScheme:He,darkColorScheme:st,colorScheme:Xe,setColorScheme:Ze}=mk({supportedColorSchemes:bt,defaultLightColorScheme:Z,defaultDarkColorScheme:ne,modeStorageKey:ue,colorSchemeStorageKey:me,defaultMode:L,storageManager:X,storageWindow:Q,noSsr:Ge});let We=j,rt=Xe;tt&&(We=Je.mode,rt=Je.colorScheme);let vt=rt||et.defaultColorScheme;et.vars&&!Ye&&(vt=et.defaultColorScheme);const yt=Et.useMemo(()=>{var cr;const Dn=((cr=et.generateThemeVars)==null?void 0:cr.call(et))||et.vars,Kn={...et,components:jt,colorSchemes:pt,cssVarPrefix:Fe,vars:Dn};if(typeof Kn.generateSpacing=="function"&&(Kn.spacing=Kn.generateSpacing()),vt){const Gt=pt[vt];Gt&&typeof Gt=="object"&&Object.keys(Gt).forEach(Ht=>{Gt[Ht]&&typeof Gt[Ht]=="object"?Kn[Ht]={...Kn[Ht],...Gt[Ht]}:Kn[Ht]=Gt[Ht]})}return d?d(Kn):Kn},[et,vt,jt,pt,Fe]),ht=et.colorSchemeSelector;RE(()=>{if(rt&&F&&ht&&ht!=="media"){const Dn=ht;let Kn=ht;if(Dn==="class"&&(Kn=".%s"),Dn==="data"&&(Kn="[data-%s]"),Dn!=null&&Dn.startsWith("data-")&&!Dn.includes("%s")&&(Kn=`[${Dn}="%s"]`),Kn.startsWith("."))F.classList.remove(...bt.map(cr=>Kn.substring(1).replace("%s",cr))),F.classList.add(Kn.substring(1).replace("%s",rt));else{const cr=Kn.replace("%s",rt).match(/\[([^\]]+)\]/);if(cr){const[Gt,Ht]=cr[1].split("=");Ht||bt.forEach(Mt=>{F.removeAttribute(Gt.replace(rt,Mt))}),F.setAttribute(Gt,Ht?Ht.replace(/"|'/g,""):"")}else F.setAttribute(Kn,rt)}}},[rt,ht,F,bt]),Et.useEffect(()=>{let Dn;if(Te&&_e.current&&be){const Kn=be.createElement("style");Kn.appendChild(be.createTextNode(pk)),be.head.appendChild(Kn),window.getComputedStyle(be.body),Dn=setTimeout(()=>{be.head.removeChild(Kn)},1)}return()=>{clearTimeout(Dn)}},[rt,Te,be]),Et.useEffect(()=>(_e.current=!0,()=>{_e.current=!1}),[]);const Sn=Et.useMemo(()=>({allColorSchemes:bt,colorScheme:rt,darkColorScheme:st,lightColorScheme:He,mode:We,setColorScheme:Ze,setMode:pe,systemMode:ie}),[bt,rt,st,He,We,Ze,pe,ie,yt.colorSchemeSelector]);let tn=!0;(Qe||et.cssVariables===!1||tt&&($e==null?void 0:$e.cssVarPrefix)===Fe)&&(tn=!1);const ft=bn.jsxs(Et.Fragment,{children:[bn.jsx(v_,{themeId:qe?e:void 0,theme:yt,children:$}),tn&&bn.jsx(n_,{styles:((Pn=yt.generateStyleSheets)==null?void 0:Pn.call(yt))||[]})]});return tt?ft:bn.jsx(f.Provider,{value:Sn,children:ft})}const v=typeof u=="string"?u:u.light,A=typeof u=="string"?u:u.dark;return{CssVarsProvider:T,useColorScheme:y,getInitColorSchemeScript:B=>dk({colorSchemeStorageKey:r,defaultLightColorScheme:v,defaultDarkColorScheme:A,modeStorageKey:n,...B})}}function bk(i=""){function e(...n){if(!n.length)return"";const r=n[0];return typeof r=="string"&&!r.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${i?`${i}-`:""}${r}${e(...n.slice(1))})`:`, ${r}`}return(n,...r)=>`var(--${i?`${i}-`:""}${n}${e(...r)})`}const Ov=(i,e,t,n=[])=>{let r=i;e.forEach((o,u)=>{u===e.length-1?Array.isArray(r)?r[Number(o)]=t:r&&typeof r=="object"&&(r[o]=t):r&&typeof r=="object"&&(r[o]||(r[o]=n.includes(o)?[]:{}),r=r[o])})},Ek=(i,e,t)=>{function n(r,o=[],u=[]){Object.entries(r).forEach(([d,h])=>{(!t||t&&!t([...o,d]))&&h!=null&&(typeof h=="object"&&Object.keys(h).length>0?n(h,[...o,d],Array.isArray(h)?[...u,d]:u):e([...o,d],h,u))})}n(i)},vk=(i,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(n=>i.includes(n))||i[i.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function Wy(i,e){const{prefix:t,shouldSkipGeneratingVar:n}=e||{},r={},o={},u={};return Ek(i,(d,h,f)=>{if((typeof h=="string"||typeof h=="number")&&(!n||!n(d,h))){const y=`--${t?`${t}-`:""}${d.join("-")}`,m=vk(d,h);Object.assign(r,{[y]:m}),Ov(o,d,`var(${y})`,f),Ov(u,d,`var(${y}, ${m})`,f)}},d=>d[0]==="vars"),{css:r,vars:o,varsWithDefaults:u}}function Tk(i,e={}){const{getSelector:t=k,disableCssColorScheme:n,colorSchemeSelector:r}=e,{colorSchemes:o={},components:u,defaultColorScheme:d="light",...h}=i,{vars:f,css:y,varsWithDefaults:m}=Wy(h,e);let p=m;const T={},{[d]:v,...A}=o;if(Object.entries(A||{}).forEach(([K,ue])=>{const{vars:me,css:Te,varsWithDefaults:X}=Wy(ue,e);p=va(p,X),T[K]={css:Te,vars:me}}),v){const{css:K,vars:ue,varsWithDefaults:me}=Wy(v,e);p=va(p,me),T[d]={css:K,vars:ue}}function k(K,ue){var Te,X;let me=r;if(r==="class"&&(me=".%s"),r==="data"&&(me="[data-%s]"),r!=null&&r.startsWith("data-")&&!r.includes("%s")&&(me=`[${r}="%s"]`),K){if(me==="media")return i.defaultColorScheme===K?":root":{[`@media (prefers-color-scheme: ${((X=(Te=o[K])==null?void 0:Te.palette)==null?void 0:X.mode)||K})`]:{":root":ue}};if(me)return i.defaultColorScheme===K?`:root, ${me.replace("%s",String(K))}`:me.replace("%s",String(K))}return":root"}return{vars:p,generateThemeVars:()=>{let K={...f};return Object.entries(T).forEach(([,{vars:ue}])=>{K=va(K,ue)}),K},generateStyleSheets:()=>{var Q,be;const K=[],ue=i.defaultColorScheme||"light";function me(F,ke){Object.keys(ke).length&&K.push(typeof F=="string"?{[F]:{...ke}}:F)}me(t(void 0,{...y}),y);const{[ue]:Te,...X}=T;if(Te){const{css:F}=Te,ke=(be=(Q=o[ue])==null?void 0:Q.palette)==null?void 0:be.mode,Qe=!n&&ke?{colorScheme:ke,...F}:{...F};me(t(ue,{...Qe}),Qe)}return Object.entries(X).forEach(([F,{css:ke}])=>{var Ye,Ge;const Qe=(Ge=(Ye=o[F])==null?void 0:Ye.palette)==null?void 0:Ge.mode,xe=!n&&Qe?{colorScheme:Qe,...ke}:{...ke};me(t(F,{...xe}),xe)}),K}}}function Sk(i){return function(t){return i==="media"?`@media (prefers-color-scheme: ${t})`:i?i.startsWith("data-")&&!i.includes("%s")?`[${i}="${t}"] &`:i==="class"?`.${t} &`:i==="data"?`[data-${t}] &`:`${i.replace("%s",t)} &`:"&"}}function hs(i,e,t=void 0){const n={};for(const r in i){const o=i[r];let u="",d=!0;for(let h=0;h<o.length;h+=1){const f=o[h];f&&(u+=(d===!0?"":" ")+e(f),d=!1,t&&t[f]&&(u+=" "+t[f]))}n[r]=u}return n}const _k=jp(),Ak=Yw("div",{name:"MuiStack",slot:"Root"});function Rk(i){return Xw({props:i,name:"MuiStack",defaultTheme:_k})}function xk(i,e){const t=Et.Children.toArray(i).filter(Boolean);return t.reduce((n,r,o)=>(n.push(r),o<t.length-1&&n.push(Et.cloneElement(e,{key:`separator-${o}`})),n),[])}const Ik=i=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[i],wk=({ownerState:i,theme:e})=>{let t={display:"flex",flexDirection:"column",...ks({theme:e},Vy({values:i.direction,breakpoints:e.breakpoints.values}),n=>({flexDirection:n}))};if(i.spacing){const n=Mp(e),r=Object.keys(e.breakpoints.values).reduce((h,f)=>((typeof i.spacing=="object"&&i.spacing[f]!=null||typeof i.direction=="object"&&i.direction[f]!=null)&&(h[f]=!0),h),{}),o=Vy({values:i.direction,base:r}),u=Vy({values:i.spacing,base:r});typeof o=="object"&&Object.keys(o).forEach((h,f,y)=>{if(!o[h]){const p=f>0?o[y[f-1]]:"column";o[h]=p}}),t=va(t,ks({theme:e},u,(h,f)=>i.useFlexGap?{gap:Lu(n,h)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${Ik(f?o[f]:i.direction)}`]:Lu(n,h)}}))}return t=VI(e.breakpoints,t),t};function kk(i={}){const{createStyledComponent:e=Ak,useThemeProps:t=Rk,componentName:n="MuiStack"}=i,r=()=>hs({root:["root"]},h=>Ka(n,h),{}),o=e(wk);return Et.forwardRef(function(h,f){const y=t(h),m=AE(y),{component:p="div",direction:T="column",spacing:v=0,divider:A,children:k,className:B,useFlexGap:$=!1,...K}=m,ue={direction:T,spacing:v,useFlexGap:$},me=r();return bn.jsx(o,{as:p,ownerState:ue,ref:f,className:Zr(me.root,B),...K,children:A?xk(k,A):k})})}const Ah={black:"#000",white:"#fff"},Ck={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Vc={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Kc={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},lh={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},Yc={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},Wc={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Xc={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"};function S_(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Ah.white,default:Ah.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const Dk=S_();function __(){return{text:{primary:Ah.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Ah.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const Mv=__();function Pv(i,e,t,n){const r=n.light||n,o=n.dark||n*1.5;i[e]||(i.hasOwnProperty(t)?i[e]=i[t]:e==="light"?i.light=Mu(i.main,r):e==="dark"&&(i.dark=Ou(i.main,o)))}function Lk(i="light"){return i==="dark"?{main:Yc[200],light:Yc[50],dark:Yc[400]}:{main:Yc[700],light:Yc[400],dark:Yc[800]}}function Nk(i="light"){return i==="dark"?{main:Vc[200],light:Vc[50],dark:Vc[400]}:{main:Vc[500],light:Vc[300],dark:Vc[700]}}function Ok(i="light"){return i==="dark"?{main:Kc[500],light:Kc[300],dark:Kc[700]}:{main:Kc[700],light:Kc[400],dark:Kc[800]}}function Mk(i="light"){return i==="dark"?{main:Wc[400],light:Wc[300],dark:Wc[700]}:{main:Wc[700],light:Wc[500],dark:Wc[900]}}function Pk(i="light"){return i==="dark"?{main:Xc[400],light:Xc[300],dark:Xc[700]}:{main:Xc[800],light:Xc[500],dark:Xc[900]}}function zk(i="light"){return i==="dark"?{main:lh[400],light:lh[300],dark:lh[700]}:{main:"#ed6c02",light:lh[500],dark:lh[900]}}function CE(i){const{mode:e="light",contrastThreshold:t=3,tonalOffset:n=.2,...r}=i,o=i.primary||Lk(e),u=i.secondary||Nk(e),d=i.error||Ok(e),h=i.info||Mk(e),f=i.success||Pk(e),y=i.warning||zk(e);function m(A){return Jw(A,Mv.text.primary)>=t?Mv.text.primary:Dk.text.primary}const p=({color:A,name:k,mainShade:B=500,lightShade:$=300,darkShade:K=700})=>{if(A={...A},!A.main&&A[B]&&(A.main=A[B]),!A.hasOwnProperty("main"))throw new Error(Du(11,k?` (${k})`:"",B));if(typeof A.main!="string")throw new Error(Du(12,k?` (${k})`:"",JSON.stringify(A.main)));return Pv(A,"light",$,n),Pv(A,"dark",K,n),A.contrastText||(A.contrastText=m(A.main)),A};let T;return e==="light"?T=S_():e==="dark"&&(T=__()),va({common:{...Ah},mode:e,primary:p({color:o,name:"primary"}),secondary:p({color:u,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:p({color:d,name:"error"}),warning:p({color:y,name:"warning"}),info:p({color:h,name:"info"}),success:p({color:f,name:"success"}),grey:Ck,contrastThreshold:t,getContrastText:m,augmentColor:p,tonalOffset:n,...T},r)}function Fk(i){const e={};return Object.entries(i).forEach(n=>{const[r,o]=n;typeof o=="object"&&(e[r]=`${o.fontStyle?`${o.fontStyle} `:""}${o.fontVariant?`${o.fontVariant} `:""}${o.fontWeight?`${o.fontWeight} `:""}${o.fontStretch?`${o.fontStretch} `:""}${o.fontSize||""}${o.lineHeight?`/${o.lineHeight} `:""}${o.fontFamily||""}`)}),e}function Uk(i,e){return{toolbar:{minHeight:56,[i.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[i.up("sm")]:{minHeight:64}},...e}}function Bk(i){return Math.round(i*1e5)/1e5}const zv={textTransform:"uppercase"},Fv='"Roboto", "Helvetica", "Arial", sans-serif';function A_(i,e){const{fontFamily:t=Fv,fontSize:n=14,fontWeightLight:r=300,fontWeightRegular:o=400,fontWeightMedium:u=500,fontWeightBold:d=700,htmlFontSize:h=16,allVariants:f,pxToRem:y,...m}=typeof e=="function"?e(i):e,p=n/14,T=y||(k=>`${k/h*p}rem`),v=(k,B,$,K,ue)=>({fontFamily:t,fontWeight:k,fontSize:T(B),lineHeight:$,...t===Fv?{letterSpacing:`${Bk(K/B)}em`}:{},...ue,...f}),A={h1:v(r,96,1.167,-1.5),h2:v(r,60,1.2,-.5),h3:v(o,48,1.167,0),h4:v(o,34,1.235,.25),h5:v(o,24,1.334,0),h6:v(u,20,1.6,.15),subtitle1:v(o,16,1.75,.15),subtitle2:v(u,14,1.57,.1),body1:v(o,16,1.5,.15),body2:v(o,14,1.43,.15),button:v(u,14,1.75,.4,zv),caption:v(o,12,1.66,.4),overline:v(o,12,2.66,1,zv),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return va({htmlFontSize:h,pxToRem:T,fontFamily:t,fontSize:n,fontWeightLight:r,fontWeightRegular:o,fontWeightMedium:u,fontWeightBold:d,...A},m,{clone:!1})}const jk=.2,qk=.14,Gk=.12;function ai(...i){return[`${i[0]}px ${i[1]}px ${i[2]}px ${i[3]}px rgba(0,0,0,${jk})`,`${i[4]}px ${i[5]}px ${i[6]}px ${i[7]}px rgba(0,0,0,${qk})`,`${i[8]}px ${i[9]}px ${i[10]}px ${i[11]}px rgba(0,0,0,${Gk})`].join(",")}const $k=["none",ai(0,2,1,-1,0,1,1,0,0,1,3,0),ai(0,3,1,-2,0,2,2,0,0,1,5,0),ai(0,3,3,-2,0,3,4,0,0,1,8,0),ai(0,2,4,-1,0,4,5,0,0,1,10,0),ai(0,3,5,-1,0,5,8,0,0,1,14,0),ai(0,3,5,-1,0,6,10,0,0,1,18,0),ai(0,4,5,-2,0,7,10,1,0,2,16,1),ai(0,5,5,-3,0,8,10,1,0,3,14,2),ai(0,5,6,-3,0,9,12,1,0,3,16,2),ai(0,6,6,-3,0,10,14,1,0,4,18,3),ai(0,6,7,-4,0,11,15,1,0,4,20,3),ai(0,7,8,-4,0,12,17,2,0,5,22,4),ai(0,7,8,-4,0,13,19,2,0,5,24,4),ai(0,7,9,-4,0,14,21,2,0,5,26,4),ai(0,8,9,-5,0,15,22,2,0,6,28,5),ai(0,8,10,-5,0,16,24,2,0,6,30,5),ai(0,8,11,-5,0,17,26,2,0,6,32,5),ai(0,9,11,-5,0,18,28,2,0,7,34,6),ai(0,9,12,-6,0,19,29,2,0,7,36,6),ai(0,10,13,-6,0,20,31,3,0,8,38,7),ai(0,10,13,-6,0,21,33,3,0,8,40,7),ai(0,10,14,-6,0,22,35,3,0,8,42,7),ai(0,11,14,-7,0,23,36,3,0,9,44,8),ai(0,11,15,-7,0,24,38,3,0,9,46,8)],Hk={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},R_={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function Uv(i){return`${Math.round(i)}ms`}function Vk(i){if(!i)return 0;const e=i/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function Kk(i){const e={...Hk,...i.easing},t={...R_,...i.duration};return{getAutoHeightDuration:Vk,create:(r=["all"],o={})=>{const{duration:u=t.standard,easing:d=e.easeInOut,delay:h=0,...f}=o;return(Array.isArray(r)?r:[r]).map(y=>`${y} ${typeof u=="string"?u:Uv(u)} ${d} ${typeof h=="string"?h:Uv(h)}`).join(",")},...i,easing:e,duration:t}}const Yk={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function Wk(i){return Js(i)||typeof i>"u"||typeof i=="string"||typeof i=="boolean"||typeof i=="number"||Array.isArray(i)}function x_(i={}){const e={...i};function t(n){const r=Object.entries(n);for(let o=0;o<r.length;o++){const[u,d]=r[o];!Wk(d)||u.startsWith("unstable_")?delete n[u]:Js(d)&&(n[u]={...d},t(n[u]))}}return t(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function Cb(i={},...e){const{breakpoints:t,mixins:n={},spacing:r,palette:o={},transitions:u={},typography:d={},shape:h,...f}=i;if(i.vars&&i.generateThemeVars===void 0)throw new Error(Du(20));const y=CE(o),m=jp(i);let p=va(m,{mixins:Uk(m.breakpoints,n),palette:y,shadows:$k.slice(),typography:A_(y,d),transitions:Kk(u),zIndex:{...Yk}});return p=va(p,f),p=e.reduce((T,v)=>va(T,v),p),p.unstable_sxConfig={...Uh,...f==null?void 0:f.unstable_sxConfig},p.unstable_sx=function(v){return kl({sx:v,theme:this})},p.toRuntimeSource=x_,p}function Db(i){let e;return i<1?e=5.11916*i**2:e=4.5*Math.log(i+1)+2,Math.round(e*10)/1e3}const Xk=[...Array(25)].map((i,e)=>{if(e===0)return"none";const t=Db(e);return`linear-gradient(rgba(255 255 255 / ${t}), rgba(255 255 255 / ${t}))`});function I_(i){return{inputPlaceholder:i==="dark"?.5:.42,inputUnderline:i==="dark"?.7:.42,switchTrackDisabled:i==="dark"?.2:.12,switchTrack:i==="dark"?.3:.38}}function w_(i){return i==="dark"?Xk:[]}function Qk(i){const{palette:e={mode:"light"},opacity:t,overlays:n,...r}=i,o=CE(e);return{palette:o,opacity:{...I_(o.mode),...t},overlays:n||w_(o.mode),...r}}function Zk(i){var e;return!!i[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!i[0].match(/sxConfig$/)||i[0]==="palette"&&!!((e=i[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const Jk=i=>[...[...Array(25)].map((e,t)=>`--${i?`${i}-`:""}overlays-${t}`),`--${i?`${i}-`:""}palette-AppBar-darkBg`,`--${i?`${i}-`:""}palette-AppBar-darkColor`],eC=i=>(e,t)=>{const n=i.rootSelector||":root",r=i.colorSchemeSelector;let o=r;if(r==="class"&&(o=".%s"),r==="data"&&(o="[data-%s]"),r!=null&&r.startsWith("data-")&&!r.includes("%s")&&(o=`[${r}="%s"]`),i.defaultColorScheme===e){if(e==="dark"){const u={};return Jk(i.cssVarPrefix).forEach(d=>{u[d]=t[d],delete t[d]}),o==="media"?{[n]:t,"@media (prefers-color-scheme: dark)":{[n]:u}}:o?{[o.replace("%s",e)]:u,[`${n}, ${o.replace("%s",e)}`]:t}:{[n]:{...t,...u}}}if(o&&o!=="media")return`${n}, ${o.replace("%s",String(e))}`}else if(e){if(o==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[n]:t}};if(o)return o.replace("%s",String(e))}return n};function tC(i,e){e.forEach(t=>{i[t]||(i[t]={})})}function an(i,e,t){!i[e]&&t&&(i[e]=t)}function hh(i){return typeof i!="string"||!i.startsWith("hsl")?i:p_(i)}function Po(i,e){`${e}Channel`in i||(i[`${e}Channel`]=fh(hh(i[e])))}function nC(i){return typeof i=="number"?`${i}px`:typeof i=="string"||typeof i=="function"||Array.isArray(i)?i:"8px"}const Hs=i=>{try{return i()}catch{}},rC=(i="mui")=>bk(i);function Xy(i,e,t,n){if(!e)return;e=e===!0?{}:e;const r=n==="dark"?"dark":"light";if(!t){i[n]=Qk({...e,palette:{mode:r,...e==null?void 0:e.palette}});return}const{palette:o,...u}=Cb({...t,palette:{mode:r,...e==null?void 0:e.palette}});return i[n]={...e,palette:o,opacity:{...I_(r),...e==null?void 0:e.opacity},overlays:(e==null?void 0:e.overlays)||w_(r)},u}function iC(i={},...e){const{colorSchemes:t={light:!0},defaultColorScheme:n,disableCssColorScheme:r=!1,cssVarPrefix:o="mui",shouldSkipGeneratingVar:u=Zk,colorSchemeSelector:d=t.light&&t.dark?"media":void 0,rootSelector:h=":root",...f}=i,y=Object.keys(t)[0],m=n||(t.light&&y!=="light"?"light":y),p=rC(o),{[m]:T,light:v,dark:A,...k}=t,B={...k};let $=T;if((m==="dark"&&!("dark"in t)||m==="light"&&!("light"in t))&&($=!0),!$)throw new Error(Du(21,m));const K=Xy(B,$,f,m);v&&!B.light&&Xy(B,v,void 0,"light"),A&&!B.dark&&Xy(B,A,void 0,"dark");let ue={defaultColorScheme:m,...K,cssVarPrefix:o,colorSchemeSelector:d,rootSelector:h,getCssVar:p,colorSchemes:B,font:{...Fk(K.typography),...K.font},spacing:nC(f.spacing)};Object.keys(ue.colorSchemes).forEach(be=>{const F=ue.colorSchemes[be].palette,ke=Qe=>{const xe=Qe.split("-"),Ye=xe[1],Ge=xe[2];return p(Qe,F[Ye][Ge])};if(F.mode==="light"&&(an(F.common,"background","#fff"),an(F.common,"onBackground","#000")),F.mode==="dark"&&(an(F.common,"background","#000"),an(F.common,"onBackground","#fff")),tC(F,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),F.mode==="light"){an(F.Alert,"errorColor",Xr(F.error.light,.6)),an(F.Alert,"infoColor",Xr(F.info.light,.6)),an(F.Alert,"successColor",Xr(F.success.light,.6)),an(F.Alert,"warningColor",Xr(F.warning.light,.6)),an(F.Alert,"errorFilledBg",ke("palette-error-main")),an(F.Alert,"infoFilledBg",ke("palette-info-main")),an(F.Alert,"successFilledBg",ke("palette-success-main")),an(F.Alert,"warningFilledBg",ke("palette-warning-main")),an(F.Alert,"errorFilledColor",Hs(()=>F.getContrastText(F.error.main))),an(F.Alert,"infoFilledColor",Hs(()=>F.getContrastText(F.info.main))),an(F.Alert,"successFilledColor",Hs(()=>F.getContrastText(F.success.main))),an(F.Alert,"warningFilledColor",Hs(()=>F.getContrastText(F.warning.main))),an(F.Alert,"errorStandardBg",Qr(F.error.light,.9)),an(F.Alert,"infoStandardBg",Qr(F.info.light,.9)),an(F.Alert,"successStandardBg",Qr(F.success.light,.9)),an(F.Alert,"warningStandardBg",Qr(F.warning.light,.9)),an(F.Alert,"errorIconColor",ke("palette-error-main")),an(F.Alert,"infoIconColor",ke("palette-info-main")),an(F.Alert,"successIconColor",ke("palette-success-main")),an(F.Alert,"warningIconColor",ke("palette-warning-main")),an(F.AppBar,"defaultBg",ke("palette-grey-100")),an(F.Avatar,"defaultBg",ke("palette-grey-400")),an(F.Button,"inheritContainedBg",ke("palette-grey-300")),an(F.Button,"inheritContainedHoverBg",ke("palette-grey-A100")),an(F.Chip,"defaultBorder",ke("palette-grey-400")),an(F.Chip,"defaultAvatarColor",ke("palette-grey-700")),an(F.Chip,"defaultIconColor",ke("palette-grey-700")),an(F.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),an(F.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),an(F.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),an(F.LinearProgress,"primaryBg",Qr(F.primary.main,.62)),an(F.LinearProgress,"secondaryBg",Qr(F.secondary.main,.62)),an(F.LinearProgress,"errorBg",Qr(F.error.main,.62)),an(F.LinearProgress,"infoBg",Qr(F.info.main,.62)),an(F.LinearProgress,"successBg",Qr(F.success.main,.62)),an(F.LinearProgress,"warningBg",Qr(F.warning.main,.62)),an(F.Skeleton,"bg",`rgba(${ke("palette-text-primaryChannel")} / 0.11)`),an(F.Slider,"primaryTrack",Qr(F.primary.main,.62)),an(F.Slider,"secondaryTrack",Qr(F.secondary.main,.62)),an(F.Slider,"errorTrack",Qr(F.error.main,.62)),an(F.Slider,"infoTrack",Qr(F.info.main,.62)),an(F.Slider,"successTrack",Qr(F.success.main,.62)),an(F.Slider,"warningTrack",Qr(F.warning.main,.62));const Qe=_m(F.background.default,.8);an(F.SnackbarContent,"bg",Qe),an(F.SnackbarContent,"color",Hs(()=>F.getContrastText(Qe))),an(F.SpeedDialAction,"fabHoverBg",_m(F.background.paper,.15)),an(F.StepConnector,"border",ke("palette-grey-400")),an(F.StepContent,"border",ke("palette-grey-400")),an(F.Switch,"defaultColor",ke("palette-common-white")),an(F.Switch,"defaultDisabledColor",ke("palette-grey-100")),an(F.Switch,"primaryDisabledColor",Qr(F.primary.main,.62)),an(F.Switch,"secondaryDisabledColor",Qr(F.secondary.main,.62)),an(F.Switch,"errorDisabledColor",Qr(F.error.main,.62)),an(F.Switch,"infoDisabledColor",Qr(F.info.main,.62)),an(F.Switch,"successDisabledColor",Qr(F.success.main,.62)),an(F.Switch,"warningDisabledColor",Qr(F.warning.main,.62)),an(F.TableCell,"border",Qr(Sm(F.divider,1),.88)),an(F.Tooltip,"bg",Sm(F.grey[700],.92))}if(F.mode==="dark"){an(F.Alert,"errorColor",Qr(F.error.light,.6)),an(F.Alert,"infoColor",Qr(F.info.light,.6)),an(F.Alert,"successColor",Qr(F.success.light,.6)),an(F.Alert,"warningColor",Qr(F.warning.light,.6)),an(F.Alert,"errorFilledBg",ke("palette-error-dark")),an(F.Alert,"infoFilledBg",ke("palette-info-dark")),an(F.Alert,"successFilledBg",ke("palette-success-dark")),an(F.Alert,"warningFilledBg",ke("palette-warning-dark")),an(F.Alert,"errorFilledColor",Hs(()=>F.getContrastText(F.error.dark))),an(F.Alert,"infoFilledColor",Hs(()=>F.getContrastText(F.info.dark))),an(F.Alert,"successFilledColor",Hs(()=>F.getContrastText(F.success.dark))),an(F.Alert,"warningFilledColor",Hs(()=>F.getContrastText(F.warning.dark))),an(F.Alert,"errorStandardBg",Xr(F.error.light,.9)),an(F.Alert,"infoStandardBg",Xr(F.info.light,.9)),an(F.Alert,"successStandardBg",Xr(F.success.light,.9)),an(F.Alert,"warningStandardBg",Xr(F.warning.light,.9)),an(F.Alert,"errorIconColor",ke("palette-error-main")),an(F.Alert,"infoIconColor",ke("palette-info-main")),an(F.Alert,"successIconColor",ke("palette-success-main")),an(F.Alert,"warningIconColor",ke("palette-warning-main")),an(F.AppBar,"defaultBg",ke("palette-grey-900")),an(F.AppBar,"darkBg",ke("palette-background-paper")),an(F.AppBar,"darkColor",ke("palette-text-primary")),an(F.Avatar,"defaultBg",ke("palette-grey-600")),an(F.Button,"inheritContainedBg",ke("palette-grey-800")),an(F.Button,"inheritContainedHoverBg",ke("palette-grey-700")),an(F.Chip,"defaultBorder",ke("palette-grey-700")),an(F.Chip,"defaultAvatarColor",ke("palette-grey-300")),an(F.Chip,"defaultIconColor",ke("palette-grey-300")),an(F.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),an(F.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),an(F.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),an(F.LinearProgress,"primaryBg",Xr(F.primary.main,.5)),an(F.LinearProgress,"secondaryBg",Xr(F.secondary.main,.5)),an(F.LinearProgress,"errorBg",Xr(F.error.main,.5)),an(F.LinearProgress,"infoBg",Xr(F.info.main,.5)),an(F.LinearProgress,"successBg",Xr(F.success.main,.5)),an(F.LinearProgress,"warningBg",Xr(F.warning.main,.5)),an(F.Skeleton,"bg",`rgba(${ke("palette-text-primaryChannel")} / 0.13)`),an(F.Slider,"primaryTrack",Xr(F.primary.main,.5)),an(F.Slider,"secondaryTrack",Xr(F.secondary.main,.5)),an(F.Slider,"errorTrack",Xr(F.error.main,.5)),an(F.Slider,"infoTrack",Xr(F.info.main,.5)),an(F.Slider,"successTrack",Xr(F.success.main,.5)),an(F.Slider,"warningTrack",Xr(F.warning.main,.5));const Qe=_m(F.background.default,.98);an(F.SnackbarContent,"bg",Qe),an(F.SnackbarContent,"color",Hs(()=>F.getContrastText(Qe))),an(F.SpeedDialAction,"fabHoverBg",_m(F.background.paper,.15)),an(F.StepConnector,"border",ke("palette-grey-600")),an(F.StepContent,"border",ke("palette-grey-600")),an(F.Switch,"defaultColor",ke("palette-grey-300")),an(F.Switch,"defaultDisabledColor",ke("palette-grey-600")),an(F.Switch,"primaryDisabledColor",Xr(F.primary.main,.55)),an(F.Switch,"secondaryDisabledColor",Xr(F.secondary.main,.55)),an(F.Switch,"errorDisabledColor",Xr(F.error.main,.55)),an(F.Switch,"infoDisabledColor",Xr(F.info.main,.55)),an(F.Switch,"successDisabledColor",Xr(F.success.main,.55)),an(F.Switch,"warningDisabledColor",Xr(F.warning.main,.55)),an(F.TableCell,"border",Xr(Sm(F.divider,1),.68)),an(F.Tooltip,"bg",Sm(F.grey[700],.92))}Po(F.background,"default"),Po(F.background,"paper"),Po(F.common,"background"),Po(F.common,"onBackground"),Po(F,"divider"),Object.keys(F).forEach(Qe=>{const xe=F[Qe];Qe!=="tonalOffset"&&xe&&typeof xe=="object"&&(xe.main&&an(F[Qe],"mainChannel",fh(hh(xe.main))),xe.light&&an(F[Qe],"lightChannel",fh(hh(xe.light))),xe.dark&&an(F[Qe],"darkChannel",fh(hh(xe.dark))),xe.contrastText&&an(F[Qe],"contrastTextChannel",fh(hh(xe.contrastText))),Qe==="text"&&(Po(F[Qe],"primary"),Po(F[Qe],"secondary")),Qe==="action"&&(xe.active&&Po(F[Qe],"active"),xe.selected&&Po(F[Qe],"selected")))})}),ue=e.reduce((be,F)=>va(be,F),ue);const me={prefix:o,disableCssColorScheme:r,shouldSkipGeneratingVar:u,getSelector:eC(ue)},{vars:Te,generateThemeVars:X,generateStyleSheets:Q}=Tk(ue,me);return ue.vars=Te,Object.entries(ue.colorSchemes[ue.defaultColorScheme]).forEach(([be,F])=>{ue[be]=F}),ue.generateThemeVars=X,ue.generateStyleSheets=Q,ue.generateSpacing=function(){return u_(f.spacing,Mp(this))},ue.getColorSchemeSelector=Sk(d),ue.spacing=ue.generateSpacing(),ue.shouldSkipGeneratingVar=u,ue.unstable_sxConfig={...Uh,...f==null?void 0:f.unstable_sxConfig},ue.unstable_sx=function(F){return kl({sx:F,theme:this})},ue.toRuntimeSource=x_,ue}function Bv(i,e,t){i.colorSchemes&&t&&(i.colorSchemes[e]={...t!==!0&&t,palette:CE({...t===!0?{}:t.palette,mode:e})})}function $p(i={},...e){const{palette:t,cssVariables:n=!1,colorSchemes:r=t?void 0:{light:!0},defaultColorScheme:o=t==null?void 0:t.mode,...u}=i,d=o||"light",h=r==null?void 0:r[d],f={...r,...t?{[d]:{...typeof h!="boolean"&&h,palette:t}}:void 0};if(n===!1){if(!("colorSchemes"in i))return Cb(i,...e);let y=t;"palette"in i||f[d]&&(f[d]!==!0?y=f[d].palette:d==="dark"&&(y={mode:"dark"}));const m=Cb({...i,palette:y},...e);return m.defaultColorScheme=d,m.colorSchemes=f,m.palette.mode==="light"&&(m.colorSchemes.light={...f.light!==!0&&f.light,palette:m.palette},Bv(m,"dark",f.dark)),m.palette.mode==="dark"&&(m.colorSchemes.dark={...f.dark!==!0&&f.dark,palette:m.palette},Bv(m,"light",f.light)),m}return!t&&!("light"in f)&&d==="light"&&(f.light=!0),iC({...u,colorSchemes:f,defaultColorScheme:d,...typeof n!="boolean"&&n},...e)}const DE=$p();function Hp(){const i=qp(DE);return i[io]||i}function LE(i){return i!=="ownerState"&&i!=="theme"&&i!=="sx"&&i!=="as"}const aC=i=>LE(i)&&i!=="classes",Ur=m_({themeId:io,defaultTheme:DE,rootShouldForwardProp:aC});function sC({theme:i,...e}){const t=io in i?i[io]:void 0;return bn.jsx(v_,{...e,themeId:t?io:void 0,theme:t||i})}const Am={colorSchemeStorageKey:"mui-color-scheme",defaultLightColorScheme:"light",defaultDarkColorScheme:"dark",modeStorageKey:"mui-mode"},{CssVarsProvider:oC}=yk({themeId:io,theme:()=>$p({cssVariables:!0}),colorSchemeStorageKey:Am.colorSchemeStorageKey,modeStorageKey:Am.modeStorageKey,defaultColorScheme:{light:Am.defaultLightColorScheme,dark:Am.defaultDarkColorScheme},resolveTheme:i=>{const e={...i,typography:A_(i.palette,i.typography)};return e.unstable_sx=function(n){return kl({sx:n,theme:this})},e}}),lC=oC;function uC({theme:i,...e}){const t=Et.useMemo(()=>{if(typeof i=="function")return i;const n=io in i?i[io]:i;return"colorSchemes"in n?null:"vars"in n?i:{...i,vars:null}},[i]);return t?bn.jsx(sC,{theme:t,...e}):bn.jsx(lC,{theme:i,...e})}function cC(i){return bn.jsx(Pw,{...i,defaultTheme:DE,themeId:io})}function k_(i){return function(t){return bn.jsx(cC,{styles:typeof i=="function"?n=>i({theme:n,...t}):i})}}function dC(){return AE}function Oa(i){return lk(i)}const Lb=typeof k_({})=="function",fC=(i,e)=>({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%",...e&&!i.vars&&{colorScheme:i.palette.mode}}),hC=i=>({color:(i.vars||i).palette.text.primary,...i.typography.body1,backgroundColor:(i.vars||i).palette.background.default,"@media print":{backgroundColor:(i.vars||i).palette.common.white}}),C_=(i,e=!1)=>{var o,u;const t={};e&&i.colorSchemes&&typeof i.getColorSchemeSelector=="function"&&Object.entries(i.colorSchemes).forEach(([d,h])=>{var y,m;const f=i.getColorSchemeSelector(d);f.startsWith("@")?t[f]={":root":{colorScheme:(y=h.palette)==null?void 0:y.mode}}:t[f.replace(/\s*&/,"")]={colorScheme:(m=h.palette)==null?void 0:m.mode}});let n={html:fC(i,e),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:i.typography.fontWeightBold},body:{margin:0,...hC(i),"&::backdrop":{backgroundColor:(i.vars||i).palette.background.default}},...t};const r=(u=(o=i.components)==null?void 0:o.MuiCssBaseline)==null?void 0:u.styleOverrides;return r&&(n=[n,r]),n},Xm="mui-ecs",gC=i=>{const e=C_(i,!1),t=Array.isArray(e)?e[0]:e;return!i.vars&&t&&(t.html[`:root:has(${Xm})`]={colorScheme:i.palette.mode}),i.colorSchemes&&Object.entries(i.colorSchemes).forEach(([n,r])=>{var u,d;const o=i.getColorSchemeSelector(n);o.startsWith("@")?t[o]={[`:root:not(:has(.${Xm}))`]:{colorScheme:(u=r.palette)==null?void 0:u.mode}}:t[o.replace(/\s*&/,"")]={[`&:not(:has(.${Xm}))`]:{colorScheme:(d=r.palette)==null?void 0:d.mode}}}),e},mC=k_(Lb?({theme:i,enableColorScheme:e})=>C_(i,e):({theme:i})=>gC(i));function pC(i){const e=Oa({props:i,name:"MuiCssBaseline"}),{children:t,enableColorScheme:n=!1}=e;return bn.jsxs(Et.Fragment,{children:[Lb&&bn.jsx(mC,{enableColorScheme:n}),!Lb&&!n&&bn.jsx("span",{className:Xm,style:{display:"none"}}),t]})}const yC={mode:"dark",primary:{main:"#FFFFFF",contrastText:"#000000"},secondary:{main:"#000000",contrastText:"#FFFFFF"},background:{default:"#000000",paper:"#121212"},text:{primary:"#FFFFFF",secondary:"#E0E0E0"},divider:"#333333"},D_=$p({palette:yC,typography:{fontFamily:"system-ui, Avenir, Helvetica, Arial, sans-serif",h1:{fontSize:"2.5rem",fontWeight:700,lineHeight:1.2,letterSpacing:"-0.01562em"},h2:{fontSize:"2rem",fontWeight:600,lineHeight:1.2,letterSpacing:"-0.00833em"},h3:{fontSize:"1.75rem",fontWeight:600,lineHeight:1.2,letterSpacing:"0em"},h4:{fontSize:"1.5rem",fontWeight:600,lineHeight:1.2,letterSpacing:"0.00735em"},h5:{fontSize:"1.25rem",fontWeight:500,lineHeight:1.2,letterSpacing:"0em"},h6:{fontSize:"1rem",fontWeight:500,lineHeight:1.2,letterSpacing:"0.0075em"},subtitle1:{fontSize:"1rem",fontWeight:400,lineHeight:1.75,letterSpacing:"0.00938em"},subtitle2:{fontSize:"0.875rem",fontWeight:500,lineHeight:1.57,letterSpacing:"0.00714em"},body1:{fontSize:"1rem",fontWeight:400,lineHeight:1.5,letterSpacing:"0.00938em"},body2:{fontSize:"0.875rem",fontWeight:400,lineHeight:1.43,letterSpacing:"0.01071em"},button:{fontSize:"0.875rem",fontWeight:500,lineHeight:1.75,letterSpacing:"0.02857em",textTransform:"none"},caption:{fontSize:"0.75rem",fontWeight:400,lineHeight:1.66,letterSpacing:"0.03333em"},overline:{fontSize:"0.75rem",fontWeight:400,lineHeight:2.66,letterSpacing:"0.08333em",textTransform:"uppercase"}},shape:{borderRadius:0},components:{MuiButtonBase:{defaultProps:{disableRipple:!0},styleOverrides:{root:{textTransform:"none","&:hover":{backgroundColor:"#333333",boxShadow:"none"}}}},MuiIconButton:{styleOverrides:{root:{color:"#ffffff"}}},MuiCircularProgress:{styleOverrides:{root:{color:"#ffffff"}}}}}),uh=kk({createStyledComponent:Ur("div",{name:"MuiStack",slot:"Root"}),useThemeProps:i=>Oa({props:i,name:"MuiStack"})}),ta=uk;function bC(i){return Ka("MuiSvgIcon",i)}Ya("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const EC=i=>{const{color:e,fontSize:t,classes:n}=i,r={root:["root",e!=="inherit"&&`color${xr(e)}`,`fontSize${xr(t)}`]};return hs(r,bC,n)},vC=Ur("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(i,e)=>{const{ownerState:t}=i;return[e.root,t.color!=="inherit"&&e[`color${xr(t.color)}`],e[`fontSize${xr(t.fontSize)}`]]}})(ta(({theme:i})=>{var e,t,n,r,o,u,d,h,f,y,m,p,T,v;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(r=(e=i.transitions)==null?void 0:e.create)==null?void 0:r.call(e,"fill",{duration:(n=(t=(i.vars??i).transitions)==null?void 0:t.duration)==null?void 0:n.shorter}),variants:[{props:A=>!A.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((u=(o=i.typography)==null?void 0:o.pxToRem)==null?void 0:u.call(o,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((h=(d=i.typography)==null?void 0:d.pxToRem)==null?void 0:h.call(d,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((y=(f=i.typography)==null?void 0:f.pxToRem)==null?void 0:y.call(f,35))||"2.1875rem"}},...Object.entries((i.vars??i).palette).filter(([,A])=>A&&A.main).map(([A])=>{var k,B;return{props:{color:A},style:{color:(B=(k=(i.vars??i).palette)==null?void 0:k[A])==null?void 0:B.main}}}),{props:{color:"action"},style:{color:(p=(m=(i.vars??i).palette)==null?void 0:m.action)==null?void 0:p.active}},{props:{color:"disabled"},style:{color:(v=(T=(i.vars??i).palette)==null?void 0:T.action)==null?void 0:v.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),Nb=Et.forwardRef(function(e,t){const n=Oa({props:e,name:"MuiSvgIcon"}),{children:r,className:o,color:u="inherit",component:d="svg",fontSize:h="medium",htmlColor:f,inheritViewBox:y=!1,titleAccess:m,viewBox:p="0 0 24 24",...T}=n,v=Et.isValidElement(r)&&r.type==="svg",A={...n,color:u,component:d,fontSize:h,instanceFontSize:e.fontSize,inheritViewBox:y,viewBox:p,hasSvgAsChild:v},k={};y||(k.viewBox=p);const B=EC(A);return bn.jsxs(vC,{as:d,className:Zr(B.root,o),focusable:"false",color:f,"aria-hidden":m?void 0:!0,role:m?"img":void 0,ref:t,...k,...T,...v&&r.props,ownerState:A,children:[v?r.props.children:r,m?bn.jsx("title",{children:m}):null]})});Nb.muiName="SvgIcon";function co(i,e){function t(n,r){return bn.jsx(Nb,{"data-testid":void 0,ref:r,...n,children:i})}return t.muiName=Nb.muiName,Et.memo(Et.forwardRef(t))}function wu(i){return i&&i.ownerDocument||document}let jv=0;function TC(i){const[e,t]=Et.useState(i),n=i||e;return Et.useEffect(()=>{e==null&&(jv+=1,t(`mui-${jv}`))},[e]),n}const SC={..._b},qv=SC.useId;function _C(i){if(qv!==void 0){const e=qv();return i??e}return TC(i)}function AC(i){const{controlled:e,default:t}=i,{current:n}=Et.useRef(e!==void 0),[r,o]=Et.useState(t),u=n?e:r,d=Et.useCallback(h=>{n||o(h)},[]);return[u,d]}function so(i){const e=Et.useRef(i);return RE(()=>{e.current=i}),Et.useRef((...t)=>(0,e.current)(...t)).current}function Dl(...i){const e=Et.useRef(void 0),t=Et.useCallback(n=>{const r=i.map(o=>{if(o==null)return null;if(typeof o=="function"){const u=o,d=u(n);return typeof d=="function"?d:()=>{u(null)}}return o.current=n,()=>{o.current=null}});return()=>{r.forEach(o=>o==null?void 0:o())}},i);return Et.useMemo(()=>i.every(n=>n==null)?null:n=>{e.current&&(e.current(),e.current=void 0),n!=null&&(e.current=t(n))},i)}function RC(i){return typeof i.main=="string"}function xC(i,e=[]){if(!RC(i))return!1;for(const t of e)if(!i.hasOwnProperty(t)||typeof i[t]!="string")return!1;return!0}function oo(i=[]){return([,e])=>e&&xC(e,i)}function dp(i){try{return i.matches(":focus-visible")}catch{}return!1}const Gv={};function L_(i,e){const t=Et.useRef(Gv);return t.current===Gv&&(t.current=i(e)),t}class fp{constructor(){ih(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new fp}static use(){const e=L_(fp.create).current,[t,n]=Et.useState(!1);return e.shouldMount=t,e.setShouldMount=n,Et.useEffect(e.mountEffect,[t]),e}mount(){return this.mounted||(this.mounted=wC(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...e){this.mount().then(()=>{var t;return(t=this.ref.current)==null?void 0:t.start(...e)})}stop(...e){this.mount().then(()=>{var t;return(t=this.ref.current)==null?void 0:t.stop(...e)})}pulsate(...e){this.mount().then(()=>{var t;return(t=this.ref.current)==null?void 0:t.pulsate(...e)})}}function IC(){return fp.use()}function wC(){let i,e;const t=new Promise((n,r)=>{i=n,e=r});return t.resolve=i,t.reject=e,t}function N_(i,e){if(i==null)return{};var t={};for(var n in i)if({}.hasOwnProperty.call(i,n)){if(e.indexOf(n)!==-1)continue;t[n]=i[n]}return t}function Ob(i,e){return Ob=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t},Ob(i,e)}function O_(i,e){i.prototype=Object.create(e.prototype),i.prototype.constructor=i,Ob(i,e)}var kC=qS();const Rm=jS(kC),$v={disabled:!1},hp=eo.createContext(null);var CC=function(e){return e.scrollTop},gh="unmounted",Au="exited",Ru="entering",ld="entered",Mb="exiting",fo=function(i){O_(e,i);function e(n,r){var o;o=i.call(this,n,r)||this;var u=r,d=u&&!u.isMounting?n.enter:n.appear,h;return o.appearStatus=null,n.in?d?(h=Au,o.appearStatus=Ru):h=ld:n.unmountOnExit||n.mountOnEnter?h=gh:h=Au,o.state={status:h},o.nextCallback=null,o}e.getDerivedStateFromProps=function(r,o){var u=r.in;return u&&o.status===gh?{status:Au}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(r){var o=null;if(r!==this.props){var u=this.state.status;this.props.in?u!==Ru&&u!==ld&&(o=Ru):(u===Ru||u===ld)&&(o=Mb)}this.updateStatus(!1,o)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var r=this.props.timeout,o,u,d;return o=u=d=r,r!=null&&typeof r!="number"&&(o=r.exit,u=r.enter,d=r.appear!==void 0?r.appear:u),{exit:o,enter:u,appear:d}},t.updateStatus=function(r,o){if(r===void 0&&(r=!1),o!==null)if(this.cancelNextCallback(),o===Ru){if(this.props.unmountOnExit||this.props.mountOnEnter){var u=this.props.nodeRef?this.props.nodeRef.current:Rm.findDOMNode(this);u&&CC(u)}this.performEnter(r)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Au&&this.setState({status:gh})},t.performEnter=function(r){var o=this,u=this.props.enter,d=this.context?this.context.isMounting:r,h=this.props.nodeRef?[d]:[Rm.findDOMNode(this),d],f=h[0],y=h[1],m=this.getTimeouts(),p=d?m.appear:m.enter;if(!r&&!u||$v.disabled){this.safeSetState({status:ld},function(){o.props.onEntered(f)});return}this.props.onEnter(f,y),this.safeSetState({status:Ru},function(){o.props.onEntering(f,y),o.onTransitionEnd(p,function(){o.safeSetState({status:ld},function(){o.props.onEntered(f,y)})})})},t.performExit=function(){var r=this,o=this.props.exit,u=this.getTimeouts(),d=this.props.nodeRef?void 0:Rm.findDOMNode(this);if(!o||$v.disabled){this.safeSetState({status:Au},function(){r.props.onExited(d)});return}this.props.onExit(d),this.safeSetState({status:Mb},function(){r.props.onExiting(d),r.onTransitionEnd(u.exit,function(){r.safeSetState({status:Au},function(){r.props.onExited(d)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(r,o){o=this.setNextCallback(o),this.setState(r,o)},t.setNextCallback=function(r){var o=this,u=!0;return this.nextCallback=function(d){u&&(u=!1,o.nextCallback=null,r(d))},this.nextCallback.cancel=function(){u=!1},this.nextCallback},t.onTransitionEnd=function(r,o){this.setNextCallback(o);var u=this.props.nodeRef?this.props.nodeRef.current:Rm.findDOMNode(this),d=r==null&&!this.props.addEndListener;if(!u||d){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var h=this.props.nodeRef?[this.nextCallback]:[u,this.nextCallback],f=h[0],y=h[1];this.props.addEndListener(f,y)}r!=null&&setTimeout(this.nextCallback,r)},t.render=function(){var r=this.state.status;if(r===gh)return null;var o=this.props,u=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var d=N_(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return eo.createElement(hp.Provider,{value:null},typeof u=="function"?u(r,d):eo.cloneElement(eo.Children.only(u),d))},e}(eo.Component);fo.contextType=hp;fo.propTypes={};function Qc(){}fo.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Qc,onEntering:Qc,onEntered:Qc,onExit:Qc,onExiting:Qc,onExited:Qc};fo.UNMOUNTED=gh;fo.EXITED=Au;fo.ENTERING=Ru;fo.ENTERED=ld;fo.EXITING=Mb;function DC(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function NE(i,e){var t=function(o){return e&&Et.isValidElement(o)?e(o):o},n=Object.create(null);return i&&Et.Children.map(i,function(r){return r}).forEach(function(r){n[r.key]=t(r)}),n}function LC(i,e){i=i||{},e=e||{};function t(y){return y in e?e[y]:i[y]}var n=Object.create(null),r=[];for(var o in i)o in e?r.length&&(n[o]=r,r=[]):r.push(o);var u,d={};for(var h in e){if(n[h])for(u=0;u<n[h].length;u++){var f=n[h][u];d[n[h][u]]=t(f)}d[h]=t(h)}for(u=0;u<r.length;u++)d[r[u]]=t(r[u]);return d}function Iu(i,e,t){return t[e]!=null?t[e]:i.props[e]}function NC(i,e){return NE(i.children,function(t){return Et.cloneElement(t,{onExited:e.bind(null,t),in:!0,appear:Iu(t,"appear",i),enter:Iu(t,"enter",i),exit:Iu(t,"exit",i)})})}function OC(i,e,t){var n=NE(i.children),r=LC(e,n);return Object.keys(r).forEach(function(o){var u=r[o];if(Et.isValidElement(u)){var d=o in e,h=o in n,f=e[o],y=Et.isValidElement(f)&&!f.props.in;h&&(!d||y)?r[o]=Et.cloneElement(u,{onExited:t.bind(null,u),in:!0,exit:Iu(u,"exit",i),enter:Iu(u,"enter",i)}):!h&&d&&!y?r[o]=Et.cloneElement(u,{in:!1}):h&&d&&Et.isValidElement(f)&&(r[o]=Et.cloneElement(u,{onExited:t.bind(null,u),in:f.props.in,exit:Iu(u,"exit",i),enter:Iu(u,"enter",i)}))}}),r}var MC=Object.values||function(i){return Object.keys(i).map(function(e){return i[e]})},PC={component:"div",childFactory:function(e){return e}},OE=function(i){O_(e,i);function e(n,r){var o;o=i.call(this,n,r)||this;var u=o.handleExited.bind(DC(o));return o.state={contextValue:{isMounting:!0},handleExited:u,firstRender:!0},o}var t=e.prototype;return t.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},t.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(r,o){var u=o.children,d=o.handleExited,h=o.firstRender;return{children:h?NC(r,d):OC(r,u,d),firstRender:!1}},t.handleExited=function(r,o){var u=NE(this.props.children);r.key in u||(r.props.onExited&&r.props.onExited(o),this.mounted&&this.setState(function(d){var h=op({},d.children);return delete h[r.key],{children:h}}))},t.render=function(){var r=this.props,o=r.component,u=r.childFactory,d=N_(r,["component","childFactory"]),h=this.state.contextValue,f=MC(this.state.children).map(u);return delete d.appear,delete d.enter,delete d.exit,o===null?eo.createElement(hp.Provider,{value:h},f):eo.createElement(hp.Provider,{value:h},eo.createElement(o,d,f))},e}(eo.Component);OE.propTypes={};OE.defaultProps=PC;const zC=[];function FC(i){Et.useEffect(i,zC)}class ME{constructor(){ih(this,"currentId",null);ih(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});ih(this,"disposeEffect",()=>this.clear)}static create(){return new ME}start(e,t){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,t()},e)}}function Vp(){const i=L_(ME.create).current;return FC(i.disposeEffect),i}function UC(i){const{className:e,classes:t,pulsate:n=!1,rippleX:r,rippleY:o,rippleSize:u,in:d,onExited:h,timeout:f}=i,[y,m]=Et.useState(!1),p=Zr(e,t.ripple,t.rippleVisible,n&&t.ripplePulsate),T={width:u,height:u,top:-(u/2)+o,left:-(u/2)+r},v=Zr(t.child,y&&t.childLeaving,n&&t.childPulsate);return!d&&!y&&m(!0),Et.useEffect(()=>{if(!d&&h!=null){const A=setTimeout(h,f);return()=>{clearTimeout(A)}}},[h,d,f]),bn.jsx("span",{className:p,style:T,children:bn.jsx("span",{className:v})})}const os=Ya("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Pb=550,BC=80,jC=zh`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,qC=zh`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,GC=zh`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,$C=Ur("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),HC=Ur(UC,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${os.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${jC};
    animation-duration: ${Pb}ms;
    animation-timing-function: ${({theme:i})=>i.transitions.easing.easeInOut};
  }

  &.${os.ripplePulsate} {
    animation-duration: ${({theme:i})=>i.transitions.duration.shorter}ms;
  }

  & .${os.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${os.childLeaving} {
    opacity: 0;
    animation-name: ${qC};
    animation-duration: ${Pb}ms;
    animation-timing-function: ${({theme:i})=>i.transitions.easing.easeInOut};
  }

  & .${os.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${GC};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:i})=>i.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,VC=Et.forwardRef(function(e,t){const n=Oa({props:e,name:"MuiTouchRipple"}),{center:r=!1,classes:o={},className:u,...d}=n,[h,f]=Et.useState([]),y=Et.useRef(0),m=Et.useRef(null);Et.useEffect(()=>{m.current&&(m.current(),m.current=null)},[h]);const p=Et.useRef(!1),T=Vp(),v=Et.useRef(null),A=Et.useRef(null),k=Et.useCallback(ue=>{const{pulsate:me,rippleX:Te,rippleY:X,rippleSize:Q,cb:be}=ue;f(F=>[...F,bn.jsx(HC,{classes:{ripple:Zr(o.ripple,os.ripple),rippleVisible:Zr(o.rippleVisible,os.rippleVisible),ripplePulsate:Zr(o.ripplePulsate,os.ripplePulsate),child:Zr(o.child,os.child),childLeaving:Zr(o.childLeaving,os.childLeaving),childPulsate:Zr(o.childPulsate,os.childPulsate)},timeout:Pb,pulsate:me,rippleX:Te,rippleY:X,rippleSize:Q},y.current)]),y.current+=1,m.current=be},[o]),B=Et.useCallback((ue={},me={},Te=()=>{})=>{const{pulsate:X=!1,center:Q=r||me.pulsate,fakeElement:be=!1}=me;if((ue==null?void 0:ue.type)==="mousedown"&&p.current){p.current=!1;return}(ue==null?void 0:ue.type)==="touchstart"&&(p.current=!0);const F=be?null:A.current,ke=F?F.getBoundingClientRect():{width:0,height:0,left:0,top:0};let Qe,xe,Ye;if(Q||ue===void 0||ue.clientX===0&&ue.clientY===0||!ue.clientX&&!ue.touches)Qe=Math.round(ke.width/2),xe=Math.round(ke.height/2);else{const{clientX:Ge,clientY:_e}=ue.touches&&ue.touches.length>0?ue.touches[0]:ue;Qe=Math.round(Ge-ke.left),xe=Math.round(_e-ke.top)}if(Q)Ye=Math.sqrt((2*ke.width**2+ke.height**2)/3),Ye%2===0&&(Ye+=1);else{const Ge=Math.max(Math.abs((F?F.clientWidth:0)-Qe),Qe)*2+2,_e=Math.max(Math.abs((F?F.clientHeight:0)-xe),xe)*2+2;Ye=Math.sqrt(Ge**2+_e**2)}ue!=null&&ue.touches?v.current===null&&(v.current=()=>{k({pulsate:X,rippleX:Qe,rippleY:xe,rippleSize:Ye,cb:Te})},T.start(BC,()=>{v.current&&(v.current(),v.current=null)})):k({pulsate:X,rippleX:Qe,rippleY:xe,rippleSize:Ye,cb:Te})},[r,k,T]),$=Et.useCallback(()=>{B({},{pulsate:!0})},[B]),K=Et.useCallback((ue,me)=>{if(T.clear(),(ue==null?void 0:ue.type)==="touchend"&&v.current){v.current(),v.current=null,T.start(0,()=>{K(ue,me)});return}v.current=null,f(Te=>Te.length>0?Te.slice(1):Te),m.current=me},[T]);return Et.useImperativeHandle(t,()=>({pulsate:$,start:B,stop:K}),[$,B,K]),bn.jsx($C,{className:Zr(os.root,o.root,u),ref:A,...d,children:bn.jsx(OE,{component:null,exit:!0,children:h})})});function KC(i){return Ka("MuiButtonBase",i)}const YC=Ya("MuiButtonBase",["root","disabled","focusVisible"]),WC=i=>{const{disabled:e,focusVisible:t,focusVisibleClassName:n,classes:r}=i,u=hs({root:["root",e&&"disabled",t&&"focusVisible"]},KC,r);return t&&n&&(u.root+=` ${n}`),u},XC=Ur("button",{name:"MuiButtonBase",slot:"Root"})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${YC.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),QC=Et.forwardRef(function(e,t){const n=Oa({props:e,name:"MuiButtonBase"}),{action:r,centerRipple:o=!1,children:u,className:d,component:h="button",disabled:f=!1,disableRipple:y=!1,disableTouchRipple:m=!1,focusRipple:p=!1,focusVisibleClassName:T,LinkComponent:v="a",onBlur:A,onClick:k,onContextMenu:B,onDragLeave:$,onFocus:K,onFocusVisible:ue,onKeyDown:me,onKeyUp:Te,onMouseDown:X,onMouseLeave:Q,onMouseUp:be,onTouchEnd:F,onTouchMove:ke,onTouchStart:Qe,tabIndex:xe=0,TouchRippleProps:Ye,touchRippleRef:Ge,type:_e,...$e}=n,Je=Et.useRef(null),tt=IC(),Pe=Dl(tt.ref,Ge),[qe,et]=Et.useState(!1);f&&qe&&et(!1),Et.useImperativeHandle(r,()=>({focusVisible:()=>{et(!0),Je.current.focus()}}),[]);const pt=tt.shouldMount&&!y&&!f;Et.useEffect(()=>{qe&&p&&!y&&tt.pulsate()},[y,p,qe,tt]);const jt=zo(tt,"start",X,m),Fe=zo(tt,"stop",B,m),Ne=zo(tt,"stop",$,m),bt=zo(tt,"stop",be,m),Z=zo(tt,"stop",ht=>{qe&&ht.preventDefault(),Q&&Q(ht)},m),ne=zo(tt,"start",Qe,m),L=zo(tt,"stop",F,m),j=zo(tt,"stop",ke,m),pe=zo(tt,"stop",ht=>{dp(ht.target)||et(!1),A&&A(ht)},!1),ie=so(ht=>{Je.current||(Je.current=ht.currentTarget),dp(ht.target)&&(et(!0),ue&&ue(ht)),K&&K(ht)}),He=()=>{const ht=Je.current;return h&&h!=="button"&&!(ht.tagName==="A"&&ht.href)},st=so(ht=>{p&&!ht.repeat&&qe&&ht.key===" "&&tt.stop(ht,()=>{tt.start(ht)}),ht.target===ht.currentTarget&&He()&&ht.key===" "&&ht.preventDefault(),me&&me(ht),ht.target===ht.currentTarget&&He()&&ht.key==="Enter"&&!f&&(ht.preventDefault(),k&&k(ht))}),Xe=so(ht=>{p&&ht.key===" "&&qe&&!ht.defaultPrevented&&tt.stop(ht,()=>{tt.pulsate(ht)}),Te&&Te(ht),k&&ht.target===ht.currentTarget&&He()&&ht.key===" "&&!ht.defaultPrevented&&k(ht)});let Ze=h;Ze==="button"&&($e.href||$e.to)&&(Ze=v);const We={};Ze==="button"?(We.type=_e===void 0?"button":_e,We.disabled=f):(!$e.href&&!$e.to&&(We.role="button"),f&&(We["aria-disabled"]=f));const rt=Dl(t,Je),vt={...n,centerRipple:o,component:h,disabled:f,disableRipple:y,disableTouchRipple:m,focusRipple:p,tabIndex:xe,focusVisible:qe},yt=WC(vt);return bn.jsxs(XC,{as:Ze,className:Zr(yt.root,d),ownerState:vt,onBlur:pe,onClick:k,onContextMenu:Fe,onFocus:ie,onKeyDown:st,onKeyUp:Xe,onMouseDown:jt,onMouseLeave:Z,onMouseUp:bt,onDragLeave:Ne,onTouchEnd:L,onTouchMove:j,onTouchStart:ne,ref:rt,tabIndex:f?-1:xe,type:_e,...We,...$e,children:[u,pt?bn.jsx(VC,{ref:Pe,center:o,...Ye}):null]})});function zo(i,e,t,n=!1){return so(r=>(t&&t(r),n||i[e](r),!0))}function ZC(i){return Ka("MuiCircularProgress",i)}Ya("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const Sl=44,zb=zh`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,Fb=zh`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,JC=typeof zb!="string"?vE`
        animation: ${zb} 1.4s linear infinite;
      `:null,eD=typeof Fb!="string"?vE`
        animation: ${Fb} 1.4s ease-in-out infinite;
      `:null,tD=i=>{const{classes:e,variant:t,color:n,disableShrink:r}=i,o={root:["root",t,`color${xr(n)}`],svg:["svg"],circle:["circle",`circle${xr(t)}`,r&&"circleDisableShrink"]};return hs(o,ZC,e)},nD=Ur("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(i,e)=>{const{ownerState:t}=i;return[e.root,e[t.variant],e[`color${xr(t.color)}`]]}})(ta(({theme:i})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:i.transitions.create("transform")}},{props:{variant:"indeterminate"},style:JC||{animation:`${zb} 1.4s linear infinite`}},...Object.entries(i.palette).filter(oo()).map(([e])=>({props:{color:e},style:{color:(i.vars||i).palette[e].main}}))]}))),rD=Ur("svg",{name:"MuiCircularProgress",slot:"Svg"})({display:"block"}),iD=Ur("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(i,e)=>{const{ownerState:t}=i;return[e.circle,e[`circle${xr(t.variant)}`],t.disableShrink&&e.circleDisableShrink]}})(ta(({theme:i})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:i.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink,style:eD||{animation:`${Fb} 1.4s ease-in-out infinite`}}]}))),M_=Et.forwardRef(function(e,t){const n=Oa({props:e,name:"MuiCircularProgress"}),{className:r,color:o="primary",disableShrink:u=!1,size:d=40,style:h,thickness:f=3.6,value:y=0,variant:m="indeterminate",...p}=n,T={...n,color:o,disableShrink:u,size:d,thickness:f,value:y,variant:m},v=tD(T),A={},k={},B={};if(m==="determinate"){const $=2*Math.PI*((Sl-f)/2);A.strokeDasharray=$.toFixed(3),B["aria-valuenow"]=Math.round(y),A.strokeDashoffset=`${((100-y)/100*$).toFixed(3)}px`,k.transform="rotate(-90deg)"}return bn.jsx(nD,{className:Zr(v.root,r),style:{width:d,height:d,...k,...h},ownerState:T,ref:t,role:"progressbar",...B,...p,children:bn.jsx(rD,{className:v.svg,ownerState:T,viewBox:`${Sl/2} ${Sl/2} ${Sl} ${Sl}`,children:bn.jsx(iD,{className:v.circle,style:A,ownerState:T,cx:Sl,cy:Sl,r:(Sl-f)/2,fill:"none",strokeWidth:f})})})});function aD(i){return Ka("MuiIconButton",i)}const Hv=Ya("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),sD=i=>{const{classes:e,disabled:t,color:n,edge:r,size:o,loading:u}=i,d={root:["root",u&&"loading",t&&"disabled",n!=="default"&&`color${xr(n)}`,r&&`edge${xr(r)}`,`size${xr(o)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return hs(d,aD,e)},oD=Ur(QC,{name:"MuiIconButton",slot:"Root",overridesResolver:(i,e)=>{const{ownerState:t}=i;return[e.root,t.loading&&e.loading,t.color!=="default"&&e[`color${xr(t.color)}`],t.edge&&e[`edge${xr(t.edge)}`],e[`size${xr(t.size)}`]]}})(ta(({theme:i})=>({textAlign:"center",flex:"0 0 auto",fontSize:i.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(i.vars||i).palette.action.active,transition:i.transitions.create("background-color",{duration:i.transitions.duration.shortest}),variants:[{props:e=>!e.disableRipple,style:{"--IconButton-hoverBg":i.vars?`rgba(${i.vars.palette.action.activeChannel} / ${i.vars.palette.action.hoverOpacity})`:Nu(i.palette.action.active,i.palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),ta(({theme:i})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(i.palette).filter(oo()).map(([e])=>({props:{color:e},style:{color:(i.vars||i).palette[e].main}})),...Object.entries(i.palette).filter(oo()).map(([e])=>({props:{color:e},style:{"--IconButton-hoverBg":i.vars?`rgba(${(i.vars||i).palette[e].mainChannel} / ${i.vars.palette.action.hoverOpacity})`:Nu((i.vars||i).palette[e].main,i.palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:i.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:i.typography.pxToRem(28)}}],[`&.${Hv.disabled}`]:{backgroundColor:"transparent",color:(i.vars||i).palette.action.disabled},[`&.${Hv.loading}`]:{color:"transparent"}}))),lD=Ur("span",{name:"MuiIconButton",slot:"LoadingIndicator"})(({theme:i})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(i.vars||i).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),Ub=Et.forwardRef(function(e,t){const n=Oa({props:e,name:"MuiIconButton"}),{edge:r=!1,children:o,className:u,color:d="default",disabled:h=!1,disableFocusRipple:f=!1,size:y="medium",id:m,loading:p=null,loadingIndicator:T,...v}=n,A=_C(m),k=T??bn.jsx(M_,{"aria-labelledby":A,color:"inherit",size:16}),B={...n,edge:r,color:d,disabled:h,disableFocusRipple:f,loading:p,loadingIndicator:k,size:y},$=sD(B);return bn.jsxs(oD,{id:p?A:m,className:Zr($.root,u),centerRipple:!0,focusRipple:!f,disabled:h||p,ref:t,...v,ownerState:B,children:[typeof p=="boolean"&&bn.jsx("span",{className:$.loadingWrapper,style:{display:"contents"},children:bn.jsx(lD,{className:$.loadingIndicator,ownerState:B,children:p&&k})}),o]})}),uD=co(bn.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2M9.5 16.5v-9l7 4.5z"})),cD=co(bn.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m4 14H8V8h8z"})),dD=Ya("MuiBox",["root"]),fD=$p(),hD=Uw({themeId:io,defaultTheme:fD,defaultClassName:dD.root,generateClassName:d_.generate});function gD(i){return Ka("MuiTypography",i)}Ya("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const mD={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},pD=dC(),yD=i=>{const{align:e,gutterBottom:t,noWrap:n,paragraph:r,variant:o,classes:u}=i,d={root:["root",o,i.align!=="inherit"&&`align${xr(e)}`,t&&"gutterBottom",n&&"noWrap",r&&"paragraph"]};return hs(d,gD,u)},bD=Ur("span",{name:"MuiTypography",slot:"Root",overridesResolver:(i,e)=>{const{ownerState:t}=i;return[e.root,t.variant&&e[t.variant],t.align!=="inherit"&&e[`align${xr(t.align)}`],t.noWrap&&e.noWrap,t.gutterBottom&&e.gutterBottom,t.paragraph&&e.paragraph]}})(ta(({theme:i})=>{var e;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(i.typography).filter(([t,n])=>t!=="inherit"&&n&&typeof n=="object").map(([t,n])=>({props:{variant:t},style:n})),...Object.entries(i.palette).filter(oo()).map(([t])=>({props:{color:t},style:{color:(i.vars||i).palette[t].main}})),...Object.entries(((e=i.palette)==null?void 0:e.text)||{}).filter(([,t])=>typeof t=="string").map(([t])=>({props:{color:`text${xr(t)}`},style:{color:(i.vars||i).palette.text[t]}})),{props:({ownerState:t})=>t.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:t})=>t.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:t})=>t.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:t})=>t.paragraph,style:{marginBottom:16}}]}})),Vv={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Kv=Et.forwardRef(function(e,t){const{color:n,...r}=Oa({props:e,name:"MuiTypography"}),o=!mD[n],u=pD({...r,...o&&{color:n}}),{align:d="inherit",className:h,component:f,gutterBottom:y=!1,noWrap:m=!1,paragraph:p=!1,variant:T="body1",variantMapping:v=Vv,...A}=u,k={...u,align:d,color:n,className:h,component:f,gutterBottom:y,noWrap:m,paragraph:p,variant:T,variantMapping:v},B=f||(p?"p":v[T]||Vv[T])||"span",$=yD(k);return bn.jsx(bD,{as:B,ref:t,className:Zr($.root,h),...A,ownerState:k,style:{...d!=="inherit"&&{"--Typography-textAlign":d},...A.style}})}),Mn=Number.isFinite||function(i){return typeof i=="number"&&isFinite(i)},ED=Number.isSafeInteger||function(i){return typeof i=="number"&&Math.abs(i)<=vD},vD=Number.MAX_SAFE_INTEGER||9007199254740991;let Qn=function(i){return i.NETWORK_ERROR="networkError",i.MEDIA_ERROR="mediaError",i.KEY_SYSTEM_ERROR="keySystemError",i.MUX_ERROR="muxError",i.OTHER_ERROR="otherError",i}({}),kt=function(i){return i.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",i.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",i.KEY_SYSTEM_NO_SESSION="keySystemNoSession",i.KEY_SYSTEM_NO_CONFIGURED_LICENSE="keySystemNoConfiguredLicense",i.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",i.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED="keySystemServerCertificateRequestFailed",i.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED="keySystemServerCertificateUpdateFailed",i.KEY_SYSTEM_SESSION_UPDATE_FAILED="keySystemSessionUpdateFailed",i.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED="keySystemStatusOutputRestricted",i.KEY_SYSTEM_STATUS_INTERNAL_ERROR="keySystemStatusInternalError",i.KEY_SYSTEM_DESTROY_MEDIA_KEYS_ERROR="keySystemDestroyMediaKeysError",i.KEY_SYSTEM_DESTROY_CLOSE_SESSION_ERROR="keySystemDestroyCloseSessionError",i.KEY_SYSTEM_DESTROY_REMOVE_SESSION_ERROR="keySystemDestroyRemoveSessionError",i.MANIFEST_LOAD_ERROR="manifestLoadError",i.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",i.MANIFEST_PARSING_ERROR="manifestParsingError",i.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",i.LEVEL_EMPTY_ERROR="levelEmptyError",i.LEVEL_LOAD_ERROR="levelLoadError",i.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",i.LEVEL_PARSING_ERROR="levelParsingError",i.LEVEL_SWITCH_ERROR="levelSwitchError",i.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",i.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",i.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",i.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",i.FRAG_LOAD_ERROR="fragLoadError",i.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",i.FRAG_DECRYPT_ERROR="fragDecryptError",i.FRAG_PARSING_ERROR="fragParsingError",i.FRAG_GAP="fragGap",i.REMUX_ALLOC_ERROR="remuxAllocError",i.KEY_LOAD_ERROR="keyLoadError",i.KEY_LOAD_TIMEOUT="keyLoadTimeOut",i.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",i.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",i.BUFFER_APPEND_ERROR="bufferAppendError",i.BUFFER_APPENDING_ERROR="bufferAppendingError",i.BUFFER_STALLED_ERROR="bufferStalledError",i.BUFFER_FULL_ERROR="bufferFullError",i.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",i.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",i.ASSET_LIST_LOAD_ERROR="assetListLoadError",i.ASSET_LIST_LOAD_TIMEOUT="assetListLoadTimeout",i.ASSET_LIST_PARSING_ERROR="assetListParsingError",i.INTERSTITIAL_ASSET_ITEM_ERROR="interstitialAssetItemError",i.INTERNAL_EXCEPTION="internalException",i.INTERNAL_ABORTED="aborted",i.ATTACH_MEDIA_ERROR="attachMediaError",i.UNKNOWN="unknown",i}({}),Ee=function(i){return i.MEDIA_ATTACHING="hlsMediaAttaching",i.MEDIA_ATTACHED="hlsMediaAttached",i.MEDIA_DETACHING="hlsMediaDetaching",i.MEDIA_DETACHED="hlsMediaDetached",i.MEDIA_ENDED="hlsMediaEnded",i.STALL_RESOLVED="hlsStallResolved",i.BUFFER_RESET="hlsBufferReset",i.BUFFER_CODECS="hlsBufferCodecs",i.BUFFER_CREATED="hlsBufferCreated",i.BUFFER_APPENDING="hlsBufferAppending",i.BUFFER_APPENDED="hlsBufferAppended",i.BUFFER_EOS="hlsBufferEos",i.BUFFERED_TO_END="hlsBufferedToEnd",i.BUFFER_FLUSHING="hlsBufferFlushing",i.BUFFER_FLUSHED="hlsBufferFlushed",i.MANIFEST_LOADING="hlsManifestLoading",i.MANIFEST_LOADED="hlsManifestLoaded",i.MANIFEST_PARSED="hlsManifestParsed",i.LEVEL_SWITCHING="hlsLevelSwitching",i.LEVEL_SWITCHED="hlsLevelSwitched",i.LEVEL_LOADING="hlsLevelLoading",i.LEVEL_LOADED="hlsLevelLoaded",i.LEVEL_UPDATED="hlsLevelUpdated",i.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",i.LEVELS_UPDATED="hlsLevelsUpdated",i.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",i.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",i.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",i.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",i.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",i.AUDIO_TRACK_UPDATED="hlsAudioTrackUpdated",i.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",i.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",i.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",i.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",i.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",i.SUBTITLE_TRACK_UPDATED="hlsSubtitleTrackUpdated",i.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",i.CUES_PARSED="hlsCuesParsed",i.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",i.INIT_PTS_FOUND="hlsInitPtsFound",i.FRAG_LOADING="hlsFragLoading",i.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",i.FRAG_LOADED="hlsFragLoaded",i.FRAG_DECRYPTED="hlsFragDecrypted",i.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",i.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",i.FRAG_PARSING_METADATA="hlsFragParsingMetadata",i.FRAG_PARSED="hlsFragParsed",i.FRAG_BUFFERED="hlsFragBuffered",i.FRAG_CHANGED="hlsFragChanged",i.FPS_DROP="hlsFpsDrop",i.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",i.MAX_AUTO_LEVEL_UPDATED="hlsMaxAutoLevelUpdated",i.ERROR="hlsError",i.DESTROYING="hlsDestroying",i.KEY_LOADING="hlsKeyLoading",i.KEY_LOADED="hlsKeyLoaded",i.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",i.BACK_BUFFER_REACHED="hlsBackBufferReached",i.STEERING_MANIFEST_LOADED="hlsSteeringManifestLoaded",i.ASSET_LIST_LOADING="hlsAssetListLoading",i.ASSET_LIST_LOADED="hlsAssetListLoaded",i.INTERSTITIALS_UPDATED="hlsInterstitialsUpdated",i.INTERSTITIALS_BUFFERED_TO_BOUNDARY="hlsInterstitialsBufferedToBoundary",i.INTERSTITIAL_ASSET_PLAYER_CREATED="hlsInterstitialAssetPlayerCreated",i.INTERSTITIAL_STARTED="hlsInterstitialStarted",i.INTERSTITIAL_ASSET_STARTED="hlsInterstitialAssetStarted",i.INTERSTITIAL_ASSET_ENDED="hlsInterstitialAssetEnded",i.INTERSTITIAL_ASSET_ERROR="hlsInterstitialAssetError",i.INTERSTITIAL_ENDED="hlsInterstitialEnded",i.INTERSTITIALS_PRIMARY_RESUMED="hlsInterstitialsPrimaryResumed",i.PLAYOUT_LIMIT_REACHED="hlsPlayoutLimitReached",i.EVENT_CUE_ENTER="hlsEventCueEnter",i}({});var Tr={MANIFEST:"manifest",LEVEL:"level",AUDIO_TRACK:"audioTrack",SUBTITLE_TRACK:"subtitleTrack"},jn={MAIN:"main",AUDIO:"audio",SUBTITLE:"subtitle"};class Zc{constructor(e,t=0,n=0){this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=e,this.alpha_=e?Math.exp(Math.log(.5)/e):0,this.estimate_=t,this.totalWeight_=n}sample(e,t){const n=Math.pow(this.alpha_,e);this.estimate_=t*(1-n)+n*this.estimate_,this.totalWeight_+=e}getTotalWeight(){return this.totalWeight_}getEstimate(){if(this.alpha_){const e=1-Math.pow(this.alpha_,this.totalWeight_);if(e)return this.estimate_/e}return this.estimate_}}class TD{constructor(e,t,n,r=100){this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultTTFB_=void 0,this.ttfb_=void 0,this.defaultEstimate_=n,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new Zc(e),this.fast_=new Zc(t),this.defaultTTFB_=r,this.ttfb_=new Zc(e)}update(e,t){const{slow_:n,fast_:r,ttfb_:o}=this;n.halfLife!==e&&(this.slow_=new Zc(e,n.getEstimate(),n.getTotalWeight())),r.halfLife!==t&&(this.fast_=new Zc(t,r.getEstimate(),r.getTotalWeight())),o.halfLife!==e&&(this.ttfb_=new Zc(e,o.getEstimate(),o.getTotalWeight()))}sample(e,t){e=Math.max(e,this.minDelayMs_);const n=8*t,r=e/1e3,o=n/r;this.fast_.sample(r,o),this.slow_.sample(r,o)}sampleTTFB(e){const t=e/1e3,n=Math.sqrt(2)*Math.exp(-Math.pow(t,2)/2);this.ttfb_.sample(n,Math.max(e,5))}canEstimate(){return this.fast_.getTotalWeight()>=this.minWeight_}getEstimate(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_}getEstimateTTFB(){return this.ttfb_.getTotalWeight()>=this.minWeight_?this.ttfb_.getEstimate():this.defaultTTFB_}get defaultEstimate(){return this.defaultEstimate_}destroy(){}}function SD(i,e,t){return(e=AD(e))in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function Kr(){return Kr=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(i[n]=t[n])}return i},Kr.apply(null,arguments)}function Yv(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(i);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(i,r).enumerable})),t.push.apply(t,n)}return t}function qr(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Yv(Object(t),!0).forEach(function(n){SD(i,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):Yv(Object(t)).forEach(function(n){Object.defineProperty(i,n,Object.getOwnPropertyDescriptor(t,n))})}return i}function _D(i,e){if(typeof i!="object"||!i)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var n=t.call(i,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function AD(i){var e=_D(i,"string");return typeof e=="symbol"?e:e+""}let gs=class{constructor(e,t){this.trace=void 0,this.debug=void 0,this.log=void 0,this.warn=void 0,this.info=void 0,this.error=void 0;const n=`[${e}]:`;this.trace=xl,this.debug=t.debug.bind(null,n),this.log=t.log.bind(null,n),this.warn=t.warn.bind(null,n),this.info=t.info.bind(null,n),this.error=t.error.bind(null,n)}};const xl=function(){},RD={trace:xl,debug:xl,log:xl,warn:xl,info:xl,error:xl};function Bb(){return Kr({},RD)}function xD(i,e){const t=self.console[i];return t?t.bind(self.console,`${e?"["+e+"] ":""}[${i}] >`):xl}function Wv(i,e,t){return e[i]?e[i].bind(e):xD(i,t)}const jb=Bb();function ID(i,e,t){const n=Bb();if(typeof console=="object"&&i===!0||typeof i=="object"){const r=["debug","log","info","warn","error"];r.forEach(o=>{n[o]=Wv(o,i,t)});try{n.log(`Debug logs enabled for "${e}" in hls.js version 1.6.15`)}catch{return Bb()}r.forEach(o=>{jb[o]=Wv(o,i)})}else Kr(jb,n);return n}const Gr=jb;function Ll(i=!0){return typeof self>"u"?void 0:(i||!self.MediaSource)&&self.ManagedMediaSource||self.MediaSource||self.WebKitMediaSource}function wD(i){return typeof self<"u"&&i===self.ManagedMediaSource}function P_(i,e){const t=Object.keys(i),n=Object.keys(e),r=t.length,o=n.length;return!r||!o||r===o&&!t.some(u=>n.indexOf(u)===-1)}function Va(i,e=!1){if(typeof TextDecoder<"u"){const f=new TextDecoder("utf-8").decode(i);if(e){const y=f.indexOf("\0");return y!==-1?f.substring(0,y):f}return f.replace(/\0/g,"")}const t=i.length;let n,r,o,u="",d=0;for(;d<t;){if(n=i[d++],n===0&&e)return u;if(n===0||n===3)continue;switch(n>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:u+=String.fromCharCode(n);break;case 12:case 13:r=i[d++],u+=String.fromCharCode((n&31)<<6|r&63);break;case 14:r=i[d++],o=i[d++],u+=String.fromCharCode((n&15)<<12|(r&63)<<6|(o&63)<<0);break}}return u}function Zi(i){let e="";for(let t=0;t<i.length;t++){let n=i[t].toString(16);n.length<2&&(n="0"+n),e+=n}return e}function z_(i){return Uint8Array.from(i.replace(/^0x/,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ")).buffer}function kD(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Qy={exports:{}},Xv;function CD(){return Xv||(Xv=1,function(i,e){(function(t){var n=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,r=/^(?=([^\/?#]*))\1([^]*)$/,o=/(?:\/|^)\.(?=\/)/g,u=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,d={buildAbsoluteURL:function(h,f,y){if(y=y||{},h=h.trim(),f=f.trim(),!f){if(!y.alwaysNormalize)return h;var m=d.parseURL(h);if(!m)throw new Error("Error trying to parse base URL.");return m.path=d.normalizePath(m.path),d.buildURLFromParts(m)}var p=d.parseURL(f);if(!p)throw new Error("Error trying to parse relative URL.");if(p.scheme)return y.alwaysNormalize?(p.path=d.normalizePath(p.path),d.buildURLFromParts(p)):f;var T=d.parseURL(h);if(!T)throw new Error("Error trying to parse base URL.");if(!T.netLoc&&T.path&&T.path[0]!=="/"){var v=r.exec(T.path);T.netLoc=v[1],T.path=v[2]}T.netLoc&&!T.path&&(T.path="/");var A={scheme:T.scheme,netLoc:p.netLoc,path:null,params:p.params,query:p.query,fragment:p.fragment};if(!p.netLoc&&(A.netLoc=T.netLoc,p.path[0]!=="/"))if(!p.path)A.path=T.path,p.params||(A.params=T.params,p.query||(A.query=T.query));else{var k=T.path,B=k.substring(0,k.lastIndexOf("/")+1)+p.path;A.path=d.normalizePath(B)}return A.path===null&&(A.path=y.alwaysNormalize?d.normalizePath(p.path):p.path),d.buildURLFromParts(A)},parseURL:function(h){var f=n.exec(h);return f?{scheme:f[1]||"",netLoc:f[2]||"",path:f[3]||"",params:f[4]||"",query:f[5]||"",fragment:f[6]||""}:null},normalizePath:function(h){for(h=h.split("").reverse().join("").replace(o,"");h.length!==(h=h.replace(u,"")).length;);return h.split("").reverse().join("")},buildURLFromParts:function(h){return h.scheme+h.netLoc+h.path+h.params+h.query+h.fragment}};i.exports=d})()}(Qy)),Qy.exports}var PE=CD();class zE{constructor(){this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}}}var Jr={AUDIO:"audio",VIDEO:"video",AUDIOVIDEO:"audiovideo"};class F_{constructor(e){this._byteRange=null,this._url=null,this._stats=null,this._streams=null,this.base=void 0,this.relurl=void 0,typeof e=="string"&&(e={url:e}),this.base=e,LD(this,"stats")}setByteRange(e,t){const n=e.split("@",2);let r;n.length===1?r=(t==null?void 0:t.byteRangeEndOffset)||0:r=parseInt(n[1]),this._byteRange=[r,parseInt(n[0])+r]}get baseurl(){return this.base.url}get byteRange(){return this._byteRange===null?[]:this._byteRange}get byteRangeStartOffset(){return this.byteRange[0]}get byteRangeEndOffset(){return this.byteRange[1]}get elementaryStreams(){return this._streams===null&&(this._streams={[Jr.AUDIO]:null,[Jr.VIDEO]:null,[Jr.AUDIOVIDEO]:null}),this._streams}set elementaryStreams(e){this._streams=e}get hasStats(){return this._stats!==null}get hasStreams(){return this._streams!==null}get stats(){return this._stats===null&&(this._stats=new zE),this._stats}set stats(e){this._stats=e}get url(){return!this._url&&this.baseurl&&this.relurl&&(this._url=PE.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""}set url(e){this._url=e}clearElementaryStreamInfo(){const{elementaryStreams:e}=this;e[Jr.AUDIO]=null,e[Jr.VIDEO]=null,e[Jr.AUDIOVIDEO]=null}}function vi(i){return i.sn!=="initSegment"}class Zy extends F_{constructor(e,t){super(t),this._decryptdata=null,this._programDateTime=null,this._ref=null,this._bitrate=void 0,this.rawProgramDateTime=null,this.tagList=[],this.duration=0,this.sn=0,this.levelkeys=void 0,this.type=void 0,this.loader=null,this.keyLoader=null,this.level=-1,this.cc=0,this.startPTS=void 0,this.endPTS=void 0,this.startDTS=void 0,this.endDTS=void 0,this.start=0,this.playlistOffset=0,this.deltaPTS=void 0,this.maxStartPTS=void 0,this.minEndPTS=void 0,this.data=void 0,this.bitrateTest=!1,this.title=null,this.initSegment=null,this.endList=void 0,this.gap=void 0,this.urlId=0,this.type=e}get byteLength(){if(this.hasStats){const e=this.stats.total;if(e)return e}if(this.byteRange.length){const e=this.byteRange[0],t=this.byteRange[1];if(Mn(e)&&Mn(t))return t-e}return null}get bitrate(){return this.byteLength?this.byteLength*8/this.duration:this._bitrate?this._bitrate:null}set bitrate(e){this._bitrate=e}get decryptdata(){var e;const{levelkeys:t}=this;if(!t||t.NONE)return null;if(t.identity)this._decryptdata||(this._decryptdata=t.identity.getDecryptData(this.sn));else if(!((e=this._decryptdata)!=null&&e.keyId)){const n=Object.keys(t);if(n.length===1){const r=this._decryptdata=t[n[0]]||null;r&&(this._decryptdata=r.getDecryptData(this.sn,t))}}return this._decryptdata}get end(){return this.start+this.duration}get endProgramDateTime(){if(this.programDateTime===null)return null;const e=Mn(this.duration)?this.duration:0;return this.programDateTime+e*1e3}get encrypted(){var e;if((e=this._decryptdata)!=null&&e.encrypted)return!0;if(this.levelkeys){var t;const n=Object.keys(this.levelkeys),r=n.length;if(r>1||r===1&&(t=this.levelkeys[n[0]])!=null&&t.encrypted)return!0}return!1}get programDateTime(){return this._programDateTime===null&&this.rawProgramDateTime&&(this.programDateTime=Date.parse(this.rawProgramDateTime)),this._programDateTime}set programDateTime(e){if(!Mn(e)){this._programDateTime=this.rawProgramDateTime=null;return}this._programDateTime=e}get ref(){return vi(this)?(this._ref||(this._ref={base:this.base,start:this.start,duration:this.duration,sn:this.sn,programDateTime:this.programDateTime}),this._ref):null}addStart(e){this.setStart(this.start+e)}setStart(e){this.start=e,this._ref&&(this._ref.start=e)}setDuration(e){this.duration=e,this._ref&&(this._ref.duration=e)}setKeyFormat(e){const t=this.levelkeys;if(t){var n;const r=t[e];r&&!((n=this._decryptdata)!=null&&n.keyId)&&(this._decryptdata=r.getDecryptData(this.sn,t))}}abortRequests(){var e,t;(e=this.loader)==null||e.abort(),(t=this.keyLoader)==null||t.abort()}setElementaryStreamInfo(e,t,n,r,o,u=!1){const{elementaryStreams:d}=this,h=d[e];if(!h){d[e]={startPTS:t,endPTS:n,startDTS:r,endDTS:o,partial:u};return}h.startPTS=Math.min(h.startPTS,t),h.endPTS=Math.max(h.endPTS,n),h.startDTS=Math.min(h.startDTS,r),h.endDTS=Math.max(h.endDTS,o)}}class DD extends F_{constructor(e,t,n,r,o){super(n),this.fragOffset=0,this.duration=0,this.gap=!1,this.independent=!1,this.relurl=void 0,this.fragment=void 0,this.index=void 0,this.duration=e.decimalFloatingPoint("DURATION"),this.gap=e.bool("GAP"),this.independent=e.bool("INDEPENDENT"),this.relurl=e.enumeratedString("URI"),this.fragment=t,this.index=r;const u=e.enumeratedString("BYTERANGE");u&&this.setByteRange(u,o),o&&(this.fragOffset=o.fragOffset+o.duration)}get start(){return this.fragment.start+this.fragOffset}get end(){return this.start+this.duration}get loaded(){const{elementaryStreams:e}=this;return!!(e.audio||e.video||e.audiovideo)}}function U_(i,e){const t=Object.getPrototypeOf(i);if(t){const n=Object.getOwnPropertyDescriptor(t,e);return n||U_(t,e)}}function LD(i,e){const t=U_(i,e);t&&(t.enumerable=!0,Object.defineProperty(i,e,t))}const Qv=Math.pow(2,32)-1,ND=[].push,B_={video:1,audio:2,id3:3,text:4};function Ni(i){return String.fromCharCode.apply(null,i)}function j_(i,e){const t=i[e]<<8|i[e+1];return t<0?65536+t:t}function lr(i,e){const t=q_(i,e);return t<0?4294967296+t:t}function Zv(i,e){let t=lr(i,e);return t*=Math.pow(2,32),t+=lr(i,e+4),t}function q_(i,e){return i[e]<<24|i[e+1]<<16|i[e+2]<<8|i[e+3]}function OD(i){const e=i.byteLength;for(let t=0;t<e;){const n=lr(i,t);if(n>8&&i[t+4]===109&&i[t+5]===111&&i[t+6]===111&&i[t+7]===102)return!0;t=n>1?t+n:e}return!1}function Er(i,e){const t=[];if(!e.length)return t;const n=i.byteLength;for(let r=0;r<n;){const o=lr(i,r),u=Ni(i.subarray(r+4,r+8)),d=o>1?r+o:n;if(u===e[0])if(e.length===1)t.push(i.subarray(r+8,d));else{const h=Er(i.subarray(r+8,d),e.slice(1));h.length&&ND.apply(t,h)}r=d}return t}function MD(i){const e=[],t=i[0];let n=8;const r=lr(i,n);n+=4;let o=0,u=0;t===0?(o=lr(i,n),u=lr(i,n+4),n+=8):(o=Zv(i,n),u=Zv(i,n+8),n+=16),n+=2;let d=i.length+u;const h=j_(i,n);n+=2;for(let f=0;f<h;f++){let y=n;const m=lr(i,y);y+=4;const p=m&2147483647;if((m&2147483648)>>>31===1)return Gr.warn("SIDX has hierarchical references (not supported)"),null;const v=lr(i,y);y+=4,e.push({referenceSize:p,subsegmentDuration:v,info:{duration:v/r,start:d,end:d+p-1}}),d+=p,y+=4,n=y}return{earliestPresentationTime:o,timescale:r,version:t,referencesCount:h,references:e}}function G_(i){const e=[],t=Er(i,["moov","trak"]);for(let r=0;r<t.length;r++){const o=t[r],u=Er(o,["tkhd"])[0];if(u){let d=u[0];const h=lr(u,d===0?12:20),f=Er(o,["mdia","mdhd"])[0];if(f){d=f[0];const y=lr(f,d===0?12:20),m=Er(o,["mdia","hdlr"])[0];if(m){const p=Ni(m.subarray(8,12)),T={soun:Jr.AUDIO,vide:Jr.VIDEO}[p],v=Er(o,["mdia","minf","stbl","stsd"])[0],A=PD(v);T?(e[h]={timescale:y,type:T,stsd:A},e[T]=qr({timescale:y,id:h},A)):e[h]={timescale:y,type:p,stsd:A}}}}}return Er(i,["moov","mvex","trex"]).forEach(r=>{const o=lr(r,4),u=e[o];u&&(u.default={duration:lr(r,12),flags:lr(r,20)})}),e}function PD(i){const e=i.subarray(8),t=e.subarray(86),n=Ni(e.subarray(4,8));let r=n,o;const u=n==="enca"||n==="encv";if(u){const f=Er(e,[n])[0].subarray(n==="enca"?28:78);Er(f,["sinf"]).forEach(m=>{const p=Er(m,["schm"])[0];if(p){const T=Ni(p.subarray(4,8));if(T==="cbcs"||T==="cenc"){const v=Er(m,["frma"])[0];v&&(r=Ni(v))}}})}const d=r;switch(r){case"avc1":case"avc2":case"avc3":case"avc4":{const h=Er(t,["avcC"])[0];h&&h.length>3&&(r+="."+Im(h[1])+Im(h[2])+Im(h[3]),o=xm(d==="avc1"?"dva1":"dvav",t));break}case"mp4a":{const h=Er(e,[n])[0],f=Er(h.subarray(28),["esds"])[0];if(f&&f.length>7){let y=4;if(f[y++]!==3)break;y=Jy(f,y),y+=2;const m=f[y++];if(m&128&&(y+=2),m&64&&(y+=f[y++]),f[y++]!==4)break;y=Jy(f,y);const p=f[y++];if(p===64)r+="."+Im(p);else break;if(y+=12,f[y++]!==5)break;y=Jy(f,y);const T=f[y++];let v=(T&248)>>3;v===31&&(v+=1+((T&7)<<3)+((f[y]&224)>>5)),r+="."+v}break}case"hvc1":case"hev1":{const h=Er(t,["hvcC"])[0];if(h&&h.length>12){const f=h[1],y=["","A","B","C"][f>>6],m=f&31,p=lr(h,2),T=(f&32)>>5?"H":"L",v=h[12],A=h.subarray(6,12);r+="."+y+m,r+="."+zD(p).toString(16).toUpperCase(),r+="."+T+v;let k="";for(let B=A.length;B--;){const $=A[B];($||k)&&(k="."+$.toString(16).toUpperCase()+k)}r+=k}o=xm(d=="hev1"?"dvhe":"dvh1",t);break}case"dvh1":case"dvhe":case"dvav":case"dva1":case"dav1":{r=xm(r,t)||r;break}case"vp09":{const h=Er(t,["vpcC"])[0];if(h&&h.length>6){const f=h[4],y=h[5],m=h[6]>>4&15;r+="."+Ys(f)+"."+Ys(y)+"."+Ys(m)}break}case"av01":{const h=Er(t,["av1C"])[0];if(h&&h.length>2){const f=h[1]>>>5,y=h[1]&31,m=h[2]>>>7?"H":"M",p=(h[2]&64)>>6,T=(h[2]&32)>>5,v=f===2&&p?T?12:10:p?10:8,A=(h[2]&16)>>4,k=(h[2]&8)>>3,B=(h[2]&4)>>2,$=h[2]&3;r+="."+f+"."+Ys(y)+m+"."+Ys(v)+"."+A+"."+k+B+$+"."+Ys(1)+"."+Ys(1)+"."+Ys(1)+"."+0,o=xm("dav1",t)}break}}return{codec:r,encrypted:u,supplemental:o}}function xm(i,e){const t=Er(e,["dvvC"]),n=t.length?t[0]:Er(e,["dvcC"])[0];if(n){const r=n[2]>>1&127,o=n[2]<<5&32|n[3]>>3&31;return i+"."+Ys(r)+"."+Ys(o)}}function zD(i){let e=0;for(let t=0;t<32;t++)e|=(i>>t&1)<<31-t;return e>>>0}function Jy(i,e){const t=e+5;for(;i[e++]&128&&e<t;);return e}function Im(i){return("0"+i.toString(16).toUpperCase()).slice(-2)}function Ys(i){return(i<10?"0":"")+i}function FD(i,e){if(!i||!e)return;const t=e.keyId;t&&e.isCommonEncryption&&$_(i,(n,r)=>{const o=n.subarray(8,24);o.some(u=>u!==0)||(Gr.log(`[eme] Patching keyId in 'enc${r?"a":"v"}>sinf>>tenc' box: ${Zi(o)} -> ${Zi(t)}`),n.set(t,8))})}function UD(i){const e=[];return $_(i,t=>e.push(t.subarray(8,24))),e}function $_(i,e){Er(i,["moov","trak"]).forEach(n=>{const r=Er(n,["mdia","minf","stbl","stsd"])[0];if(!r)return;const o=r.subarray(8);let u=Er(o,["enca"]);const d=u.length>0;d||(u=Er(o,["encv"])),u.forEach(h=>{const f=d?h.subarray(28):h.subarray(78);Er(f,["sinf"]).forEach(m=>{const p=H_(m);p&&e(p,d)})})})}function H_(i){const e=Er(i,["schm"])[0];if(e){const t=Ni(e.subarray(4,8));if(t==="cbcs"||t==="cenc"){const n=Er(i,["schi","tenc"])[0];if(n)return n}}}function BD(i,e,t){const n={},r=Er(i,["moof","traf"]);for(let o=0;o<r.length;o++){const u=r[o],d=Er(u,["tfhd"])[0],h=lr(d,4),f=e[h];if(!f)continue;n[h]||(n[h]={start:NaN,duration:0,sampleCount:0,timescale:f.timescale,type:f.type});const y=n[h],m=Er(u,["tfdt"])[0];if(m){const K=m[0];let ue=lr(m,4);K===1&&(ue===Qv?t.warn("[mp4-demuxer]: Ignoring assumed invalid signed 64-bit track fragment decode time"):(ue*=Qv+1,ue+=lr(m,8))),Mn(ue)&&(!Mn(y.start)||ue<y.start)&&(y.start=ue)}const p=f.default,T=lr(d,0)|(p==null?void 0:p.flags);let v=(p==null?void 0:p.duration)||0;T&8&&(T&2?v=lr(d,12):v=lr(d,8));const A=Er(u,["trun"]);let k=y.start||0,B=0,$=v;for(let K=0;K<A.length;K++){const ue=A[K],me=lr(ue,4),Te=y.sampleCount;y.sampleCount+=me;const X=ue[3]&1,Q=ue[3]&4,be=ue[2]&1,F=ue[2]&2,ke=ue[2]&4,Qe=ue[2]&8;let xe=8,Ye=me;for(X&&(xe+=4),Q&&me&&(!(ue[xe+1]&1)&&y.keyFrameIndex===void 0&&(y.keyFrameIndex=Te),xe+=4,be?($=lr(ue,xe),xe+=4):$=v,F&&(xe+=4),Qe&&(xe+=4),k+=$,B+=$,Ye--);Ye--;)be?($=lr(ue,xe),xe+=4):$=v,F&&(xe+=4),ke&&(ue[xe+1]&1||y.keyFrameIndex===void 0&&(y.keyFrameIndex=y.sampleCount-(Ye+1),y.keyFrameStart=k),xe+=4),Qe&&(xe+=4),k+=$,B+=$;!B&&v&&(B+=v*me)}y.duration+=B}if(!Object.keys(n).some(o=>n[o].duration)){let o=1/0,u=0;const d=Er(i,["sidx"]);for(let h=0;h<d.length;h++){const f=MD(d[h]);if(f!=null&&f.references){o=Math.min(o,f.earliestPresentationTime/f.timescale);const y=f.references.reduce((m,p)=>m+p.info.duration||0,0);u=Math.max(u,y+f.earliestPresentationTime/f.timescale)}}u&&Mn(u)&&Object.keys(n).forEach(h=>{n[h].duration||(n[h].duration=u*n[h].timescale-n[h].start)})}return n}function jD(i){const e={valid:null,remainder:null},t=Er(i,["moof"]);if(t.length<2)return e.remainder=i,e;const n=t[t.length-1];return e.valid=i.slice(0,n.byteOffset-8),e.remainder=i.slice(n.byteOffset-8),e}function cs(i,e){const t=new Uint8Array(i.length+e.length);return t.set(i),t.set(e,i.length),t}function Jv(i,e){const t=[],n=e.samples,r=e.timescale,o=e.id;let u=!1;return Er(n,["moof"]).map(h=>{const f=h.byteOffset-8;Er(h,["traf"]).map(m=>{const p=Er(m,["tfdt"]).map(T=>{const v=T[0];let A=lr(T,4);return v===1&&(A*=Math.pow(2,32),A+=lr(T,8)),A/r})[0];return p!==void 0&&(i=p),Er(m,["tfhd"]).map(T=>{const v=lr(T,4),A=lr(T,0)&16777215,k=(A&1)!==0,B=(A&2)!==0,$=(A&8)!==0;let K=0;const ue=(A&16)!==0;let me=0;const Te=(A&32)!==0;let X=8;v===o&&(k&&(X+=8),B&&(X+=4),$&&(K=lr(T,X),X+=4),ue&&(me=lr(T,X),X+=4),Te&&(X+=4),e.type==="video"&&(u=Kp(e.codec)),Er(m,["trun"]).map(Q=>{const be=Q[0],F=lr(Q,0)&16777215,ke=(F&1)!==0;let Qe=0;const xe=(F&4)!==0,Ye=(F&256)!==0;let Ge=0;const _e=(F&512)!==0;let $e=0;const Je=(F&1024)!==0,tt=(F&2048)!==0;let Pe=0;const qe=lr(Q,4);let et=8;ke&&(Qe=lr(Q,et),et+=4),xe&&(et+=4);let pt=Qe+f;for(let jt=0;jt<qe;jt++){if(Ye?(Ge=lr(Q,et),et+=4):Ge=K,_e?($e=lr(Q,et),et+=4):$e=me,Je&&(et+=4),tt&&(be===0?Pe=lr(Q,et):Pe=q_(Q,et),et+=4),e.type===Jr.VIDEO){let Fe=0;for(;Fe<$e;){const Ne=lr(n,pt);if(pt+=4,qD(u,n[pt])){const bt=n.subarray(pt,pt+Ne);FE(bt,u?2:1,i+Pe/r,t)}pt+=Ne,Fe+=Ne+4}}i+=Ge/r}}))})})}),t}function Kp(i){if(!i)return!1;const e=i.substring(0,4);return e==="hvc1"||e==="hev1"||e==="dvh1"||e==="dvhe"}function qD(i,e){if(i){const t=e>>1&63;return t===39||t===40}else return(e&31)===6}function FE(i,e,t,n){const r=V_(i);let o=0;o+=e;let u=0,d=0,h=0;for(;o<r.length;){u=0;do{if(o>=r.length)break;h=r[o++],u+=h}while(h===255);d=0;do{if(o>=r.length)break;h=r[o++],d+=h}while(h===255);const f=r.length-o;let y=o;if(d<f)o+=d;else if(d>f){Gr.error(`Malformed SEI payload. ${d} is too small, only ${f} bytes left to parse.`);break}if(u===4){if(r[y++]===181){const p=j_(r,y);if(y+=2,p===49){const T=lr(r,y);if(y+=4,T===1195456820){const v=r[y++];if(v===3){const A=r[y++],k=31&A,B=64&A,$=B?2+k*3:0,K=new Uint8Array($);if(B){K[0]=A;for(let ue=1;ue<$;ue++)K[ue]=r[y++]}n.push({type:v,payloadType:u,pts:t,bytes:K})}}}}}else if(u===5&&d>16){const m=[];for(let v=0;v<16;v++){const A=r[y++].toString(16);m.push(A.length==1?"0"+A:A),(v===3||v===5||v===7||v===9)&&m.push("-")}const p=d-16,T=new Uint8Array(p);for(let v=0;v<p;v++)T[v]=r[y++];n.push({payloadType:u,pts:t,uuid:m.join(""),userData:Va(T),userDataBytes:T})}}}function V_(i){const e=i.byteLength,t=[];let n=1;for(;n<e-2;)i[n]===0&&i[n+1]===0&&i[n+2]===3?(t.push(n+2),n+=2):n++;if(t.length===0)return i;const r=e-t.length,o=new Uint8Array(r);let u=0;for(n=0;n<r;u++,n++)u===t[0]&&(u++,t.shift()),o[n]=i[u];return o}function GD(i){const e=i[0];let t="",n="",r=0,o=0,u=0,d=0,h=0,f=0;if(e===0){for(;Ni(i.subarray(f,f+1))!=="\0";)t+=Ni(i.subarray(f,f+1)),f+=1;for(t+=Ni(i.subarray(f,f+1)),f+=1;Ni(i.subarray(f,f+1))!=="\0";)n+=Ni(i.subarray(f,f+1)),f+=1;n+=Ni(i.subarray(f,f+1)),f+=1,r=lr(i,12),o=lr(i,16),d=lr(i,20),h=lr(i,24),f=28}else if(e===1){f+=4,r=lr(i,f),f+=4;const m=lr(i,f);f+=4;const p=lr(i,f);for(f+=4,u=2**32*m+p,ED(u)||(u=Number.MAX_SAFE_INTEGER,Gr.warn("Presentation time exceeds safe integer limit and wrapped to max safe integer in parsing emsg box")),d=lr(i,f),f+=4,h=lr(i,f),f+=4;Ni(i.subarray(f,f+1))!=="\0";)t+=Ni(i.subarray(f,f+1)),f+=1;for(t+=Ni(i.subarray(f,f+1)),f+=1;Ni(i.subarray(f,f+1))!=="\0";)n+=Ni(i.subarray(f,f+1)),f+=1;n+=Ni(i.subarray(f,f+1)),f+=1}const y=i.subarray(f,i.byteLength);return{schemeIdUri:t,value:n,timeScale:r,presentationTime:u,presentationTimeDelta:o,eventDuration:d,id:h,payload:y}}function $D(i,...e){const t=e.length;let n=8,r=t;for(;r--;)n+=e[r].byteLength;const o=new Uint8Array(n);for(o[0]=n>>24&255,o[1]=n>>16&255,o[2]=n>>8&255,o[3]=n&255,o.set(i,4),r=0,n=8;r<t;r++)o.set(e[r],n),n+=e[r].byteLength;return o}function HD(i,e,t){if(i.byteLength!==16)throw new RangeError("Invalid system id");let n,r;n=0,r=new Uint8Array;let o;n>0?(o=new Uint8Array(4),e.length>0&&new DataView(o.buffer).setUint32(0,e.length,!1)):o=new Uint8Array;const u=new Uint8Array(4);return t.byteLength>0&&new DataView(u.buffer).setUint32(0,t.byteLength,!1),$D([112,115,115,104],new Uint8Array([n,0,0,0]),i,o,r,u,t)}function VD(i){const e=[];if(i instanceof ArrayBuffer){const t=i.byteLength;let n=0;for(;n+32<t;){const r=new DataView(i,n),o=KD(r);e.push(o),n+=o.size}}return e}function KD(i){const e=i.getUint32(0),t=i.byteOffset,n=i.byteLength;if(n<e)return{offset:t,size:n};if(i.getUint32(4)!==1886614376)return{offset:t,size:e};const o=i.getUint32(8)>>>24;if(o!==0&&o!==1)return{offset:t,size:e};const u=i.buffer,d=Zi(new Uint8Array(u,t+12,16));let h=null,f=null,y=0;if(o===0)y=28;else{const p=i.getUint32(28);if(!p||n<32+p*16)return{offset:t,size:e};h=[];for(let T=0;T<p;T++)h.push(new Uint8Array(u,t+32+T*16,16));y=32+p*16}if(!y)return{offset:t,size:e};const m=i.getUint32(y);return e-32<m?{offset:t,size:e}:(f=new Uint8Array(u,t+y+4,m),{version:o,systemId:d,kids:h,data:f,offset:t,size:e})}const K_=()=>/\(Windows.+Firefox\//i.test(navigator.userAgent),vd={audio:{a3ds:1,"ac-3":.95,"ac-4":1,alac:.9,alaw:1,dra1:1,"dts+":1,"dts-":1,dtsc:1,dtse:1,dtsh:1,"ec-3":.9,enca:1,fLaC:.9,flac:.9,FLAC:.9,g719:1,g726:1,m4ae:1,mha1:1,mha2:1,mhm1:1,mhm2:1,mlpa:1,mp4a:1,"raw ":1,Opus:1,opus:1,samr:1,sawb:1,sawp:1,sevc:1,sqcp:1,ssmv:1,twos:1,ulaw:1},video:{avc1:1,avc2:1,avc3:1,avc4:1,avcp:1,av01:.8,dav1:.8,drac:1,dva1:1,dvav:1,dvh1:.7,dvhe:.7,encv:1,hev1:.75,hvc1:.75,mjp2:1,mp4v:1,mvc1:1,mvc2:1,mvc3:1,mvc4:1,resv:1,rv60:1,s263:1,svc1:1,svc2:1,"vc-1":1,vp08:1,vp09:.9},text:{stpp:1,wvtt:1}};function UE(i,e){const t=vd[e];return!!t&&!!t[i.slice(0,4)]}function Rh(i,e,t=!0){return!i.split(",").some(n=>!BE(n,e,t))}function BE(i,e,t=!0){var n;const r=Ll(t);return(n=r==null?void 0:r.isTypeSupported(xh(i,e)))!=null?n:!1}function xh(i,e){return`${e}/mp4;codecs=${i}`}function eT(i){if(i){const e=i.substring(0,4);return vd.video[e]}return 2}function gp(i){const e=K_();return i.split(",").reduce((t,n)=>{const o=e&&Kp(n)?9:vd.video[n];return o?(o*2+t)/(t?3:2):(vd.audio[n]+t)/(t?2:1)},0)}const eb={};function YD(i,e=!0){if(eb[i])return eb[i];const t={flac:["flac","fLaC","FLAC"],opus:["opus","Opus"],"mp4a.40.34":["mp3"]}[i];for(let r=0;r<t.length;r++){var n;if(BE(t[r],"audio",e))return eb[i]=t[r],t[r];if(t[r]==="mp3"&&(n=Ll(e))!=null&&n.isTypeSupported("audio/mpeg"))return""}return i}const WD=/flac|opus|mp4a\.40\.34/i;function mp(i,e=!0){return i.replace(WD,t=>YD(t.toLowerCase(),e))}function XD(i,e){const t=[];if(i){const n=i.split(",");for(let r=0;r<n.length;r++)UE(n[r],"video")||t.push(n[r])}return e&&t.push(e),t.join(",")}function Qm(i,e){if(i&&(i.length>4||["ac-3","ec-3","alac","fLaC","Opus"].indexOf(i)!==-1)&&(tT(i,"audio")||tT(i,"video")))return i;if(e){const t=e.split(",");if(t.length>1){if(i){for(let n=t.length;n--;)if(t[n].substring(0,4)===i.substring(0,4))return t[n]}return t[0]}}return e||i}function tT(i,e){return UE(i,e)&&BE(i,e)}function QD(i){const e=i.split(",");for(let t=0;t<e.length;t++){const n=e[t].split(".");n.length>2&&n[0]==="avc1"&&(e[t]=`avc1.${parseInt(n[1]).toString(16)}${("000"+parseInt(n[2]).toString(16)).slice(-4)}`)}return e.join(",")}function ZD(i){if(i.startsWith("av01.")){const e=i.split("."),t=["0","111","01","01","01","0"];for(let n=e.length;n>4&&n<10;n++)e[n]=t[n-4];return e.join(".")}return i}function nT(i){const e=Ll(i)||{isTypeSupported:()=>!1};return{mpeg:e.isTypeSupported("audio/mpeg"),mp3:e.isTypeSupported('audio/mp4; codecs="mp3"'),ac3:e.isTypeSupported('audio/mp4; codecs="ac-3"')}}function qb(i){return i.replace(/^.+codecs=["']?([^"']+).*$/,"$1")}const JD={supported:!0,powerEfficient:!0,smooth:!0},e1={supported:!1,smooth:!1,powerEfficient:!1},Y_={supported:!0,configurations:[],decodingInfoResults:[JD]};function W_(i,e){return{supported:!1,configurations:e,decodingInfoResults:[e1],error:i}}function t1(i,e,t,n,r,o){const u=i.videoCodec,d=i.audioCodec?i.audioGroups:null,h=o==null?void 0:o.audioCodec,f=o==null?void 0:o.channels,y=f?parseInt(f):h?1/0:2;let m=null;if(d!=null&&d.length)try{d.length===1&&d[0]?m=e.groups[d[0]].channels:m=d.reduce((p,T)=>{if(T){const v=e.groups[T];if(!v)throw new Error(`Audio track group ${T} not found`);Object.keys(v.channels).forEach(A=>{p[A]=(p[A]||0)+v.channels[A]})}return p},{2:0})}catch{return!0}return u!==void 0&&(u.split(",").some(p=>Kp(p))||i.width>1920&&i.height>1088||i.height>1920&&i.width>1088||i.frameRate>Math.max(n,30)||i.videoRange!=="SDR"&&i.videoRange!==t||i.bitrate>Math.max(r,8e6))||!!m&&Mn(y)&&Object.keys(m).some(p=>parseInt(p)>y)}function X_(i,e,t,n={}){const r=i.videoCodec;if(!r&&!i.audioCodec||!t)return Promise.resolve(Y_);const o=[],u=n1(i),d=u.length,h=r1(i,e,d>0),f=h.length;for(let y=d||1*f||1;y--;){const m={type:"media-source"};if(d&&(m.video=u[y%d]),f){m.audio=h[y%f];const p=m.audio.bitrate;m.video&&p&&(m.video.bitrate-=p)}o.push(m)}if(r){const y=navigator.userAgent;if(r.split(",").some(m=>Kp(m))&&K_())return Promise.resolve(W_(new Error(`Overriding Windows Firefox HEVC MediaCapabilities result based on user-agent string: (${y})`),o))}return Promise.all(o.map(y=>{const m=a1(y);return n[m]||(n[m]=t.decodingInfo(y))})).then(y=>({supported:!y.some(m=>!m.supported),configurations:o,decodingInfoResults:y})).catch(y=>({supported:!1,configurations:o,decodingInfoResults:[],error:y}))}function n1(i){var e;const t=(e=i.videoCodec)==null?void 0:e.split(","),n=Q_(i),r=i.width||640,o=i.height||480,u=i.frameRate||30,d=i.videoRange.toLowerCase();return t?t.map(h=>{const f={contentType:xh(ZD(h),"video"),width:r,height:o,bitrate:n,framerate:u};return d!=="sdr"&&(f.transferFunction=d),f}):[]}function r1(i,e,t){var n;const r=(n=i.audioCodec)==null?void 0:n.split(","),o=Q_(i);return r&&i.audioGroups?i.audioGroups.reduce((u,d)=>{var h;const f=d?(h=e.groups[d])==null?void 0:h.tracks:null;return f?f.reduce((y,m)=>{if(m.groupId===d){const p=parseFloat(m.channels||"");r.forEach(T=>{const v={contentType:xh(T,"audio"),bitrate:t?i1(T,o):o};p&&(v.channels=""+p),y.push(v)})}return y},u):u},[]):[]}function i1(i,e){if(e<=1)return 1;let t=128e3;return i==="ec-3"?t=768e3:i==="ac-3"&&(t=64e4),Math.min(e/2,t)}function Q_(i){return Math.ceil(Math.max(i.bitrate*.9,i.averageBitrate)/1e3)*1e3||1}function a1(i){let e="";const{audio:t,video:n}=i;if(n){const r=qb(n.contentType);e+=`${r}_r${n.height}x${n.width}f${Math.ceil(n.framerate)}${n.transferFunction||"sd"}_${Math.ceil(n.bitrate/1e5)}`}if(t){const r=qb(t.contentType);e+=`${n?"_":""}${r}_c${t.channels}`}return e}const Gb=["NONE","TYPE-0","TYPE-1",null];function s1(i){return Gb.indexOf(i)>-1}const pp=["SDR","PQ","HLG"];function o1(i){return!!i&&pp.indexOf(i)>-1}var Zm={No:"",Yes:"YES",v2:"v2"};function rT(i){const{canSkipUntil:e,canSkipDateRanges:t,age:n}=i,r=n<e/2;return e&&r?t?Zm.v2:Zm.Yes:Zm.No}class iT{constructor(e,t,n){this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=e,this.part=t,this.skip=n}addDirectives(e){const t=new self.URL(e);return this.msn!==void 0&&t.searchParams.set("_HLS_msn",this.msn.toString()),this.part!==void 0&&t.searchParams.set("_HLS_part",this.part.toString()),this.skip&&t.searchParams.set("_HLS_skip",this.skip),t.href}}class Ih{constructor(e){if(this._attrs=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.url=void 0,this.frameRate=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.supplemental=void 0,this.videoCodec=void 0,this.width=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.supportedPromise=void 0,this.supportedResult=void 0,this._avgBitrate=0,this._audioGroups=void 0,this._subtitleGroups=void 0,this._urlId=0,this.url=[e.url],this._attrs=[e.attrs],this.bitrate=e.bitrate,e.details&&(this.details=e.details),this.id=e.id||0,this.name=e.name,this.width=e.width||0,this.height=e.height||0,this.frameRate=e.attrs.optionalFloat("FRAME-RATE",0),this._avgBitrate=e.attrs.decimalInteger("AVERAGE-BANDWIDTH"),this.audioCodec=e.audioCodec,this.videoCodec=e.videoCodec,this.codecSet=[e.videoCodec,e.audioCodec].filter(n=>!!n).map(n=>n.substring(0,4)).join(","),"supplemental"in e){var t;this.supplemental=e.supplemental;const n=(t=e.supplemental)==null?void 0:t.videoCodec;n&&n!==e.videoCodec&&(this.codecSet+=`,${n.substring(0,4)}`)}this.addGroupId("audio",e.attrs.AUDIO),this.addGroupId("text",e.attrs.SUBTITLES)}get maxBitrate(){return Math.max(this.realBitrate,this.bitrate)}get averageBitrate(){return this._avgBitrate||this.realBitrate||this.bitrate}get attrs(){return this._attrs[0]}get codecs(){return this.attrs.CODECS||""}get pathwayId(){return this.attrs["PATHWAY-ID"]||"."}get videoRange(){return this.attrs["VIDEO-RANGE"]||"SDR"}get score(){return this.attrs.optionalFloat("SCORE",0)}get uri(){return this.url[0]||""}hasAudioGroup(e){return aT(this._audioGroups,e)}hasSubtitleGroup(e){return aT(this._subtitleGroups,e)}get audioGroups(){return this._audioGroups}get subtitleGroups(){return this._subtitleGroups}addGroupId(e,t){if(t){if(e==="audio"){let n=this._audioGroups;n||(n=this._audioGroups=[]),n.indexOf(t)===-1&&n.push(t)}else if(e==="text"){let n=this._subtitleGroups;n||(n=this._subtitleGroups=[]),n.indexOf(t)===-1&&n.push(t)}}}get urlId(){return 0}set urlId(e){}get audioGroupIds(){return this.audioGroups?[this.audioGroupId]:void 0}get textGroupIds(){return this.subtitleGroups?[this.textGroupId]:void 0}get audioGroupId(){var e;return(e=this.audioGroups)==null?void 0:e[0]}get textGroupId(){var e;return(e=this.subtitleGroups)==null?void 0:e[0]}addFallback(){}}function aT(i,e){return!e||!i?!1:i.indexOf(e)!==-1}function l1(){if(typeof matchMedia=="function"){const i=matchMedia("(dynamic-range: high)"),e=matchMedia("bad query");if(i.media!==e.media)return i.matches===!0}return!1}function u1(i,e){let t=!1,n=[];if(i&&(t=i!=="SDR",n=[i]),e){n=e.allowedVideoRanges||pp.slice(0);const r=n.join("")!=="SDR"&&!e.videoCodec;t=e.preferHDR!==void 0?e.preferHDR:r&&l1(),t||(n=["SDR"])}return{preferHDR:t,allowedVideoRanges:n}}const c1=i=>{const e=new WeakSet;return(t,n)=>{if(i&&(n=i(t,n)),typeof n=="object"&&n!==null){if(e.has(n))return;e.add(n)}return n}},ei=(i,e)=>JSON.stringify(i,c1(e));function d1(i,e,t,n,r){const o=Object.keys(i),u=n==null?void 0:n.channels,d=n==null?void 0:n.audioCodec,h=r==null?void 0:r.videoCodec,f=u&&parseInt(u)===2;let y=!1,m=!1,p=1/0,T=1/0,v=1/0,A=1/0,k=0,B=[];const{preferHDR:$,allowedVideoRanges:K}=u1(e,r);for(let Q=o.length;Q--;){const be=i[o[Q]];y||(y=be.channels[2]>0),p=Math.min(p,be.minHeight),T=Math.min(T,be.minFramerate),v=Math.min(v,be.minBitrate),K.filter(ke=>be.videoRanges[ke]>0).length>0&&(m=!0)}p=Mn(p)?p:0,T=Mn(T)?T:0;const ue=Math.max(1080,p),me=Math.max(30,T);v=Mn(v)?v:t,t=Math.max(v,t),m||(e=void 0);const Te=o.length>1;return{codecSet:o.reduce((Q,be)=>{const F=i[be];if(be===Q)return Q;if(B=m?K.filter(ke=>F.videoRanges[ke]>0):[],Te){if(F.minBitrate>t)return Vs(be,`min bitrate of ${F.minBitrate} > current estimate of ${t}`),Q;if(!F.hasDefaultAudio)return Vs(be,"no renditions with default or auto-select sound found"),Q;if(d&&be.indexOf(d.substring(0,4))%5!==0)return Vs(be,`audio codec preference "${d}" not found`),Q;if(u&&!f){if(!F.channels[u])return Vs(be,`no renditions with ${u} channel sound found (channels options: ${Object.keys(F.channels)})`),Q}else if((!d||f)&&y&&F.channels[2]===0)return Vs(be,"no renditions with stereo sound found"),Q;if(F.minHeight>ue)return Vs(be,`min resolution of ${F.minHeight} > maximum of ${ue}`),Q;if(F.minFramerate>me)return Vs(be,`min framerate of ${F.minFramerate} > maximum of ${me}`),Q;if(!B.some(ke=>F.videoRanges[ke]>0))return Vs(be,`no variants with VIDEO-RANGE of ${ei(B)} found`),Q;if(h&&be.indexOf(h.substring(0,4))%5!==0)return Vs(be,`video codec preference "${h}" not found`),Q;if(F.maxScore<k)return Vs(be,`max score of ${F.maxScore} < selected max of ${k}`),Q}return Q&&(gp(be)>=gp(Q)||F.fragmentError>i[Q].fragmentError)?Q:(A=F.minIndex,k=F.maxScore,be)},void 0),videoRanges:B,preferHDR:$,minFramerate:T,minBitrate:v,minIndex:A}}function Vs(i,e){Gr.log(`[abr] start candidates with "${i}" ignored because ${e}`)}function Z_(i){return i.reduce((e,t)=>{let n=e.groups[t.groupId];n||(n=e.groups[t.groupId]={tracks:[],channels:{2:0},hasDefault:!1,hasAutoSelect:!1}),n.tracks.push(t);const r=t.channels||"2";return n.channels[r]=(n.channels[r]||0)+1,n.hasDefault=n.hasDefault||t.default,n.hasAutoSelect=n.hasAutoSelect||t.autoselect,n.hasDefault&&(e.hasDefaultAudio=!0),n.hasAutoSelect&&(e.hasAutoSelectAudio=!0),e},{hasDefaultAudio:!1,hasAutoSelectAudio:!1,groups:{}})}function f1(i,e,t,n){return i.slice(t,n+1).reduce((r,o,u)=>{if(!o.codecSet)return r;const d=o.audioGroups;let h=r[o.codecSet];h||(r[o.codecSet]=h={minBitrate:1/0,minHeight:1/0,minFramerate:1/0,minIndex:u,maxScore:0,videoRanges:{SDR:0},channels:{2:0},hasDefaultAudio:!d,fragmentError:0}),h.minBitrate=Math.min(h.minBitrate,o.bitrate);const f=Math.min(o.height,o.width);return h.minHeight=Math.min(h.minHeight,f),h.minFramerate=Math.min(h.minFramerate,o.frameRate),h.minIndex=Math.min(h.minIndex,u),h.maxScore=Math.max(h.maxScore,o.score),h.fragmentError+=o.fragmentError,h.videoRanges[o.videoRange]=(h.videoRanges[o.videoRange]||0)+1,d&&d.forEach(y=>{if(!y)return;const m=e.groups[y];m&&(h.hasDefaultAudio=h.hasDefaultAudio||e.hasDefaultAudio?m.hasDefault:m.hasAutoSelect||!e.hasDefaultAudio&&!e.hasAutoSelectAudio,Object.keys(m.channels).forEach(p=>{h.channels[p]=(h.channels[p]||0)+m.channels[p]}))}),r},{})}function sT(i){if(!i)return i;const{lang:e,assocLang:t,characteristics:n,channels:r,audioCodec:o}=i;return{lang:e,assocLang:t,characteristics:n,channels:r,audioCodec:o}}function to(i,e,t){if("attrs"in i){const n=e.indexOf(i);if(n!==-1)return n}for(let n=0;n<e.length;n++){const r=e[n];if(ku(i,r,t))return n}return-1}function ku(i,e,t){const{groupId:n,name:r,lang:o,assocLang:u,default:d}=i,h=i.forced;return(n===void 0||e.groupId===n)&&(r===void 0||e.name===r)&&(o===void 0||h1(o,e.lang))&&(o===void 0||e.assocLang===u)&&(d===void 0||e.default===d)&&(h===void 0||e.forced===h)&&(!("characteristics"in i)||g1(i.characteristics||"",e.characteristics))&&(t===void 0||t(i,e))}function h1(i,e="--"){return i.length===e.length?i===e:i.startsWith(e)||e.startsWith(i)}function g1(i,e=""){const t=i.split(","),n=e.split(",");return t.length===n.length&&!t.some(r=>n.indexOf(r)===-1)}function xu(i,e){const{audioCodec:t,channels:n}=i;return(t===void 0||(e.audioCodec||"").substring(0,4)===t.substring(0,4))&&(n===void 0||n===(e.channels||"2"))}function m1(i,e,t,n,r){const o=e[n],d=e.reduce((p,T,v)=>{const A=T.uri;return(p[A]||(p[A]=[])).push(v),p},{})[o.uri];d.length>1&&(n=Math.max.apply(Math,d));const h=o.videoRange,f=o.frameRate,y=o.codecSet.substring(0,4),m=oT(e,n,p=>{if(p.videoRange!==h||p.frameRate!==f||p.codecSet.substring(0,4)!==y)return!1;const T=p.audioGroups,v=t.filter(A=>!T||T.indexOf(A.groupId)!==-1);return to(i,v,r)>-1});return m>-1?m:oT(e,n,p=>{const T=p.audioGroups,v=t.filter(A=>!T||T.indexOf(A.groupId)!==-1);return to(i,v,r)>-1})}function oT(i,e,t){for(let n=e;n>-1;n--)if(t(i[n]))return n;for(let n=e+1;n<i.length;n++)if(t(i[n]))return n;return-1}function yp(i,e){var t;return!!i&&i!==((t=e.loadLevelObj)==null?void 0:t.uri)}class p1 extends gs{constructor(e){super("abr",e.logger),this.hls=void 0,this.lastLevelLoadSec=0,this.lastLoadedFragLevel=-1,this.firstSelection=-1,this._nextAutoLevel=-1,this.nextAutoLevelKey="",this.audioTracksByGroup=null,this.codecTiers=null,this.timer=-1,this.fragCurrent=null,this.partCurrent=null,this.bitrateTestDelay=0,this.rebufferNotice=-1,this.supportedCache={},this.bwEstimator=void 0,this._abandonRulesCheck=t=>{var n;const{fragCurrent:r,partCurrent:o,hls:u}=this,{autoLevelEnabled:d,media:h}=u;if(!r||!h)return;const f=performance.now(),y=o?o.stats:r.stats,m=o?o.duration:r.duration,p=f-y.loading.start,T=u.minAutoLevel,v=r.level,A=this._nextAutoLevel;if(y.aborted||y.loaded&&y.loaded===y.total||v<=T){this.clearTimer(),this._nextAutoLevel=-1;return}if(!d)return;const k=A>-1&&A!==v,B=!!t||k;if(!B&&(h.paused||!h.playbackRate||!h.readyState))return;const $=u.mainForwardBufferInfo;if(!B&&$===null)return;const K=this.bwEstimator.getEstimateTTFB(),ue=Math.abs(h.playbackRate);if(p<=Math.max(K,1e3*(m/(ue*2))))return;const me=$?$.len/ue:0,Te=y.loading.first?y.loading.first-y.loading.start:-1,X=y.loaded&&Te>-1,Q=this.getBwEstimate(),be=u.levels,F=be[v],ke=Math.max(y.loaded,Math.round(m*(r.bitrate||F.averageBitrate)/8));let Qe=X?p-Te:p;Qe<1&&X&&(Qe=Math.min(p,y.loaded*8/Q));const xe=X?y.loaded*1e3/Qe:0,Ye=K/1e3,Ge=xe?(ke-y.loaded)/xe:ke*8/Q+Ye;if(Ge<=me)return;const _e=xe?xe*8:Q,$e=((n=(t==null?void 0:t.details)||this.hls.latestLevelDetails)==null?void 0:n.live)===!0,Je=this.hls.config.abrBandWidthUpFactor;let tt=Number.POSITIVE_INFINITY,Pe;for(Pe=v-1;Pe>T;Pe--){const jt=be[Pe].maxBitrate,Fe=!be[Pe].details||$e;if(tt=this.getTimeToLoadFrag(Ye,_e,m*jt,Fe),tt<Math.min(me,m+Ye))break}if(tt>=Ge||tt>m*10)return;X?this.bwEstimator.sample(p-Math.min(K,Te),y.loaded):this.bwEstimator.sampleTTFB(p);const qe=be[Pe].maxBitrate;this.getBwEstimate()*Je>qe&&this.resetEstimator(qe);const et=this.findBestLevel(qe,T,Pe,0,me,1,1);et>-1&&(Pe=et),this.warn(`Fragment ${r.sn}${o?" part "+o.index:""} of level ${v} is loading too slowly;
      Fragment duration: ${r.duration.toFixed(3)}
      Time to underbuffer: ${me.toFixed(3)} s
      Estimated load time for current fragment: ${Ge.toFixed(3)} s
      Estimated load time for down switch fragment: ${tt.toFixed(3)} s
      TTFB estimate: ${Te|0} ms
      Current BW estimate: ${Mn(Q)?Q|0:"Unknown"} bps
      New BW estimate: ${this.getBwEstimate()|0} bps
      Switching to level ${Pe} @ ${qe|0} bps`),u.nextLoadLevel=u.nextAutoLevel=Pe,this.clearTimer();const pt=()=>{if(this.clearTimer(),this.fragCurrent===r&&this.hls.loadLevel===Pe&&Pe>0){const jt=this.getStarvationDelay();if(this.warn(`Aborting inflight request ${Pe>0?"and switching down":""}
      Fragment duration: ${r.duration.toFixed(3)} s
      Time to underbuffer: ${jt.toFixed(3)} s`),r.abortRequests(),this.fragCurrent=this.partCurrent=null,Pe>T){let Fe=this.findBestLevel(this.hls.levels[T].bitrate,T,Pe,0,jt,1,1);Fe===-1&&(Fe=T),this.hls.nextLoadLevel=this.hls.nextAutoLevel=Fe,this.resetEstimator(this.hls.levels[Fe].bitrate)}}};k||Ge>tt*2?pt():this.timer=self.setInterval(pt,tt*1e3),u.trigger(Ee.FRAG_LOAD_EMERGENCY_ABORTED,{frag:r,part:o,stats:y})},this.hls=e,this.bwEstimator=this.initEstimator(),this.registerListeners()}resetEstimator(e){e&&(this.log(`setting initial bwe to ${e}`),this.hls.config.abrEwmaDefaultEstimate=e),this.firstSelection=-1,this.bwEstimator=this.initEstimator()}initEstimator(){const e=this.hls.config;return new TD(e.abrEwmaSlowVoD,e.abrEwmaFastVoD,e.abrEwmaDefaultEstimate)}registerListeners(){const{hls:e}=this;e.on(Ee.MANIFEST_LOADING,this.onManifestLoading,this),e.on(Ee.FRAG_LOADING,this.onFragLoading,this),e.on(Ee.FRAG_LOADED,this.onFragLoaded,this),e.on(Ee.FRAG_BUFFERED,this.onFragBuffered,this),e.on(Ee.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(Ee.LEVEL_LOADED,this.onLevelLoaded,this),e.on(Ee.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(Ee.MAX_AUTO_LEVEL_UPDATED,this.onMaxAutoLevelUpdated,this),e.on(Ee.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e&&(e.off(Ee.MANIFEST_LOADING,this.onManifestLoading,this),e.off(Ee.FRAG_LOADING,this.onFragLoading,this),e.off(Ee.FRAG_LOADED,this.onFragLoaded,this),e.off(Ee.FRAG_BUFFERED,this.onFragBuffered,this),e.off(Ee.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(Ee.LEVEL_LOADED,this.onLevelLoaded,this),e.off(Ee.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(Ee.MAX_AUTO_LEVEL_UPDATED,this.onMaxAutoLevelUpdated,this),e.off(Ee.ERROR,this.onError,this))}destroy(){this.unregisterListeners(),this.clearTimer(),this.hls=this._abandonRulesCheck=this.supportedCache=null,this.fragCurrent=this.partCurrent=null}onManifestLoading(e,t){this.lastLoadedFragLevel=-1,this.firstSelection=-1,this.lastLevelLoadSec=0,this.supportedCache={},this.fragCurrent=this.partCurrent=null,this.onLevelsUpdated(),this.clearTimer()}onLevelsUpdated(){this.lastLoadedFragLevel>-1&&this.fragCurrent&&(this.lastLoadedFragLevel=this.fragCurrent.level),this._nextAutoLevel=-1,this.onMaxAutoLevelUpdated(),this.codecTiers=null,this.audioTracksByGroup=null}onMaxAutoLevelUpdated(){this.firstSelection=-1,this.nextAutoLevelKey=""}onFragLoading(e,t){const n=t.frag;if(!this.ignoreFragment(n)){if(!n.bitrateTest){var r;this.fragCurrent=n,this.partCurrent=(r=t.part)!=null?r:null}this.clearTimer(),this.timer=self.setInterval(this._abandonRulesCheck,100)}}onLevelSwitching(e,t){this.clearTimer()}onError(e,t){if(!t.fatal)switch(t.details){case kt.BUFFER_ADD_CODEC_ERROR:case kt.BUFFER_APPEND_ERROR:this.lastLoadedFragLevel=-1,this.firstSelection=-1;break;case kt.FRAG_LOAD_TIMEOUT:{const n=t.frag,{fragCurrent:r,partCurrent:o}=this;if(n&&r&&n.sn===r.sn&&n.level===r.level){const u=performance.now(),d=o?o.stats:n.stats,h=u-d.loading.start,f=d.loading.first?d.loading.first-d.loading.start:-1;if(d.loaded&&f>-1){const m=this.bwEstimator.getEstimateTTFB();this.bwEstimator.sample(h-Math.min(m,f),d.loaded)}else this.bwEstimator.sampleTTFB(h)}break}}}getTimeToLoadFrag(e,t,n,r){const o=e+n/t,u=r?e+this.lastLevelLoadSec:0;return o+u}onLevelLoaded(e,t){const n=this.hls.config,{loading:r}=t.stats,o=r.end-r.first;Mn(o)&&(this.lastLevelLoadSec=o/1e3),t.details.live?this.bwEstimator.update(n.abrEwmaSlowLive,n.abrEwmaFastLive):this.bwEstimator.update(n.abrEwmaSlowVoD,n.abrEwmaFastVoD),this.timer>-1&&this._abandonRulesCheck(t.levelInfo)}onFragLoaded(e,{frag:t,part:n}){const r=n?n.stats:t.stats;if(t.type===jn.MAIN&&this.bwEstimator.sampleTTFB(r.loading.first-r.loading.start),!this.ignoreFragment(t)){if(this.clearTimer(),t.level===this._nextAutoLevel&&(this._nextAutoLevel=-1),this.firstSelection=-1,this.hls.config.abrMaxWithRealBitrate){const o=n?n.duration:t.duration,u=this.hls.levels[t.level],d=(u.loaded?u.loaded.bytes:0)+r.loaded,h=(u.loaded?u.loaded.duration:0)+o;u.loaded={bytes:d,duration:h},u.realBitrate=Math.round(8*d/h)}if(t.bitrateTest){const o={stats:r,frag:t,part:n,id:t.type};this.onFragBuffered(Ee.FRAG_BUFFERED,o),t.bitrateTest=!1}else this.lastLoadedFragLevel=t.level}}onFragBuffered(e,t){const{frag:n,part:r}=t,o=r!=null&&r.stats.loaded?r.stats:n.stats;if(o.aborted||this.ignoreFragment(n))return;const u=o.parsing.end-o.loading.start-Math.min(o.loading.first-o.loading.start,this.bwEstimator.getEstimateTTFB());this.bwEstimator.sample(u,o.loaded),o.bwEstimate=this.getBwEstimate(),n.bitrateTest?this.bitrateTestDelay=u/1e3:this.bitrateTestDelay=0}ignoreFragment(e){return e.type!==jn.MAIN||e.sn==="initSegment"}clearTimer(){this.timer>-1&&(self.clearInterval(this.timer),this.timer=-1)}get firstAutoLevel(){const{maxAutoLevel:e,minAutoLevel:t}=this.hls,n=this.getBwEstimate(),r=this.hls.config.maxStarvationDelay,o=this.findBestLevel(n,t,e,0,r,1,1);if(o>-1)return o;const u=this.hls.firstLevel,d=Math.min(Math.max(u,t),e);return this.warn(`Could not find best starting auto level. Defaulting to first in playlist ${u} clamped to ${d}`),d}get forcedAutoLevel(){return this.nextAutoLevelKey?-1:this._nextAutoLevel}get nextAutoLevel(){const e=this.forcedAutoLevel,n=this.bwEstimator.canEstimate(),r=this.lastLoadedFragLevel>-1;if(e!==-1&&(!n||!r||this.nextAutoLevelKey===this.getAutoLevelKey()))return e;const o=n&&r?this.getNextABRAutoLevel():this.firstAutoLevel;if(e!==-1){const u=this.hls.levels;if(u.length>Math.max(e,o)&&u[e].loadError<=u[o].loadError)return e}return this._nextAutoLevel=o,this.nextAutoLevelKey=this.getAutoLevelKey(),o}getAutoLevelKey(){return`${this.getBwEstimate()}_${this.getStarvationDelay().toFixed(2)}`}getNextABRAutoLevel(){const{fragCurrent:e,partCurrent:t,hls:n}=this;if(n.levels.length<=1)return n.loadLevel;const{maxAutoLevel:r,config:o,minAutoLevel:u}=n,d=t?t.duration:e?e.duration:0,h=this.getBwEstimate(),f=this.getStarvationDelay();let y=o.abrBandWidthFactor,m=o.abrBandWidthUpFactor;if(f){const k=this.findBestLevel(h,u,r,f,0,y,m);if(k>=0)return this.rebufferNotice=-1,k}let p=d?Math.min(d,o.maxStarvationDelay):o.maxStarvationDelay;if(!f){const k=this.bitrateTestDelay;k&&(p=(d?Math.min(d,o.maxLoadingDelay):o.maxLoadingDelay)-k,this.info(`bitrate test took ${Math.round(1e3*k)}ms, set first fragment max fetchDuration to ${Math.round(1e3*p)} ms`),y=m=1)}const T=this.findBestLevel(h,u,r,f,p,y,m);if(this.rebufferNotice!==T&&(this.rebufferNotice=T,this.info(`${f?"rebuffering expected":"buffer is empty"}, optimal quality level ${T}`)),T>-1)return T;const v=n.levels[u],A=n.loadLevelObj;return A&&(v==null?void 0:v.bitrate)<A.bitrate?u:n.loadLevel}getStarvationDelay(){const e=this.hls,t=e.media;if(!t)return 1/0;const n=t&&t.playbackRate!==0?Math.abs(t.playbackRate):1,r=e.mainForwardBufferInfo;return(r?r.len:0)/n}getBwEstimate(){return this.bwEstimator.canEstimate()?this.bwEstimator.getEstimate():this.hls.config.abrEwmaDefaultEstimate}findBestLevel(e,t,n,r,o,u,d){var h;const f=r+o,y=this.lastLoadedFragLevel,m=y===-1?this.hls.firstLevel:y,{fragCurrent:p,partCurrent:T}=this,{levels:v,allAudioTracks:A,loadLevel:k,config:B}=this.hls;if(v.length===1)return 0;const $=v[m],K=!!((h=this.hls.latestLevelDetails)!=null&&h.live),ue=k===-1||y===-1;let me,Te="SDR",X=($==null?void 0:$.frameRate)||0;const{audioPreference:Q,videoPreference:be}=B,F=this.audioTracksByGroup||(this.audioTracksByGroup=Z_(A));let ke=-1;if(ue){if(this.firstSelection!==-1)return this.firstSelection;const _e=this.codecTiers||(this.codecTiers=f1(v,F,t,n)),$e=d1(_e,Te,e,Q,be),{codecSet:Je,videoRanges:tt,minFramerate:Pe,minBitrate:qe,minIndex:et,preferHDR:pt}=$e;ke=et,me=Je,Te=pt?tt[tt.length-1]:tt[0],X=Pe,e=Math.max(e,qe),this.log(`picked start tier ${ei($e)}`)}else me=$==null?void 0:$.codecSet,Te=$==null?void 0:$.videoRange;const Qe=T?T.duration:p?p.duration:0,xe=this.bwEstimator.getEstimateTTFB()/1e3,Ye=[];for(let _e=n;_e>=t;_e--){var Ge;const $e=v[_e],Je=_e>m;if(!$e)continue;if(B.useMediaCapabilities&&!$e.supportedResult&&!$e.supportedPromise){const Fe=navigator.mediaCapabilities;typeof(Fe==null?void 0:Fe.decodingInfo)=="function"&&t1($e,F,Te,X,e,Q)?($e.supportedPromise=X_($e,F,Fe,this.supportedCache),$e.supportedPromise.then(Ne=>{if(!this.hls)return;$e.supportedResult=Ne;const bt=this.hls.levels,Z=bt.indexOf($e);Ne.error?this.warn(`MediaCapabilities decodingInfo error: "${Ne.error}" for level ${Z} ${ei(Ne)}`):Ne.supported?Ne.decodingInfoResults.some(ne=>ne.smooth===!1||ne.powerEfficient===!1)&&this.log(`MediaCapabilities decodingInfo for level ${Z} not smooth or powerEfficient: ${ei(Ne)}`):(this.warn(`Unsupported MediaCapabilities decodingInfo result for level ${Z} ${ei(Ne)}`),Z>-1&&bt.length>1&&(this.log(`Removing unsupported level ${Z}`),this.hls.removeLevel(Z),this.hls.loadLevel===-1&&(this.hls.nextLoadLevel=0)))}).catch(Ne=>{this.warn(`Error handling MediaCapabilities decodingInfo: ${Ne}`)})):$e.supportedResult=Y_}if((me&&$e.codecSet!==me||Te&&$e.videoRange!==Te||Je&&X>$e.frameRate||!Je&&X>0&&X<$e.frameRate||(Ge=$e.supportedResult)!=null&&(Ge=Ge.decodingInfoResults)!=null&&Ge.some(Fe=>Fe.smooth===!1))&&(!ue||_e!==ke)){Ye.push(_e);continue}const tt=$e.details,Pe=(T?tt==null?void 0:tt.partTarget:tt==null?void 0:tt.averagetargetduration)||Qe;let qe;Je?qe=d*e:qe=u*e;const et=Qe&&r>=Qe*2&&o===0?$e.averageBitrate:$e.maxBitrate,pt=this.getTimeToLoadFrag(xe,qe,et*Pe,tt===void 0);if(qe>=et&&(_e===y||$e.loadError===0&&$e.fragmentError===0)&&(pt<=xe||!Mn(pt)||K&&!this.bitrateTestDelay||pt<f)){const Fe=this.forcedAutoLevel;return _e!==k&&(Fe===-1||Fe!==k)&&(Ye.length&&this.trace(`Skipped level(s) ${Ye.join(",")} of ${n} max with CODECS and VIDEO-RANGE:"${v[Ye[0]].codecs}" ${v[Ye[0]].videoRange}; not compatible with "${me}" ${Te}`),this.info(`switch candidate:${m}->${_e} adjustedbw(${Math.round(qe)})-bitrate=${Math.round(qe-et)} ttfb:${xe.toFixed(1)} avgDuration:${Pe.toFixed(1)} maxFetchDuration:${f.toFixed(1)} fetchDuration:${pt.toFixed(1)} firstSelection:${ue} codecSet:${$e.codecSet} videoRange:${$e.videoRange} hls.loadLevel:${k}`)),ue&&(this.firstSelection=_e),_e}}return-1}set nextAutoLevel(e){const t=this.deriveNextAutoLevel(e);this._nextAutoLevel!==t&&(this.nextAutoLevelKey="",this._nextAutoLevel=t)}deriveNextAutoLevel(e){const{maxAutoLevel:t,minAutoLevel:n}=this.hls;return Math.min(Math.max(e,n),t)}}const J_={search:function(i,e){let t=0,n=i.length-1,r=null,o=null;for(;t<=n;){r=(t+n)/2|0,o=i[r];const u=e(o);if(u>0)t=r+1;else if(u<0)n=r-1;else return o}return null}};function y1(i,e,t){if(e===null||!Array.isArray(i)||!i.length||!Mn(e))return null;const n=i[0].programDateTime;if(e<(n||0))return null;const r=i[i.length-1].endProgramDateTime;if(e>=(r||0))return null;for(let o=0;o<i.length;++o){const u=i[o];if(E1(e,t,u))return u}return null}function Pu(i,e,t=0,n=0,r=.005){let o=null;if(i){o=e[1+i.sn-e[0].sn]||null;const d=i.endDTS-t;d>0&&d<15e-7&&(t+=15e-7),o&&i.level!==o.level&&o.end<=i.end&&(o=e[2+i.sn-e[0].sn]||null)}else t===0&&e[0].start===0&&(o=e[0]);if(o&&((!i||i.level===o.level)&&lT(t,n,o)===0||b1(o,i,Math.min(r,n))))return o;const u=J_.search(e,lT.bind(null,t,n));return u&&(u!==i||!o)?u:o}function b1(i,e,t){if(e&&e.start===0&&e.level<i.level&&(e.endPTS||0)>0){const n=e.tagList.reduce((r,o)=>(o[0]==="INF"&&(r+=parseFloat(o[1])),r),t);return i.start<=n}return!1}function lT(i=0,e=0,t){if(t.start<=i&&t.start+t.duration>i)return 0;const n=Math.min(e,t.duration+(t.deltaPTS?t.deltaPTS:0));return t.start+t.duration-n<=i?1:t.start-n>i&&t.start?-1:0}function E1(i,e,t){const n=Math.min(e,t.duration+(t.deltaPTS?t.deltaPTS:0))*1e3;return(t.endProgramDateTime||0)-n>i}function eA(i,e,t){if(i&&i.startCC<=e&&i.endCC>=e){let n=i.fragments;const{fragmentHint:r}=i;r&&(n=n.concat(r));let o;return J_.search(n,u=>u.cc<e?1:u.cc>e?-1:(o=u,u.end<=t?1:u.start>t?-1:0)),o||null}return null}function bp(i){switch(i.details){case kt.FRAG_LOAD_TIMEOUT:case kt.KEY_LOAD_TIMEOUT:case kt.LEVEL_LOAD_TIMEOUT:case kt.MANIFEST_LOAD_TIMEOUT:return!0}return!1}function tA(i){return i.details.startsWith("key")}function nA(i){return tA(i)&&!!i.frag&&!i.frag.decryptdata}function uT(i,e){const t=bp(e);return i.default[`${t?"timeout":"error"}Retry`]}function jE(i,e){const t=i.backoff==="linear"?1:Math.pow(2,e);return Math.min(t*i.retryDelayMs,i.maxRetryDelayMs)}function cT(i){return qr(qr({},i),{errorRetry:null,timeoutRetry:null})}function Ep(i,e,t,n){if(!i)return!1;const r=n==null?void 0:n.code,o=e<i.maxNumRetry&&(v1(r)||!!t);return i.shouldRetry?i.shouldRetry(i,e,t,n,o):o}function v1(i){return $b(i)||!!i&&(i<400||i>499)}function $b(i){return i===0&&navigator.onLine===!1}var Qi={DoNothing:0,SendAlternateToPenaltyBox:2,RemoveAlternatePermanently:3,RetryRequest:5},ja={None:0,MoveAllAlternatesMatchingHost:1,MoveAllAlternatesMatchingHDCP:2,MoveAllAlternatesMatchingKey:4};class T1 extends gs{constructor(e){super("error-controller",e.logger),this.hls=void 0,this.playlistError=0,this.hls=e,this.registerListeners()}registerListeners(){const e=this.hls;e.on(Ee.ERROR,this.onError,this),e.on(Ee.MANIFEST_LOADING,this.onManifestLoading,this),e.on(Ee.LEVEL_UPDATED,this.onLevelUpdated,this)}unregisterListeners(){const e=this.hls;e&&(e.off(Ee.ERROR,this.onError,this),e.off(Ee.ERROR,this.onErrorOut,this),e.off(Ee.MANIFEST_LOADING,this.onManifestLoading,this),e.off(Ee.LEVEL_UPDATED,this.onLevelUpdated,this))}destroy(){this.unregisterListeners(),this.hls=null}startLoad(e){}stopLoad(){this.playlistError=0}getVariantLevelIndex(e){return(e==null?void 0:e.type)===jn.MAIN?e.level:this.getVariantIndex()}getVariantIndex(){var e;const t=this.hls,n=t.currentLevel;return(e=t.loadLevelObj)!=null&&e.details||n===-1?t.loadLevel:n}variantHasKey(e,t){if(e){var n;if((n=e.details)!=null&&n.hasKey(t))return!0;const r=e.audioGroups;if(r)return this.hls.allAudioTracks.filter(u=>r.indexOf(u.groupId)>=0).some(u=>{var d;return(d=u.details)==null?void 0:d.hasKey(t)})}return!1}onManifestLoading(){this.playlistError=0}onLevelUpdated(){this.playlistError=0}onError(e,t){var n;if(t.fatal)return;const r=this.hls,o=t.context;switch(t.details){case kt.FRAG_LOAD_ERROR:case kt.FRAG_LOAD_TIMEOUT:case kt.KEY_LOAD_ERROR:case kt.KEY_LOAD_TIMEOUT:t.errorAction=this.getFragRetryOrSwitchAction(t);return;case kt.FRAG_PARSING_ERROR:if((n=t.frag)!=null&&n.gap){t.errorAction=gd();return}case kt.FRAG_GAP:case kt.FRAG_DECRYPT_ERROR:{t.errorAction=this.getFragRetryOrSwitchAction(t),t.errorAction.action=Qi.SendAlternateToPenaltyBox;return}case kt.LEVEL_EMPTY_ERROR:case kt.LEVEL_PARSING_ERROR:{var u;const h=t.parent===jn.MAIN?t.level:r.loadLevel;t.details===kt.LEVEL_EMPTY_ERROR&&((u=t.context)!=null&&(u=u.levelDetails)!=null&&u.live)?t.errorAction=this.getPlaylistRetryOrSwitchAction(t,h):(t.levelRetry=!1,t.errorAction=this.getLevelSwitchAction(t,h))}return;case kt.LEVEL_LOAD_ERROR:case kt.LEVEL_LOAD_TIMEOUT:typeof(o==null?void 0:o.level)=="number"&&(t.errorAction=this.getPlaylistRetryOrSwitchAction(t,o.level));return;case kt.AUDIO_TRACK_LOAD_ERROR:case kt.AUDIO_TRACK_LOAD_TIMEOUT:case kt.SUBTITLE_LOAD_ERROR:case kt.SUBTITLE_TRACK_LOAD_TIMEOUT:if(o){const h=r.loadLevelObj;if(h&&(o.type===Tr.AUDIO_TRACK&&h.hasAudioGroup(o.groupId)||o.type===Tr.SUBTITLE_TRACK&&h.hasSubtitleGroup(o.groupId))){t.errorAction=this.getPlaylistRetryOrSwitchAction(t,r.loadLevel),t.errorAction.action=Qi.SendAlternateToPenaltyBox,t.errorAction.flags=ja.MoveAllAlternatesMatchingHost;return}}return;case kt.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED:t.errorAction={action:Qi.SendAlternateToPenaltyBox,flags:ja.MoveAllAlternatesMatchingHDCP};return;case kt.KEY_SYSTEM_SESSION_UPDATE_FAILED:case kt.KEY_SYSTEM_STATUS_INTERNAL_ERROR:case kt.KEY_SYSTEM_NO_SESSION:t.errorAction={action:Qi.SendAlternateToPenaltyBox,flags:ja.MoveAllAlternatesMatchingKey};return;case kt.BUFFER_ADD_CODEC_ERROR:case kt.REMUX_ALLOC_ERROR:case kt.BUFFER_APPEND_ERROR:if(!t.errorAction){var d;t.errorAction=this.getLevelSwitchAction(t,(d=t.level)!=null?d:r.loadLevel)}return;case kt.INTERNAL_EXCEPTION:case kt.BUFFER_APPENDING_ERROR:case kt.BUFFER_FULL_ERROR:case kt.LEVEL_SWITCH_ERROR:case kt.BUFFER_STALLED_ERROR:case kt.BUFFER_SEEK_OVER_HOLE:case kt.BUFFER_NUDGE_ON_STALL:t.errorAction=gd();return}t.type===Qn.KEY_SYSTEM_ERROR&&(t.levelRetry=!1,t.errorAction=gd())}getPlaylistRetryOrSwitchAction(e,t){const n=this.hls,r=uT(n.config.playlistLoadPolicy,e),o=this.playlistError++;if(Ep(r,o,bp(e),e.response))return{action:Qi.RetryRequest,flags:ja.None,retryConfig:r,retryCount:o};const d=this.getLevelSwitchAction(e,t);return r&&(d.retryConfig=r,d.retryCount=o),d}getFragRetryOrSwitchAction(e){const t=this.hls,n=this.getVariantLevelIndex(e.frag),r=t.levels[n],{fragLoadPolicy:o,keyLoadPolicy:u}=t.config,d=uT(tA(e)?u:o,e),h=t.levels.reduce((y,m)=>y+m.fragmentError,0);if(r&&(e.details!==kt.FRAG_GAP&&r.fragmentError++,!nA(e)&&Ep(d,h,bp(e),e.response)))return{action:Qi.RetryRequest,flags:ja.None,retryConfig:d,retryCount:h};const f=this.getLevelSwitchAction(e,n);return d&&(f.retryConfig=d,f.retryCount=h),f}getLevelSwitchAction(e,t){const n=this.hls;t==null&&(t=n.loadLevel);const r=this.hls.levels[t];if(r){var o,u;const f=e.details;r.loadError++,f===kt.BUFFER_APPEND_ERROR&&r.fragmentError++;let y=-1;const{levels:m,loadLevel:p,minAutoLevel:T,maxAutoLevel:v}=n;!n.autoLevelEnabled&&!n.config.preserveManualLevelOnError&&(n.loadLevel=-1);const A=(o=e.frag)==null?void 0:o.type,B=(A===jn.AUDIO&&f===kt.FRAG_PARSING_ERROR||e.sourceBufferName==="audio"&&(f===kt.BUFFER_ADD_CODEC_ERROR||f===kt.BUFFER_APPEND_ERROR))&&m.some(({audioCodec:Te})=>r.audioCodec!==Te),K=e.sourceBufferName==="video"&&(f===kt.BUFFER_ADD_CODEC_ERROR||f===kt.BUFFER_APPEND_ERROR)&&m.some(({codecSet:Te,audioCodec:X})=>r.codecSet!==Te&&r.audioCodec===X),{type:ue,groupId:me}=(u=e.context)!=null?u:{};for(let Te=m.length;Te--;){const X=(Te+p)%m.length;if(X!==p&&X>=T&&X<=v&&m[X].loadError===0){var d,h;const Q=m[X];if(f===kt.FRAG_GAP&&A===jn.MAIN&&e.frag){const be=m[X].details;if(be){const F=Pu(e.frag,be.fragments,e.frag.start);if(F!=null&&F.gap)continue}}else{if(ue===Tr.AUDIO_TRACK&&Q.hasAudioGroup(me)||ue===Tr.SUBTITLE_TRACK&&Q.hasSubtitleGroup(me))continue;if(A===jn.AUDIO&&(d=r.audioGroups)!=null&&d.some(be=>Q.hasAudioGroup(be))||A===jn.SUBTITLE&&(h=r.subtitleGroups)!=null&&h.some(be=>Q.hasSubtitleGroup(be))||B&&r.audioCodec===Q.audioCodec||K&&r.codecSet===Q.codecSet||!B&&r.codecSet!==Q.codecSet)continue}y=X;break}}if(y>-1&&n.loadLevel!==y)return e.levelRetry=!0,this.playlistError=0,{action:Qi.SendAlternateToPenaltyBox,flags:ja.None,nextAutoLevel:y}}return{action:Qi.SendAlternateToPenaltyBox,flags:ja.MoveAllAlternatesMatchingHost}}onErrorOut(e,t){var n;switch((n=t.errorAction)==null?void 0:n.action){case Qi.DoNothing:break;case Qi.SendAlternateToPenaltyBox:this.sendAlternateToPenaltyBox(t),!t.errorAction.resolved&&t.details!==kt.FRAG_GAP?t.fatal=!0:/MediaSource readyState: ended/.test(t.error.message)&&(this.warn(`MediaSource ended after "${t.sourceBufferName}" sourceBuffer append error. Attempting to recover from media error.`),this.hls.recoverMediaError());break}if(t.fatal){this.hls.stopLoad();return}}sendAlternateToPenaltyBox(e){const t=this.hls,n=e.errorAction;if(!n)return;const{flags:r}=n,o=n.nextAutoLevel;switch(r){case ja.None:this.switchLevel(e,o);break;case ja.MoveAllAlternatesMatchingHDCP:{const h=this.getVariantLevelIndex(e.frag),f=t.levels[h],y=f==null?void 0:f.attrs["HDCP-LEVEL"];if(n.hdcpLevel=y,y==="NONE")this.warn("HDCP policy resticted output with HDCP-LEVEL=NONE");else if(y){t.maxHdcpLevel=Gb[Gb.indexOf(y)-1],n.resolved=!0,this.warn(`Restricting playback to HDCP-LEVEL of "${t.maxHdcpLevel}" or lower`);break}}case ja.MoveAllAlternatesMatchingKey:{const h=e.decryptdata;if(h){const f=this.hls.levels,y=f.length;for(let p=y;p--;)if(this.variantHasKey(f[p],h)){var u,d;this.log(`Banned key found in level ${p} (${f[p].bitrate}bps) or audio group "${(u=f[p].audioGroups)==null?void 0:u.join(",")}" (${(d=e.frag)==null?void 0:d.type} fragment) ${Zi(h.keyId||[])}`),f[p].fragmentError++,f[p].loadError++,this.log(`Removing level ${p} with key error (${e.error})`),this.hls.removeLevel(p)}const m=e.frag;if(this.hls.levels.length<y)n.resolved=!0;else if(m&&m.type!==jn.MAIN){const p=m.decryptdata;p&&!h.matches(p)&&(n.resolved=!0)}}break}}n.resolved||this.switchLevel(e,o)}switchLevel(e,t){if(t!==void 0&&e.errorAction&&(this.warn(`switching to level ${t} after ${e.details}`),this.hls.nextAutoLevel=t,e.errorAction.resolved=!0,this.hls.nextLoadLevel=this.hls.nextAutoLevel,e.details===kt.BUFFER_ADD_CODEC_ERROR&&e.mimeType&&e.sourceBufferName!=="audiovideo")){const n=qb(e.mimeType),r=this.hls.levels;for(let o=r.length;o--;)r[o][`${e.sourceBufferName}Codec`]===n&&(this.log(`Removing level ${o} for ${e.details} ("${n}" not supported)`),this.hls.removeLevel(o))}}}function gd(i){const e={action:Qi.DoNothing,flags:ja.None};return i&&(e.resolved=!0),e}var Oi={NOT_LOADED:"NOT_LOADED",APPENDING:"APPENDING",PARTIAL:"PARTIAL",OK:"OK"};class S1{constructor(e){this.activePartLists=Object.create(null),this.endListFragments=Object.create(null),this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hasGaps=!1,this.hls=e,this._registerListeners()}_registerListeners(){const{hls:e}=this;e&&(e.on(Ee.MANIFEST_LOADING,this.onManifestLoading,this),e.on(Ee.BUFFER_APPENDED,this.onBufferAppended,this),e.on(Ee.FRAG_BUFFERED,this.onFragBuffered,this),e.on(Ee.FRAG_LOADED,this.onFragLoaded,this))}_unregisterListeners(){const{hls:e}=this;e&&(e.off(Ee.MANIFEST_LOADING,this.onManifestLoading,this),e.off(Ee.BUFFER_APPENDED,this.onBufferAppended,this),e.off(Ee.FRAG_BUFFERED,this.onFragBuffered,this),e.off(Ee.FRAG_LOADED,this.onFragLoaded,this))}destroy(){this._unregisterListeners(),this.hls=this.fragments=this.activePartLists=this.endListFragments=this.timeRanges=null}getAppendedFrag(e,t){const n=this.activePartLists[t];if(n)for(let r=n.length;r--;){const o=n[r];if(!o)break;if(o.start<=e&&e<=o.end&&o.loaded)return o}return this.getBufferedFrag(e,t)}getBufferedFrag(e,t){return this.getFragAtPos(e,t,!0)}getFragAtPos(e,t,n){const{fragments:r}=this,o=Object.keys(r);for(let u=o.length;u--;){const d=r[o[u]];if((d==null?void 0:d.body.type)===t&&(!n||d.buffered)){const h=d.body;if(h.start<=e&&e<=h.end)return h}}return null}detectEvictedFragments(e,t,n,r,o){this.timeRanges&&(this.timeRanges[e]=t);const u=(r==null?void 0:r.fragment.sn)||-1;Object.keys(this.fragments).forEach(d=>{const h=this.fragments[d];if(!h||u>=h.body.sn)return;if(!h.buffered&&(!h.loaded||o)){h.body.type===n&&this.removeFragment(h.body);return}const f=h.range[e];if(f){if(f.time.length===0){this.removeFragment(h.body);return}f.time.some(y=>{const m=!this.isTimeBuffered(y.startPTS,y.endPTS,t);return m&&this.removeFragment(h.body),m})}})}detectPartialFragments(e){const t=this.timeRanges;if(!t||e.frag.sn==="initSegment")return;const n=e.frag,r=Jc(n),o=this.fragments[r];if(!o||o.buffered&&n.gap)return;const u=!n.relurl;Object.keys(t).forEach(d=>{const h=n.elementaryStreams[d];if(!h)return;const f=t[d],y=u||h.partial===!0;o.range[d]=this.getBufferedTimes(n,e.part,y,f)}),o.loaded=null,Object.keys(o.range).length?(this.bufferedEnd(o,n),wm(o)||this.removeParts(n.sn-1,n.type)):this.removeFragment(o.body)}bufferedEnd(e,t){e.buffered=!0,(e.body.endList=t.endList||e.body.endList)&&(this.endListFragments[e.body.type]=e)}removeParts(e,t){const n=this.activePartLists[t];n&&(this.activePartLists[t]=dT(n,r=>r.fragment.sn>=e))}fragBuffered(e,t){const n=Jc(e);let r=this.fragments[n];!r&&t&&(r=this.fragments[n]={body:e,appendedPTS:null,loaded:null,buffered:!1,range:Object.create(null)},e.gap&&(this.hasGaps=!0)),r&&(r.loaded=null,this.bufferedEnd(r,e))}getBufferedTimes(e,t,n,r){const o={time:[],partial:n},u=e.start,d=e.end,h=e.minEndPTS||d,f=e.maxStartPTS||u;for(let y=0;y<r.length;y++){const m=r.start(y)-this.bufferPadding,p=r.end(y)+this.bufferPadding;if(f>=m&&h<=p){o.time.push({startPTS:Math.max(u,r.start(y)),endPTS:Math.min(d,r.end(y))});break}else if(u<p&&d>m){const T=Math.max(u,r.start(y)),v=Math.min(d,r.end(y));v>T&&(o.partial=!0,o.time.push({startPTS:T,endPTS:v}))}else if(d<=m)break}return o}getPartialFragment(e){let t=null,n,r,o,u=0;const{bufferPadding:d,fragments:h}=this;return Object.keys(h).forEach(f=>{const y=h[f];y&&wm(y)&&(r=y.body.start-d,o=y.body.end+d,e>=r&&e<=o&&(n=Math.min(e-r,o-e),u<=n&&(t=y.body,u=n)))}),t}isEndListAppended(e){const t=this.endListFragments[e];return t!==void 0&&(t.buffered||wm(t))}getState(e){const t=Jc(e),n=this.fragments[t];return n?n.buffered?wm(n)?Oi.PARTIAL:Oi.OK:Oi.APPENDING:Oi.NOT_LOADED}isTimeBuffered(e,t,n){let r,o;for(let u=0;u<n.length;u++){if(r=n.start(u)-this.bufferPadding,o=n.end(u)+this.bufferPadding,e>=r&&t<=o)return!0;if(t<=r)return!1}return!1}onManifestLoading(){this.removeAllFragments()}onFragLoaded(e,t){if(t.frag.sn==="initSegment"||t.frag.bitrateTest)return;const n=t.frag,r=t.part?null:t,o=Jc(n);this.fragments[o]={body:n,appendedPTS:null,loaded:r,buffered:!1,range:Object.create(null)}}onBufferAppended(e,t){const{frag:n,part:r,timeRanges:o,type:u}=t;if(n.sn==="initSegment")return;const d=n.type;if(r){let f=this.activePartLists[d];f||(this.activePartLists[d]=f=[]),f.push(r)}this.timeRanges=o;const h=o[u];this.detectEvictedFragments(u,h,d,r)}onFragBuffered(e,t){this.detectPartialFragments(t)}hasFragment(e){const t=Jc(e);return!!this.fragments[t]}hasFragments(e){const{fragments:t}=this,n=Object.keys(t);if(!e)return n.length>0;for(let r=n.length;r--;){const o=t[n[r]];if((o==null?void 0:o.body.type)===e)return!0}return!1}hasParts(e){var t;return!!((t=this.activePartLists[e])!=null&&t.length)}removeFragmentsInRange(e,t,n,r,o){r&&!this.hasGaps||Object.keys(this.fragments).forEach(u=>{const d=this.fragments[u];if(!d)return;const h=d.body;h.type!==n||r&&!h.gap||h.start<t&&h.end>e&&(d.buffered||o)&&this.removeFragment(h)})}removeFragment(e){const t=Jc(e);e.clearElementaryStreamInfo();const n=this.activePartLists[e.type];if(n){const r=e.sn;this.activePartLists[e.type]=dT(n,o=>o.fragment.sn!==r)}delete this.fragments[t],e.endList&&delete this.endListFragments[e.type]}removeAllFragments(){var e;this.fragments=Object.create(null),this.endListFragments=Object.create(null),this.activePartLists=Object.create(null),this.hasGaps=!1;const t=(e=this.hls)==null||(e=e.latestLevelDetails)==null?void 0:e.partList;t&&t.forEach(n=>n.clearElementaryStreamInfo())}}function wm(i){var e,t,n;return i.buffered&&!!(i.body.gap||(e=i.range.video)!=null&&e.partial||(t=i.range.audio)!=null&&t.partial||(n=i.range.audiovideo)!=null&&n.partial)}function Jc(i){return`${i.type}_${i.level}_${i.sn}`}function dT(i,e){return i.filter(t=>{const n=e(t);return n||t.clearElementaryStreamInfo(),n})}var Nl={cbc:0,ctr:1};class _1{constructor(e,t,n){this.subtle=void 0,this.aesIV=void 0,this.aesMode=void 0,this.subtle=e,this.aesIV=t,this.aesMode=n}decrypt(e,t){switch(this.aesMode){case Nl.cbc:return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},t,e);case Nl.ctr:return this.subtle.decrypt({name:"AES-CTR",counter:this.aesIV,length:64},t,e);default:throw new Error(`[AESCrypto] invalid aes mode ${this.aesMode}`)}}}function A1(i){const e=i.byteLength,t=e&&new DataView(i.buffer).getUint8(e-1);return t?i.slice(0,e-t):i}class R1{constructor(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable()}uint8ArrayToUint32Array_(e){const t=new DataView(e),n=new Uint32Array(4);for(let r=0;r<4;r++)n[r]=t.getUint32(r*4);return n}initTable(){const e=this.sBox,t=this.invSBox,n=this.subMix,r=n[0],o=n[1],u=n[2],d=n[3],h=this.invSubMix,f=h[0],y=h[1],m=h[2],p=h[3],T=new Uint32Array(256);let v=0,A=0,k=0;for(k=0;k<256;k++)k<128?T[k]=k<<1:T[k]=k<<1^283;for(k=0;k<256;k++){let B=A^A<<1^A<<2^A<<3^A<<4;B=B>>>8^B&255^99,e[v]=B,t[B]=v;const $=T[v],K=T[$],ue=T[K];let me=T[B]*257^B*16843008;r[v]=me<<24|me>>>8,o[v]=me<<16|me>>>16,u[v]=me<<8|me>>>24,d[v]=me,me=ue*16843009^K*65537^$*257^v*16843008,f[B]=me<<24|me>>>8,y[B]=me<<16|me>>>16,m[B]=me<<8|me>>>24,p[B]=me,v?(v=$^T[T[T[ue^$]]],A^=T[T[A]]):v=A=1}}expandKey(e){const t=this.uint8ArrayToUint32Array_(e);let n=!0,r=0;for(;r<t.length&&n;)n=t[r]===this.key[r],r++;if(n)return;this.key=t;const o=this.keySize=t.length;if(o!==4&&o!==6&&o!==8)throw new Error("Invalid aes key size="+o);const u=this.ksRows=(o+6+1)*4;let d,h;const f=this.keySchedule=new Uint32Array(u),y=this.invKeySchedule=new Uint32Array(u),m=this.sBox,p=this.rcon,T=this.invSubMix,v=T[0],A=T[1],k=T[2],B=T[3];let $,K;for(d=0;d<u;d++){if(d<o){$=f[d]=t[d];continue}K=$,d%o===0?(K=K<<8|K>>>24,K=m[K>>>24]<<24|m[K>>>16&255]<<16|m[K>>>8&255]<<8|m[K&255],K^=p[d/o|0]<<24):o>6&&d%o===4&&(K=m[K>>>24]<<24|m[K>>>16&255]<<16|m[K>>>8&255]<<8|m[K&255]),f[d]=$=(f[d-o]^K)>>>0}for(h=0;h<u;h++)d=u-h,h&3?K=f[d]:K=f[d-4],h<4||d<=4?y[h]=K:y[h]=v[m[K>>>24]]^A[m[K>>>16&255]]^k[m[K>>>8&255]]^B[m[K&255]],y[h]=y[h]>>>0}networkToHostOrderSwap(e){return e<<24|(e&65280)<<8|(e&16711680)>>8|e>>>24}decrypt(e,t,n){const r=this.keySize+6,o=this.invKeySchedule,u=this.invSBox,d=this.invSubMix,h=d[0],f=d[1],y=d[2],m=d[3],p=this.uint8ArrayToUint32Array_(n);let T=p[0],v=p[1],A=p[2],k=p[3];const B=new Int32Array(e),$=new Int32Array(B.length);let K,ue,me,Te,X,Q,be,F,ke,Qe,xe,Ye,Ge,_e;const $e=this.networkToHostOrderSwap;for(;t<B.length;){for(ke=$e(B[t]),Qe=$e(B[t+1]),xe=$e(B[t+2]),Ye=$e(B[t+3]),X=ke^o[0],Q=Ye^o[1],be=xe^o[2],F=Qe^o[3],Ge=4,_e=1;_e<r;_e++)K=h[X>>>24]^f[Q>>16&255]^y[be>>8&255]^m[F&255]^o[Ge],ue=h[Q>>>24]^f[be>>16&255]^y[F>>8&255]^m[X&255]^o[Ge+1],me=h[be>>>24]^f[F>>16&255]^y[X>>8&255]^m[Q&255]^o[Ge+2],Te=h[F>>>24]^f[X>>16&255]^y[Q>>8&255]^m[be&255]^o[Ge+3],X=K,Q=ue,be=me,F=Te,Ge=Ge+4;K=u[X>>>24]<<24^u[Q>>16&255]<<16^u[be>>8&255]<<8^u[F&255]^o[Ge],ue=u[Q>>>24]<<24^u[be>>16&255]<<16^u[F>>8&255]<<8^u[X&255]^o[Ge+1],me=u[be>>>24]<<24^u[F>>16&255]<<16^u[X>>8&255]<<8^u[Q&255]^o[Ge+2],Te=u[F>>>24]<<24^u[X>>16&255]<<16^u[Q>>8&255]<<8^u[be&255]^o[Ge+3],$[t]=$e(K^T),$[t+1]=$e(Te^v),$[t+2]=$e(me^A),$[t+3]=$e(ue^k),T=ke,v=Qe,A=xe,k=Ye,t=t+4}return $.buffer}}class x1{constructor(e,t,n){this.subtle=void 0,this.key=void 0,this.aesMode=void 0,this.subtle=e,this.key=t,this.aesMode=n}expandKey(){const e=I1(this.aesMode);return this.subtle.importKey("raw",this.key,{name:e},!1,["encrypt","decrypt"])}}function I1(i){switch(i){case Nl.cbc:return"AES-CBC";case Nl.ctr:return"AES-CTR";default:throw new Error(`[FastAESKey] invalid aes mode ${i}`)}}const w1=16;class qE{constructor(e,{removePKCS7Padding:t=!0}={}){if(this.logEnabled=!0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.useSoftware=void 0,this.enableSoftwareAES=void 0,this.enableSoftwareAES=e.enableSoftwareAES,this.removePKCS7Padding=t,t)try{const n=self.crypto;n&&(this.subtle=n.subtle||n.webkitSubtle)}catch{}this.useSoftware=!this.subtle}destroy(){this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null}isSync(){return this.useSoftware}flush(){const{currentResult:e,remainderData:t}=this;if(!e||t)return this.reset(),null;const n=new Uint8Array(e);return this.reset(),this.removePKCS7Padding?A1(n):n}reset(){this.currentResult=null,this.currentIV=null,this.remainderData=null,this.softwareDecrypter&&(this.softwareDecrypter=null)}decrypt(e,t,n,r){return this.useSoftware?new Promise((o,u)=>{const d=ArrayBuffer.isView(e)?e:new Uint8Array(e);this.softwareDecrypt(d,t,n,r);const h=this.flush();h?o(h.buffer):u(new Error("[softwareDecrypt] Failed to decrypt data"))}):this.webCryptoDecrypt(new Uint8Array(e),t,n,r)}softwareDecrypt(e,t,n,r){const{currentIV:o,currentResult:u,remainderData:d}=this;if(r!==Nl.cbc||t.byteLength!==16)return Gr.warn("SoftwareDecrypt: can only handle AES-128-CBC"),null;this.logOnce("JS AES decrypt"),d&&(e=cs(d,e),this.remainderData=null);const h=this.getValidChunk(e);if(!h.length)return null;o&&(n=o);let f=this.softwareDecrypter;f||(f=this.softwareDecrypter=new R1),f.expandKey(t);const y=u;return this.currentResult=f.decrypt(h.buffer,0,n),this.currentIV=h.slice(-16).buffer,y||null}webCryptoDecrypt(e,t,n,r){if(this.key!==t||!this.fastAesKey){if(!this.subtle)return Promise.resolve(this.onWebCryptoError(e,t,n,r));this.key=t,this.fastAesKey=new x1(this.subtle,t,r)}return this.fastAesKey.expandKey().then(o=>this.subtle?(this.logOnce("WebCrypto AES decrypt"),new _1(this.subtle,new Uint8Array(n),r).decrypt(e.buffer,o)):Promise.reject(new Error("web crypto not initialized"))).catch(o=>(Gr.warn(`[decrypter]: WebCrypto Error, disable WebCrypto API, ${o.name}: ${o.message}`),this.onWebCryptoError(e,t,n,r)))}onWebCryptoError(e,t,n,r){const o=this.enableSoftwareAES;if(o){this.useSoftware=!0,this.logEnabled=!0,this.softwareDecrypt(e,t,n,r);const u=this.flush();if(u)return u.buffer}throw new Error("WebCrypto"+(o?" and softwareDecrypt":"")+": failed to decrypt data")}getValidChunk(e){let t=e;const n=e.length-e.length%w1;return n!==e.length&&(t=e.slice(0,n),this.remainderData=e.slice(n)),t}logOnce(e){this.logEnabled&&(Gr.log(`[decrypter]: ${e}`),this.logEnabled=!1)}}const fT=Math.pow(2,17);class k1{constructor(e){this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.config=e}destroy(){this.loader&&(this.loader.destroy(),this.loader=null)}abort(){this.loader&&this.loader.abort()}load(e,t){const n=e.url;if(!n)return Promise.reject(new Bo({type:Qn.NETWORK_ERROR,details:kt.FRAG_LOAD_ERROR,fatal:!1,frag:e,error:new Error(`Fragment does not have a ${n?"part list":"url"}`),networkDetails:null}));this.abort();const r=this.config,o=r.fLoader,u=r.loader;return new Promise((d,h)=>{if(this.loader&&this.loader.destroy(),e.gap)if(e.tagList.some(v=>v[0]==="GAP")){h(gT(e));return}else e.gap=!1;const f=this.loader=o?new o(r):new u(r),y=hT(e);e.loader=f;const m=cT(r.fragLoadPolicy.default),p={loadPolicy:m,timeout:m.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:e.sn==="initSegment"?1/0:fT};e.stats=f.stats;const T={onSuccess:(v,A,k,B)=>{this.resetLoader(e,f);let $=v.data;k.resetIV&&e.decryptdata&&(e.decryptdata.iv=new Uint8Array($.slice(0,16)),$=$.slice(16)),d({frag:e,part:null,payload:$,networkDetails:B})},onError:(v,A,k,B)=>{this.resetLoader(e,f),h(new Bo({type:Qn.NETWORK_ERROR,details:kt.FRAG_LOAD_ERROR,fatal:!1,frag:e,response:qr({url:n,data:void 0},v),error:new Error(`HTTP Error ${v.code} ${v.text}`),networkDetails:k,stats:B}))},onAbort:(v,A,k)=>{this.resetLoader(e,f),h(new Bo({type:Qn.NETWORK_ERROR,details:kt.INTERNAL_ABORTED,fatal:!1,frag:e,error:new Error("Aborted"),networkDetails:k,stats:v}))},onTimeout:(v,A,k)=>{this.resetLoader(e,f),h(new Bo({type:Qn.NETWORK_ERROR,details:kt.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,error:new Error(`Timeout after ${p.timeout}ms`),networkDetails:k,stats:v}))}};t&&(T.onProgress=(v,A,k,B)=>t({frag:e,part:null,payload:k,networkDetails:B})),f.load(y,p,T)})}loadPart(e,t,n){this.abort();const r=this.config,o=r.fLoader,u=r.loader;return new Promise((d,h)=>{if(this.loader&&this.loader.destroy(),e.gap||t.gap){h(gT(e,t));return}const f=this.loader=o?new o(r):new u(r),y=hT(e,t);e.loader=f;const m=cT(r.fragLoadPolicy.default),p={loadPolicy:m,timeout:m.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:fT};t.stats=f.stats,f.load(y,p,{onSuccess:(T,v,A,k)=>{this.resetLoader(e,f),this.updateStatsFromPart(e,t);const B={frag:e,part:t,payload:T.data,networkDetails:k};n(B),d(B)},onError:(T,v,A,k)=>{this.resetLoader(e,f),h(new Bo({type:Qn.NETWORK_ERROR,details:kt.FRAG_LOAD_ERROR,fatal:!1,frag:e,part:t,response:qr({url:y.url,data:void 0},T),error:new Error(`HTTP Error ${T.code} ${T.text}`),networkDetails:A,stats:k}))},onAbort:(T,v,A)=>{e.stats.aborted=t.stats.aborted,this.resetLoader(e,f),h(new Bo({type:Qn.NETWORK_ERROR,details:kt.INTERNAL_ABORTED,fatal:!1,frag:e,part:t,error:new Error("Aborted"),networkDetails:A,stats:T}))},onTimeout:(T,v,A)=>{this.resetLoader(e,f),h(new Bo({type:Qn.NETWORK_ERROR,details:kt.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,part:t,error:new Error(`Timeout after ${p.timeout}ms`),networkDetails:A,stats:T}))}})})}updateStatsFromPart(e,t){const n=e.stats,r=t.stats,o=r.total;if(n.loaded+=r.loaded,o){const h=Math.round(e.duration/t.duration),f=Math.min(Math.round(n.loaded/o),h),m=(h-f)*Math.round(n.loaded/f);n.total=n.loaded+m}else n.total=Math.max(n.loaded,n.total);const u=n.loading,d=r.loading;u.start?u.first+=d.first-d.start:(u.start=d.start,u.first=d.first),u.end=d.end}resetLoader(e,t){e.loader=null,this.loader===t&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),t.destroy()}}function hT(i,e=null){const t=e||i,n={frag:i,part:e,responseType:"arraybuffer",url:t.url,headers:{},rangeStart:0,rangeEnd:0},r=t.byteRangeStartOffset,o=t.byteRangeEndOffset;if(Mn(r)&&Mn(o)){var u;let d=r,h=o;if(i.sn==="initSegment"&&C1((u=i.decryptdata)==null?void 0:u.method)){const f=o-r;f%16&&(h=o+(16-f%16)),r!==0&&(n.resetIV=!0,d=r-16)}n.rangeStart=d,n.rangeEnd=h}return n}function gT(i,e){const t=new Error(`GAP ${i.gap?"tag":"attribute"} found`),n={type:Qn.MEDIA_ERROR,details:kt.FRAG_GAP,fatal:!1,frag:i,error:t,networkDetails:null};return e&&(n.part=e),(e||i).stats.aborted=!0,new Bo(n)}function C1(i){return i==="AES-128"||i==="AES-256"}class Bo extends Error{constructor(e){super(e.error.message),this.data=void 0,this.data=e}}class rA extends gs{constructor(e,t){super(e,t),this._boundTick=void 0,this._tickTimer=null,this._tickInterval=null,this._tickCallCount=0,this._boundTick=this.tick.bind(this)}destroy(){this.onHandlerDestroying(),this.onHandlerDestroyed()}onHandlerDestroying(){this.clearNextTick(),this.clearInterval()}onHandlerDestroyed(){}hasInterval(){return!!this._tickInterval}hasNextTick(){return!!this._tickTimer}setInterval(e){return this._tickInterval?!1:(this._tickCallCount=0,this._tickInterval=self.setInterval(this._boundTick,e),!0)}clearInterval(){return this._tickInterval?(self.clearInterval(this._tickInterval),this._tickInterval=null,!0):!1}clearNextTick(){return this._tickTimer?(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0):!1}tick(){this._tickCallCount++,this._tickCallCount===1&&(this.doTick(),this._tickCallCount>1&&this.tickImmediate(),this._tickCallCount=0)}tickImmediate(){this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)}doTick(){}}class GE{constructor(e,t,n,r=0,o=-1,u=!1){this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing=km(),this.buffering={audio:km(),video:km(),audiovideo:km()},this.level=e,this.sn=t,this.id=n,this.size=r,this.part=o,this.partial=u}}function km(){return{start:0,executeStart:0,executeEnd:0,end:0}}const mT={length:0,start:()=>0,end:()=>0};class dr{static isBuffered(e,t){if(e){const n=dr.getBuffered(e);for(let r=n.length;r--;)if(t>=n.start(r)&&t<=n.end(r))return!0}return!1}static bufferedRanges(e){if(e){const t=dr.getBuffered(e);return dr.timeRangesToArray(t)}return[]}static timeRangesToArray(e){const t=[];for(let n=0;n<e.length;n++)t.push({start:e.start(n),end:e.end(n)});return t}static bufferInfo(e,t,n){if(e){const r=dr.bufferedRanges(e);if(r.length)return dr.bufferedInfo(r,t,n)}return{len:0,start:t,end:t,bufferedIndex:-1}}static bufferedInfo(e,t,n){t=Math.max(0,t),e.length>1&&e.sort((y,m)=>y.start-m.start||m.end-y.end);let r=-1,o=[];if(n)for(let y=0;y<e.length;y++){t>=e[y].start&&t<=e[y].end&&(r=y);const m=o.length;if(m){const p=o[m-1].end;e[y].start-p<n?e[y].end>p&&(o[m-1].end=e[y].end):o.push(e[y])}else o.push(e[y])}else o=e;let u=0,d,h=t,f=t;for(let y=0;y<o.length;y++){const m=o[y].start,p=o[y].end;if(r===-1&&t>=m&&t<=p&&(r=y),t+n>=m&&t<p)h=m,f=p,u=f-t;else if(t+n<m){d=m;break}}return{len:u,start:h||0,end:f||0,nextStart:d,buffered:e,bufferedIndex:r}}static getBuffered(e){try{return e.buffered||mT}catch(t){return Gr.log("failed to get media.buffered",t),mT}}}const iA=/\{\$([a-zA-Z0-9-_]+)\}/g;function pT(i){return iA.test(i)}function Hb(i,e){if(i.variableList!==null||i.hasVariableRefs){const t=i.variableList;return e.replace(iA,n=>{const r=n.substring(2,n.length-1),o=t==null?void 0:t[r];return o===void 0?(i.playlistParsingError||(i.playlistParsingError=new Error(`Missing preceding EXT-X-DEFINE tag for Variable Reference: "${r}"`)),n):o})}return e}function yT(i,e,t){let n=i.variableList;n||(i.variableList=n={});let r,o;if("QUERYPARAM"in e){r=e.QUERYPARAM;try{const u=new self.URL(t).searchParams;if(u.has(r))o=u.get(r);else throw new Error(`"${r}" does not match any query parameter in URI: "${t}"`)}catch(u){i.playlistParsingError||(i.playlistParsingError=new Error(`EXT-X-DEFINE QUERYPARAM: ${u.message}`))}}else r=e.NAME,o=e.VALUE;r in n?i.playlistParsingError||(i.playlistParsingError=new Error(`EXT-X-DEFINE duplicate Variable Name declarations: "${r}"`)):n[r]=o||""}function D1(i,e,t){const n=e.IMPORT;if(t&&n in t){let r=i.variableList;r||(i.variableList=r={}),r[n]=t[n]}else i.playlistParsingError||(i.playlistParsingError=new Error(`EXT-X-DEFINE IMPORT attribute not found in Multivariant Playlist: "${n}"`))}const L1=/^(\d+)x(\d+)$/,bT=/(.+?)=(".*?"|.*?)(?:,|$)/g;class li{constructor(e,t){typeof e=="string"&&(e=li.parseAttrList(e,t)),Kr(this,e)}get clientAttrs(){return Object.keys(this).filter(e=>e.substring(0,2)==="X-")}decimalInteger(e){const t=parseInt(this[e],10);return t>Number.MAX_SAFE_INTEGER?1/0:t}hexadecimalInteger(e){if(this[e]){let t=(this[e]||"0x").slice(2);t=(t.length&1?"0":"")+t;const n=new Uint8Array(t.length/2);for(let r=0;r<t.length/2;r++)n[r]=parseInt(t.slice(r*2,r*2+2),16);return n}return null}hexadecimalIntegerAsNumber(e){const t=parseInt(this[e],16);return t>Number.MAX_SAFE_INTEGER?1/0:t}decimalFloatingPoint(e){return parseFloat(this[e])}optionalFloat(e,t){const n=this[e];return n?parseFloat(n):t}enumeratedString(e){return this[e]}enumeratedStringList(e,t){const n=this[e];return(n?n.split(/[ ,]+/):[]).reduce((r,o)=>(r[o.toLowerCase()]=!0,r),t)}bool(e){return this[e]==="YES"}decimalResolution(e){const t=L1.exec(this[e]);if(t!==null)return{width:parseInt(t[1],10),height:parseInt(t[2],10)}}static parseAttrList(e,t){let n;const r={},o='"';for(bT.lastIndex=0;(n=bT.exec(e))!==null;){const u=n[1].trim();let d=n[2];const h=d.indexOf(o)===0&&d.lastIndexOf(o)===d.length-1;let f=!1;if(h)d=d.slice(1,-1);else switch(u){case"IV":case"SCTE35-CMD":case"SCTE35-IN":case"SCTE35-OUT":f=!0}if(t&&(h||f))d=Hb(t,d);else if(!f&&!h)switch(u){case"CLOSED-CAPTIONS":if(d==="NONE")break;case"ALLOWED-CPC":case"CLASS":case"ASSOC-LANGUAGE":case"AUDIO":case"BYTERANGE":case"CHANNELS":case"CHARACTERISTICS":case"CODECS":case"DATA-ID":case"END-DATE":case"GROUP-ID":case"ID":case"IMPORT":case"INSTREAM-ID":case"KEYFORMAT":case"KEYFORMATVERSIONS":case"LANGUAGE":case"NAME":case"PATHWAY-ID":case"QUERYPARAM":case"RECENTLY-REMOVED-DATERANGES":case"SERVER-URI":case"STABLE-RENDITION-ID":case"STABLE-VARIANT-ID":case"START-DATE":case"SUBTITLES":case"SUPPLEMENTAL-CODECS":case"URI":case"VALUE":case"VIDEO":case"X-ASSET-LIST":case"X-ASSET-URI":Gr.warn(`${e}: attribute ${u} is missing quotes`)}r[u]=d}return r}}const N1="com.apple.hls.interstitial";function O1(i){return i!=="ID"&&i!=="CLASS"&&i!=="CUE"&&i!=="START-DATE"&&i!=="DURATION"&&i!=="END-DATE"&&i!=="END-ON-NEXT"}function M1(i){return i==="SCTE35-OUT"||i==="SCTE35-IN"||i==="SCTE35-CMD"}class aA{constructor(e,t,n=0){var r;if(this.attr=void 0,this.tagAnchor=void 0,this.tagOrder=void 0,this._startDate=void 0,this._endDate=void 0,this._dateAtEnd=void 0,this._cue=void 0,this._badValueForSameId=void 0,this.tagAnchor=(t==null?void 0:t.tagAnchor)||null,this.tagOrder=(r=t==null?void 0:t.tagOrder)!=null?r:n,t){const o=t.attr;for(const u in o)if(Object.prototype.hasOwnProperty.call(e,u)&&e[u]!==o[u]){Gr.warn(`DATERANGE tag attribute: "${u}" does not match for tags with ID: "${e.ID}"`),this._badValueForSameId=u;break}e=Kr(new li({}),o,e)}if(this.attr=e,t?(this._startDate=t._startDate,this._cue=t._cue,this._endDate=t._endDate,this._dateAtEnd=t._dateAtEnd):this._startDate=new Date(e["START-DATE"]),"END-DATE"in this.attr){const o=(t==null?void 0:t.endDate)||new Date(this.attr["END-DATE"]);Mn(o.getTime())&&(this._endDate=o)}}get id(){return this.attr.ID}get class(){return this.attr.CLASS}get cue(){const e=this._cue;return e===void 0?this._cue=this.attr.enumeratedStringList(this.attr.CUE?"CUE":"X-CUE",{pre:!1,post:!1,once:!1}):e}get startTime(){const{tagAnchor:e}=this;return e===null||e.programDateTime===null?(Gr.warn(`Expected tagAnchor Fragment with PDT set for DateRange "${this.id}": ${e}`),NaN):e.start+(this.startDate.getTime()-e.programDateTime)/1e3}get startDate(){return this._startDate}get endDate(){const e=this._endDate||this._dateAtEnd;if(e)return e;const t=this.duration;return t!==null?this._dateAtEnd=new Date(this._startDate.getTime()+t*1e3):null}get duration(){if("DURATION"in this.attr){const e=this.attr.decimalFloatingPoint("DURATION");if(Mn(e))return e}else if(this._endDate)return(this._endDate.getTime()-this._startDate.getTime())/1e3;return null}get plannedDuration(){return"PLANNED-DURATION"in this.attr?this.attr.decimalFloatingPoint("PLANNED-DURATION"):null}get endOnNext(){return this.attr.bool("END-ON-NEXT")}get isInterstitial(){return this.class===N1}get isValid(){return!!this.id&&!this._badValueForSameId&&Mn(this.startDate.getTime())&&(this.duration===null||this.duration>=0)&&(!this.endOnNext||!!this.class)&&(!this.attr.CUE||!this.cue.pre&&!this.cue.post||this.cue.pre!==this.cue.post)&&(!this.isInterstitial||"X-ASSET-URI"in this.attr||"X-ASSET-LIST"in this.attr)}}const P1=10;class z1{constructor(e){this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.dateRanges=void 0,this.dateRangeTagCount=0,this.live=!0,this.requestScheduled=-1,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.misses=0,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.encryptedFragments=void 0,this.playlistParsingError=null,this.variableList=null,this.hasVariableRefs=!1,this.appliedTimelineOffset=void 0,this.fragments=[],this.encryptedFragments=[],this.dateRanges={},this.url=e}reloaded(e){if(!e){this.advanced=!0,this.updated=!0;return}const t=this.lastPartSn-e.lastPartSn,n=this.lastPartIndex-e.lastPartIndex;this.updated=this.endSN!==e.endSN||!!n||!!t||!this.live,this.advanced=this.endSN>e.endSN||t>0||t===0&&n>0,this.updated||this.advanced?this.misses=Math.floor(e.misses*.6):this.misses=e.misses+1}hasKey(e){return this.encryptedFragments.some(t=>{let n=t.decryptdata;return n||(t.setKeyFormat(e.keyFormat),n=t.decryptdata),!!n&&e.matches(n)})}get hasProgramDateTime(){return this.fragments.length?Mn(this.fragments[this.fragments.length-1].programDateTime):!1}get levelTargetDuration(){return this.averagetargetduration||this.targetduration||P1}get drift(){const e=this.driftEndTime-this.driftStartTime;return e>0?(this.driftEnd-this.driftStart)*1e3/e:1}get edge(){return this.partEnd||this.fragmentEnd}get partEnd(){var e;return(e=this.partList)!=null&&e.length?this.partList[this.partList.length-1].end:this.fragmentEnd}get fragmentEnd(){return this.fragments.length?this.fragments[this.fragments.length-1].end:0}get fragmentStart(){return this.fragments.length?this.fragments[0].start:0}get age(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}get lastPartIndex(){var e;return(e=this.partList)!=null&&e.length?this.partList[this.partList.length-1].index:-1}get maxPartIndex(){const e=this.partList;if(e){const t=this.lastPartIndex;if(t!==-1){for(let n=e.length;n--;)if(e[n].index>t)return e[n].index;return t}}return 0}get lastPartSn(){var e;return(e=this.partList)!=null&&e.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}get expired(){if(this.live&&this.age&&this.misses<3){const e=this.partEnd-this.fragmentStart;return this.age>Math.max(e,this.totalduration)+this.levelTargetDuration}return!1}}function vp(i,e){return i.length===e.length?!i.some((t,n)=>t!==e[n]):!1}function ET(i,e){return!i&&!e?!0:!i||!e?!1:vp(i,e)}function md(i){return i==="AES-128"||i==="AES-256"||i==="AES-256-CTR"}function $E(i){switch(i){case"AES-128":case"AES-256":return Nl.cbc;case"AES-256-CTR":return Nl.ctr;default:throw new Error(`invalid full segment method ${i}`)}}function HE(i){return Uint8Array.from(atob(i),e=>e.charCodeAt(0))}function Vb(i){return Uint8Array.from(unescape(encodeURIComponent(i)),e=>e.charCodeAt(0))}function F1(i){const e=Vb(i).subarray(0,16),t=new Uint8Array(16);return t.set(e,16-e.length),t}function sA(i){const e=function(n,r,o){const u=n[r];n[r]=n[o],n[o]=u};e(i,0,3),e(i,1,2),e(i,4,5),e(i,6,7)}function oA(i){const e=i.split(":");let t=null;if(e[0]==="data"&&e.length===2){const n=e[1].split(";"),r=n[n.length-1].split(",");if(r.length===2){const o=r[0]==="base64",u=r[1];o?(n.splice(-1,1),t=HE(u)):t=F1(u)}}return t}const Tp=typeof self<"u"?self:void 0;var ui={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.fps",PLAYREADY:"com.microsoft.playready",WIDEVINE:"com.widevine.alpha"},ea={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.streamingkeydelivery",PLAYREADY:"com.microsoft.playready",WIDEVINE:"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"};function Jm(i){switch(i){case ea.FAIRPLAY:return ui.FAIRPLAY;case ea.PLAYREADY:return ui.PLAYREADY;case ea.WIDEVINE:return ui.WIDEVINE;case ea.CLEARKEY:return ui.CLEARKEY}}function tb(i){switch(i){case ui.FAIRPLAY:return ea.FAIRPLAY;case ui.PLAYREADY:return ea.PLAYREADY;case ui.WIDEVINE:return ea.WIDEVINE;case ui.CLEARKEY:return ea.CLEARKEY}}function mh(i){const{drmSystems:e,widevineLicenseUrl:t}=i,n=e?[ui.FAIRPLAY,ui.WIDEVINE,ui.PLAYREADY,ui.CLEARKEY].filter(r=>!!e[r]):[];return!n[ui.WIDEVINE]&&t&&n.push(ui.WIDEVINE),n}const lA=function(i){return Tp!=null&&(i=Tp.navigator)!=null&&i.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null}();function U1(i,e,t,n){let r;switch(i){case ui.FAIRPLAY:r=["cenc","sinf"];break;case ui.WIDEVINE:case ui.PLAYREADY:r=["cenc"];break;case ui.CLEARKEY:r=["cenc","keyids"];break;default:throw new Error(`Unknown key-system: ${i}`)}return B1(r,e,t,n)}function B1(i,e,t,n){return[{initDataTypes:i,persistentState:n.persistentState||"optional",distinctiveIdentifier:n.distinctiveIdentifier||"optional",sessionTypes:n.sessionTypes||[n.sessionType||"temporary"],audioCapabilities:e.map(o=>({contentType:`audio/mp4; codecs=${o}`,robustness:n.audioRobustness||"",encryptionScheme:n.audioEncryptionScheme||null})),videoCapabilities:t.map(o=>({contentType:`video/mp4; codecs=${o}`,robustness:n.videoRobustness||"",encryptionScheme:n.videoEncryptionScheme||null}))}]}function j1(i){var e;return!!i&&(i.sessionType==="persistent-license"||!!((e=i.sessionTypes)!=null&&e.some(t=>t==="persistent-license")))}function uA(i){const e=new Uint16Array(i.buffer,i.byteOffset,i.byteLength/2),t=String.fromCharCode.apply(null,Array.from(e)),n=t.substring(t.indexOf("<"),t.length),u=new DOMParser().parseFromString(n,"text/xml").getElementsByTagName("KID")[0];if(u){const d=u.childNodes[0]?u.childNodes[0].nodeValue:u.getAttribute("VALUE");if(d){const h=HE(d).subarray(0,16);return sA(h),h}}return null}let ed={};class wl{static clearKeyUriToKeyIdMap(){ed={}}static setKeyIdForUri(e,t){ed[e]=t}static addKeyIdForUri(e){const t=Object.keys(ed).length%Number.MAX_SAFE_INTEGER,n=new Uint8Array(16);return new DataView(n.buffer,12,4).setUint32(0,t),ed[e]=n,n}constructor(e,t,n,r=[1],o=null,u){this.uri=void 0,this.method=void 0,this.keyFormat=void 0,this.keyFormatVersions=void 0,this.encrypted=void 0,this.isCommonEncryption=void 0,this.iv=null,this.key=null,this.keyId=null,this.pssh=null,this.method=e,this.uri=t,this.keyFormat=n,this.keyFormatVersions=r,this.iv=o,this.encrypted=e?e!=="NONE":!1,this.isCommonEncryption=this.encrypted&&!md(e),u!=null&&u.startsWith("0x")&&(this.keyId=new Uint8Array(z_(u)))}matches(e){return e.uri===this.uri&&e.method===this.method&&e.encrypted===this.encrypted&&e.keyFormat===this.keyFormat&&vp(e.keyFormatVersions,this.keyFormatVersions)&&ET(e.iv,this.iv)&&ET(e.keyId,this.keyId)}isSupported(){if(this.method){if(md(this.method)||this.method==="NONE")return!0;if(this.keyFormat==="identity")return this.method==="SAMPLE-AES";switch(this.keyFormat){case ea.FAIRPLAY:case ea.WIDEVINE:case ea.PLAYREADY:case ea.CLEARKEY:return["SAMPLE-AES","SAMPLE-AES-CENC","SAMPLE-AES-CTR"].indexOf(this.method)!==-1}}return!1}getDecryptData(e,t){if(!this.encrypted||!this.uri)return null;if(md(this.method)){let o=this.iv;return o||(typeof e!="number"&&(Gr.warn(`missing IV for initialization segment with method="${this.method}" - compliance issue`),e=0),o=G1(e)),new wl(this.method,this.uri,"identity",this.keyFormatVersions,o)}if(this.keyId){const o=ed[this.uri];if(o&&!vp(this.keyId,o)&&wl.setKeyIdForUri(this.uri,this.keyId),this.pssh)return this}const n=oA(this.uri);if(n)switch(this.keyFormat){case ea.WIDEVINE:if(this.pssh=n,!this.keyId){const o=VD(n.buffer);if(o.length){var r;const u=o[0];this.keyId=(r=u.kids)!=null&&r.length?u.kids[0]:null}}this.keyId||(this.keyId=vT(t));break;case ea.PLAYREADY:{const o=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);this.pssh=HD(o,null,n),this.keyId=uA(n);break}default:{let o=n.subarray(0,16);if(o.length!==16){const u=new Uint8Array(16);u.set(o,16-o.length),o=u}this.keyId=o;break}}if(!this.keyId||this.keyId.byteLength!==16){let o;o=q1(t),o||(o=vT(t),o||(o=ed[this.uri])),o&&(this.keyId=o,wl.setKeyIdForUri(this.uri,o))}return this}}function q1(i){const e=i==null?void 0:i[ea.WIDEVINE];return e?e.keyId:null}function vT(i){const e=i==null?void 0:i[ea.PLAYREADY];if(e){const t=oA(e.uri);if(t)return uA(t)}return null}function G1(i){const e=new Uint8Array(16);for(let t=12;t<16;t++)e[t]=i>>8*(15-t)&255;return e}const TT=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-(SESSION-DATA|SESSION-KEY|DEFINE|CONTENT-STEERING|START):([^\r\n]*)[\r\n]+/g,ST=/#EXT-X-MEDIA:(.*)/g,$1=/^#EXT(?:INF|-X-TARGETDURATION):/m,nb=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[^\r\n]*)/.source,/#.*/.source].join("|"),"g"),H1=new RegExp([/#EXT-X-(PROGRAM-DATE-TIME|BYTERANGE|DATERANGE|DEFINE|KEY|MAP|PART|PART-INF|PLAYLIST-TYPE|PRELOAD-HINT|RENDITION-REPORT|SERVER-CONTROL|SKIP|START):(.+)/.source,/#EXT-X-(BITRATE|DISCONTINUITY-SEQUENCE|MEDIA-SEQUENCE|TARGETDURATION|VERSION): *(\d+)/.source,/#EXT-X-(DISCONTINUITY|ENDLIST|GAP|INDEPENDENT-SEGMENTS)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|"));class no{static findGroup(e,t){for(let n=0;n<e.length;n++){const r=e[n];if(r.id===t)return r}}static resolve(e,t){return PE.buildAbsoluteURL(t,e,{alwaysNormalize:!0})}static isMediaPlaylist(e){return $1.test(e)}static parseMasterPlaylist(e,t){const n=pT(e),r={contentSteering:null,levels:[],playlistParsingError:null,sessionData:null,sessionKeys:null,startTimeOffset:null,variableList:null,hasVariableRefs:n},o=[];if(TT.lastIndex=0,!e.startsWith("#EXTM3U"))return r.playlistParsingError=new Error("no EXTM3U delimiter"),r;let u;for(;(u=TT.exec(e))!=null;)if(u[1]){var d;const f=new li(u[1],r),y=Hb(r,u[2]),m={attrs:f,bitrate:f.decimalInteger("BANDWIDTH")||f.decimalInteger("AVERAGE-BANDWIDTH"),name:f.NAME,url:no.resolve(y,t)},p=f.decimalResolution("RESOLUTION");p&&(m.width=p.width,m.height=p.height),RT(f.CODECS,m);const T=f["SUPPLEMENTAL-CODECS"];T&&(m.supplemental={},RT(T,m.supplemental)),(d=m.unknownCodecs)!=null&&d.length||o.push(m),r.levels.push(m)}else if(u[3]){const f=u[3],y=u[4];switch(f){case"SESSION-DATA":{const m=new li(y,r),p=m["DATA-ID"];p&&(r.sessionData===null&&(r.sessionData={}),r.sessionData[p]=m);break}case"SESSION-KEY":{const m=_T(y,t,r);m.encrypted&&m.isSupported()?(r.sessionKeys===null&&(r.sessionKeys=[]),r.sessionKeys.push(m)):Gr.warn(`[Keys] Ignoring invalid EXT-X-SESSION-KEY tag: "${y}"`);break}case"DEFINE":{{const m=new li(y,r);yT(r,m,t)}break}case"CONTENT-STEERING":{const m=new li(y,r);r.contentSteering={uri:no.resolve(m["SERVER-URI"],t),pathwayId:m["PATHWAY-ID"]||"."};break}case"START":{r.startTimeOffset=AT(y);break}}}const h=o.length>0&&o.length<r.levels.length;return r.levels=h?o:r.levels,r.levels.length===0&&(r.playlistParsingError=new Error("no levels found in manifest")),r}static parseMasterPlaylistMedia(e,t,n){let r;const o={},u=n.levels,d={AUDIO:u.map(f=>({id:f.attrs.AUDIO,audioCodec:f.audioCodec})),SUBTITLES:u.map(f=>({id:f.attrs.SUBTITLES,textCodec:f.textCodec})),"CLOSED-CAPTIONS":[]};let h=0;for(ST.lastIndex=0;(r=ST.exec(e))!==null;){const f=new li(r[1],n),y=f.TYPE;if(y){const m=d[y],p=o[y]||[];o[y]=p;const T=f.LANGUAGE,v=f["ASSOC-LANGUAGE"],A=f.CHANNELS,k=f.CHARACTERISTICS,B=f["INSTREAM-ID"],$={attrs:f,bitrate:0,id:h++,groupId:f["GROUP-ID"]||"",name:f.NAME||T||"",type:y,default:f.bool("DEFAULT"),autoselect:f.bool("AUTOSELECT"),forced:f.bool("FORCED"),lang:T,url:f.URI?no.resolve(f.URI,t):""};if(v&&($.assocLang=v),A&&($.channels=A),k&&($.characteristics=k),B&&($.instreamId=B),m!=null&&m.length){const K=no.findGroup(m,$.groupId)||m[0];xT($,K,"audioCodec"),xT($,K,"textCodec")}p.push($)}}return o}static parseLevelPlaylist(e,t,n,r,o,u){var d;const h={url:t},f=new z1(t),y=f.fragments,m=[];let p=null,T=0,v=0,A=0,k=0,B=0,$=null,K=new Zy(r,h),ue,me,Te,X=-1,Q=!1,be=null,F;if(nb.lastIndex=0,f.m3u8=e,f.hasVariableRefs=pT(e),((d=nb.exec(e))==null?void 0:d[0])!=="#EXTM3U")return f.playlistParsingError=new Error("Missing format identifier #EXTM3U"),f;for(;(ue=nb.exec(e))!==null;){Q&&(Q=!1,K=new Zy(r,h),K.playlistOffset=A,K.setStart(A),K.sn=T,K.cc=k,B&&(K.bitrate=B),K.level=n,p&&(K.initSegment=p,p.rawProgramDateTime&&(K.rawProgramDateTime=p.rawProgramDateTime,p.rawProgramDateTime=null),be&&(K.setByteRange(be),be=null)));const Ye=ue[1];if(Ye){K.duration=parseFloat(Ye);const Ge=(" "+ue[2]).slice(1);K.title=Ge||null,K.tagList.push(Ge?["INF",Ye,Ge]:["INF",Ye])}else if(ue[3]){if(Mn(K.duration)){K.playlistOffset=A,K.setStart(A),Te&&wT(K,Te,f),K.sn=T,K.level=n,K.cc=k,y.push(K);const Ge=(" "+ue[3]).slice(1);K.relurl=Hb(f,Ge),Kb(K,$,m),$=K,A+=K.duration,T++,v=0,Q=!0}}else{if(ue=ue[0].match(H1),!ue){Gr.warn("No matches on slow regex match for level playlist!");continue}for(me=1;me<ue.length&&ue[me]===void 0;me++);const Ge=(" "+ue[me]).slice(1),_e=(" "+ue[me+1]).slice(1),$e=ue[me+2]?(" "+ue[me+2]).slice(1):null;switch(Ge){case"BYTERANGE":$?K.setByteRange(_e,$):K.setByteRange(_e);break;case"PROGRAM-DATE-TIME":K.rawProgramDateTime=_e,K.tagList.push(["PROGRAM-DATE-TIME",_e]),X===-1&&(X=y.length);break;case"PLAYLIST-TYPE":f.type&&Fo(f,Ge,ue),f.type=_e.toUpperCase();break;case"MEDIA-SEQUENCE":f.startSN!==0?Fo(f,Ge,ue):y.length>0&&kT(f,Ge,ue),T=f.startSN=parseInt(_e);break;case"SKIP":{f.skippedSegments&&Fo(f,Ge,ue);const Je=new li(_e,f),tt=Je.decimalInteger("SKIPPED-SEGMENTS");if(Mn(tt)){f.skippedSegments+=tt;for(let qe=tt;qe--;)y.push(null);T+=tt}const Pe=Je.enumeratedString("RECENTLY-REMOVED-DATERANGES");Pe&&(f.recentlyRemovedDateranges=(f.recentlyRemovedDateranges||[]).concat(Pe.split("	")));break}case"TARGETDURATION":f.targetduration!==0&&Fo(f,Ge,ue),f.targetduration=Math.max(parseInt(_e),1);break;case"VERSION":f.version!==null&&Fo(f,Ge,ue),f.version=parseInt(_e);break;case"INDEPENDENT-SEGMENTS":break;case"ENDLIST":f.live||Fo(f,Ge,ue),f.live=!1;break;case"#":(_e||$e)&&K.tagList.push($e?[_e,$e]:[_e]);break;case"DISCONTINUITY":k++,K.tagList.push(["DIS"]);break;case"GAP":K.gap=!0,K.tagList.push([Ge]);break;case"BITRATE":K.tagList.push([Ge,_e]),B=parseInt(_e)*1e3,Mn(B)?K.bitrate=B:B=0;break;case"DATERANGE":{const Je=new li(_e,f),tt=new aA(Je,f.dateRanges[Je.ID],f.dateRangeTagCount);f.dateRangeTagCount++,tt.isValid||f.skippedSegments?f.dateRanges[tt.id]=tt:Gr.warn(`Ignoring invalid DATERANGE tag: "${_e}"`),K.tagList.push(["EXT-X-DATERANGE",_e]);break}case"DEFINE":{{const Je=new li(_e,f);"IMPORT"in Je?D1(f,Je,u):yT(f,Je,t)}break}case"DISCONTINUITY-SEQUENCE":f.startCC!==0?Fo(f,Ge,ue):y.length>0&&kT(f,Ge,ue),f.startCC=k=parseInt(_e);break;case"KEY":{const Je=_T(_e,t,f);if(Je.isSupported()){if(Je.method==="NONE"){Te=void 0;break}Te||(Te={});const tt=Te[Je.keyFormat];tt!=null&&tt.matches(Je)||(tt&&(Te=Kr({},Te)),Te[Je.keyFormat]=Je)}else Gr.warn(`[Keys] Ignoring unsupported EXT-X-KEY tag: "${_e}"`);break}case"START":f.startTimeOffset=AT(_e);break;case"MAP":{const Je=new li(_e,f);if(K.duration){const tt=new Zy(r,h);IT(tt,Je,n,Te),p=tt,K.initSegment=p,p.rawProgramDateTime&&!K.rawProgramDateTime&&(K.rawProgramDateTime=p.rawProgramDateTime)}else{const tt=K.byteRangeEndOffset;if(tt){const Pe=K.byteRangeStartOffset;be=`${tt-Pe}@${Pe}`}else be=null;IT(K,Je,n,Te),p=K,Q=!0}p.cc=k;break}case"SERVER-CONTROL":{F&&Fo(f,Ge,ue),F=new li(_e),f.canBlockReload=F.bool("CAN-BLOCK-RELOAD"),f.canSkipUntil=F.optionalFloat("CAN-SKIP-UNTIL",0),f.canSkipDateRanges=f.canSkipUntil>0&&F.bool("CAN-SKIP-DATERANGES"),f.partHoldBack=F.optionalFloat("PART-HOLD-BACK",0),f.holdBack=F.optionalFloat("HOLD-BACK",0);break}case"PART-INF":{f.partTarget&&Fo(f,Ge,ue);const Je=new li(_e);f.partTarget=Je.decimalFloatingPoint("PART-TARGET");break}case"PART":{let Je=f.partList;Je||(Je=f.partList=[]);const tt=v>0?Je[Je.length-1]:void 0,Pe=v++,qe=new li(_e,f),et=new DD(qe,K,h,Pe,tt);Je.push(et),K.duration+=et.duration;break}case"PRELOAD-HINT":{const Je=new li(_e,f);f.preloadHint=Je;break}case"RENDITION-REPORT":{const Je=new li(_e,f);f.renditionReports=f.renditionReports||[],f.renditionReports.push(Je);break}default:Gr.warn(`line parsed but not handled: ${ue}`);break}}}$&&!$.relurl?(y.pop(),A-=$.duration,f.partList&&(f.fragmentHint=$)):f.partList&&(Kb(K,$,m),K.cc=k,f.fragmentHint=K,Te&&wT(K,Te,f)),f.targetduration||(f.playlistParsingError=new Error("Missing Target Duration"));const ke=y.length,Qe=y[0],xe=y[ke-1];if(A+=f.skippedSegments*f.targetduration,A>0&&ke&&xe){f.averagetargetduration=A/ke;const Ye=xe.sn;f.endSN=Ye!=="initSegment"?Ye:0,f.live||(xe.endList=!0),X>0&&(K1(y,X),Qe&&m.unshift(Qe))}return f.fragmentHint&&(A+=f.fragmentHint.duration),f.totalduration=A,m.length&&f.dateRangeTagCount&&Qe&&cA(m,f),f.endCC=k,f}}function cA(i,e){let t=i.length;if(!t)if(e.hasProgramDateTime){const d=e.fragments[e.fragments.length-1];i.push(d),t++}else return;const n=i[t-1],r=e.live?1/0:e.totalduration,o=Object.keys(e.dateRanges);for(let d=o.length;d--;){const h=e.dateRanges[o[d]],f=h.startDate.getTime();h.tagAnchor=n.ref;for(let y=t;y--;){var u;if(((u=i[y])==null?void 0:u.sn)<e.startSN)break;const m=V1(e,f,i,y,r);if(m!==-1){h.tagAnchor=e.fragments[m].ref;break}}}}function V1(i,e,t,n,r){const o=t[n];if(o){const d=o.programDateTime;if(e>=d||n===0){var u;const h=(((u=t[n+1])==null?void 0:u.start)||r)-o.start;if(e<=d+h*1e3){const f=t[n].sn-i.startSN;if(f<0)return-1;const y=i.fragments;if(y.length>t.length){const p=(t[n+1]||y[y.length-1]).sn-i.startSN;for(let T=p;T>f;T--){const v=y[T].programDateTime;if(e>=v&&e<v+y[T].duration*1e3)return T}}return f}}}return-1}function _T(i,e,t){var n,r;const o=new li(i,t),u=(n=o.METHOD)!=null?n:"",d=o.URI,h=o.hexadecimalInteger("IV"),f=o.KEYFORMATVERSIONS,y=(r=o.KEYFORMAT)!=null?r:"identity";d&&o.IV&&!h&&Gr.error(`Invalid IV: ${o.IV}`);const m=d?no.resolve(d,e):"",p=(f||"1").split("/").map(Number).filter(Number.isFinite);return new wl(u,m,y,p,h,o.KEYID)}function AT(i){const t=new li(i).decimalFloatingPoint("TIME-OFFSET");return Mn(t)?t:null}function RT(i,e){let t=(i||"").split(/[ ,]+/).filter(n=>n);["video","audio","text"].forEach(n=>{const r=t.filter(o=>UE(o,n));r.length&&(e[`${n}Codec`]=r.map(o=>o.split("/")[0]).join(","),t=t.filter(o=>r.indexOf(o)===-1))}),e.unknownCodecs=t}function xT(i,e,t){const n=e[t];n&&(i[t]=n)}function K1(i,e){let t=i[e];for(let n=e;n--;){const r=i[n];if(!r)return;r.programDateTime=t.programDateTime-r.duration*1e3,t=r}}function Kb(i,e,t){i.rawProgramDateTime?t.push(i):e!=null&&e.programDateTime&&(i.programDateTime=e.endProgramDateTime)}function IT(i,e,t,n){i.relurl=e.URI,e.BYTERANGE&&i.setByteRange(e.BYTERANGE),i.level=t,i.sn="initSegment",n&&(i.levelkeys=n),i.initSegment=null}function wT(i,e,t){i.levelkeys=e;const{encryptedFragments:n}=t;(!n.length||n[n.length-1].levelkeys!==e)&&Object.keys(e).some(r=>e[r].isCommonEncryption)&&n.push(i)}function Fo(i,e,t){i.playlistParsingError=new Error(`#EXT-X-${e} must not appear more than once (${t[0]})`)}function kT(i,e,t){i.playlistParsingError=new Error(`#EXT-X-${e} must appear before the first Media Segment (${t[0]})`)}function rb(i,e){const t=e.startPTS;if(Mn(t)){let n=0,r;e.sn>i.sn?(n=t-i.start,r=i):(n=i.start-t,r=e),r.duration!==n&&r.setDuration(n)}else e.sn>i.sn?i.cc===e.cc&&i.minEndPTS?e.setStart(i.start+(i.minEndPTS-i.start)):e.setStart(i.start+i.duration):e.setStart(Math.max(i.start-e.duration,0))}function dA(i,e,t,n,r,o,u){n-t<=0&&(u.warn("Fragment should have a positive duration",e),n=t+e.duration,o=r+e.duration);let h=t,f=n;const y=e.startPTS,m=e.endPTS;if(Mn(y)){const B=Math.abs(y-t);i&&B>i.totalduration?u.warn(`media timestamps and playlist times differ by ${B}s for level ${e.level} ${i.url}`):Mn(e.deltaPTS)?e.deltaPTS=Math.max(B,e.deltaPTS):e.deltaPTS=B,h=Math.max(t,y),t=Math.min(t,y),r=e.startDTS!==void 0?Math.min(r,e.startDTS):r,f=Math.min(n,m),n=Math.max(n,m),o=e.endDTS!==void 0?Math.max(o,e.endDTS):o}const p=t-e.start;e.start!==0&&e.setStart(t),e.setDuration(n-e.start),e.startPTS=t,e.maxStartPTS=h,e.startDTS=r,e.endPTS=n,e.minEndPTS=f,e.endDTS=o;const T=e.sn;if(!i||T<i.startSN||T>i.endSN)return 0;let v;const A=T-i.startSN,k=i.fragments;for(k[A]=e,v=A;v>0;v--)rb(k[v],k[v-1]);for(v=A;v<k.length-1;v++)rb(k[v],k[v+1]);return i.fragmentHint&&rb(k[k.length-1],i.fragmentHint),i.PTSKnown=i.alignedSliding=!0,p}function Y1(i,e,t){if(i===e)return;let n=null;const r=i.fragments;for(let y=r.length-1;y>=0;y--){const m=r[y].initSegment;if(m){n=m;break}}i.fragmentHint&&delete i.fragmentHint.endPTS;let o;Q1(i,e,(y,m,p,T)=>{if((!e.startCC||e.skippedSegments)&&m.cc!==y.cc){const v=y.cc-m.cc;for(let A=p;A<T.length;A++)T[A].cc+=v;e.endCC=T[T.length-1].cc}Mn(y.startPTS)&&Mn(y.endPTS)&&(m.setStart(m.startPTS=y.startPTS),m.startDTS=y.startDTS,m.maxStartPTS=y.maxStartPTS,m.endPTS=y.endPTS,m.endDTS=y.endDTS,m.minEndPTS=y.minEndPTS,m.setDuration(y.endPTS-y.startPTS),m.duration&&(o=m),e.PTSKnown=e.alignedSliding=!0),y.hasStreams&&(m.elementaryStreams=y.elementaryStreams),m.loader=y.loader,y.hasStats&&(m.stats=y.stats),y.initSegment&&(m.initSegment=y.initSegment,n=y.initSegment)});const u=e.fragments,d=e.fragmentHint?u.concat(e.fragmentHint):u;if(n&&d.forEach(y=>{var m;y&&(!y.initSegment||y.initSegment.relurl===((m=n)==null?void 0:m.relurl))&&(y.initSegment=n)}),e.skippedSegments){if(e.deltaUpdateFailed=u.some(y=>!y),e.deltaUpdateFailed){t.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(let y=e.skippedSegments;y--;)u.shift();e.startSN=u[0].sn}else{e.canSkipDateRanges&&(e.dateRanges=W1(i.dateRanges,e,t));const y=i.fragments.filter(m=>m.rawProgramDateTime);if(i.hasProgramDateTime&&!e.hasProgramDateTime)for(let m=1;m<d.length;m++)d[m].programDateTime===null&&Kb(d[m],d[m-1],y);cA(y,e)}e.endCC=u[u.length-1].cc}if(!e.startCC){var h;const y=gA(i,e.startSN-1);e.startCC=(h=y==null?void 0:y.cc)!=null?h:u[0].cc}X1(i.partList,e.partList,(y,m)=>{m.elementaryStreams=y.elementaryStreams,m.stats=y.stats}),o?dA(e,o,o.startPTS,o.endPTS,o.startDTS,o.endDTS,t):fA(i,e),u.length&&(e.totalduration=e.edge-u[0].start),e.driftStartTime=i.driftStartTime,e.driftStart=i.driftStart;const f=e.advancedDateTime;if(e.advanced&&f){const y=e.edge;e.driftStart||(e.driftStartTime=f,e.driftStart=y),e.driftEndTime=f,e.driftEnd=y}else e.driftEndTime=i.driftEndTime,e.driftEnd=i.driftEnd,e.advancedDateTime=i.advancedDateTime;e.requestScheduled===-1&&(e.requestScheduled=i.requestScheduled)}function W1(i,e,t){const{dateRanges:n,recentlyRemovedDateranges:r}=e,o=Kr({},i);r&&r.forEach(h=>{delete o[h]});const d=Object.keys(o).length;return d?(Object.keys(n).forEach(h=>{const f=o[h],y=new aA(n[h].attr,f);y.isValid?(o[h]=y,f||(y.tagOrder+=d)):t.warn(`Ignoring invalid Playlist Delta Update DATERANGE tag: "${ei(n[h].attr)}"`)}),o):n}function X1(i,e,t){if(i&&e){let n=0;for(let r=0,o=i.length;r<=o;r++){const u=i[r],d=e[r+n];u&&d&&u.index===d.index&&u.fragment.sn===d.fragment.sn?t(u,d):n--}}}function Q1(i,e,t){const n=e.skippedSegments,r=Math.max(i.startSN,e.startSN)-e.startSN,o=(i.fragmentHint?1:0)+(n?e.endSN:Math.min(i.endSN,e.endSN))-e.startSN,u=e.startSN-i.startSN,d=e.fragmentHint?e.fragments.concat(e.fragmentHint):e.fragments,h=i.fragmentHint?i.fragments.concat(i.fragmentHint):i.fragments;for(let f=r;f<=o;f++){const y=h[u+f];let m=d[f];if(n&&!m&&y&&(m=e.fragments[f]=y),y&&m){t(y,m,f,d);const p=y.relurl,T=m.relurl;if(p&&Z1(p,T)){e.playlistParsingError=CT(`media sequence mismatch ${m.sn}:`,i,e,y,m);return}else if(y.cc!==m.cc){e.playlistParsingError=CT(`discontinuity sequence mismatch (${y.cc}!=${m.cc})`,i,e,y,m);return}}}}function CT(i,e,t,n,r){return new Error(`${i} ${r.url}
Playlist starting @${e.startSN}
${e.m3u8}

Playlist starting @${t.startSN}
${t.m3u8}`)}function fA(i,e,t=!0){const n=e.startSN+e.skippedSegments-i.startSN,r=i.fragments,o=n>=0;let u=0;if(o&&n<r.length)u=r[n].start;else if(o&&e.startSN===i.endSN+1)u=i.fragmentEnd;else if(o&&t)u=i.fragmentStart+n*e.levelTargetDuration;else if(!e.skippedSegments&&e.fragmentStart===0)u=i.fragmentStart;else return;Yb(e,u)}function Yb(i,e){if(e){const t=i.fragments;for(let n=i.skippedSegments;n<t.length;n++)t[n].addStart(e);i.fragmentHint&&i.fragmentHint.addStart(e)}}function hA(i,e=1/0){let t=1e3*i.targetduration;if(i.updated){const n=i.fragments;if(n.length&&t*4>e){const o=n[n.length-1].duration*1e3;o<t&&(t=o)}}else t/=2;return Math.round(t)}function gA(i,e,t){if(!i)return null;let n=i.fragments[e-i.startSN];return n||(n=i.fragmentHint,n&&n.sn===e)?n:e<i.startSN&&t&&t.sn===e?t:null}function DT(i,e,t){return i?mA(i.partList,e,t):null}function mA(i,e,t){if(i)for(let n=i.length;n--;){const r=i[n];if(r.index===t&&r.fragment.sn===e)return r}return null}function pA(i){i.forEach((e,t)=>{var n;(n=e.details)==null||n.fragments.forEach(r=>{r.level=t,r.initSegment&&(r.initSegment.level=t)})})}function Z1(i,e){return i!==e&&e?LT(i)!==LT(e):!1}function LT(i){return i.replace(/\?[^?]*$/,"")}function yh(i,e){for(let n=0,r=i.length;n<r;n++){var t;if(((t=i[n])==null?void 0:t.cc)===e)return i[n]}return null}function J1(i,e){return!!(i&&e.startCC<i.endCC&&e.endCC>i.startCC)}function NT(i,e){const t=i.start+e;i.startPTS=t,i.setStart(t),i.endPTS=t+i.duration}function yA(i,e){const t=e.fragments;for(let n=0,r=t.length;n<r;n++)NT(t[n],i);e.fragmentHint&&NT(e.fragmentHint,i),e.alignedSliding=!0}function eL(i,e){i&&(bA(e,i),e.alignedSliding||Sp(e,i),!e.alignedSliding&&!e.skippedSegments&&fA(i,e,!1))}function bA(i,e){if(!J1(e,i))return;const t=Math.min(e.endCC,i.endCC),n=yh(e.fragments,t),r=yh(i.fragments,t);if(!n||!r)return;Gr.log(`Aligning playlist at start of dicontinuity sequence ${t}`);const o=n.start-r.start;yA(o,i)}function Sp(i,e){if(!i.hasProgramDateTime||!e.hasProgramDateTime)return;const t=i.fragments,n=e.fragments;if(!t.length||!n.length)return;let r,o;const u=Math.min(e.endCC,i.endCC);e.startCC<u&&i.startCC<u&&(r=yh(n,u),o=yh(t,u)),(!r||!o)&&(r=n[Math.floor(n.length/2)],o=yh(t,r.cc)||t[Math.floor(t.length/2)]);const d=r.programDateTime,h=o.programDateTime;if(!d||!h)return;const f=(h-d)/1e3-(o.start-r.start);yA(f,i)}function Ea(i,e,t){La(i,e,t),i.addEventListener(e,t)}function La(i,e,t){i.removeEventListener(e,t)}const tL={toString:function(i){let e="";const t=i.length;for(let n=0;n<t;n++)e+=`[${i.start(n).toFixed(3)}-${i.end(n).toFixed(3)}]`;return e}},cn={STOPPED:"STOPPED",IDLE:"IDLE",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS",WAITING_LEVEL:"WAITING_LEVEL"};class VE extends rA{constructor(e,t,n,r,o){super(r,e.logger),this.hls=void 0,this.fragPrevious=null,this.fragCurrent=null,this.fragmentTracker=void 0,this.transmuxer=null,this._state=cn.STOPPED,this.playlistType=void 0,this.media=null,this.mediaBuffer=null,this.config=void 0,this.bitrateTest=!1,this.lastCurrentTime=0,this.nextLoadPosition=0,this.startPosition=0,this.startTimeOffset=null,this.retryDate=0,this.levels=null,this.fragmentLoader=void 0,this.keyLoader=void 0,this.levelLastLoaded=null,this.startFragRequested=!1,this.decrypter=void 0,this.initPTS=[],this.buffering=!0,this.loadingParts=!1,this.loopSn=void 0,this.onMediaSeeking=()=>{const{config:u,fragCurrent:d,media:h,mediaBuffer:f,state:y}=this,m=h?h.currentTime:0,p=dr.bufferInfo(f||h,m,u.maxBufferHole),T=!p.len;if(this.log(`Media seeking to ${Mn(m)?m.toFixed(3):m}, state: ${y}, ${T?"out of":"in"} buffer`),this.state===cn.ENDED)this.resetLoadingState();else if(d){const v=u.maxFragLookUpTolerance,A=d.start-v,k=d.start+d.duration+v;if(T||k<p.start||A>p.end){const B=m>k;(m<A||B)&&(B&&d.loader&&(this.log(`Cancelling fragment load for seek (sn: ${d.sn})`),d.abortRequests(),this.resetLoadingState()),this.fragPrevious=null)}}if(h){this.fragmentTracker.removeFragmentsInRange(m,1/0,this.playlistType,!0);const v=this.lastCurrentTime;if(m>v&&(this.lastCurrentTime=m),!this.loadingParts){const A=Math.max(p.end,m),k=this.shouldLoadParts(this.getLevelDetails(),A);k&&(this.log(`LL-Part loading ON after seeking to ${m.toFixed(2)} with buffer @${A.toFixed(2)}`),this.loadingParts=k)}}this.hls.hasEnoughToStart||(this.log(`Setting ${T?"startPosition":"nextLoadPosition"} to ${m} for seek without enough to start`),this.nextLoadPosition=m,T&&(this.startPosition=m)),T&&this.state===cn.IDLE&&this.tickImmediate()},this.onMediaEnded=()=>{this.log("setting startPosition to 0 because media ended"),this.startPosition=this.lastCurrentTime=0},this.playlistType=o,this.hls=e,this.fragmentLoader=new k1(e.config),this.keyLoader=n,this.fragmentTracker=t,this.config=e.config,this.decrypter=new qE(e.config)}registerListeners(){const{hls:e}=this;e.on(Ee.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(Ee.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(Ee.MANIFEST_LOADING,this.onManifestLoading,this),e.on(Ee.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(Ee.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off(Ee.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(Ee.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(Ee.MANIFEST_LOADING,this.onManifestLoading,this),e.off(Ee.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(Ee.ERROR,this.onError,this)}doTick(){this.onTickEnd()}onTickEnd(){}startLoad(e){}stopLoad(){if(this.state===cn.STOPPED)return;this.fragmentLoader.abort(),this.keyLoader.abort(this.playlistType);const e=this.fragCurrent;e!=null&&e.loader&&(e.abortRequests(),this.fragmentTracker.removeFragment(e)),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=cn.STOPPED}get startPositionValue(){const{nextLoadPosition:e,startPosition:t}=this;return t===-1&&e?e:t}get bufferingEnabled(){return this.buffering}pauseBuffering(){this.buffering=!1}resumeBuffering(){this.buffering=!0}get inFlightFrag(){return{frag:this.fragCurrent,state:this.state}}_streamEnded(e,t){if(t.live||!this.media)return!1;const n=e.end||0,r=this.config.timelineOffset||0;if(n<=r)return!1;const o=e.buffered;this.config.maxBufferHole&&o&&o.length>1&&(e=dr.bufferedInfo(o,e.start,0));const u=e.nextStart;if(u&&u>r&&u<t.edge||this.media.currentTime<e.start)return!1;const h=t.partList;if(h!=null&&h.length){const y=h[h.length-1];return dr.isBuffered(this.media,y.start+y.duration/2)}const f=t.fragments[t.fragments.length-1].type;return this.fragmentTracker.isEndListAppended(f)}getLevelDetails(){if(this.levels&&this.levelLastLoaded!==null)return this.levelLastLoaded.details}get timelineOffset(){const e=this.config.timelineOffset;if(e){var t;return((t=this.getLevelDetails())==null?void 0:t.appliedTimelineOffset)||e}return 0}onMediaAttached(e,t){const n=this.media=this.mediaBuffer=t.media;Ea(n,"seeking",this.onMediaSeeking),Ea(n,"ended",this.onMediaEnded);const r=this.config;this.levels&&r.autoStartLoad&&this.state===cn.STOPPED&&this.startLoad(r.startPosition)}onMediaDetaching(e,t){const n=!!t.transferMedia,r=this.media;if(r!==null){if(r.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),La(r,"seeking",this.onMediaSeeking),La(r,"ended",this.onMediaEnded),this.keyLoader&&!n&&this.keyLoader.detach(),this.media=this.mediaBuffer=null,this.loopSn=void 0,n){this.resetLoadingState(),this.resetTransmuxer();return}this.loadingParts=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()}}onManifestLoading(){this.initPTS=[],this.levels=this.levelLastLoaded=this.fragCurrent=null,this.lastCurrentTime=this.startPosition=0,this.startFragRequested=!1}onError(e,t){}onManifestLoaded(e,t){this.startTimeOffset=t.startTimeOffset}onHandlerDestroying(){this.stopLoad(),this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null),super.onHandlerDestroying(),this.hls=this.onMediaSeeking=this.onMediaEnded=null}onHandlerDestroyed(){this.state=cn.STOPPED,this.fragmentLoader&&this.fragmentLoader.destroy(),this.keyLoader&&this.keyLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.keyLoader=this.fragmentLoader=this.fragmentTracker=null,super.onHandlerDestroyed()}loadFragment(e,t,n){this.startFragRequested=!0,this._loadFragForPlayback(e,t,n)}_loadFragForPlayback(e,t,n){const r=o=>{const u=o.frag;if(this.fragContextChanged(u)){this.warn(`${u.type} sn: ${u.sn}${o.part?" part: "+o.part.index:""} of ${this.fragInfo(u,!1,o.part)}) was dropped during download.`),this.fragmentTracker.removeFragment(u);return}u.stats.chunkCount++,this._handleFragmentLoadProgress(o)};this._doFragLoad(e,t,n,r).then(o=>{if(!o)return;const u=this.state,d=o.frag;if(this.fragContextChanged(d)){(u===cn.FRAG_LOADING||!this.fragCurrent&&u===cn.PARSING)&&(this.fragmentTracker.removeFragment(d),this.state=cn.IDLE);return}"payload"in o&&(this.log(`Loaded ${d.type} sn: ${d.sn} of ${this.playlistLabel()} ${d.level}`),this.hls.trigger(Ee.FRAG_LOADED,o)),this._handleFragmentLoadComplete(o)}).catch(o=>{this.state===cn.STOPPED||this.state===cn.ERROR||(this.warn(`Frag error: ${(o==null?void 0:o.message)||o}`),this.resetFragmentLoading(e))})}clearTrackerIfNeeded(e){var t;const{fragmentTracker:n}=this;if(n.getState(e)===Oi.APPENDING){const o=e.type,u=this.getFwdBufferInfo(this.mediaBuffer,o),d=Math.max(e.duration,u?u.len:this.config.maxBufferLength),h=this.backtrackFragment;((h?e.sn-h.sn:0)===1||this.reduceMaxBufferLength(d,e.duration))&&n.removeFragment(e)}else((t=this.mediaBuffer)==null?void 0:t.buffered.length)===0?n.removeAllFragments():n.hasParts(e.type)&&(n.detectPartialFragments({frag:e,part:null,stats:e.stats,id:e.type}),n.getState(e)===Oi.PARTIAL&&n.removeFragment(e))}checkLiveUpdate(e){if(e.updated&&!e.live){const t=e.fragments[e.fragments.length-1];this.fragmentTracker.detectPartialFragments({frag:t,part:null,stats:t.stats,id:t.type})}e.fragments[0]||(e.deltaUpdateFailed=!0)}waitForLive(e){const t=e.details;return(t==null?void 0:t.live)&&t.type!=="EVENT"&&(this.levelLastLoaded!==e||t.expired)}flushMainBuffer(e,t,n=null){if(!(e-t))return;const r={startOffset:e,endOffset:t,type:n};this.hls.trigger(Ee.BUFFER_FLUSHING,r)}_loadInitSegment(e,t){this._doFragLoad(e,t).then(n=>{const r=n==null?void 0:n.frag;if(!r||this.fragContextChanged(r)||!this.levels)throw new Error("init load aborted");return n}).then(n=>{const{hls:r}=this,{frag:o,payload:u}=n,d=o.decryptdata;if(u&&u.byteLength>0&&d!=null&&d.key&&d.iv&&md(d.method)){const h=self.performance.now();return this.decrypter.decrypt(new Uint8Array(u),d.key.buffer,d.iv.buffer,$E(d.method)).catch(f=>{throw r.trigger(Ee.ERROR,{type:Qn.MEDIA_ERROR,details:kt.FRAG_DECRYPT_ERROR,fatal:!1,error:f,reason:f.message,frag:o}),f}).then(f=>{const y=self.performance.now();return r.trigger(Ee.FRAG_DECRYPTED,{frag:o,payload:f,stats:{tstart:h,tdecrypt:y}}),n.payload=f,this.completeInitSegmentLoad(n)})}return this.completeInitSegmentLoad(n)}).catch(n=>{this.state===cn.STOPPED||this.state===cn.ERROR||(this.warn(n),this.resetFragmentLoading(e))})}completeInitSegmentLoad(e){const{levels:t}=this;if(!t)throw new Error("init load aborted, missing levels");const n=e.frag.stats;this.state!==cn.STOPPED&&(this.state=cn.IDLE),e.frag.data=new Uint8Array(e.payload),n.parsing.start=n.buffering.start=self.performance.now(),n.parsing.end=n.buffering.end=self.performance.now(),this.tick()}unhandledEncryptionError(e,t){var n,r;const o=e.tracks;if(o&&!t.encrypted&&((n=o.audio)!=null&&n.encrypted||(r=o.video)!=null&&r.encrypted)&&(!this.config.emeEnabled||!this.keyLoader.emeController)){const u=this.media,d=new Error(`Encrypted track with no key in ${this.fragInfo(t)} (media ${u?"attached mediaKeys: "+u.mediaKeys:"detached"})`);return this.warn(d.message),!u||u.mediaKeys?!1:(this.hls.trigger(Ee.ERROR,{type:Qn.KEY_SYSTEM_ERROR,details:kt.KEY_SYSTEM_NO_KEYS,fatal:!1,error:d,frag:t}),this.resetTransmuxer(),!0)}return!1}fragContextChanged(e){const{fragCurrent:t}=this;return!e||!t||e.sn!==t.sn||e.level!==t.level}fragBufferedComplete(e,t){const n=this.mediaBuffer?this.mediaBuffer:this.media;if(this.log(`Buffered ${e.type} sn: ${e.sn}${t?" part: "+t.index:""} of ${this.fragInfo(e,!1,t)} > buffer:${n?tL.toString(dr.getBuffered(n)):"(detached)"})`),vi(e)){var r;if(e.type!==jn.SUBTITLE){const u=e.elementaryStreams;if(!Object.keys(u).some(d=>!!u[d])){this.state=cn.IDLE;return}}const o=(r=this.levels)==null?void 0:r[e.level];o!=null&&o.fragmentError&&(this.log(`Resetting level fragment error count of ${o.fragmentError} on frag buffered`),o.fragmentError=0)}this.state=cn.IDLE}_handleFragmentLoadComplete(e){const{transmuxer:t}=this;if(!t)return;const{frag:n,part:r,partsLoaded:o}=e,u=!o||o.length===0||o.some(h=>!h),d=new GE(n.level,n.sn,n.stats.chunkCount+1,0,r?r.index:-1,!u);t.flush(d)}_handleFragmentLoadProgress(e){}_doFragLoad(e,t,n=null,r){var o;this.fragCurrent=e;const u=t.details;if(!this.levels||!u)throw new Error(`frag load aborted, missing level${u?"":" detail"}s`);let d=null;if(e.encrypted&&!((o=e.decryptdata)!=null&&o.key)){if(this.log(`Loading key for ${e.sn} of [${u.startSN}-${u.endSN}], ${this.playlistLabel()} ${e.level}`),this.state=cn.KEY_LOADING,this.fragCurrent=e,d=this.keyLoader.load(e).then(p=>{if(!this.fragContextChanged(p.frag))return this.hls.trigger(Ee.KEY_LOADED,p),this.state===cn.KEY_LOADING&&(this.state=cn.IDLE),p}),this.hls.trigger(Ee.KEY_LOADING,{frag:e}),this.fragCurrent===null)return this.log("context changed in KEY_LOADING"),Promise.resolve(null)}else e.encrypted||(d=this.keyLoader.loadClear(e,u.encryptedFragments,this.startFragRequested),d&&this.log("[eme] blocking frag load until media-keys acquired"));const h=this.fragPrevious;if(vi(e)&&(!h||e.sn!==h.sn)){const p=this.shouldLoadParts(t.details,e.end);p!==this.loadingParts&&(this.log(`LL-Part loading ${p?"ON":"OFF"} loading sn ${h==null?void 0:h.sn}->${e.sn}`),this.loadingParts=p)}if(n=Math.max(e.start,n||0),this.loadingParts&&vi(e)){const p=u.partList;if(p&&r){n>u.fragmentEnd&&u.fragmentHint&&(e=u.fragmentHint);const T=this.getNextPart(p,e,n);if(T>-1){const v=p[T];e=this.fragCurrent=v.fragment,this.log(`Loading ${e.type} sn: ${e.sn} part: ${v.index} (${T}/${p.length-1}) of ${this.fragInfo(e,!1,v)}) cc: ${e.cc} [${u.startSN}-${u.endSN}], target: ${parseFloat(n.toFixed(3))}`),this.nextLoadPosition=v.start+v.duration,this.state=cn.FRAG_LOADING;let A;return d?A=d.then(k=>!k||this.fragContextChanged(k.frag)?null:this.doFragPartsLoad(e,v,t,r)).catch(k=>this.handleFragLoadError(k)):A=this.doFragPartsLoad(e,v,t,r).catch(k=>this.handleFragLoadError(k)),this.hls.trigger(Ee.FRAG_LOADING,{frag:e,part:v,targetBufferTime:n}),this.fragCurrent===null?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING parts")):A}else if(!e.url||this.loadedEndOfParts(p,n))return Promise.resolve(null)}}if(vi(e)&&this.loadingParts){var f;this.log(`LL-Part loading OFF after next part miss @${n.toFixed(2)} Check buffer at sn: ${e.sn} loaded parts: ${(f=u.partList)==null?void 0:f.filter(p=>p.loaded).map(p=>`[${p.start}-${p.end}]`)}`),this.loadingParts=!1}else if(!e.url)return Promise.resolve(null);this.log(`Loading ${e.type} sn: ${e.sn} of ${this.fragInfo(e,!1)}) cc: ${e.cc} ${"["+u.startSN+"-"+u.endSN+"]"}, target: ${parseFloat(n.toFixed(3))}`),Mn(e.sn)&&!this.bitrateTest&&(this.nextLoadPosition=e.start+e.duration),this.state=cn.FRAG_LOADING;const y=this.config.progressive&&e.type!==jn.SUBTITLE;let m;return y&&d?m=d.then(p=>!p||this.fragContextChanged(p.frag)?null:this.fragmentLoader.load(e,r)).catch(p=>this.handleFragLoadError(p)):m=Promise.all([this.fragmentLoader.load(e,y?r:void 0),d]).then(([p])=>(!y&&r&&r(p),p)).catch(p=>this.handleFragLoadError(p)),this.hls.trigger(Ee.FRAG_LOADING,{frag:e,targetBufferTime:n}),this.fragCurrent===null?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING")):m}doFragPartsLoad(e,t,n,r){return new Promise((o,u)=>{var d;const h=[],f=(d=n.details)==null?void 0:d.partList,y=m=>{this.fragmentLoader.loadPart(e,m,r).then(p=>{h[m.index]=p;const T=p.part;this.hls.trigger(Ee.FRAG_LOADED,p);const v=DT(n.details,e.sn,m.index+1)||mA(f,e.sn,m.index+1);if(v)y(v);else return o({frag:e,part:T,partsLoaded:h})}).catch(u)};y(t)})}handleFragLoadError(e){if("data"in e){const t=e.data;t.frag&&t.details===kt.INTERNAL_ABORTED?this.handleFragLoadAborted(t.frag,t.part):t.frag&&t.type===Qn.KEY_SYSTEM_ERROR?(t.frag.abortRequests(),this.resetStartWhenNotLoaded(),this.resetFragmentLoading(t.frag)):this.hls.trigger(Ee.ERROR,t)}else this.hls.trigger(Ee.ERROR,{type:Qn.OTHER_ERROR,details:kt.INTERNAL_EXCEPTION,err:e,error:e,fatal:!0});return null}_handleTransmuxerFlush(e){const t=this.getCurrentContext(e);if(!t||this.state!==cn.PARSING){!this.fragCurrent&&this.state!==cn.STOPPED&&this.state!==cn.ERROR&&(this.state=cn.IDLE);return}const{frag:n,part:r,level:o}=t,u=self.performance.now();n.stats.parsing.end=u,r&&(r.stats.parsing.end=u);const d=this.getLevelDetails(),f=d&&n.sn>d.endSN||this.shouldLoadParts(d,n.end);f!==this.loadingParts&&(this.log(`LL-Part loading ${f?"ON":"OFF"} after parsing segment ending @${n.end.toFixed(2)}`),this.loadingParts=f),this.updateLevelTiming(n,r,o,e.partial)}shouldLoadParts(e,t){if(this.config.lowLatencyMode){if(!e)return this.loadingParts;if(e.partList){var n;const o=e.partList[0];if(o.fragment.type===jn.SUBTITLE)return!1;const u=o.end+(((n=e.fragmentHint)==null?void 0:n.duration)||0);if(t>=u){var r;if((this.hls.hasEnoughToStart?((r=this.media)==null?void 0:r.currentTime)||this.lastCurrentTime:this.getLoadPosition())>o.start-o.fragment.duration)return!0}}}return!1}getCurrentContext(e){const{levels:t,fragCurrent:n}=this,{level:r,sn:o,part:u}=e;if(!(t!=null&&t[r]))return this.warn(`Levels object was unset while buffering fragment ${o} of ${this.playlistLabel()} ${r}. The current chunk will not be buffered.`),null;const d=t[r],h=d.details,f=u>-1?DT(h,o,u):null,y=f?f.fragment:gA(h,o,n);return y?(n&&n!==y&&(y.stats=n.stats),{frag:y,part:f,level:d}):null}bufferFragmentData(e,t,n,r,o){if(this.state!==cn.PARSING)return;const{data1:u,data2:d}=e;let h=u;if(d&&(h=cs(u,d)),!h.length)return;const f=this.initPTS[t.cc],y=f?-f.baseTime/f.timescale:void 0,m={type:e.type,frag:t,part:n,chunkMeta:r,offset:y,parent:t.type,data:h};if(this.hls.trigger(Ee.BUFFER_APPENDING,m),e.dropped&&e.independent&&!n){if(o)return;this.flushBufferGap(t)}}flushBufferGap(e){const t=this.media;if(!t)return;if(!dr.isBuffered(t,t.currentTime)){this.flushMainBuffer(0,e.start);return}const n=t.currentTime,r=dr.bufferInfo(t,n,0),o=e.duration,u=Math.min(this.config.maxFragLookUpTolerance*2,o*.25),d=Math.max(Math.min(e.start-u,r.end-u),n+u);e.start-d>u&&this.flushMainBuffer(d,e.start)}getFwdBufferInfo(e,t){var n;const r=this.getLoadPosition();if(!Mn(r))return null;const u=this.lastCurrentTime>r||(n=this.media)!=null&&n.paused?0:this.config.maxBufferHole;return this.getFwdBufferInfoAtPos(e,r,t,u)}getFwdBufferInfoAtPos(e,t,n,r){const o=dr.bufferInfo(e,t,r);if(o.len===0&&o.nextStart!==void 0){const u=this.fragmentTracker.getBufferedFrag(t,n);if(u&&(o.nextStart<=u.end||u.gap)){const d=Math.max(Math.min(o.nextStart,u.end)-t,r);return dr.bufferInfo(e,t,d)}}return o}getMaxBufferLength(e){const{config:t}=this;let n;return e?n=Math.max(8*t.maxBufferSize/e,t.maxBufferLength):n=t.maxBufferLength,Math.min(n,t.maxMaxBufferLength)}reduceMaxBufferLength(e,t){const n=this.config,r=Math.max(Math.min(e-t,n.maxBufferLength),t),o=Math.max(e-t*3,n.maxMaxBufferLength/2,r);return o>=r?(n.maxMaxBufferLength=o,this.warn(`Reduce max buffer length to ${o}s`),!0):!1}getAppendedFrag(e,t=jn.MAIN){const n=this.fragmentTracker?this.fragmentTracker.getAppendedFrag(e,t):null;return n&&"fragment"in n?n.fragment:n}getNextFragment(e,t){const n=t.fragments,r=n.length;if(!r)return null;const{config:o}=this,u=n[0].start,d=o.lowLatencyMode&&!!t.partList;let h=null;if(t.live){const m=o.initialLiveManifestSize;if(r<m)return this.warn(`Not enough fragments to start playback (have: ${r}, need: ${m})`),null;if(!t.PTSKnown&&!this.startFragRequested&&this.startPosition===-1||e<u){var f;d&&!this.loadingParts&&(this.log("LL-Part loading ON for initial live fragment"),this.loadingParts=!0),h=this.getInitialLiveFragment(t);const p=this.hls.startPosition,T=this.hls.liveSyncPosition,v=h?(p!==-1&&p>=u?p:T)||h.start:e;this.log(`Setting startPosition to ${v} to match start frag at live edge. mainStart: ${p} liveSyncPosition: ${T} frag.start: ${(f=h)==null?void 0:f.start}`),this.startPosition=this.nextLoadPosition=v}}else e<=u&&(h=n[0]);if(!h){const m=this.loadingParts?t.partEnd:t.fragmentEnd;h=this.getFragmentAtPosition(e,m,t)}let y=this.filterReplacedPrimary(h,t);if(!y&&h){const m=h.sn-t.startSN;y=this.filterReplacedPrimary(n[m+1]||null,t)}return this.mapToInitFragWhenRequired(y)}isLoopLoading(e,t){const n=this.fragmentTracker.getState(e);return(n===Oi.OK||n===Oi.PARTIAL&&!!e.gap)&&this.nextLoadPosition>t}getNextFragmentLoopLoading(e,t,n,r,o){let u=null;if(e.gap&&(u=this.getNextFragment(this.nextLoadPosition,t),u&&!u.gap&&n.nextStart)){const d=this.getFwdBufferInfoAtPos(this.mediaBuffer?this.mediaBuffer:this.media,n.nextStart,r,0);if(d!==null&&n.len+d.len>=o){const h=u.sn;return this.loopSn!==h&&(this.log(`buffer full after gaps in "${r}" playlist starting at sn: ${h}`),this.loopSn=h),null}}return this.loopSn=void 0,u}get primaryPrefetch(){if(OT(this.config)){var e;if((e=this.hls.interstitialsManager)==null||(e=e.playingItem)==null?void 0:e.event)return!0}return!1}filterReplacedPrimary(e,t){if(!e)return e;if(OT(this.config)&&e.type!==jn.SUBTITLE){const n=this.hls.interstitialsManager,r=n==null?void 0:n.bufferingItem;if(r){const u=r.event;if(u){if(u.appendInPlace||Math.abs(e.start-r.start)>1||r.start===0)return null}else if(e.end<=r.start&&(t==null?void 0:t.live)===!1||e.start>r.end&&r.nextEvent&&(r.nextEvent.appendInPlace||e.start-r.end>1))return null}const o=n==null?void 0:n.playerQueue;if(o)for(let u=o.length;u--;){const d=o[u].interstitial;if(d.appendInPlace&&e.start>=d.startTime&&e.end<=d.resumeTime)return null}}return e}mapToInitFragWhenRequired(e){return e!=null&&e.initSegment&&!e.initSegment.data&&!this.bitrateTest?e.initSegment:e}getNextPart(e,t,n){let r=-1,o=!1,u=!0;for(let d=0,h=e.length;d<h;d++){const f=e[d];if(u=u&&!f.independent,r>-1&&n<f.start)break;const y=f.loaded;y?r=-1:(o||(f.independent||u)&&f.fragment===t)&&(f.fragment!==t&&this.warn(`Need buffer at ${n} but next unloaded part starts at ${f.start}`),r=d),o=y}return r}loadedEndOfParts(e,t){let n;for(let r=e.length;r--;){if(n=e[r],!n.loaded)return!1;if(t>n.start)return!0}return!1}getInitialLiveFragment(e){const t=e.fragments,n=this.fragPrevious;let r=null;if(n){if(e.hasProgramDateTime&&(this.log(`Live playlist, switching playlist, load frag with same PDT: ${n.programDateTime}`),r=y1(t,n.endProgramDateTime,this.config.maxFragLookUpTolerance)),!r){const o=n.sn+1;if(o>=e.startSN&&o<=e.endSN){const u=t[o-e.startSN];n.cc===u.cc&&(r=u,this.log(`Live playlist, switching playlist, load frag with next SN: ${r.sn}`))}r||(r=eA(e,n.cc,n.end),r&&this.log(`Live playlist, switching playlist, load frag with same CC: ${r.sn}`))}}else{const o=this.hls.liveSyncPosition;o!==null&&(r=this.getFragmentAtPosition(o,this.bitrateTest?e.fragmentEnd:e.edge,e))}return r}getFragmentAtPosition(e,t,n){const{config:r}=this;let{fragPrevious:o}=this,{fragments:u,endSN:d}=n;const{fragmentHint:h}=n,{maxFragLookUpTolerance:f}=r,y=n.partList,m=!!(this.loadingParts&&y!=null&&y.length&&h);m&&!this.bitrateTest&&y[y.length-1].fragment.sn===h.sn&&(u=u.concat(h),d=h.sn);let p;if(e<t){var T;const A=e<this.lastCurrentTime||e>t-f||(T=this.media)!=null&&T.paused||!this.startFragRequested?0:f;p=Pu(o,u,e,A)}else p=u[u.length-1];if(p){const v=p.sn-n.startSN,A=this.fragmentTracker.getState(p);if((A===Oi.OK||A===Oi.PARTIAL&&p.gap)&&(o=p),o&&p.sn===o.sn&&(!m||y[0].fragment.sn>p.sn||!n.live)&&p.level===o.level){const B=u[v+1];p.sn<d&&this.fragmentTracker.getState(B)!==Oi.OK?p=B:p=null}}return p}alignPlaylists(e,t,n){const r=e.fragments.length;if(!r)return this.warn("No fragments in live playlist"),0;const o=e.fragmentStart,u=!t,d=e.alignedSliding&&Mn(o);if(u||!d&&!o){eL(n,e);const h=e.fragmentStart;return this.log(`Live playlist sliding: ${h.toFixed(2)} start-sn: ${t?t.startSN:"na"}->${e.startSN} fragments: ${r}`),h}return o}waitForCdnTuneIn(e){return e.live&&e.canBlockReload&&e.partTarget&&e.tuneInGoal>Math.max(e.partHoldBack,e.partTarget*3)}setStartPosition(e,t){let n=this.startPosition;n<t&&(n=-1);const r=this.timelineOffset;if(n===-1){const o=this.startTimeOffset!==null,u=o?this.startTimeOffset:e.startTimeOffset;u!==null&&Mn(u)?(n=t+u,u<0&&(n+=e.edge),n=Math.min(Math.max(t,n),t+e.totalduration),this.log(`Setting startPosition to ${n} for start time offset ${u} found in ${o?"multivariant":"media"} playlist`),this.startPosition=n):e.live?(n=this.hls.liveSyncPosition||t,this.log(`Setting startPosition to -1 to start at live edge ${n}`),this.startPosition=-1):(this.log("setting startPosition to 0 by default"),this.startPosition=n=0),this.lastCurrentTime=n+r}this.nextLoadPosition=n+r}getLoadPosition(){var e;const{media:t}=this;let n=0;return(e=this.hls)!=null&&e.hasEnoughToStart&&t?n=t.currentTime:this.nextLoadPosition>=0&&(n=this.nextLoadPosition),n}handleFragLoadAborted(e,t){this.transmuxer&&e.type===this.playlistType&&vi(e)&&e.stats.aborted&&(this.log(`Fragment ${e.sn}${t?" part "+t.index:""} of ${this.playlistLabel()} ${e.level} was aborted`),this.resetFragmentLoading(e))}resetFragmentLoading(e){(!this.fragCurrent||!this.fragContextChanged(e)&&this.state!==cn.FRAG_LOADING_WAITING_RETRY)&&(this.state=cn.IDLE)}onFragmentOrKeyLoadError(e,t){var n;if(t.chunkMeta&&!t.frag){const B=this.getCurrentContext(t.chunkMeta);B&&(t.frag=B.frag)}const r=t.frag;if(!r||r.type!==e||!this.levels)return;if(this.fragContextChanged(r)){var o;this.warn(`Frag load error must match current frag to retry ${r.url} > ${(o=this.fragCurrent)==null?void 0:o.url}`);return}const u=t.details===kt.FRAG_GAP;u&&this.fragmentTracker.fragBuffered(r,!0);const d=t.errorAction;if(!d){this.state=cn.ERROR;return}const{action:h,flags:f,retryCount:y=0,retryConfig:m}=d,p=!!m,T=p&&h===Qi.RetryRequest,v=p&&!d.resolved&&f===ja.MoveAllAlternatesMatchingHost,A=(n=this.hls.latestLevelDetails)==null?void 0:n.live;if(!T&&v&&vi(r)&&!r.endList&&A&&!nA(t))this.resetFragmentErrors(e),this.treatAsGap(r),d.resolved=!0;else if((T||v)&&y<m.maxNumRetry){var k;const B=$b((k=t.response)==null?void 0:k.code),$=jE(m,y);if(this.resetStartWhenNotLoaded(),this.retryDate=self.performance.now()+$,this.state=cn.FRAG_LOADING_WAITING_RETRY,d.resolved=!0,B){this.log("Waiting for connection (offline)"),this.retryDate=1/0,t.reason="offline";return}this.warn(`Fragment ${r.sn} of ${e} ${r.level} errored with ${t.details}, retrying loading ${y+1}/${m.maxNumRetry} in ${$}ms`)}else if(m)if(this.resetFragmentErrors(e),y<m.maxNumRetry)!u&&h!==Qi.RemoveAlternatePermanently&&(d.resolved=!0);else{this.warn(`${t.details} reached or exceeded max retry (${y})`);return}else h===Qi.SendAlternateToPenaltyBox?this.state=cn.WAITING_LEVEL:this.state=cn.ERROR;this.tickImmediate()}checkRetryDate(){const e=self.performance.now(),t=this.retryDate,n=t===1/0;(!t||e>=t||n&&!$b(0))&&(n&&this.log("Connection restored (online)"),this.resetStartWhenNotLoaded(),this.state=cn.IDLE)}reduceLengthAndFlushBuffer(e){if(this.state===cn.PARSING||this.state===cn.PARSED){const t=e.frag,n=e.parent,r=this.getFwdBufferInfo(this.mediaBuffer,n),o=r&&r.len>.5;o&&this.reduceMaxBufferLength(r.len,(t==null?void 0:t.duration)||10);const u=!o;return u&&this.warn(`Buffer full error while media.currentTime (${this.getLoadPosition()}) is not buffered, flush ${n} buffer`),t&&(this.fragmentTracker.removeFragment(t),this.nextLoadPosition=t.start),this.resetLoadingState(),u}return!1}resetFragmentErrors(e){e===jn.AUDIO&&(this.fragCurrent=null),this.hls.hasEnoughToStart||(this.startFragRequested=!1),this.state!==cn.STOPPED&&(this.state=cn.IDLE)}afterBufferFlushed(e,t,n){if(!e)return;const r=dr.getBuffered(e);this.fragmentTracker.detectEvictedFragments(t,r,n),this.state===cn.ENDED&&this.resetLoadingState()}resetLoadingState(){this.log("Reset loading state"),this.fragCurrent=null,this.fragPrevious=null,this.state!==cn.STOPPED&&(this.state=cn.IDLE)}resetStartWhenNotLoaded(){if(!this.hls.hasEnoughToStart){this.startFragRequested=!1;const e=this.levelLastLoaded,t=e?e.details:null;t!=null&&t.live?(this.log("resetting startPosition for live start"),this.startPosition=-1,this.setStartPosition(t,t.fragmentStart),this.resetLoadingState()):this.nextLoadPosition=this.startPosition}}resetWhenMissingContext(e){this.log(`Loading context changed while buffering sn ${e.sn} of ${this.playlistLabel()} ${e.level===-1?"<removed>":e.level}. This chunk will not be buffered.`),this.removeUnbufferedFrags(),this.resetStartWhenNotLoaded(),this.resetLoadingState()}removeUnbufferedFrags(e=0){this.fragmentTracker.removeFragmentsInRange(e,1/0,this.playlistType,!1,!0)}updateLevelTiming(e,t,n,r){const o=n.details;if(!o){this.warn("level.details undefined");return}if(!Object.keys(e.elementaryStreams).reduce((h,f)=>{const y=e.elementaryStreams[f];if(y){const m=y.endPTS-y.startPTS;if(m<=0)return this.warn(`Could not parse fragment ${e.sn} ${f} duration reliably (${m})`),h||!1;const p=r?0:dA(o,e,y.startPTS,y.endPTS,y.startDTS,y.endDTS,this);return this.hls.trigger(Ee.LEVEL_PTS_UPDATED,{details:o,level:n,drift:p,type:f,frag:e,start:y.startPTS,end:y.endPTS}),!0}return h},!1)){var d;const h=((d=this.transmuxer)==null?void 0:d.error)===null;if((n.fragmentError===0||h&&(n.fragmentError<2||e.endList))&&this.treatAsGap(e,n),h){const f=new Error(`Found no media in fragment ${e.sn} of ${this.playlistLabel()} ${e.level} resetting transmuxer to fallback to playlist timing`);if(this.warn(f.message),this.hls.trigger(Ee.ERROR,{type:Qn.MEDIA_ERROR,details:kt.FRAG_PARSING_ERROR,fatal:!1,error:f,frag:e,reason:`Found no media in msn ${e.sn} of ${this.playlistLabel()} "${n.url}"`}),!this.hls)return;this.resetTransmuxer()}}this.state=cn.PARSED,this.log(`Parsed ${e.type} sn: ${e.sn}${t?" part: "+t.index:""} of ${this.fragInfo(e,!1,t)})`),this.hls.trigger(Ee.FRAG_PARSED,{frag:e,part:t})}playlistLabel(){return this.playlistType===jn.MAIN?"level":"track"}fragInfo(e,t=!0,n){var r,o;return`${this.playlistLabel()} ${e.level} (${n?"part":"frag"}:[${((r=t&&!n?e.startPTS:(n||e).start)!=null?r:NaN).toFixed(3)}-${((o=t&&!n?e.endPTS:(n||e).end)!=null?o:NaN).toFixed(3)}]${n&&e.type==="main"?"INDEPENDENT="+(n.independent?"YES":"NO"):""}`}treatAsGap(e,t){t&&t.fragmentError++,e.gap=!0,this.fragmentTracker.removeFragment(e),this.fragmentTracker.fragBuffered(e,!0)}resetTransmuxer(){var e;(e=this.transmuxer)==null||e.reset()}recoverWorkerError(e){e.event==="demuxerWorker"&&(this.fragmentTracker.removeAllFragments(),this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null),this.resetStartWhenNotLoaded(),this.resetLoadingState())}set state(e){const t=this._state;t!==e&&(this._state=e,this.log(`${t}->${e}`))}get state(){return this._state}}function OT(i){return!!i.interstitialsController&&i.enableInterstitialPlayback!==!1}class EA{constructor(){this.chunks=[],this.dataLength=0}push(e){this.chunks.push(e),this.dataLength+=e.length}flush(){const{chunks:e,dataLength:t}=this;let n;if(e.length)e.length===1?n=e[0]:n=nL(e,t);else return new Uint8Array(0);return this.reset(),n}reset(){this.chunks.length=0,this.dataLength=0}}function nL(i,e){const t=new Uint8Array(e);let n=0;for(let r=0;r<i.length;r++){const o=i[r];t.set(o,n),n+=o.length}return t}var ib={exports:{}},MT;function rL(){return MT||(MT=1,function(i){var e=Object.prototype.hasOwnProperty,t="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(t=!1));function r(h,f,y){this.fn=h,this.context=f,this.once=y||!1}function o(h,f,y,m,p){if(typeof y!="function")throw new TypeError("The listener must be a function");var T=new r(y,m||h,p),v=t?t+f:f;return h._events[v]?h._events[v].fn?h._events[v]=[h._events[v],T]:h._events[v].push(T):(h._events[v]=T,h._eventsCount++),h}function u(h,f){--h._eventsCount===0?h._events=new n:delete h._events[f]}function d(){this._events=new n,this._eventsCount=0}d.prototype.eventNames=function(){var f=[],y,m;if(this._eventsCount===0)return f;for(m in y=this._events)e.call(y,m)&&f.push(t?m.slice(1):m);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(y)):f},d.prototype.listeners=function(f){var y=t?t+f:f,m=this._events[y];if(!m)return[];if(m.fn)return[m.fn];for(var p=0,T=m.length,v=new Array(T);p<T;p++)v[p]=m[p].fn;return v},d.prototype.listenerCount=function(f){var y=t?t+f:f,m=this._events[y];return m?m.fn?1:m.length:0},d.prototype.emit=function(f,y,m,p,T,v){var A=t?t+f:f;if(!this._events[A])return!1;var k=this._events[A],B=arguments.length,$,K;if(k.fn){switch(k.once&&this.removeListener(f,k.fn,void 0,!0),B){case 1:return k.fn.call(k.context),!0;case 2:return k.fn.call(k.context,y),!0;case 3:return k.fn.call(k.context,y,m),!0;case 4:return k.fn.call(k.context,y,m,p),!0;case 5:return k.fn.call(k.context,y,m,p,T),!0;case 6:return k.fn.call(k.context,y,m,p,T,v),!0}for(K=1,$=new Array(B-1);K<B;K++)$[K-1]=arguments[K];k.fn.apply(k.context,$)}else{var ue=k.length,me;for(K=0;K<ue;K++)switch(k[K].once&&this.removeListener(f,k[K].fn,void 0,!0),B){case 1:k[K].fn.call(k[K].context);break;case 2:k[K].fn.call(k[K].context,y);break;case 3:k[K].fn.call(k[K].context,y,m);break;case 4:k[K].fn.call(k[K].context,y,m,p);break;default:if(!$)for(me=1,$=new Array(B-1);me<B;me++)$[me-1]=arguments[me];k[K].fn.apply(k[K].context,$)}}return!0},d.prototype.on=function(f,y,m){return o(this,f,y,m,!1)},d.prototype.once=function(f,y,m){return o(this,f,y,m,!0)},d.prototype.removeListener=function(f,y,m,p){var T=t?t+f:f;if(!this._events[T])return this;if(!y)return u(this,T),this;var v=this._events[T];if(v.fn)v.fn===y&&(!p||v.once)&&(!m||v.context===m)&&u(this,T);else{for(var A=0,k=[],B=v.length;A<B;A++)(v[A].fn!==y||p&&!v[A].once||m&&v[A].context!==m)&&k.push(v[A]);k.length?this._events[T]=k.length===1?k[0]:k:u(this,T)}return this},d.prototype.removeAllListeners=function(f){var y;return f?(y=t?t+f:f,this._events[y]&&u(this,y)):(this._events=new n,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=t,d.EventEmitter=d,i.exports=d}(ib)),ib.exports}var iL=rL(),KE=kD(iL);const wh="1.6.15",Td={};function aL(){return typeof __HLS_WORKER_BUNDLE__=="function"}function sL(){const i=Td[wh];if(i)return i.clientCount++,i;const e=new self.Blob([`var exports={};var module={exports:exports};function define(f){f()};define.amd=true;(${__HLS_WORKER_BUNDLE__.toString()})(true);`],{type:"text/javascript"}),t=self.URL.createObjectURL(e),r={worker:new self.Worker(t),objectURL:t,clientCount:1};return Td[wh]=r,r}function oL(i){const e=Td[i];if(e)return e.clientCount++,e;const t=new self.URL(i,self.location.href).href,r={worker:new self.Worker(t),scriptURL:t,clientCount:1};return Td[i]=r,r}function lL(i){const e=Td[i||wh];if(e&&e.clientCount--===1){const{worker:n,objectURL:r}=e;delete Td[i||wh],r&&self.URL.revokeObjectURL(r),n.terminate()}}function vA(i,e){return e+10<=i.length&&i[e]===51&&i[e+1]===68&&i[e+2]===73&&i[e+3]<255&&i[e+4]<255&&i[e+6]<128&&i[e+7]<128&&i[e+8]<128&&i[e+9]<128}function YE(i,e){return e+10<=i.length&&i[e]===73&&i[e+1]===68&&i[e+2]===51&&i[e+3]<255&&i[e+4]<255&&i[e+6]<128&&i[e+7]<128&&i[e+8]<128&&i[e+9]<128}function Yp(i,e){let t=0;return t=(i[e]&127)<<21,t|=(i[e+1]&127)<<14,t|=(i[e+2]&127)<<7,t|=i[e+3]&127,t}function kh(i,e){const t=e;let n=0;for(;YE(i,e);){n+=10;const r=Yp(i,e+6);n+=r,vA(i,e+10)&&(n+=10),e+=n}if(n>0)return i.subarray(t,t+n)}function uL(i,e,t,n){const r=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],o=e[t+2],u=o>>2&15;if(u>12){const T=new Error(`invalid ADTS sampling index:${u}`);i.emit(Ee.ERROR,Ee.ERROR,{type:Qn.MEDIA_ERROR,details:kt.FRAG_PARSING_ERROR,fatal:!0,error:T,reason:T.message});return}const d=(o>>6&3)+1,h=e[t+3]>>6&3|(o&1)<<2,f="mp4a.40."+d,y=r[u];let m=u;(d===5||d===29)&&(m-=3);const p=[d<<3|(m&14)>>1,(m&1)<<7|h<<3];return Gr.log(`manifest codec:${n}, parsed codec:${f}, channels:${h}, rate:${y} (ADTS object type:${d} sampling index:${u})`),{config:p,samplerate:y,channelCount:h,codec:f,parsedCodec:f,manifestCodec:n}}function TA(i,e){return i[e]===255&&(i[e+1]&246)===240}function SA(i,e){return i[e+1]&1?7:9}function WE(i,e){return(i[e+3]&3)<<11|i[e+4]<<3|(i[e+5]&224)>>>5}function cL(i,e){return e+5<i.length}function _p(i,e){return e+1<i.length&&TA(i,e)}function dL(i,e){return cL(i,e)&&TA(i,e)&&WE(i,e)<=i.length-e}function fL(i,e){if(_p(i,e)){const t=SA(i,e);if(e+t>=i.length)return!1;const n=WE(i,e);if(n<=t)return!1;const r=e+n;return r===i.length||_p(i,r)}return!1}function _A(i,e,t,n,r){if(!i.samplerate){const o=uL(e,t,n,r);if(!o)return;Kr(i,o)}}function AA(i){return 1024*9e4/i}function hL(i,e){const t=SA(i,e);if(e+t<=i.length){const n=WE(i,e)-t;if(n>0)return{headerLength:t,frameLength:n}}}function RA(i,e,t,n,r){const o=AA(i.samplerate),u=n+r*o,d=hL(e,t);let h;if(d){const{frameLength:m,headerLength:p}=d,T=p+m,v=Math.max(0,t+T-e.length);v?(h=new Uint8Array(T-p),h.set(e.subarray(t+p,e.length),0)):h=e.subarray(t+p,t+T);const A={unit:h,pts:u};return v||i.samples.push(A),{sample:A,length:T,missing:v}}const f=e.length-t;return h=new Uint8Array(f),h.set(e.subarray(t,e.length),0),{sample:{unit:h,pts:u},length:f,missing:-1}}function gL(i,e){return YE(i,e)&&Yp(i,e+6)+10<=i.length-e}function mL(i){return i instanceof ArrayBuffer?i:i.byteOffset==0&&i.byteLength==i.buffer.byteLength?i.buffer:new Uint8Array(i).buffer}function ab(i,e=0,t=1/0){return pL(i,e,t,Uint8Array)}function pL(i,e,t,n){const r=yL(i);let o=1;"BYTES_PER_ELEMENT"in n&&(o=n.BYTES_PER_ELEMENT);const u=bL(i)?i.byteOffset:0,d=(u+i.byteLength)/o,h=(u+e)/o,f=Math.floor(Math.max(0,Math.min(h,d))),y=Math.floor(Math.min(f+Math.max(t,0),d));return new n(r,f,y-f)}function yL(i){return i instanceof ArrayBuffer?i:i.buffer}function bL(i){return i&&i.buffer instanceof ArrayBuffer&&i.byteLength!==void 0&&i.byteOffset!==void 0}function EL(i){const e={key:i.type,description:"",data:"",mimeType:null,pictureType:null},t=3;if(i.size<2)return;if(i.data[0]!==t){console.log("Ignore frame with unrecognized character encoding");return}const n=i.data.subarray(1).indexOf(0);if(n===-1)return;const r=Va(ab(i.data,1,n)),o=i.data[2+n],u=i.data.subarray(3+n).indexOf(0);if(u===-1)return;const d=Va(ab(i.data,3+n,u));let h;return r==="-->"?h=Va(ab(i.data,4+n+u)):h=mL(i.data.subarray(4+n+u)),e.mimeType=r,e.pictureType=o,e.description=d,e.data=h,e}function vL(i){if(i.size<2)return;const e=Va(i.data,!0),t=new Uint8Array(i.data.subarray(e.length+1));return{key:i.type,info:e,data:t.buffer}}function TL(i){if(i.size<2)return;if(i.type==="TXXX"){let t=1;const n=Va(i.data.subarray(t),!0);t+=n.length+1;const r=Va(i.data.subarray(t));return{key:i.type,info:n,data:r}}const e=Va(i.data.subarray(1));return{key:i.type,info:"",data:e}}function SL(i){if(i.type==="WXXX"){if(i.size<2)return;let t=1;const n=Va(i.data.subarray(t),!0);t+=n.length+1;const r=Va(i.data.subarray(t));return{key:i.type,info:n,data:r}}const e=Va(i.data);return{key:i.type,info:"",data:e}}function _L(i){return i.type==="PRIV"?vL(i):i.type[0]==="W"?SL(i):i.type==="APIC"?EL(i):TL(i)}function AL(i){const e=String.fromCharCode(i[0],i[1],i[2],i[3]),t=Yp(i,4),n=10;return{type:e,size:t,data:i.subarray(n,n+t)}}const Cm=10,RL=10;function xA(i){let e=0;const t=[];for(;YE(i,e);){const n=Yp(i,e+6);i[e+5]>>6&1&&(e+=Cm),e+=Cm;const r=e+n;for(;e+RL<r;){const o=AL(i.subarray(e)),u=_L(o);u&&t.push(u),e+=o.size+Cm}vA(i,e)&&(e+=Cm)}return t}function IA(i){return i&&i.key==="PRIV"&&i.info==="com.apple.streaming.transportStreamTimestamp"}function xL(i){if(i.data.byteLength===8){const e=new Uint8Array(i.data),t=e[3]&1;let n=(e[4]<<23)+(e[5]<<15)+(e[6]<<7)+e[7];return n/=45,t&&(n+=4772185884e-2),Math.round(n)}}function XE(i){const e=xA(i);for(let t=0;t<e.length;t++){const n=e[t];if(IA(n))return xL(n)}}let Ga=function(i){return i.audioId3="org.id3",i.dateRange="com.apple.quicktime.HLS",i.emsg="https://aomedia.org/emsg/ID3",i.misbklv="urn:misb:KLV:bin:1910.1",i}({});function Qs(i="",e=9e4){return{type:i,id:-1,pid:-1,inputTimeScale:e,sequenceNumber:-1,samples:[],dropped:0}}class QE{constructor(){this._audioTrack=void 0,this._id3Track=void 0,this.frameIndex=0,this.cachedData=null,this.basePTS=null,this.initPTS=null,this.lastPTS=null}resetInitSegment(e,t,n,r){this._id3Track={type:"id3",id:3,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}}resetTimeStamp(e){this.initPTS=e,this.resetContiguity()}resetContiguity(){this.basePTS=null,this.lastPTS=null,this.frameIndex=0}canParse(e,t){return!1}appendFrame(e,t,n){}demux(e,t){this.cachedData&&(e=cs(this.cachedData,e),this.cachedData=null);let n=kh(e,0),r=n?n.length:0,o;const u=this._audioTrack,d=this._id3Track,h=n?XE(n):void 0,f=e.length;for((this.basePTS===null||this.frameIndex===0&&Mn(h))&&(this.basePTS=IL(h,t,this.initPTS),this.lastPTS=this.basePTS),this.lastPTS===null&&(this.lastPTS=this.basePTS),n&&n.length>0&&d.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:n,type:Ga.audioId3,duration:Number.POSITIVE_INFINITY});r<f;){if(this.canParse(e,r)){const y=this.appendFrame(u,e,r);y?(this.frameIndex++,this.lastPTS=y.sample.pts,r+=y.length,o=r):r=f}else gL(e,r)?(n=kh(e,r),d.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:n,type:Ga.audioId3,duration:Number.POSITIVE_INFINITY}),r+=n.length,o=r):r++;if(r===f&&o!==f){const y=e.slice(o);this.cachedData?this.cachedData=cs(this.cachedData,y):this.cachedData=y}}return{audioTrack:u,videoTrack:Qs(),id3Track:d,textTrack:Qs()}}demuxSampleAes(e,t,n){return Promise.reject(new Error(`[${this}] This demuxer does not support Sample-AES decryption`))}flush(e){const t=this.cachedData;return t&&(this.cachedData=null,this.demux(t,0)),{audioTrack:this._audioTrack,videoTrack:Qs(),id3Track:this._id3Track,textTrack:Qs()}}destroy(){this.cachedData=null,this._audioTrack=this._id3Track=void 0}}const IL=(i,e,t)=>{if(Mn(i))return i*90;const n=t?t.baseTime*9e4/t.timescale:0;return e*9e4+n};let Dm=null;const wL=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],kL=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],CL=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],DL=[0,1,1,4];function wA(i,e,t,n,r){if(t+24>e.length)return;const o=kA(e,t);if(o&&t+o.frameLength<=e.length){const u=o.samplesPerFrame*9e4/o.sampleRate,d=n+r*u,h={unit:e.subarray(t,t+o.frameLength),pts:d,dts:d};return i.config=[],i.channelCount=o.channelCount,i.samplerate=o.sampleRate,i.samples.push(h),{sample:h,length:o.frameLength,missing:0}}}function kA(i,e){const t=i[e+1]>>3&3,n=i[e+1]>>1&3,r=i[e+2]>>4&15,o=i[e+2]>>2&3;if(t!==1&&r!==0&&r!==15&&o!==3){const u=i[e+2]>>1&1,d=i[e+3]>>6,h=t===3?3-n:n===3?3:4,f=wL[h*14+r-1]*1e3,m=kL[(t===3?0:t===2?1:2)*3+o],p=d===3?1:2,T=CL[t][n],v=DL[n],A=T*8*v,k=Math.floor(T*f/m+u)*v;if(Dm===null){const K=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);Dm=K?parseInt(K[1]):0}return!!Dm&&Dm<=87&&n===2&&f>=224e3&&d===0&&(i[e+3]=i[e+3]|128),{sampleRate:m,channelCount:p,frameLength:k,samplesPerFrame:A}}}function ZE(i,e){return i[e]===255&&(i[e+1]&224)===224&&(i[e+1]&6)!==0}function CA(i,e){return e+1<i.length&&ZE(i,e)}function LL(i,e){return ZE(i,e)&&4<=i.length-e}function DA(i,e){if(e+1<i.length&&ZE(i,e)){const n=kA(i,e);let r=4;n!=null&&n.frameLength&&(r=n.frameLength);const o=e+r;return o===i.length||CA(i,o)}return!1}class NL extends QE{constructor(e,t){super(),this.observer=void 0,this.config=void 0,this.observer=e,this.config=t}resetInitSegment(e,t,n,r){super.resetInitSegment(e,t,n,r),this._audioTrack={container:"audio/adts",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"aac",samples:[],manifestCodec:t,duration:r,inputTimeScale:9e4,dropped:0}}static probe(e,t){if(!e)return!1;const n=kh(e,0);let r=(n==null?void 0:n.length)||0;if(DA(e,r))return!1;for(let o=e.length;r<o;r++)if(fL(e,r))return t.log("ADTS sync word found !"),!0;return!1}canParse(e,t){return dL(e,t)}appendFrame(e,t,n){_A(e,this.observer,t,n,e.manifestCodec);const r=RA(e,t,n,this.basePTS,this.frameIndex);if(r&&r.missing===0)return r}}const LA=(i,e)=>{let t=0,n=5;e+=n;const r=new Uint32Array(1),o=new Uint32Array(1),u=new Uint8Array(1);for(;n>0;){u[0]=i[e];const d=Math.min(n,8),h=8-d;o[0]=4278190080>>>24+h<<h,r[0]=(u[0]&o[0])>>h,t=t?t<<d|r[0]:r[0],e+=1,n-=d}return t};class OL extends QE{constructor(e){super(),this.observer=void 0,this.observer=e}resetInitSegment(e,t,n,r){super.resetInitSegment(e,t,n,r),this._audioTrack={container:"audio/ac-3",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"ac3",samples:[],manifestCodec:t,duration:r,inputTimeScale:9e4,dropped:0}}canParse(e,t){return t+64<e.length}appendFrame(e,t,n){const r=NA(e,t,n,this.basePTS,this.frameIndex);if(r!==-1)return{sample:e.samples[e.samples.length-1],length:r,missing:0}}static probe(e){if(!e)return!1;const t=kh(e,0);if(!t)return!1;const n=t.length;return e[n]===11&&e[n+1]===119&&XE(t)!==void 0&&LA(e,n)<16}}function NA(i,e,t,n,r){if(t+8>e.length||e[t]!==11||e[t+1]!==119)return-1;const o=e[t+4]>>6;if(o>=3)return-1;const d=[48e3,44100,32e3][o],h=e[t+4]&63,y=[64,69,96,64,70,96,80,87,120,80,88,120,96,104,144,96,105,144,112,121,168,112,122,168,128,139,192,128,140,192,160,174,240,160,175,240,192,208,288,192,209,288,224,243,336,224,244,336,256,278,384,256,279,384,320,348,480,320,349,480,384,417,576,384,418,576,448,487,672,448,488,672,512,557,768,512,558,768,640,696,960,640,697,960,768,835,1152,768,836,1152,896,975,1344,896,976,1344,1024,1114,1536,1024,1115,1536,1152,1253,1728,1152,1254,1728,1280,1393,1920,1280,1394,1920][h*3+o]*2;if(t+y>e.length)return-1;const m=e[t+6]>>5;let p=0;m===2?p+=2:(m&1&&m!==1&&(p+=2),m&4&&(p+=2));const T=(e[t+6]<<8|e[t+7])>>12-p&1,A=[2,1,2,3,3,4,4,5][m]+T,k=e[t+5]>>3,B=e[t+5]&7,$=new Uint8Array([o<<6|k<<1|B>>2,(B&3)<<6|m<<3|T<<2|h>>4,h<<4&224]),K=1536/d*9e4,ue=n+r*K,me=e.subarray(t,t+y);return i.config=$,i.channelCount=A,i.samplerate=d,i.samples.push({unit:me,pts:ue}),y}class ML extends QE{resetInitSegment(e,t,n,r){super.resetInitSegment(e,t,n,r),this._audioTrack={container:"audio/mpeg",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"mp3",samples:[],manifestCodec:t,duration:r,inputTimeScale:9e4,dropped:0}}static probe(e){if(!e)return!1;const t=kh(e,0);let n=(t==null?void 0:t.length)||0;if(t&&e[n]===11&&e[n+1]===119&&XE(t)!==void 0&&LA(e,n)<=16)return!1;for(let r=e.length;n<r;n++)if(DA(e,n))return Gr.log("MPEG Audio sync word found !"),!0;return!1}canParse(e,t){return LL(e,t)}appendFrame(e,t,n){if(this.basePTS!==null)return wA(e,t,n,this.basePTS,this.frameIndex)}}const PL=/\/emsg[-/]ID3/i;class zL{constructor(e,t){this.remainderData=null,this.timeOffset=0,this.config=void 0,this.videoTrack=void 0,this.audioTrack=void 0,this.id3Track=void 0,this.txtTrack=void 0,this.config=t}resetTimeStamp(){}resetInitSegment(e,t,n,r){const o=this.videoTrack=Qs("video",1),u=this.audioTrack=Qs("audio",1),d=this.txtTrack=Qs("text",1);if(this.id3Track=Qs("id3",1),this.timeOffset=0,!(e!=null&&e.byteLength))return;const h=G_(e);if(h.video){const{id:f,timescale:y,codec:m,supplemental:p}=h.video;o.id=f,o.timescale=d.timescale=y,o.codec=m,o.supplemental=p}if(h.audio){const{id:f,timescale:y,codec:m}=h.audio;u.id=f,u.timescale=y,u.codec=m}d.id=B_.text,o.sampleDuration=0,o.duration=u.duration=r}resetContiguity(){this.remainderData=null}static probe(e){return OD(e)}demux(e,t){this.timeOffset=t;let n=e;const r=this.videoTrack,o=this.txtTrack;if(this.config.progressive){this.remainderData&&(n=cs(this.remainderData,e));const d=jD(n);this.remainderData=d.remainder,r.samples=d.valid||new Uint8Array}else r.samples=n;const u=this.extractID3Track(r,t);return o.samples=Jv(t,r),{videoTrack:r,audioTrack:this.audioTrack,id3Track:u,textTrack:this.txtTrack}}flush(){const e=this.timeOffset,t=this.videoTrack,n=this.txtTrack;t.samples=this.remainderData||new Uint8Array,this.remainderData=null;const r=this.extractID3Track(t,this.timeOffset);return n.samples=Jv(e,t),{videoTrack:t,audioTrack:Qs(),id3Track:r,textTrack:Qs()}}extractID3Track(e,t){const n=this.id3Track;if(e.samples.length){const r=Er(e.samples,["emsg"]);r&&r.forEach(o=>{const u=GD(o);if(PL.test(u.schemeIdUri)){const d=PT(u,t);let h=u.eventDuration===4294967295?Number.POSITIVE_INFINITY:u.eventDuration/u.timeScale;h<=.001&&(h=Number.POSITIVE_INFINITY);const f=u.payload;n.samples.push({data:f,len:f.byteLength,dts:d,pts:d,type:Ga.emsg,duration:h})}else if(this.config.enableEmsgKLVMetadata&&u.schemeIdUri.startsWith("urn:misb:KLV:bin:1910.1")){const d=PT(u,t);n.samples.push({data:u.payload,len:u.payload.byteLength,dts:d,pts:d,type:Ga.misbklv,duration:Number.POSITIVE_INFINITY})}})}return n}demuxSampleAes(e,t,n){return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))}destroy(){this.config=null,this.remainderData=null,this.videoTrack=this.audioTrack=this.id3Track=this.txtTrack=void 0}}function PT(i,e){return Mn(i.presentationTime)?i.presentationTime/i.timeScale:e+i.presentationTimeDelta/i.timeScale}class FL{constructor(e,t,n){this.keyData=void 0,this.decrypter=void 0,this.keyData=n,this.decrypter=new qE(t,{removePKCS7Padding:!1})}decryptBuffer(e){return this.decrypter.decrypt(e,this.keyData.key.buffer,this.keyData.iv.buffer,Nl.cbc)}decryptAacSample(e,t,n){const r=e[t].unit;if(r.length<=16)return;const o=r.subarray(16,r.length-r.length%16),u=o.buffer.slice(o.byteOffset,o.byteOffset+o.length);this.decryptBuffer(u).then(d=>{const h=new Uint8Array(d);r.set(h,16),this.decrypter.isSync()||this.decryptAacSamples(e,t+1,n)}).catch(n)}decryptAacSamples(e,t,n){for(;;t++){if(t>=e.length){n();return}if(!(e[t].unit.length<32)&&(this.decryptAacSample(e,t,n),!this.decrypter.isSync()))return}}getAvcEncryptedData(e){const t=Math.floor((e.length-48)/160)*16+16,n=new Int8Array(t);let r=0;for(let o=32;o<e.length-16;o+=160,r+=16)n.set(e.subarray(o,o+16),r);return n}getAvcDecryptedUnit(e,t){const n=new Uint8Array(t);let r=0;for(let o=32;o<e.length-16;o+=160,r+=16)e.set(n.subarray(r,r+16),o);return e}decryptAvcSample(e,t,n,r,o){const u=V_(o.data),d=this.getAvcEncryptedData(u);this.decryptBuffer(d.buffer).then(h=>{o.data=this.getAvcDecryptedUnit(u,h),this.decrypter.isSync()||this.decryptAvcSamples(e,t,n+1,r)}).catch(r)}decryptAvcSamples(e,t,n,r){if(e instanceof Uint8Array)throw new Error("Cannot decrypt samples of type Uint8Array");for(;;t++,n=0){if(t>=e.length){r();return}const o=e[t].units;for(;!(n>=o.length);n++){const u=o[n];if(!(u.data.length<=48||u.type!==1&&u.type!==5)&&(this.decryptAvcSample(e,t,n,r,u),!this.decrypter.isSync()))return}}}}class OA{constructor(){this.VideoSample=null}createVideoSample(e,t,n){return{key:e,frame:!1,pts:t,dts:n,units:[],length:0}}getLastNalUnit(e){var t;let n=this.VideoSample,r;if((!n||n.units.length===0)&&(n=e[e.length-1]),(t=n)!=null&&t.units){const o=n.units;r=o[o.length-1]}return r}pushAccessUnit(e,t){if(e.units.length&&e.frame){if(e.pts===void 0){const n=t.samples,r=n.length;if(r){const o=n[r-1];e.pts=o.pts,e.dts=o.dts}else{t.dropped++;return}}t.samples.push(e)}}parseNALu(e,t,n){const r=t.byteLength;let o=e.naluState||0;const u=o,d=[];let h=0,f,y,m,p=-1,T=0;for(o===-1&&(p=0,T=this.getNALuType(t,0),o=0,h=1);h<r;){if(f=t[h++],!o){o=f?0:1;continue}if(o===1){o=f?0:2;continue}if(!f)o=3;else if(f===1){if(y=h-o-1,p>=0){const v={data:t.subarray(p,y),type:T};d.push(v)}else{const v=this.getLastNalUnit(e.samples);v&&(u&&h<=4-u&&v.state&&(v.data=v.data.subarray(0,v.data.byteLength-u)),y>0&&(v.data=cs(v.data,t.subarray(0,y)),v.state=0))}h<r?(m=this.getNALuType(t,h),p=h,T=m,o=0):o=-1}else o=0}if(p>=0&&o>=0){const v={data:t.subarray(p,r),type:T,state:o};d.push(v)}if(d.length===0){const v=this.getLastNalUnit(e.samples);v&&(v.data=cs(v.data,t))}return e.naluState=o,d}}class bh{constructor(e){this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=e,this.bytesAvailable=e.byteLength,this.word=0,this.bitsAvailable=0}loadWord(){const e=this.data,t=this.bytesAvailable,n=e.byteLength-t,r=new Uint8Array(4),o=Math.min(4,t);if(o===0)throw new Error("no bytes available");r.set(e.subarray(n,n+o)),this.word=new DataView(r.buffer).getUint32(0),this.bitsAvailable=o*8,this.bytesAvailable-=o}skipBits(e){let t;e=Math.min(e,this.bytesAvailable*8+this.bitsAvailable),this.bitsAvailable>e?(this.word<<=e,this.bitsAvailable-=e):(e-=this.bitsAvailable,t=e>>3,e-=t<<3,this.bytesAvailable-=t,this.loadWord(),this.word<<=e,this.bitsAvailable-=e)}readBits(e){let t=Math.min(this.bitsAvailable,e);const n=this.word>>>32-t;if(e>32&&Gr.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=t,this.bitsAvailable>0)this.word<<=t;else if(this.bytesAvailable>0)this.loadWord();else throw new Error("no bits available");return t=e-t,t>0&&this.bitsAvailable?n<<t|this.readBits(t):n}skipLZ(){let e;for(e=0;e<this.bitsAvailable;++e)if((this.word&2147483648>>>e)!==0)return this.word<<=e,this.bitsAvailable-=e,e;return this.loadWord(),e+this.skipLZ()}skipUEG(){this.skipBits(1+this.skipLZ())}skipEG(){this.skipBits(1+this.skipLZ())}readUEG(){const e=this.skipLZ();return this.readBits(e+1)-1}readEG(){const e=this.readUEG();return 1&e?1+e>>>1:-1*(e>>>1)}readBoolean(){return this.readBits(1)===1}readUByte(){return this.readBits(8)}readUShort(){return this.readBits(16)}readUInt(){return this.readBits(32)}}class UL extends OA{parsePES(e,t,n,r){const o=this.parseNALu(e,n.data,r);let u=this.VideoSample,d,h=!1;n.data=null,u&&o.length&&!e.audFound&&(this.pushAccessUnit(u,e),u=this.VideoSample=this.createVideoSample(!1,n.pts,n.dts)),o.forEach(f=>{var y,m;switch(f.type){case 1:{let A=!1;d=!0;const k=f.data;if(h&&k.length>4){const B=this.readSliceType(k);(B===2||B===4||B===7||B===9)&&(A=!0)}if(A){var p;(p=u)!=null&&p.frame&&!u.key&&(this.pushAccessUnit(u,e),u=this.VideoSample=null)}u||(u=this.VideoSample=this.createVideoSample(!0,n.pts,n.dts)),u.frame=!0,u.key=A;break}case 5:d=!0,(y=u)!=null&&y.frame&&!u.key&&(this.pushAccessUnit(u,e),u=this.VideoSample=null),u||(u=this.VideoSample=this.createVideoSample(!0,n.pts,n.dts)),u.key=!0,u.frame=!0;break;case 6:{d=!0,FE(f.data,1,n.pts,t.samples);break}case 7:{var T,v;d=!0,h=!0;const A=f.data,k=this.readSPS(A);if(!e.sps||e.width!==k.width||e.height!==k.height||((T=e.pixelRatio)==null?void 0:T[0])!==k.pixelRatio[0]||((v=e.pixelRatio)==null?void 0:v[1])!==k.pixelRatio[1]){e.width=k.width,e.height=k.height,e.pixelRatio=k.pixelRatio,e.sps=[A];const B=A.subarray(1,4);let $="avc1.";for(let K=0;K<3;K++){let ue=B[K].toString(16);ue.length<2&&(ue="0"+ue),$+=ue}e.codec=$}break}case 8:d=!0,e.pps=[f.data];break;case 9:d=!0,e.audFound=!0,(m=u)!=null&&m.frame&&(this.pushAccessUnit(u,e),u=null),u||(u=this.VideoSample=this.createVideoSample(!1,n.pts,n.dts));break;case 12:d=!0;break;default:d=!1;break}u&&d&&u.units.push(f)}),r&&u&&(this.pushAccessUnit(u,e),this.VideoSample=null)}getNALuType(e,t){return e[t]&31}readSliceType(e){const t=new bh(e);return t.readUByte(),t.readUEG(),t.readUEG()}skipScalingList(e,t){let n=8,r=8,o;for(let u=0;u<e;u++)r!==0&&(o=t.readEG(),r=(n+o+256)%256),n=r===0?n:r}readSPS(e){const t=new bh(e);let n=0,r=0,o=0,u=0,d,h,f;const y=t.readUByte.bind(t),m=t.readBits.bind(t),p=t.readUEG.bind(t),T=t.readBoolean.bind(t),v=t.skipBits.bind(t),A=t.skipEG.bind(t),k=t.skipUEG.bind(t),B=this.skipScalingList.bind(this);y();const $=y();if(m(5),v(3),y(),k(),$===100||$===110||$===122||$===244||$===44||$===83||$===86||$===118||$===128){const Q=p();if(Q===3&&v(1),k(),k(),v(1),T())for(h=Q!==3?8:12,f=0;f<h;f++)T()&&(f<6?B(16,t):B(64,t))}k();const K=p();if(K===0)p();else if(K===1)for(v(1),A(),A(),d=p(),f=0;f<d;f++)A();k(),v(1);const ue=p(),me=p(),Te=m(1);Te===0&&v(1),v(1),T()&&(n=p(),r=p(),o=p(),u=p());let X=[1,1];if(T()&&T())switch(y()){case 1:X=[1,1];break;case 2:X=[12,11];break;case 3:X=[10,11];break;case 4:X=[16,11];break;case 5:X=[40,33];break;case 6:X=[24,11];break;case 7:X=[20,11];break;case 8:X=[32,11];break;case 9:X=[80,33];break;case 10:X=[18,11];break;case 11:X=[15,11];break;case 12:X=[64,33];break;case 13:X=[160,99];break;case 14:X=[4,3];break;case 15:X=[3,2];break;case 16:X=[2,1];break;case 255:{X=[y()<<8|y(),y()<<8|y()];break}}return{width:Math.ceil((ue+1)*16-n*2-r*2),height:(2-Te)*(me+1)*16-(Te?2:4)*(o+u),pixelRatio:X}}}class BL extends OA{constructor(...e){super(...e),this.initVPS=null}parsePES(e,t,n,r){const o=this.parseNALu(e,n.data,r);let u=this.VideoSample,d,h=!1;n.data=null,u&&o.length&&!e.audFound&&(this.pushAccessUnit(u,e),u=this.VideoSample=this.createVideoSample(!1,n.pts,n.dts)),o.forEach(f=>{var y,m;switch(f.type){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:u||(u=this.VideoSample=this.createVideoSample(!1,n.pts,n.dts)),u.frame=!0,d=!0;break;case 16:case 17:case 18:case 21:if(d=!0,h){var p;(p=u)!=null&&p.frame&&!u.key&&(this.pushAccessUnit(u,e),u=this.VideoSample=null)}u||(u=this.VideoSample=this.createVideoSample(!0,n.pts,n.dts)),u.key=!0,u.frame=!0;break;case 19:case 20:d=!0,(y=u)!=null&&y.frame&&!u.key&&(this.pushAccessUnit(u,e),u=this.VideoSample=null),u||(u=this.VideoSample=this.createVideoSample(!0,n.pts,n.dts)),u.key=!0,u.frame=!0;break;case 39:d=!0,FE(f.data,2,n.pts,t.samples);break;case 32:d=!0,e.vps||(typeof e.params!="object"&&(e.params={}),e.params=Kr(e.params,this.readVPS(f.data)),this.initVPS=f.data),e.vps=[f.data];break;case 33:if(d=!0,h=!0,e.vps!==void 0&&e.vps[0]!==this.initVPS&&e.sps!==void 0&&!this.matchSPS(e.sps[0],f.data)&&(this.initVPS=e.vps[0],e.sps=e.pps=void 0),!e.sps){const T=this.readSPS(f.data);e.width=T.width,e.height=T.height,e.pixelRatio=T.pixelRatio,e.codec=T.codecString,e.sps=[],typeof e.params!="object"&&(e.params={});for(const v in T.params)e.params[v]=T.params[v]}this.pushParameterSet(e.sps,f.data,e.vps),u||(u=this.VideoSample=this.createVideoSample(!0,n.pts,n.dts)),u.key=!0;break;case 34:if(d=!0,typeof e.params=="object"){if(!e.pps){e.pps=[];const T=this.readPPS(f.data);for(const v in T)e.params[v]=T[v]}this.pushParameterSet(e.pps,f.data,e.vps)}break;case 35:d=!0,e.audFound=!0,(m=u)!=null&&m.frame&&(this.pushAccessUnit(u,e),u=null),u||(u=this.VideoSample=this.createVideoSample(!1,n.pts,n.dts));break;default:d=!1;break}u&&d&&u.units.push(f)}),r&&u&&(this.pushAccessUnit(u,e),this.VideoSample=null)}pushParameterSet(e,t,n){(n&&n[0]===this.initVPS||!n&&!e.length)&&e.push(t)}getNALuType(e,t){return(e[t]&126)>>>1}ebsp2rbsp(e){const t=new Uint8Array(e.byteLength);let n=0;for(let r=0;r<e.byteLength;r++)r>=2&&e[r]===3&&e[r-1]===0&&e[r-2]===0||(t[n]=e[r],n++);return new Uint8Array(t.buffer,0,n)}pushAccessUnit(e,t){super.pushAccessUnit(e,t),this.initVPS&&(this.initVPS=null)}readVPS(e){const t=new bh(e);t.readUByte(),t.readUByte(),t.readBits(4),t.skipBits(2),t.readBits(6);const n=t.readBits(3),r=t.readBoolean();return{numTemporalLayers:n+1,temporalIdNested:r}}readSPS(e){const t=new bh(this.ebsp2rbsp(e));t.readUByte(),t.readUByte(),t.readBits(4);const n=t.readBits(3);t.readBoolean();const r=t.readBits(2),o=t.readBoolean(),u=t.readBits(5),d=t.readUByte(),h=t.readUByte(),f=t.readUByte(),y=t.readUByte(),m=t.readUByte(),p=t.readUByte(),T=t.readUByte(),v=t.readUByte(),A=t.readUByte(),k=t.readUByte(),B=t.readUByte(),$=[],K=[];for(let Xe=0;Xe<n;Xe++)$.push(t.readBoolean()),K.push(t.readBoolean());if(n>0)for(let Xe=n;Xe<8;Xe++)t.readBits(2);for(let Xe=0;Xe<n;Xe++)$[Xe]&&(t.readUByte(),t.readUByte(),t.readUByte(),t.readUByte(),t.readUByte(),t.readUByte(),t.readUByte(),t.readUByte(),t.readUByte(),t.readUByte(),t.readUByte()),K[Xe]&&t.readUByte();t.readUEG();const ue=t.readUEG();ue==3&&t.skipBits(1);const me=t.readUEG(),Te=t.readUEG(),X=t.readBoolean();let Q=0,be=0,F=0,ke=0;X&&(Q+=t.readUEG(),be+=t.readUEG(),F+=t.readUEG(),ke+=t.readUEG());const Qe=t.readUEG(),xe=t.readUEG(),Ye=t.readUEG(),Ge=t.readBoolean();for(let Xe=Ge?0:n;Xe<=n;Xe++)t.skipUEG(),t.skipUEG(),t.skipUEG();if(t.skipUEG(),t.skipUEG(),t.skipUEG(),t.skipUEG(),t.skipUEG(),t.skipUEG(),t.readBoolean()&&t.readBoolean())for(let Ze=0;Ze<4;Ze++)for(let We=0;We<(Ze===3?2:6);We++)if(!t.readBoolean())t.readUEG();else{const vt=Math.min(64,1<<4+(Ze<<1));Ze>1&&t.readEG();for(let yt=0;yt<vt;yt++)t.readEG()}t.readBoolean(),t.readBoolean(),t.readBoolean()&&(t.readUByte(),t.skipUEG(),t.skipUEG(),t.readBoolean());const Je=t.readUEG();let tt=0;for(let Xe=0;Xe<Je;Xe++){let Ze=!1;if(Xe!==0&&(Ze=t.readBoolean()),Ze){Xe===Je&&t.readUEG(),t.readBoolean(),t.readUEG();let We=0;for(let rt=0;rt<=tt;rt++){const vt=t.readBoolean();let yt=!1;vt||(yt=t.readBoolean()),(vt||yt)&&We++}tt=We}else{const We=t.readUEG(),rt=t.readUEG();tt=We+rt;for(let vt=0;vt<We;vt++)t.readUEG(),t.readBoolean();for(let vt=0;vt<rt;vt++)t.readUEG(),t.readBoolean()}}if(t.readBoolean()){const Xe=t.readUEG();for(let Ze=0;Ze<Xe;Ze++){for(let We=0;We<Ye+4;We++)t.readBits(1);t.readBits(1)}}let qe=0,et=1,pt=1,jt=!0,Fe=1,Ne=0;t.readBoolean(),t.readBoolean();let bt=!1;if(t.readBoolean()){if(t.readBoolean()){const ht=t.readUByte(),Sn=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2],tn=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1];ht>0&&ht<16?(et=Sn[ht-1],pt=tn[ht-1]):ht===255&&(et=t.readBits(16),pt=t.readBits(16))}if(t.readBoolean()&&t.readBoolean(),t.readBoolean()&&(t.readBits(3),t.readBoolean(),t.readBoolean()&&(t.readUByte(),t.readUByte(),t.readUByte())),t.readBoolean()&&(t.readUEG(),t.readUEG()),t.readBoolean(),t.readBoolean(),t.readBoolean(),bt=t.readBoolean(),bt&&(t.skipUEG(),t.skipUEG(),t.skipUEG(),t.skipUEG()),t.readBoolean()&&(Fe=t.readBits(32),Ne=t.readBits(32),t.readBoolean()&&t.readUEG(),t.readBoolean())){const tn=t.readBoolean(),ft=t.readBoolean();let dt=!1;(tn||ft)&&(dt=t.readBoolean(),dt&&(t.readUByte(),t.readBits(5),t.readBoolean(),t.readBits(5)),t.readBits(4),t.readBits(4),dt&&t.readBits(4),t.readBits(5),t.readBits(5),t.readBits(5));for(let nn=0;nn<=n;nn++){jt=t.readBoolean();const Cn=jt||t.readBoolean();let Pn=!1;Cn?t.readEG():Pn=t.readBoolean();const Dn=Pn?1:t.readUEG()+1;if(tn)for(let Kn=0;Kn<Dn;Kn++)t.readUEG(),t.readUEG(),dt&&(t.readUEG(),t.readUEG()),t.skipBits(1);if(ft)for(let Kn=0;Kn<Dn;Kn++)t.readUEG(),t.readUEG(),dt&&(t.readUEG(),t.readUEG()),t.skipBits(1)}}t.readBoolean()&&(t.readBoolean(),t.readBoolean(),t.readBoolean(),qe=t.readUEG())}let ne=me,L=Te;if(X){let Xe=1,Ze=1;ue===1?Xe=Ze=2:ue==2&&(Xe=2),ne=me-Xe*be-Xe*Q,L=Te-Ze*ke-Ze*F}const j=r?["A","B","C"][r]:"",pe=d<<24|h<<16|f<<8|y;let ie=0;for(let Xe=0;Xe<32;Xe++)ie=(ie|(pe>>Xe&1)<<31-Xe)>>>0;let He=ie.toString(16);return u===1&&He==="2"&&(He="6"),{codecString:`hvc1.${j}${u}.${He}.${o?"H":"L"}${B}.B0`,params:{general_tier_flag:o,general_profile_idc:u,general_profile_space:r,general_profile_compatibility_flags:[d,h,f,y],general_constraint_indicator_flags:[m,p,T,v,A,k],general_level_idc:B,bit_depth:Qe+8,bit_depth_luma_minus8:Qe,bit_depth_chroma_minus8:xe,min_spatial_segmentation_idc:qe,chroma_format_idc:ue,frame_rate:{fixed:jt,fps:Ne/Fe}},width:ne,height:L,pixelRatio:[et,pt]}}readPPS(e){const t=new bh(this.ebsp2rbsp(e));t.readUByte(),t.readUByte(),t.skipUEG(),t.skipUEG(),t.skipBits(2),t.skipBits(3),t.skipBits(2),t.skipUEG(),t.skipUEG(),t.skipEG(),t.skipBits(2),t.readBoolean()&&t.skipUEG(),t.skipEG(),t.skipEG(),t.skipBits(4);const r=t.readBoolean(),o=t.readBoolean();let u=1;return o&&r?u=0:o?u=3:r&&(u=2),{parallelismType:u}}matchSPS(e,t){return String.fromCharCode.apply(null,e).substr(3)===String.fromCharCode.apply(null,t).substr(3)}}const Bi=188;class Il{constructor(e,t,n,r){this.logger=void 0,this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this._pmtId=-1,this._videoTrack=void 0,this._audioTrack=void 0,this._id3Track=void 0,this._txtTrack=void 0,this.aacOverFlow=null,this.remainderData=null,this.videoParser=void 0,this.observer=e,this.config=t,this.typeSupported=n,this.logger=r,this.videoParser=null}static probe(e,t){const n=Il.syncOffset(e);return n>0&&t.warn(`MPEG2-TS detected but first sync word found @ offset ${n}`),n!==-1}static syncOffset(e){const t=e.length;let n=Math.min(Bi*5,t-Bi)+1,r=0;for(;r<n;){let o=!1,u=-1,d=0;for(let h=r;h<t;h+=Bi)if(e[h]===71&&(t-h===Bi||e[h+Bi]===71)){if(d++,u===-1&&(u=h,u!==0&&(n=Math.min(u+Bi*99,e.length-Bi)+1)),o||(o=Wb(e,h)===0),o&&d>1&&(u===0&&d>2||h+Bi>n))return u}else{if(d)return-1;break}r++}return-1}static createTrack(e,t){return{container:e==="video"||e==="audio"?"video/mp2t":void 0,type:e,id:B_[e],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:e==="audio"?t:void 0}}resetInitSegment(e,t,n,r){this.pmtParsed=!1,this._pmtId=-1,this._videoTrack=Il.createTrack("video"),this._videoTrack.duration=r,this._audioTrack=Il.createTrack("audio",r),this._id3Track=Il.createTrack("id3"),this._txtTrack=Il.createTrack("text"),this._audioTrack.segmentCodec="aac",this.videoParser=null,this.aacOverFlow=null,this.remainderData=null,this.audioCodec=t,this.videoCodec=n}resetTimeStamp(){}resetContiguity(){const{_audioTrack:e,_videoTrack:t,_id3Track:n}=this;e&&(e.pesData=null),t&&(t.pesData=null),n&&(n.pesData=null),this.aacOverFlow=null,this.remainderData=null}demux(e,t,n=!1,r=!1){n||(this.sampleAes=null);let o;const u=this._videoTrack,d=this._audioTrack,h=this._id3Track,f=this._txtTrack;let y=u.pid,m=u.pesData,p=d.pid,T=h.pid,v=d.pesData,A=h.pesData,k=null,B=this.pmtParsed,$=this._pmtId,K=e.length;if(this.remainderData&&(e=cs(this.remainderData,e),K=e.length,this.remainderData=null),K<Bi&&!r)return this.remainderData=e,{audioTrack:d,videoTrack:u,id3Track:h,textTrack:f};const ue=Math.max(0,Il.syncOffset(e));K-=(K-ue)%Bi,K<e.byteLength&&!r&&(this.remainderData=new Uint8Array(e.buffer,K,e.buffer.byteLength-K));let me=0;for(let X=ue;X<K;X+=Bi)if(e[X]===71){const Q=!!(e[X+1]&64),be=Wb(e,X),F=(e[X+3]&48)>>4;let ke;if(F>1){if(ke=X+5+e[X+4],ke===X+Bi)continue}else ke=X+4;switch(be){case y:Q&&(m&&(o=td(m,this.logger))&&(this.readyVideoParser(u.segmentCodec),this.videoParser!==null&&this.videoParser.parsePES(u,f,o,!1)),m={data:[],size:0}),m&&(m.data.push(e.subarray(ke,X+Bi)),m.size+=X+Bi-ke);break;case p:if(Q){if(v&&(o=td(v,this.logger)))switch(d.segmentCodec){case"aac":this.parseAACPES(d,o);break;case"mp3":this.parseMPEGPES(d,o);break;case"ac3":this.parseAC3PES(d,o);break}v={data:[],size:0}}v&&(v.data.push(e.subarray(ke,X+Bi)),v.size+=X+Bi-ke);break;case T:Q&&(A&&(o=td(A,this.logger))&&this.parseID3PES(h,o),A={data:[],size:0}),A&&(A.data.push(e.subarray(ke,X+Bi)),A.size+=X+Bi-ke);break;case 0:Q&&(ke+=e[ke]+1),$=this._pmtId=jL(e,ke);break;case $:{Q&&(ke+=e[ke]+1);const Qe=qL(e,ke,this.typeSupported,n,this.observer,this.logger);y=Qe.videoPid,y>0&&(u.pid=y,u.segmentCodec=Qe.segmentVideoCodec),p=Qe.audioPid,p>0&&(d.pid=p,d.segmentCodec=Qe.segmentAudioCodec),T=Qe.id3Pid,T>0&&(h.pid=T),k!==null&&!B&&(this.logger.warn(`MPEG-TS PMT found at ${X} after unknown PID '${k}'. Backtracking to sync byte @${ue} to parse all TS packets.`),k=null,X=ue-188),B=this.pmtParsed=!0;break}case 17:case 8191:break;default:k=be;break}}else me++;me>0&&Xb(this.observer,new Error(`Found ${me} TS packet/s that do not start with 0x47`),void 0,this.logger),u.pesData=m,d.pesData=v,h.pesData=A;const Te={audioTrack:d,videoTrack:u,id3Track:h,textTrack:f};return r&&this.extractRemainingSamples(Te),Te}flush(){const{remainderData:e}=this;this.remainderData=null;let t;return e?t=this.demux(e,-1,!1,!0):t={videoTrack:this._videoTrack,audioTrack:this._audioTrack,id3Track:this._id3Track,textTrack:this._txtTrack},this.extractRemainingSamples(t),this.sampleAes?this.decrypt(t,this.sampleAes):t}extractRemainingSamples(e){const{audioTrack:t,videoTrack:n,id3Track:r,textTrack:o}=e,u=n.pesData,d=t.pesData,h=r.pesData;let f;if(u&&(f=td(u,this.logger))?(this.readyVideoParser(n.segmentCodec),this.videoParser!==null&&(this.videoParser.parsePES(n,o,f,!0),n.pesData=null)):n.pesData=u,d&&(f=td(d,this.logger))){switch(t.segmentCodec){case"aac":this.parseAACPES(t,f);break;case"mp3":this.parseMPEGPES(t,f);break;case"ac3":this.parseAC3PES(t,f);break}t.pesData=null}else d!=null&&d.size&&this.logger.log("last AAC PES packet truncated,might overlap between fragments"),t.pesData=d;h&&(f=td(h,this.logger))?(this.parseID3PES(r,f),r.pesData=null):r.pesData=h}demuxSampleAes(e,t,n){const r=this.demux(e,n,!0,!this.config.progressive),o=this.sampleAes=new FL(this.observer,this.config,t);return this.decrypt(r,o)}readyVideoParser(e){this.videoParser===null&&(e==="avc"?this.videoParser=new UL:e==="hevc"&&(this.videoParser=new BL))}decrypt(e,t){return new Promise(n=>{const{audioTrack:r,videoTrack:o}=e;r.samples&&r.segmentCodec==="aac"?t.decryptAacSamples(r.samples,0,()=>{o.samples?t.decryptAvcSamples(o.samples,0,0,()=>{n(e)}):n(e)}):o.samples&&t.decryptAvcSamples(o.samples,0,0,()=>{n(e)})})}destroy(){this.observer&&this.observer.removeAllListeners(),this.config=this.logger=this.observer=null,this.aacOverFlow=this.videoParser=this.remainderData=this.sampleAes=null,this._videoTrack=this._audioTrack=this._id3Track=this._txtTrack=void 0}parseAACPES(e,t){let n=0;const r=this.aacOverFlow;let o=t.data;if(r){this.aacOverFlow=null;const m=r.missing,p=r.sample.unit.byteLength;if(m===-1)o=cs(r.sample.unit,o);else{const T=p-m;r.sample.unit.set(o.subarray(0,m),T),e.samples.push(r.sample),n=r.missing}}let u,d;for(u=n,d=o.length;u<d-1&&!_p(o,u);u++);if(u!==n){let m;const p=u<d-1;if(p?m=`AAC PES did not start with ADTS header,offset:${u}`:m="No ADTS header found in AAC PES",Xb(this.observer,new Error(m),p,this.logger),!p)return}_A(e,this.observer,o,u,this.audioCodec);let h;if(t.pts!==void 0)h=t.pts;else if(r){const m=AA(e.samplerate);h=r.sample.pts+m}else{this.logger.warn("[tsdemuxer]: AAC PES unknown PTS");return}let f=0,y;for(;u<d;)if(y=RA(e,o,u,h,f),u+=y.length,y.missing){this.aacOverFlow=y;break}else for(f++;u<d-1&&!_p(o,u);u++);}parseMPEGPES(e,t){const n=t.data,r=n.length;let o=0,u=0;const d=t.pts;if(d===void 0){this.logger.warn("[tsdemuxer]: MPEG PES unknown PTS");return}for(;u<r;)if(CA(n,u)){const h=wA(e,n,u,d,o);if(h)u+=h.length,o++;else break}else u++}parseAC3PES(e,t){{const n=t.data,r=t.pts;if(r===void 0){this.logger.warn("[tsdemuxer]: AC3 PES unknown PTS");return}const o=n.length;let u=0,d=0,h;for(;d<o&&(h=NA(e,n,d,r,u++))>0;)d+=h}}parseID3PES(e,t){if(t.pts===void 0){this.logger.warn("[tsdemuxer]: ID3 PES unknown PTS");return}const n=Kr({},t,{type:this._videoTrack?Ga.emsg:Ga.audioId3,duration:Number.POSITIVE_INFINITY});e.samples.push(n)}}function Wb(i,e){return((i[e+1]&31)<<8)+i[e+2]}function jL(i,e){return(i[e+10]&31)<<8|i[e+11]}function qL(i,e,t,n,r,o){const u={audioPid:-1,videoPid:-1,id3Pid:-1,segmentVideoCodec:"avc",segmentAudioCodec:"aac"},d=(i[e+1]&15)<<8|i[e+2],h=e+3+d-4,f=(i[e+10]&15)<<8|i[e+11];for(e+=12+f;e<h;){const y=Wb(i,e),m=(i[e+3]&15)<<8|i[e+4];switch(i[e]){case 207:if(!n){sb("ADTS AAC",o);break}case 15:u.audioPid===-1&&(u.audioPid=y);break;case 21:u.id3Pid===-1&&(u.id3Pid=y);break;case 219:if(!n){sb("H.264",o);break}case 27:u.videoPid===-1&&(u.videoPid=y);break;case 3:case 4:!t.mpeg&&!t.mp3?o.log("MPEG audio found, not supported in this browser"):u.audioPid===-1&&(u.audioPid=y,u.segmentAudioCodec="mp3");break;case 193:if(!n){sb("AC-3",o);break}case 129:t.ac3?u.audioPid===-1&&(u.audioPid=y,u.segmentAudioCodec="ac3"):o.log("AC-3 audio found, not supported in this browser");break;case 6:if(u.audioPid===-1&&m>0){let p=e+5,T=m;for(;T>2;){switch(i[p]){case 106:t.ac3!==!0?o.log("AC-3 audio found, not supported in this browser for now"):(u.audioPid=y,u.segmentAudioCodec="ac3");break}const A=i[p+1]+2;p+=A,T-=A}}break;case 194:case 135:return Xb(r,new Error("Unsupported EC-3 in M2TS found"),void 0,o),u;case 36:u.videoPid===-1&&(u.videoPid=y,u.segmentVideoCodec="hevc",o.log("HEVC in M2TS found"));break}e+=m+5}return u}function Xb(i,e,t,n){n.warn(`parsing error: ${e.message}`),i.emit(Ee.ERROR,Ee.ERROR,{type:Qn.MEDIA_ERROR,details:kt.FRAG_PARSING_ERROR,fatal:!1,levelRetry:t,error:e,reason:e.message})}function sb(i,e){e.log(`${i} with AES-128-CBC encryption found in unencrypted stream`)}function td(i,e){let t=0,n,r,o,u,d;const h=i.data;if(!i||i.size===0)return null;for(;h[0].length<19&&h.length>1;)h[0]=cs(h[0],h[1]),h.splice(1,1);if(n=h[0],(n[0]<<16)+(n[1]<<8)+n[2]===1){if(r=(n[4]<<8)+n[5],r&&r>i.size-6)return null;const y=n[7];y&192&&(u=(n[9]&14)*536870912+(n[10]&255)*4194304+(n[11]&254)*16384+(n[12]&255)*128+(n[13]&254)/2,y&64?(d=(n[14]&14)*536870912+(n[15]&255)*4194304+(n[16]&254)*16384+(n[17]&255)*128+(n[18]&254)/2,u-d>60*9e4&&(e.warn(`${Math.round((u-d)/9e4)}s delta between PTS and DTS, align them`),u=d)):d=u),o=n[8];let m=o+9;if(i.size<=m)return null;i.size-=m;const p=new Uint8Array(i.size);for(let T=0,v=h.length;T<v;T++){n=h[T];let A=n.byteLength;if(m)if(m>A){m-=A;continue}else n=n.subarray(m),A-=m,m=0;p.set(n,t),t+=A}return r&&(r-=o+3),{data:p,pts:u,dts:d,len:r}}return null}class GL{static getSilentFrame(e,t){switch(e){case"mp4a.40.2":if(t===1)return new Uint8Array([0,200,0,128,35,128]);if(t===2)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(t===3)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(t===4)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(t===5)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(t===6)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(t===1)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(t===2)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(t===3)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);break}}}const _l=Math.pow(2,32)-1;class xt{static init(){xt.types={avc1:[],avcC:[],hvc1:[],hvcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],dac3:[],"ac-3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]};let e;for(e in xt.types)xt.types.hasOwnProperty(e)&&(xt.types[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);const t=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),n=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);xt.HDLR_TYPES={video:t,audio:n};const r=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),o=new Uint8Array([0,0,0,0,0,0,0,0]);xt.STTS=xt.STSC=xt.STCO=o,xt.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),xt.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),xt.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),xt.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);const u=new Uint8Array([105,115,111,109]),d=new Uint8Array([97,118,99,49]),h=new Uint8Array([0,0,0,1]);xt.FTYP=xt.box(xt.types.ftyp,u,h,u,d),xt.DINF=xt.box(xt.types.dinf,xt.box(xt.types.dref,r))}static box(e,...t){let n=8,r=t.length;const o=r;for(;r--;)n+=t[r].byteLength;const u=new Uint8Array(n);for(u[0]=n>>24&255,u[1]=n>>16&255,u[2]=n>>8&255,u[3]=n&255,u.set(e,4),r=0,n=8;r<o;r++)u.set(t[r],n),n+=t[r].byteLength;return u}static hdlr(e){return xt.box(xt.types.hdlr,xt.HDLR_TYPES[e])}static mdat(e){return xt.box(xt.types.mdat,e)}static mdhd(e,t){t*=e;const n=Math.floor(t/(_l+1)),r=Math.floor(t%(_l+1));return xt.box(xt.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,e&255,n>>24,n>>16&255,n>>8&255,n&255,r>>24,r>>16&255,r>>8&255,r&255,85,196,0,0]))}static mdia(e){return xt.box(xt.types.mdia,xt.mdhd(e.timescale||0,e.duration||0),xt.hdlr(e.type),xt.minf(e))}static mfhd(e){return xt.box(xt.types.mfhd,new Uint8Array([0,0,0,0,e>>24,e>>16&255,e>>8&255,e&255]))}static minf(e){return e.type==="audio"?xt.box(xt.types.minf,xt.box(xt.types.smhd,xt.SMHD),xt.DINF,xt.stbl(e)):xt.box(xt.types.minf,xt.box(xt.types.vmhd,xt.VMHD),xt.DINF,xt.stbl(e))}static moof(e,t,n){return xt.box(xt.types.moof,xt.mfhd(e),xt.traf(n,t))}static moov(e){let t=e.length;const n=[];for(;t--;)n[t]=xt.trak(e[t]);return xt.box.apply(null,[xt.types.moov,xt.mvhd(e[0].timescale||0,e[0].duration||0)].concat(n).concat(xt.mvex(e)))}static mvex(e){let t=e.length;const n=[];for(;t--;)n[t]=xt.trex(e[t]);return xt.box.apply(null,[xt.types.mvex,...n])}static mvhd(e,t){t*=e;const n=Math.floor(t/(_l+1)),r=Math.floor(t%(_l+1)),o=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,e&255,n>>24,n>>16&255,n>>8&255,n&255,r>>24,r>>16&255,r>>8&255,r&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return xt.box(xt.types.mvhd,o)}static sdtp(e){const t=e.samples||[],n=new Uint8Array(4+t.length);let r,o;for(r=0;r<t.length;r++)o=t[r].flags,n[r+4]=o.dependsOn<<4|o.isDependedOn<<2|o.hasRedundancy;return xt.box(xt.types.sdtp,n)}static stbl(e){return xt.box(xt.types.stbl,xt.stsd(e),xt.box(xt.types.stts,xt.STTS),xt.box(xt.types.stsc,xt.STSC),xt.box(xt.types.stsz,xt.STSZ),xt.box(xt.types.stco,xt.STCO))}static avc1(e){let t=[],n=[],r,o,u;for(r=0;r<e.sps.length;r++)o=e.sps[r],u=o.byteLength,t.push(u>>>8&255),t.push(u&255),t=t.concat(Array.prototype.slice.call(o));for(r=0;r<e.pps.length;r++)o=e.pps[r],u=o.byteLength,n.push(u>>>8&255),n.push(u&255),n=n.concat(Array.prototype.slice.call(o));const d=xt.box(xt.types.avcC,new Uint8Array([1,t[3],t[4],t[5],255,224|e.sps.length].concat(t).concat([e.pps.length]).concat(n))),h=e.width,f=e.height,y=e.pixelRatio[0],m=e.pixelRatio[1];return xt.box(xt.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,h>>8&255,h&255,f>>8&255,f&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),d,xt.box(xt.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),xt.box(xt.types.pasp,new Uint8Array([y>>24,y>>16&255,y>>8&255,y&255,m>>24,m>>16&255,m>>8&255,m&255])))}static esds(e){const t=e.config;return new Uint8Array([0,0,0,0,3,25,0,1,0,4,17,64,21,0,0,0,0,0,0,0,0,0,0,0,5,2,...t,6,1,2])}static audioStsd(e){const t=e.samplerate||0;return new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount||0,0,16,0,0,0,0,t>>8&255,t&255,0,0])}static mp4a(e){return xt.box(xt.types.mp4a,xt.audioStsd(e),xt.box(xt.types.esds,xt.esds(e)))}static mp3(e){return xt.box(xt.types[".mp3"],xt.audioStsd(e))}static ac3(e){return xt.box(xt.types["ac-3"],xt.audioStsd(e),xt.box(xt.types.dac3,e.config))}static stsd(e){const{segmentCodec:t}=e;if(e.type==="audio"){if(t==="aac")return xt.box(xt.types.stsd,xt.STSD,xt.mp4a(e));if(t==="ac3"&&e.config)return xt.box(xt.types.stsd,xt.STSD,xt.ac3(e));if(t==="mp3"&&e.codec==="mp3")return xt.box(xt.types.stsd,xt.STSD,xt.mp3(e))}else if(e.pps&&e.sps){if(t==="avc")return xt.box(xt.types.stsd,xt.STSD,xt.avc1(e));if(t==="hevc"&&e.vps)return xt.box(xt.types.stsd,xt.STSD,xt.hvc1(e))}else throw new Error("video track missing pps or sps");throw new Error(`unsupported ${e.type} segment codec (${t}/${e.codec})`)}static tkhd(e){const t=e.id,n=(e.duration||0)*(e.timescale||0),r=e.width||0,o=e.height||0,u=Math.floor(n/(_l+1)),d=Math.floor(n%(_l+1));return xt.box(xt.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,t&255,0,0,0,0,u>>24,u>>16&255,u>>8&255,u&255,d>>24,d>>16&255,d>>8&255,d&255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,r>>8&255,r&255,0,0,o>>8&255,o&255,0,0]))}static traf(e,t){const n=xt.sdtp(e),r=e.id,o=Math.floor(t/(_l+1)),u=Math.floor(t%(_l+1));return xt.box(xt.types.traf,xt.box(xt.types.tfhd,new Uint8Array([0,0,0,0,r>>24,r>>16&255,r>>8&255,r&255])),xt.box(xt.types.tfdt,new Uint8Array([1,0,0,0,o>>24,o>>16&255,o>>8&255,o&255,u>>24,u>>16&255,u>>8&255,u&255])),xt.trun(e,n.length+16+20+8+16+8+8),n)}static trak(e){return e.duration=e.duration||4294967295,xt.box(xt.types.trak,xt.tkhd(e),xt.mdia(e))}static trex(e){const t=e.id;return xt.box(xt.types.trex,new Uint8Array([0,0,0,0,t>>24,t>>16&255,t>>8&255,t&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))}static trun(e,t){const n=e.samples||[],r=n.length,o=12+16*r,u=new Uint8Array(o);let d,h,f,y,m,p;for(t+=8+o,u.set([e.type==="video"?1:0,0,15,1,r>>>24&255,r>>>16&255,r>>>8&255,r&255,t>>>24&255,t>>>16&255,t>>>8&255,t&255],0),d=0;d<r;d++)h=n[d],f=h.duration,y=h.size,m=h.flags,p=h.cts,u.set([f>>>24&255,f>>>16&255,f>>>8&255,f&255,y>>>24&255,y>>>16&255,y>>>8&255,y&255,m.isLeading<<2|m.dependsOn,m.isDependedOn<<6|m.hasRedundancy<<4|m.paddingValue<<1|m.isNonSync,m.degradPrio&61440,m.degradPrio&15,p>>>24&255,p>>>16&255,p>>>8&255,p&255],12+16*d);return xt.box(xt.types.trun,u)}static initSegment(e){xt.types||xt.init();const t=xt.moov(e);return cs(xt.FTYP,t)}static hvc1(e){const t=e.params,n=[e.vps,e.sps,e.pps],r=4,o=new Uint8Array([1,t.general_profile_space<<6|(t.general_tier_flag?32:0)|t.general_profile_idc,t.general_profile_compatibility_flags[0],t.general_profile_compatibility_flags[1],t.general_profile_compatibility_flags[2],t.general_profile_compatibility_flags[3],t.general_constraint_indicator_flags[0],t.general_constraint_indicator_flags[1],t.general_constraint_indicator_flags[2],t.general_constraint_indicator_flags[3],t.general_constraint_indicator_flags[4],t.general_constraint_indicator_flags[5],t.general_level_idc,240|t.min_spatial_segmentation_idc>>8,255&t.min_spatial_segmentation_idc,252|t.parallelismType,252|t.chroma_format_idc,248|t.bit_depth_luma_minus8,248|t.bit_depth_chroma_minus8,0,parseInt(t.frame_rate.fps),r-1|t.temporal_id_nested<<2|t.num_temporal_layers<<3|(t.frame_rate.fixed?64:0),n.length]);let u=o.length;for(let v=0;v<n.length;v+=1){u+=3;for(let A=0;A<n[v].length;A+=1)u+=2+n[v][A].length}const d=new Uint8Array(u);d.set(o,0),u=o.length;const h=n.length-1;for(let v=0;v<n.length;v+=1){d.set(new Uint8Array([32+v|(v===h?128:0),0,n[v].length]),u),u+=3;for(let A=0;A<n[v].length;A+=1)d.set(new Uint8Array([n[v][A].length>>8,n[v][A].length&255]),u),u+=2,d.set(n[v][A],u),u+=n[v][A].length}const f=xt.box(xt.types.hvcC,d),y=e.width,m=e.height,p=e.pixelRatio[0],T=e.pixelRatio[1];return xt.box(xt.types.hvc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,y>>8&255,y&255,m>>8&255,m&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),f,xt.box(xt.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),xt.box(xt.types.pasp,new Uint8Array([p>>24,p>>16&255,p>>8&255,p&255,T>>24,T>>16&255,T>>8&255,T&255])))}}xt.types=void 0;xt.HDLR_TYPES=void 0;xt.STTS=void 0;xt.STSC=void 0;xt.STCO=void 0;xt.STSZ=void 0;xt.VMHD=void 0;xt.SMHD=void 0;xt.STSD=void 0;xt.FTYP=void 0;xt.DINF=void 0;const MA=9e4;function JE(i,e,t=1,n=!1){const r=i*e*t;return n?Math.round(r):r}function $L(i,e,t=1,n=!1){return JE(i,e,1/t,n)}function ch(i,e=!1){return JE(i,1e3,1/MA,e)}function HL(i,e=1){return JE(i,MA,1/e)}function zT(i){const{baseTime:e,timescale:t,trackId:n}=i;return`${e/t} (${e}/${t}) trackId: ${n}`}const VL=10*1e3,KL=1024,YL=1152,WL=1536;let nd=null,ob=null;function FT(i,e,t,n){return{duration:e,size:t,cts:n,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:i?2:1,isNonSync:i?0:1}}}class ep extends gs{constructor(e,t,n,r){if(super("mp4-remuxer",r),this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this._initPTS=null,this._initDTS=null,this.nextVideoTs=null,this.nextAudioTs=null,this.videoSampleDuration=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.videoTrackConfig=void 0,this.observer=e,this.config=t,this.typeSupported=n,this.ISGenerated=!1,nd===null){const u=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);nd=u?parseInt(u[1]):0}if(ob===null){const o=navigator.userAgent.match(/Safari\/(\d+)/i);ob=o?parseInt(o[1]):0}}destroy(){this.config=this.videoTrackConfig=this._initPTS=this._initDTS=null}resetTimeStamp(e){const t=this._initPTS;(!t||!e||e.trackId!==t.trackId||e.baseTime!==t.baseTime||e.timescale!==t.timescale)&&this.log(`Reset initPTS: ${t&&zT(t)} > ${e&&zT(e)}`),this._initPTS=this._initDTS=e}resetNextTimestamp(){this.log("reset next timestamp"),this.isVideoContiguous=!1,this.isAudioContiguous=!1}resetInitSegment(){this.log("ISGenerated flag reset"),this.ISGenerated=!1,this.videoTrackConfig=void 0}getVideoStartPts(e){let t=!1;const n=e[0].pts,r=e.reduce((o,u)=>{let d=u.pts,h=d-o;return h<-4294967296&&(t=!0,d=qa(d,n),h=d-o),h>0?o:d},n);return t&&this.debug("PTS rollover detected"),r}remux(e,t,n,r,o,u,d,h){let f,y,m,p,T,v,A=o,k=o;const B=e.pid>-1,$=t.pid>-1,K=t.samples.length,ue=e.samples.length>0,me=d&&K>0||K>1;if((!B||ue)&&(!$||me)||this.ISGenerated||d){if(this.ISGenerated){var X,Q,be,F;const Ye=this.videoTrackConfig;(Ye&&(t.width!==Ye.width||t.height!==Ye.height||((X=t.pixelRatio)==null?void 0:X[0])!==((Q=Ye.pixelRatio)==null?void 0:Q[0])||((be=t.pixelRatio)==null?void 0:be[1])!==((F=Ye.pixelRatio)==null?void 0:F[1]))||!Ye&&me||this.nextAudioTs===null&&ue)&&this.resetInitSegment()}this.ISGenerated||(m=this.generateIS(e,t,o,u));const ke=this.isVideoContiguous;let Qe=-1,xe;if(me&&(Qe=XL(t.samples),!ke&&this.config.forceKeyFrameOnDiscontinuity))if(v=!0,Qe>0){this.warn(`Dropped ${Qe} out of ${K} video samples due to a missing keyframe`);const Ye=this.getVideoStartPts(t.samples);t.samples=t.samples.slice(Qe),t.dropped+=Qe,k+=(t.samples[0].pts-Ye)/t.inputTimeScale,xe=k}else Qe===-1&&(this.warn(`No keyframe found out of ${K} video samples`),v=!1);if(this.ISGenerated){if(ue&&me){const Ye=this.getVideoStartPts(t.samples),_e=(qa(e.samples[0].pts,Ye)-Ye)/t.inputTimeScale;A+=Math.max(0,_e),k+=Math.max(0,-_e)}if(ue){if(e.samplerate||(this.warn("regenerate InitSegment as audio detected"),m=this.generateIS(e,t,o,u)),y=this.remuxAudio(e,A,this.isAudioContiguous,u,$||me||h===jn.AUDIO?k:void 0),me){const Ye=y?y.endPTS-y.startPTS:0;t.inputTimeScale||(this.warn("regenerate InitSegment as video detected"),m=this.generateIS(e,t,o,u)),f=this.remuxVideo(t,k,ke,Ye)}}else me&&(f=this.remuxVideo(t,k,ke,0));f&&(f.firstKeyFrame=Qe,f.independent=Qe!==-1,f.firstKeyFramePTS=xe)}}return this.ISGenerated&&this._initPTS&&this._initDTS&&(n.samples.length&&(T=PA(n,o,this._initPTS,this._initDTS)),r.samples.length&&(p=zA(r,o,this._initPTS))),{audio:y,video:f,initSegment:m,independent:v,text:p,id3:T}}computeInitPts(e,t,n,r){const o=Math.round(n*t);let u=qa(e,o);if(u<o+t)for(this.log(`Adjusting PTS for rollover in timeline near ${(o-u)/t} ${r}`);u<o+t;)u+=8589934592;return u-o}generateIS(e,t,n,r){const o=e.samples,u=t.samples,d=this.typeSupported,h={},f=this._initPTS;let y=!f||r,m="audio/mp4",p,T,v,A=-1;if(y&&(p=T=1/0),e.config&&o.length){switch(e.timescale=e.samplerate,e.segmentCodec){case"mp3":d.mpeg?(m="audio/mpeg",e.codec=""):d.mp3&&(e.codec="mp3");break;case"ac3":e.codec="ac-3";break}h.audio={id:"audio",container:m,codec:e.codec,initSegment:e.segmentCodec==="mp3"&&d.mpeg?new Uint8Array(0):xt.initSegment([e]),metadata:{channelCount:e.channelCount}},y&&(A=e.id,v=e.inputTimeScale,!f||v!==f.timescale?p=T=this.computeInitPts(o[0].pts,v,n,"audio"):y=!1)}if(t.sps&&t.pps&&u.length){if(t.timescale=t.inputTimeScale,h.video={id:"main",container:"video/mp4",codec:t.codec,initSegment:xt.initSegment([t]),metadata:{width:t.width,height:t.height}},y)if(A=t.id,v=t.inputTimeScale,!f||v!==f.timescale){const k=this.getVideoStartPts(u),B=qa(u[0].dts,k),$=this.computeInitPts(B,v,n,"video"),K=this.computeInitPts(k,v,n,"video");T=Math.min(T,$),p=Math.min(p,K)}else y=!1;this.videoTrackConfig={width:t.width,height:t.height,pixelRatio:t.pixelRatio}}if(Object.keys(h).length)return this.ISGenerated=!0,y?(f&&this.warn(`Timestamps at playlist time: ${r?"":"~"}${n} ${p/v} != initPTS: ${f.baseTime/f.timescale} (${f.baseTime}/${f.timescale}) trackId: ${f.trackId}`),this.log(`Found initPTS at playlist time: ${n} offset: ${p/v} (${p}/${v}) trackId: ${A}`),this._initPTS={baseTime:p,timescale:v,trackId:A},this._initDTS={baseTime:T,timescale:v,trackId:A}):p=v=void 0,{tracks:h,initPTS:p,timescale:v,trackId:A}}remuxVideo(e,t,n,r){const o=e.inputTimeScale,u=e.samples,d=[],h=u.length,f=this._initPTS,y=f.baseTime*o/f.timescale;let m=this.nextVideoTs,p=8,T=this.videoSampleDuration,v,A,k=Number.POSITIVE_INFINITY,B=Number.NEGATIVE_INFINITY,$=!1;if(!n||m===null){const qe=y+t*o,et=u[0].pts-qa(u[0].dts,u[0].pts);nd&&m!==null&&Math.abs(qe-et-(m+y))<15e3?n=!0:m=qe-et-y}const K=m+y;for(let qe=0;qe<h;qe++){const et=u[qe];et.pts=qa(et.pts,K),et.dts=qa(et.dts,K),et.dts<u[qe>0?qe-1:qe].dts&&($=!0)}$&&u.sort(function(qe,et){const pt=qe.dts-et.dts,jt=qe.pts-et.pts;return pt||jt}),v=u[0].dts,A=u[u.length-1].dts;const ue=A-v,me=ue?Math.round(ue/(h-1)):T||e.inputTimeScale/30;if(n){const qe=v-K,et=qe>me,pt=qe<-1;if((et||pt)&&(et?this.warn(`${(e.segmentCodec||"").toUpperCase()}: ${ch(qe,!0)} ms (${qe}dts) hole between fragments detected at ${t.toFixed(3)}`):this.warn(`${(e.segmentCodec||"").toUpperCase()}: ${ch(-qe,!0)} ms (${qe}dts) overlapping between fragments detected at ${t.toFixed(3)}`),!pt||K>=u[0].pts||nd)){v=K;const jt=u[0].pts-qe;if(et)u[0].dts=v,u[0].pts=jt;else{let Fe=!0;for(let Ne=0;Ne<u.length&&!(u[Ne].dts>jt&&Fe);Ne++){const bt=u[Ne].pts;if(u[Ne].dts-=qe,u[Ne].pts-=qe,Ne<u.length-1){const Z=u[Ne+1].pts,ne=u[Ne].pts,L=Z<=ne,j=Z<=bt;Fe=L==j}}}this.log(`Video: Initial PTS/DTS adjusted: ${ch(jt,!0)}/${ch(v,!0)}, delta: ${ch(qe,!0)} ms`)}}v=Math.max(0,v);let Te=0,X=0,Q=v;for(let qe=0;qe<h;qe++){const et=u[qe],pt=et.units,jt=pt.length;let Fe=0;for(let Ne=0;Ne<jt;Ne++)Fe+=pt[Ne].data.length;X+=Fe,Te+=jt,et.length=Fe,et.dts<Q?(et.dts=Q,Q+=me/4|0||1):Q=et.dts,k=Math.min(et.pts,k),B=Math.max(et.pts,B)}A=u[h-1].dts;const be=X+4*Te+8;let F;try{F=new Uint8Array(be)}catch(qe){this.observer.emit(Ee.ERROR,Ee.ERROR,{type:Qn.MUX_ERROR,details:kt.REMUX_ALLOC_ERROR,fatal:!1,error:qe,bytes:be,reason:`fail allocating video mdat ${be}`});return}const ke=new DataView(F.buffer);ke.setUint32(0,be),F.set(xt.types.mdat,4);let Qe=!1,xe=Number.POSITIVE_INFINITY,Ye=Number.POSITIVE_INFINITY,Ge=Number.NEGATIVE_INFINITY,_e=Number.NEGATIVE_INFINITY;for(let qe=0;qe<h;qe++){const et=u[qe],pt=et.units;let jt=0;for(let bt=0,Z=pt.length;bt<Z;bt++){const ne=pt[bt],L=ne.data,j=ne.data.byteLength;ke.setUint32(p,j),p+=4,F.set(L,p),p+=j,jt+=4+j}let Fe;if(qe<h-1)T=u[qe+1].dts-et.dts,Fe=u[qe+1].pts-et.pts;else{const bt=this.config,Z=qe>0?et.dts-u[qe-1].dts:me;if(Fe=qe>0?et.pts-u[qe-1].pts:me,bt.stretchShortVideoTrack&&this.nextAudioTs!==null){const ne=Math.floor(bt.maxBufferHole*o),L=(r?k+r*o:this.nextAudioTs+y)-et.pts;L>ne?(T=L-Z,T<0?T=Z:Qe=!0,this.log(`It is approximately ${L/90} ms to the next segment; using duration ${T/90} ms for the last video frame.`)):T=Z}else T=Z}const Ne=Math.round(et.pts-et.dts);xe=Math.min(xe,T),Ge=Math.max(Ge,T),Ye=Math.min(Ye,Fe),_e=Math.max(_e,Fe),d.push(FT(et.key,T,jt,Ne))}if(d.length){if(nd){if(nd<70){const qe=d[0].flags;qe.dependsOn=2,qe.isNonSync=0}}else if(ob&&_e-Ye<Ge-xe&&me/Ge<.025&&d[0].cts===0){this.warn("Found irregular gaps in sample duration. Using PTS instead of DTS to determine MP4 sample duration.");let qe=v;for(let et=0,pt=d.length;et<pt;et++){const jt=qe+d[et].duration,Fe=qe+d[et].cts;if(et<pt-1){const Ne=jt+d[et+1].cts;d[et].duration=Ne-Fe}else d[et].duration=et?d[et-1].duration:me;d[et].cts=0,qe=jt}}}T=Qe||!T?me:T;const $e=A+T;this.nextVideoTs=m=$e-y,this.videoSampleDuration=T,this.isVideoContiguous=!0;const Pe={data1:xt.moof(e.sequenceNumber++,v,Kr(e,{samples:d})),data2:F,startPTS:(k-y)/o,endPTS:(B+T-y)/o,startDTS:(v-y)/o,endDTS:m/o,type:"video",hasAudio:!1,hasVideo:!0,nb:d.length,dropped:e.dropped};return e.samples=[],e.dropped=0,Pe}getSamplesPerFrame(e){switch(e.segmentCodec){case"mp3":return YL;case"ac3":return WL;default:return KL}}remuxAudio(e,t,n,r,o){const u=e.inputTimeScale,d=e.samplerate?e.samplerate:u,h=u/d,f=this.getSamplesPerFrame(e),y=f*h,m=this._initPTS,p=e.segmentCodec==="mp3"&&this.typeSupported.mpeg,T=[],v=o!==void 0;let A=e.samples,k=p?0:8,B=this.nextAudioTs||-1;const $=m.baseTime*u/m.timescale,K=$+t*u;if(this.isAudioContiguous=n=n||A.length&&B>0&&(r&&Math.abs(K-(B+$))<9e3||Math.abs(qa(A[0].pts,K)-(B+$))<20*y),A.forEach(function(_e){_e.pts=qa(_e.pts,K)}),!n||B<0){const _e=A.length;if(A=A.filter($e=>$e.pts>=0),_e!==A.length&&this.warn(`Removed ${A.length-_e} of ${_e} samples (initPTS ${$} / ${u})`),!A.length)return;o===0?B=0:r&&!v?B=Math.max(0,K-$):B=A[0].pts-$}if(e.segmentCodec==="aac"){const _e=this.config.maxAudioFramesDrift;for(let $e=0,Je=B+$;$e<A.length;$e++){const tt=A[$e],Pe=tt.pts,qe=Pe-Je,et=Math.abs(1e3*qe/u);if(qe<=-_e*y&&v)$e===0&&(this.warn(`Audio frame @ ${(Pe/u).toFixed(3)}s overlaps marker by ${Math.round(1e3*qe/u)} ms.`),this.nextAudioTs=B=Pe-$,Je=Pe);else if(qe>=_e*y&&et<VL&&v){let pt=Math.round(qe/y);for(Je=Pe-pt*y;Je<0&&pt&&y;)pt--,Je+=y;$e===0&&(this.nextAudioTs=B=Je-$),this.warn(`Injecting ${pt} audio frames @ ${((Je-$)/u).toFixed(3)}s due to ${Math.round(1e3*qe/u)} ms gap.`);for(let jt=0;jt<pt;jt++){let Fe=GL.getSilentFrame(e.parsedCodec||e.manifestCodec||e.codec,e.channelCount);Fe||(this.log("Unable to get silent frame for given audio codec; duplicating last frame instead."),Fe=tt.unit.subarray()),A.splice($e,0,{unit:Fe,pts:Je}),Je+=y,$e++}}tt.pts=Je,Je+=y}}let ue=null,me=null,Te,X=0,Q=A.length;for(;Q--;)X+=A[Q].unit.byteLength;for(let _e=0,$e=A.length;_e<$e;_e++){const Je=A[_e],tt=Je.unit;let Pe=Je.pts;if(me!==null){const et=T[_e-1];et.duration=Math.round((Pe-me)/h)}else if(n&&e.segmentCodec==="aac"&&(Pe=B+$),ue=Pe,X>0){X+=k;try{Te=new Uint8Array(X)}catch(et){this.observer.emit(Ee.ERROR,Ee.ERROR,{type:Qn.MUX_ERROR,details:kt.REMUX_ALLOC_ERROR,fatal:!1,error:et,bytes:X,reason:`fail allocating audio mdat ${X}`});return}p||(new DataView(Te.buffer).setUint32(0,X),Te.set(xt.types.mdat,4))}else return;Te.set(tt,k);const qe=tt.byteLength;k+=qe,T.push(FT(!0,f,qe,0)),me=Pe}const be=T.length;if(!be)return;const F=T[T.length-1];B=me-$,this.nextAudioTs=B+h*F.duration;const ke=p?new Uint8Array(0):xt.moof(e.sequenceNumber++,ue/h,Kr({},e,{samples:T}));e.samples=[];const Qe=(ue-$)/u,xe=this.nextAudioTs/u,Ge={data1:ke,data2:Te,startPTS:Qe,endPTS:xe,startDTS:Qe,endDTS:xe,type:"audio",hasAudio:!0,hasVideo:!1,nb:be};return this.isAudioContiguous=!0,Ge}}function qa(i,e){let t;if(e===null)return i;for(e<i?t=-8589934592:t=8589934592;Math.abs(i-e)>4294967296;)i+=t;return i}function XL(i){for(let e=0;e<i.length;e++)if(i[e].key)return e;return-1}function PA(i,e,t,n){const r=i.samples.length;if(!r)return;const o=i.inputTimeScale;for(let d=0;d<r;d++){const h=i.samples[d];h.pts=qa(h.pts-t.baseTime*o/t.timescale,e*o)/o,h.dts=qa(h.dts-n.baseTime*o/n.timescale,e*o)/o}const u=i.samples;return i.samples=[],{samples:u}}function zA(i,e,t){const n=i.samples.length;if(!n)return;const r=i.inputTimeScale;for(let u=0;u<n;u++){const d=i.samples[u];d.pts=qa(d.pts-t.baseTime*r/t.timescale,e*r)/r}i.samples.sort((u,d)=>u.pts-d.pts);const o=i.samples;return i.samples=[],{samples:o}}class QL extends gs{constructor(e,t,n,r){super("passthrough-remuxer",r),this.emitInitSegment=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.initData=void 0,this.initPTS=null,this.initTracks=void 0,this.lastEndTime=null,this.isVideoContiguous=!1}destroy(){}resetTimeStamp(e){this.lastEndTime=null;const t=this.initPTS;t&&e&&t.baseTime===e.baseTime&&t.timescale===e.timescale||(this.initPTS=e)}resetNextTimestamp(){this.isVideoContiguous=!1,this.lastEndTime=null}resetInitSegment(e,t,n,r){this.audioCodec=t,this.videoCodec=n,this.generateInitSegment(e,r),this.emitInitSegment=!0}generateInitSegment(e,t){let{audioCodec:n,videoCodec:r}=this;if(!(e!=null&&e.byteLength)){this.initTracks=void 0,this.initData=void 0;return}const{audio:o,video:u}=this.initData=G_(e);if(t)FD(e,t);else{const h=o||u;h!=null&&h.encrypted&&this.warn(`Init segment with encrypted track with has no key ("${h.codec}")!`)}o&&(n=UT(o,Jr.AUDIO,this)),u&&(r=UT(u,Jr.VIDEO,this));const d={};o&&u?d.audiovideo={container:"video/mp4",codec:n+","+r,supplemental:u.supplemental,encrypted:u.encrypted,initSegment:e,id:"main"}:o?d.audio={container:"audio/mp4",codec:n,encrypted:o.encrypted,initSegment:e,id:"audio"}:u?d.video={container:"video/mp4",codec:r,supplemental:u.supplemental,encrypted:u.encrypted,initSegment:e,id:"main"}:this.warn("initSegment does not contain moov or trak boxes."),this.initTracks=d}remux(e,t,n,r,o,u){var d,h;let{initPTS:f,lastEndTime:y}=this;const m={audio:void 0,video:void 0,text:r,id3:n,initSegment:void 0};Mn(y)||(y=this.lastEndTime=o||0);const p=t.samples;if(!p.length)return m;const T={initPTS:void 0,timescale:void 0,trackId:void 0};let v=this.initData;if((d=v)!=null&&d.length||(this.generateInitSegment(p),v=this.initData),!((h=v)!=null&&h.length))return this.warn("Failed to generate initSegment."),m;this.emitInitSegment&&(T.tracks=this.initTracks,this.emitInitSegment=!1);const A=BD(p,v,this),k=v.audio?A[v.audio.id]:null,B=v.video?A[v.video.id]:null,$=Lm(B,1/0),K=Lm(k,1/0),ue=Lm(B,0,!0),me=Lm(k,0,!0);let Te=o,X=0;const Q=k&&(!B||!f&&K<$||f&&f.trackId===v.audio.id),be=Q?k:B;if(be){const Je=be.timescale,tt=be.start-o*Je,Pe=Q?v.audio.id:v.video.id;Te=be.start/Je,X=Q?me-K:ue-$,(u||!f)&&(ZL(f,Te,o,X)||Je!==f.timescale)&&(f&&this.warn(`Timestamps at playlist time: ${u?"":"~"}${o} ${tt/Je} != initPTS: ${f.baseTime/f.timescale} (${f.baseTime}/${f.timescale}) trackId: ${f.trackId}`),this.log(`Found initPTS at playlist time: ${o} offset: ${Te-o} (${tt}/${Je}) trackId: ${Pe}`),f=null,T.initPTS=tt,T.timescale=Je,T.trackId=Pe)}else this.warn(`No audio or video samples found for initPTS at playlist time: ${o}`);f?(T.initPTS=f.baseTime,T.timescale=f.timescale,T.trackId=f.trackId):((!T.timescale||T.trackId===void 0||T.initPTS===void 0)&&(this.warn("Could not set initPTS"),T.initPTS=Te,T.timescale=1,T.trackId=-1),this.initPTS=f={baseTime:T.initPTS,timescale:T.timescale,trackId:T.trackId});const F=Te-f.baseTime/f.timescale,ke=F+X;X>0?this.lastEndTime=ke:(this.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());const Qe=!!v.audio,xe=!!v.video;let Ye="";Qe&&(Ye+="audio"),xe&&(Ye+="video");const Ge=(v.audio?v.audio.encrypted:!1)||(v.video?v.video.encrypted:!1),_e={data1:p,startPTS:F,startDTS:F,endPTS:ke,endDTS:ke,type:Ye,hasAudio:Qe,hasVideo:xe,nb:1,dropped:0,encrypted:Ge};m.audio=Qe&&!xe?_e:void 0,m.video=xe?_e:void 0;const $e=B==null?void 0:B.sampleCount;if($e){const Je=B.keyFrameIndex,tt=Je!==-1;_e.nb=$e,_e.dropped=Je===0||this.isVideoContiguous?0:tt?Je:$e,_e.independent=tt,_e.firstKeyFrame=Je,tt&&B.keyFrameStart&&(_e.firstKeyFramePTS=(B.keyFrameStart-f.baseTime)/f.timescale),this.isVideoContiguous||(m.independent=tt),this.isVideoContiguous||(this.isVideoContiguous=tt),_e.dropped&&this.warn(`fmp4 does not start with IDR: firstIDR ${Je}/${$e} dropped: ${_e.dropped} start: ${_e.firstKeyFramePTS||"NA"}`)}return m.initSegment=T,m.id3=PA(n,o,f,f),r.samples.length&&(m.text=zA(r,o,f)),m}}function Lm(i,e,t=!1){return(i==null?void 0:i.start)!==void 0?(i.start+(t?i.duration:0))/i.timescale:e}function ZL(i,e,t,n){if(i===null)return!0;const r=Math.max(n,1),o=e-i.baseTime/i.timescale;return Math.abs(o-t)>r}function UT(i,e,t){const n=i.codec;return n&&n.length>4?n:e===Jr.AUDIO?n==="ec-3"||n==="ac-3"||n==="alac"?n:n==="fLaC"||n==="Opus"?mp(n,!1):(t.warn(`Unhandled audio codec "${n}" in mp4 MAP`),n||"mp4a"):(t.warn(`Unhandled video codec "${n}" in mp4 MAP`),n||"avc1")}let jo;try{jo=self.performance.now.bind(self.performance)}catch{jo=Date.now}const tp=[{demux:zL,remux:QL},{demux:Il,remux:ep},{demux:NL,remux:ep},{demux:ML,remux:ep}];tp.splice(2,0,{demux:OL,remux:ep});class BT{constructor(e,t,n,r,o,u){this.asyncResult=!1,this.logger=void 0,this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.observer=e,this.typeSupported=t,this.config=n,this.id=o,this.logger=u}configure(e){this.transmuxConfig=e,this.decrypter&&this.decrypter.reset()}push(e,t,n,r){const o=n.transmuxing;o.executeStart=jo();let u=new Uint8Array(e);const{currentTransmuxState:d,transmuxConfig:h}=this;r&&(this.currentTransmuxState=r);const{contiguous:f,discontinuity:y,trackSwitch:m,accurateTimeOffset:p,timeOffset:T,initSegmentChange:v}=r||d,{audioCodec:A,videoCodec:k,defaultInitPts:B,duration:$,initSegmentData:K}=h,ue=JL(u,t);if(ue&&md(ue.method)){const Q=this.getDecrypter(),be=$E(ue.method);if(Q.isSync()){let F=Q.softwareDecrypt(u,ue.key.buffer,ue.iv.buffer,be);if(n.part>-1){const Qe=Q.flush();F=Qe&&Qe.buffer}if(!F)return o.executeEnd=jo(),lb(n);u=new Uint8Array(F)}else return this.asyncResult=!0,this.decryptionPromise=Q.webCryptoDecrypt(u,ue.key.buffer,ue.iv.buffer,be).then(F=>{const ke=this.push(F,null,n);return this.decryptionPromise=null,ke}),this.decryptionPromise}const me=this.needsProbing(y,m);if(me){const Q=this.configureTransmuxer(u);if(Q)return this.logger.warn(`[transmuxer] ${Q.message}`),this.observer.emit(Ee.ERROR,Ee.ERROR,{type:Qn.MEDIA_ERROR,details:kt.FRAG_PARSING_ERROR,fatal:!1,error:Q,reason:Q.message}),o.executeEnd=jo(),lb(n)}(y||m||v||me)&&this.resetInitSegment(K,A,k,$,t),(y||v||me)&&this.resetInitialTimestamp(B),f||this.resetContiguity();const Te=this.transmux(u,ue,T,p,n);this.asyncResult=Ch(Te);const X=this.currentTransmuxState;return X.contiguous=!0,X.discontinuity=!1,X.trackSwitch=!1,o.executeEnd=jo(),Te}flush(e){const t=e.transmuxing;t.executeStart=jo();const{decrypter:n,currentTransmuxState:r,decryptionPromise:o}=this;if(o)return this.asyncResult=!0,o.then(()=>this.flush(e));const u=[],{timeOffset:d}=r;if(n){const m=n.flush();m&&u.push(this.push(m.buffer,null,e))}const{demuxer:h,remuxer:f}=this;if(!h||!f){t.executeEnd=jo();const m=[lb(e)];return this.asyncResult?Promise.resolve(m):m}const y=h.flush(d);return Ch(y)?(this.asyncResult=!0,y.then(m=>(this.flushRemux(u,m,e),u))):(this.flushRemux(u,y,e),this.asyncResult?Promise.resolve(u):u)}flushRemux(e,t,n){const{audioTrack:r,videoTrack:o,id3Track:u,textTrack:d}=t,{accurateTimeOffset:h,timeOffset:f}=this.currentTransmuxState;this.logger.log(`[transmuxer.ts]: Flushed ${this.id} sn: ${n.sn}${n.part>-1?" part: "+n.part:""} of ${this.id===jn.MAIN?"level":"track"} ${n.level}`);const y=this.remuxer.remux(r,o,u,d,f,h,!0,this.id);e.push({remuxResult:y,chunkMeta:n}),n.transmuxing.executeEnd=jo()}resetInitialTimestamp(e){const{demuxer:t,remuxer:n}=this;!t||!n||(t.resetTimeStamp(e),n.resetTimeStamp(e))}resetContiguity(){const{demuxer:e,remuxer:t}=this;!e||!t||(e.resetContiguity(),t.resetNextTimestamp())}resetInitSegment(e,t,n,r,o){const{demuxer:u,remuxer:d}=this;!u||!d||(u.resetInitSegment(e,t,n,r),d.resetInitSegment(e,t,n,o))}destroy(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)}transmux(e,t,n,r,o){let u;return t&&t.method==="SAMPLE-AES"?u=this.transmuxSampleAes(e,t,n,r,o):u=this.transmuxUnencrypted(e,n,r,o),u}transmuxUnencrypted(e,t,n,r){const{audioTrack:o,videoTrack:u,id3Track:d,textTrack:h}=this.demuxer.demux(e,t,!1,!this.config.progressive);return{remuxResult:this.remuxer.remux(o,u,d,h,t,n,!1,this.id),chunkMeta:r}}transmuxSampleAes(e,t,n,r,o){return this.demuxer.demuxSampleAes(e,t,n).then(u=>({remuxResult:this.remuxer.remux(u.audioTrack,u.videoTrack,u.id3Track,u.textTrack,n,r,!1,this.id),chunkMeta:o}))}configureTransmuxer(e){const{config:t,observer:n,typeSupported:r}=this;let o;for(let m=0,p=tp.length;m<p;m++){var u;if((u=tp[m].demux)!=null&&u.probe(e,this.logger)){o=tp[m];break}}if(!o)return new Error("Failed to find demuxer by probing fragment data");const d=this.demuxer,h=this.remuxer,f=o.remux,y=o.demux;(!h||!(h instanceof f))&&(this.remuxer=new f(n,t,r,this.logger)),(!d||!(d instanceof y))&&(this.demuxer=new y(n,t,r,this.logger),this.probe=y.probe)}needsProbing(e,t){return!this.demuxer||!this.remuxer||e||t}getDecrypter(){let e=this.decrypter;return e||(e=this.decrypter=new qE(this.config)),e}}function JL(i,e){let t=null;return i.byteLength>0&&(e==null?void 0:e.key)!=null&&e.iv!==null&&e.method!=null&&(t=e),t}const lb=i=>({remuxResult:{},chunkMeta:i});function Ch(i){return"then"in i&&i.then instanceof Function}class eN{constructor(e,t,n,r,o){this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=e,this.videoCodec=t,this.initSegmentData=n,this.duration=r,this.defaultInitPts=o||null}}class tN{constructor(e,t,n,r,o,u){this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.initSegmentChange=void 0,this.discontinuity=e,this.contiguous=t,this.accurateTimeOffset=n,this.trackSwitch=r,this.timeOffset=o,this.initSegmentChange=u}}let jT=0;class FA{constructor(e,t,n,r){this.error=null,this.hls=void 0,this.id=void 0,this.instanceNo=jT++,this.observer=void 0,this.frag=null,this.part=null,this.useWorker=void 0,this.workerContext=null,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0,this.onWorkerMessage=h=>{const f=h.data,y=this.hls;if(!(!y||!(f!=null&&f.event)||f.instanceNo!==this.instanceNo))switch(f.event){case"init":{var m;const p=(m=this.workerContext)==null?void 0:m.objectURL;p&&self.URL.revokeObjectURL(p);break}case"transmuxComplete":{this.handleTransmuxComplete(f.data);break}case"flush":{this.onFlush(f.data);break}case"workerLog":{y.logger[f.data.logType]&&y.logger[f.data.logType](f.data.message);break}default:{f.data=f.data||{},f.data.frag=this.frag,f.data.part=this.part,f.data.id=this.id,y.trigger(f.event,f.data);break}}},this.onWorkerError=h=>{if(!this.hls)return;const f=new Error(`${h.message}  (${h.filename}:${h.lineno})`);this.hls.config.enableWorker=!1,this.hls.logger.warn(`Error in "${this.id}" Web Worker, fallback to inline`),this.hls.trigger(Ee.ERROR,{type:Qn.OTHER_ERROR,details:kt.INTERNAL_EXCEPTION,fatal:!1,event:"demuxerWorker",error:f})};const o=e.config;this.hls=e,this.id=t,this.useWorker=!!o.enableWorker,this.onTransmuxComplete=n,this.onFlush=r;const u=(h,f)=>{f=f||{},f.frag=this.frag||void 0,h===Ee.ERROR&&(f=f,f.parent=this.id,f.part=this.part,this.error=f.error),this.hls.trigger(h,f)};this.observer=new KE,this.observer.on(Ee.FRAG_DECRYPTED,u),this.observer.on(Ee.ERROR,u);const d=nT(o.preferManagedMediaSource);if(this.useWorker&&typeof Worker<"u"){const h=this.hls.logger;if(o.workerPath||aL()){try{o.workerPath?(h.log(`loading Web Worker ${o.workerPath} for "${t}"`),this.workerContext=oL(o.workerPath)):(h.log(`injecting Web Worker for "${t}"`),this.workerContext=sL());const{worker:y}=this.workerContext;y.addEventListener("message",this.onWorkerMessage),y.addEventListener("error",this.onWorkerError),y.postMessage({instanceNo:this.instanceNo,cmd:"init",typeSupported:d,id:t,config:ei(o)})}catch(y){h.warn(`Error setting up "${t}" Web Worker, fallback to inline`,y),this.terminateWorker(),this.error=null,this.transmuxer=new BT(this.observer,d,o,"",t,e.logger)}return}}this.transmuxer=new BT(this.observer,d,o,"",t,e.logger)}reset(){if(this.frag=null,this.part=null,this.workerContext){const e=this.instanceNo;this.instanceNo=jT++;const t=this.hls.config,n=nT(t.preferManagedMediaSource);this.workerContext.worker.postMessage({instanceNo:this.instanceNo,cmd:"reset",resetNo:e,typeSupported:n,id:this.id,config:ei(t)})}}terminateWorker(){if(this.workerContext){const{worker:e}=this.workerContext;this.workerContext=null,e.removeEventListener("message",this.onWorkerMessage),e.removeEventListener("error",this.onWorkerError),lL(this.hls.config.workerPath)}}destroy(){if(this.workerContext)this.terminateWorker(),this.onWorkerMessage=this.onWorkerError=null;else{const t=this.transmuxer;t&&(t.destroy(),this.transmuxer=null)}const e=this.observer;e&&e.removeAllListeners(),this.frag=null,this.part=null,this.observer=null,this.hls=null}push(e,t,n,r,o,u,d,h,f,y){var m,p;f.transmuxing.start=self.performance.now();const{instanceNo:T,transmuxer:v}=this,A=u?u.start:o.start,k=o.decryptdata,B=this.frag,$=!(B&&o.cc===B.cc),K=!(B&&f.level===B.level),ue=B?f.sn-B.sn:-1,me=this.part?f.part-this.part.index:-1,Te=ue===0&&f.id>1&&f.id===(B==null?void 0:B.stats.chunkCount),X=!K&&(ue===1||ue===0&&(me===1||Te&&me<=0)),Q=self.performance.now();(K||ue||o.stats.parsing.start===0)&&(o.stats.parsing.start=Q),u&&(me||!X)&&(u.stats.parsing.start=Q);const be=!(B&&((m=o.initSegment)==null?void 0:m.url)===((p=B.initSegment)==null?void 0:p.url)),F=new tN($,X,h,K,A,be);if(!X||$||be){this.hls.logger.log(`[transmuxer-interface]: Starting new transmux session for ${o.type} sn: ${f.sn}${f.part>-1?" part: "+f.part:""} ${this.id===jn.MAIN?"level":"track"}: ${f.level} id: ${f.id}
        discontinuity: ${$}
        trackSwitch: ${K}
        contiguous: ${X}
        accurateTimeOffset: ${h}
        timeOffset: ${A}
        initSegmentChange: ${be}`);const ke=new eN(n,r,t,d,y);this.configureTransmuxer(ke)}if(this.frag=o,this.part=u,this.workerContext)this.workerContext.worker.postMessage({instanceNo:T,cmd:"demux",data:e,decryptdata:k,chunkMeta:f,state:F},e instanceof ArrayBuffer?[e]:[]);else if(v){const ke=v.push(e,k,f,F);Ch(ke)?ke.then(Qe=>{this.handleTransmuxComplete(Qe)}).catch(Qe=>{this.transmuxerError(Qe,f,"transmuxer-interface push error")}):this.handleTransmuxComplete(ke)}}flush(e){e.transmuxing.start=self.performance.now();const{instanceNo:t,transmuxer:n}=this;if(this.workerContext)this.workerContext.worker.postMessage({instanceNo:t,cmd:"flush",chunkMeta:e});else if(n){const r=n.flush(e);Ch(r)?r.then(o=>{this.handleFlushResult(o,e)}).catch(o=>{this.transmuxerError(o,e,"transmuxer-interface flush error")}):this.handleFlushResult(r,e)}}transmuxerError(e,t,n){this.hls&&(this.error=e,this.hls.trigger(Ee.ERROR,{type:Qn.MEDIA_ERROR,details:kt.FRAG_PARSING_ERROR,chunkMeta:t,frag:this.frag||void 0,part:this.part||void 0,fatal:!1,error:e,err:e,reason:n}))}handleFlushResult(e,t){e.forEach(n=>{this.handleTransmuxComplete(n)}),this.onFlush(t)}configureTransmuxer(e){const{instanceNo:t,transmuxer:n}=this;this.workerContext?this.workerContext.worker.postMessage({instanceNo:t,cmd:"configure",config:e}):n&&n.configure(e)}handleTransmuxComplete(e){e.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(e)}}const qT=100;class nN extends VE{constructor(e,t,n){super(e,t,n,"audio-stream-controller",jn.AUDIO),this.mainAnchor=null,this.mainFragLoading=null,this.audioOnly=!1,this.bufferedTrack=null,this.switchingTrack=null,this.trackId=-1,this.waitingData=null,this.mainDetails=null,this.flushing=!1,this.bufferFlushed=!1,this.cachedTrackLoadedData=null,this.registerListeners()}onHandlerDestroying(){this.unregisterListeners(),super.onHandlerDestroying(),this.resetItem()}resetItem(){this.mainDetails=this.mainAnchor=this.mainFragLoading=this.bufferedTrack=this.switchingTrack=this.waitingData=this.cachedTrackLoadedData=null}registerListeners(){super.registerListeners();const{hls:e}=this;e.on(Ee.LEVEL_LOADED,this.onLevelLoaded,this),e.on(Ee.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),e.on(Ee.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(Ee.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.on(Ee.BUFFER_RESET,this.onBufferReset,this),e.on(Ee.BUFFER_CREATED,this.onBufferCreated,this),e.on(Ee.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(Ee.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(Ee.INIT_PTS_FOUND,this.onInitPtsFound,this),e.on(Ee.FRAG_LOADING,this.onFragLoading,this),e.on(Ee.FRAG_BUFFERED,this.onFragBuffered,this)}unregisterListeners(){const{hls:e}=this;e&&(super.unregisterListeners(),e.off(Ee.LEVEL_LOADED,this.onLevelLoaded,this),e.off(Ee.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),e.off(Ee.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(Ee.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.off(Ee.BUFFER_RESET,this.onBufferReset,this),e.off(Ee.BUFFER_CREATED,this.onBufferCreated,this),e.off(Ee.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(Ee.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(Ee.INIT_PTS_FOUND,this.onInitPtsFound,this),e.off(Ee.FRAG_LOADING,this.onFragLoading,this),e.off(Ee.FRAG_BUFFERED,this.onFragBuffered,this))}onInitPtsFound(e,{frag:t,id:n,initPTS:r,timescale:o,trackId:u}){if(n===jn.MAIN){const d=t.cc,h=this.fragCurrent;if(this.initPTS[d]={baseTime:r,timescale:o,trackId:u},this.log(`InitPTS for cc: ${d} found from main: ${r/o} (${r}/${o}) trackId: ${u}`),this.mainAnchor=t,this.state===cn.WAITING_INIT_PTS){const f=this.waitingData;(!f&&!this.loadingParts||f&&f.frag.cc!==d)&&this.syncWithAnchor(t,f==null?void 0:f.frag)}else!this.hls.hasEnoughToStart&&h&&h.cc!==d?(h.abortRequests(),this.syncWithAnchor(t,h)):this.state===cn.IDLE&&this.tick()}}getLoadPosition(){return!this.startFragRequested&&this.nextLoadPosition>=0?this.nextLoadPosition:super.getLoadPosition()}syncWithAnchor(e,t){var n;const r=((n=this.mainFragLoading)==null?void 0:n.frag)||null;if(t&&(r==null?void 0:r.cc)===t.cc)return;const o=(r||e).cc,u=this.getLevelDetails(),d=this.getLoadPosition(),h=eA(u,o,d);h&&(this.log(`Syncing with main frag at ${h.start} cc ${h.cc}`),this.startFragRequested=!1,this.nextLoadPosition=h.start,this.resetLoadingState(),this.state===cn.IDLE&&this.doTickIdle())}startLoad(e,t){if(!this.levels){this.startPosition=e,this.state=cn.STOPPED;return}const n=this.lastCurrentTime;this.stopLoad(),this.setInterval(qT),n>0&&e===-1?(this.log(`Override startPosition with lastCurrentTime @${n.toFixed(3)}`),e=n,this.state=cn.IDLE):this.state=cn.WAITING_TRACK,this.nextLoadPosition=this.lastCurrentTime=e+this.timelineOffset,this.startPosition=t?-1:e,this.tick()}doTick(){switch(this.state){case cn.IDLE:this.doTickIdle();break;case cn.WAITING_TRACK:{const{levels:e,trackId:t}=this,n=e==null?void 0:e[t],r=n==null?void 0:n.details;if(r&&!this.waitForLive(n)){if(this.waitForCdnTuneIn(r))break;this.state=cn.WAITING_INIT_PTS}break}case cn.FRAG_LOADING_WAITING_RETRY:{this.checkRetryDate();break}case cn.WAITING_INIT_PTS:{const e=this.waitingData;if(e){const{frag:t,part:n,cache:r,complete:o}=e,u=this.mainAnchor;if(this.initPTS[t.cc]!==void 0){this.waitingData=null,this.state=cn.FRAG_LOADING;const d=r.flush().buffer,h={frag:t,part:n,payload:d,networkDetails:null};this._handleFragmentLoadProgress(h),o&&super._handleFragmentLoadComplete(h)}else u&&u.cc!==e.frag.cc&&this.syncWithAnchor(u,e.frag)}else this.state=cn.IDLE}}this.onTickEnd()}resetLoadingState(){const e=this.waitingData;e&&(this.fragmentTracker.removeFragment(e.frag),this.waitingData=null),super.resetLoadingState()}onTickEnd(){const{media:e}=this;e!=null&&e.readyState&&(this.lastCurrentTime=e.currentTime)}doTickIdle(){var e;const{hls:t,levels:n,media:r,trackId:o}=this,u=t.config;if(!this.buffering||!r&&!this.primaryPrefetch&&(this.startFragRequested||!u.startFragPrefetch)||!(n!=null&&n[o]))return;const d=n[o],h=d.details;if(!h||this.waitForLive(d)||this.waitForCdnTuneIn(h)){this.state=cn.WAITING_TRACK,this.startFragRequested=!1;return}const f=this.mediaBuffer?this.mediaBuffer:this.media;this.bufferFlushed&&f&&(this.bufferFlushed=!1,this.afterBufferFlushed(f,Jr.AUDIO,jn.AUDIO));const y=this.getFwdBufferInfo(f,jn.AUDIO);if(y===null)return;if(!this.switchingTrack&&this._streamEnded(y,h)){t.trigger(Ee.BUFFER_EOS,{type:"audio"}),this.state=cn.ENDED;return}const m=y.len,p=t.maxBufferLength,T=h.fragments,v=T[0].start,A=this.getLoadPosition(),k=this.flushing?A:y.end;if(this.switchingTrack&&r){const K=A;h.PTSKnown&&K<v&&(y.end>v||y.nextStart)&&(this.log("Alt audio track ahead of main track, seek to start of alt audio track"),r.currentTime=v+.05)}if(m>=p&&!this.switchingTrack&&k<T[T.length-1].start)return;let B=this.getNextFragment(k,h);if(B&&this.isLoopLoading(B,k)&&(B=this.getNextFragmentLoopLoading(B,h,y,jn.MAIN,p)),!B){this.bufferFlushed=!0;return}let $=((e=this.mainFragLoading)==null?void 0:e.frag)||null;if(!this.audioOnly&&this.startFragRequested&&$&&vi(B)&&!B.endList&&(!h.live||!this.loadingParts&&k<this.hls.liveSyncPosition)&&(this.fragmentTracker.getState($)===Oi.OK&&(this.mainFragLoading=$=null),$&&vi($))){if(B.start>$.end){const ue=this.fragmentTracker.getFragAtPos(k,jn.MAIN);ue&&ue.end>$.end&&($=ue,this.mainFragLoading={frag:ue,targetBufferTime:null})}if(B.start>$.end)return}this.loadFragment(B,d,k)}onMediaDetaching(e,t){this.bufferFlushed=this.flushing=!1,super.onMediaDetaching(e,t)}onAudioTracksUpdated(e,{audioTracks:t}){this.resetTransmuxer(),this.levels=t.map(n=>new Ih(n))}onAudioTrackSwitching(e,t){const n=!!t.url;this.trackId=t.id;const{fragCurrent:r}=this;r&&(r.abortRequests(),this.removeUnbufferedFrags(r.start)),this.resetLoadingState(),n?(this.switchingTrack=t,this.flushAudioIfNeeded(t),this.state!==cn.STOPPED&&(this.setInterval(qT),this.state=cn.IDLE,this.tick())):(this.resetTransmuxer(),this.switchingTrack=null,this.bufferedTrack=t,this.clearInterval())}onManifestLoading(){super.onManifestLoading(),this.bufferFlushed=this.flushing=this.audioOnly=!1,this.resetItem(),this.trackId=-1}onLevelLoaded(e,t){this.mainDetails=t.details;const n=this.cachedTrackLoadedData;n&&(this.cachedTrackLoadedData=null,this.onAudioTrackLoaded(Ee.AUDIO_TRACK_LOADED,n))}onAudioTrackLoaded(e,t){var n;const{levels:r}=this,{details:o,id:u,groupId:d,track:h}=t;if(!r){this.warn(`Audio tracks reset while loading track ${u} "${h.name}" of "${d}"`);return}const f=this.mainDetails;if(!f||o.endCC>f.endCC||f.expired){this.cachedTrackLoadedData=t,this.state!==cn.STOPPED&&(this.state=cn.WAITING_TRACK);return}this.cachedTrackLoadedData=null,this.log(`Audio track ${u} "${h.name}" of "${d}" loaded [${o.startSN},${o.endSN}]${o.lastPartSn?`[part-${o.lastPartSn}-${o.lastPartIndex}]`:""},duration:${o.totalduration}`);const y=r[u];let m=0;if(o.live||(n=y.details)!=null&&n.live){if(this.checkLiveUpdate(o),o.deltaUpdateFailed)return;if(y.details){var p;m=this.alignPlaylists(o,y.details,(p=this.levelLastLoaded)==null?void 0:p.details)}o.alignedSliding||(bA(o,f),o.alignedSliding||Sp(o,f),m=o.fragmentStart)}y.details=o,this.levelLastLoaded=y,this.startFragRequested||this.setStartPosition(f,m),this.hls.trigger(Ee.AUDIO_TRACK_UPDATED,{details:o,id:u,groupId:t.groupId}),this.state===cn.WAITING_TRACK&&!this.waitForCdnTuneIn(o)&&(this.state=cn.IDLE),this.tick()}_handleFragmentLoadProgress(e){var t;const n=e.frag,{part:r,payload:o}=e,{config:u,trackId:d,levels:h}=this;if(!h){this.warn(`Audio tracks were reset while fragment load was in progress. Fragment ${n.sn} of level ${n.level} will not be buffered`);return}const f=h[d];if(!f){this.warn("Audio track is undefined on fragment load progress");return}const y=f.details;if(!y){this.warn("Audio track details undefined on fragment load progress"),this.removeUnbufferedFrags(n.start);return}const m=u.defaultAudioCodec||f.audioCodec||"mp4a.40.2";let p=this.transmuxer;p||(p=this.transmuxer=new FA(this.hls,jn.AUDIO,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)));const T=this.initPTS[n.cc],v=(t=n.initSegment)==null?void 0:t.data;if(T!==void 0){const k=r?r.index:-1,B=k!==-1,$=new GE(n.level,n.sn,n.stats.chunkCount,o.byteLength,k,B);p.push(o,v,m,"",n,r,y.totalduration,!1,$,T)}else{this.log(`Unknown video PTS for cc ${n.cc}, waiting for video PTS before demuxing audio frag ${n.sn} of [${y.startSN} ,${y.endSN}],track ${d}`);const{cache:A}=this.waitingData=this.waitingData||{frag:n,part:r,cache:new EA,complete:!1};A.push(new Uint8Array(o)),this.state!==cn.STOPPED&&(this.state=cn.WAITING_INIT_PTS)}}_handleFragmentLoadComplete(e){if(this.waitingData){this.waitingData.complete=!0;return}super._handleFragmentLoadComplete(e)}onBufferReset(){this.mediaBuffer=null}onBufferCreated(e,t){this.bufferFlushed=this.flushing=!1;const n=t.tracks.audio;n&&(this.mediaBuffer=n.buffer||null)}onFragLoading(e,t){!this.audioOnly&&t.frag.type===jn.MAIN&&vi(t.frag)&&(this.mainFragLoading=t,this.state===cn.IDLE&&this.tick())}onFragBuffered(e,t){const{frag:n,part:r}=t;if(n.type!==jn.AUDIO){!this.audioOnly&&n.type===jn.MAIN&&!n.elementaryStreams.video&&!n.elementaryStreams.audiovideo&&(this.audioOnly=!0,this.mainFragLoading=null);return}if(this.fragContextChanged(n)){this.warn(`Fragment ${n.sn}${r?" p: "+r.index:""} of level ${n.level} finished buffering, but was aborted. state: ${this.state}, audioSwitch: ${this.switchingTrack?this.switchingTrack.name:"false"}`);return}if(vi(n)){this.fragPrevious=n;const o=this.switchingTrack;o&&(this.bufferedTrack=o,this.switchingTrack=null,this.hls.trigger(Ee.AUDIO_TRACK_SWITCHED,qr({},o)))}this.fragBufferedComplete(n,r),this.media&&this.tick()}onError(e,t){var n;if(t.fatal){this.state=cn.ERROR;return}switch(t.details){case kt.FRAG_GAP:case kt.FRAG_PARSING_ERROR:case kt.FRAG_DECRYPT_ERROR:case kt.FRAG_LOAD_ERROR:case kt.FRAG_LOAD_TIMEOUT:case kt.KEY_LOAD_ERROR:case kt.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(jn.AUDIO,t);break;case kt.AUDIO_TRACK_LOAD_ERROR:case kt.AUDIO_TRACK_LOAD_TIMEOUT:case kt.LEVEL_PARSING_ERROR:!t.levelRetry&&this.state===cn.WAITING_TRACK&&((n=t.context)==null?void 0:n.type)===Tr.AUDIO_TRACK&&(this.state=cn.IDLE);break;case kt.BUFFER_ADD_CODEC_ERROR:case kt.BUFFER_APPEND_ERROR:if(t.parent!=="audio")return;this.reduceLengthAndFlushBuffer(t)||this.resetLoadingState();break;case kt.BUFFER_FULL_ERROR:if(t.parent!=="audio")return;this.reduceLengthAndFlushBuffer(t)&&(this.bufferedTrack=null,super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio"));break;case kt.INTERNAL_EXCEPTION:this.recoverWorkerError(t);break}}onBufferFlushing(e,{type:t}){t!==Jr.VIDEO&&(this.flushing=!0)}onBufferFlushed(e,{type:t}){if(t!==Jr.VIDEO){this.flushing=!1,this.bufferFlushed=!0,this.state===cn.ENDED&&(this.state=cn.IDLE);const n=this.mediaBuffer||this.media;n&&(this.afterBufferFlushed(n,t,jn.AUDIO),this.tick())}}_handleTransmuxComplete(e){var t;const n="audio",{hls:r}=this,{remuxResult:o,chunkMeta:u}=e,d=this.getCurrentContext(u);if(!d){this.resetWhenMissingContext(u);return}const{frag:h,part:f,level:y}=d,{details:m}=y,{audio:p,text:T,id3:v,initSegment:A}=o;if(this.fragContextChanged(h)||!m){this.fragmentTracker.removeFragment(h);return}if(this.state=cn.PARSING,this.switchingTrack&&p&&this.completeAudioSwitch(this.switchingTrack),A!=null&&A.tracks){const k=h.initSegment||h;if(this.unhandledEncryptionError(A,h))return;this._bufferInitSegment(y,A.tracks,k,u),r.trigger(Ee.FRAG_PARSING_INIT_SEGMENT,{frag:k,id:n,tracks:A.tracks})}if(p){const{startPTS:k,endPTS:B,startDTS:$,endDTS:K}=p;f&&(f.elementaryStreams[Jr.AUDIO]={startPTS:k,endPTS:B,startDTS:$,endDTS:K}),h.setElementaryStreamInfo(Jr.AUDIO,k,B,$,K),this.bufferFragmentData(p,h,f,u)}if(v!=null&&(t=v.samples)!=null&&t.length){const k=Kr({id:n,frag:h,details:m},v);r.trigger(Ee.FRAG_PARSING_METADATA,k)}if(T){const k=Kr({id:n,frag:h,details:m},T);r.trigger(Ee.FRAG_PARSING_USERDATA,k)}}_bufferInitSegment(e,t,n,r){if(this.state!==cn.PARSING||(t.video&&delete t.video,t.audiovideo&&delete t.audiovideo,!t.audio))return;const o=t.audio;o.id=jn.AUDIO;const u=e.audioCodec;this.log(`Init audio buffer, container:${o.container}, codecs[level/parsed]=[${u}/${o.codec}]`),u&&u.split(",").length===1&&(o.levelCodec=u),this.hls.trigger(Ee.BUFFER_CODECS,t);const d=o.initSegment;if(d!=null&&d.byteLength){const h={type:"audio",frag:n,part:null,chunkMeta:r,parent:n.type,data:d};this.hls.trigger(Ee.BUFFER_APPENDING,h)}this.tickImmediate()}loadFragment(e,t,n){const r=this.fragmentTracker.getState(e);if(this.switchingTrack||r===Oi.NOT_LOADED||r===Oi.PARTIAL){var o;if(!vi(e))this._loadInitSegment(e,t);else if((o=t.details)!=null&&o.live&&!this.initPTS[e.cc]){this.log(`Waiting for video PTS in continuity counter ${e.cc} of live stream before loading audio fragment ${e.sn} of level ${this.trackId}`),this.state=cn.WAITING_INIT_PTS;const u=this.mainDetails;u&&u.fragmentStart!==t.details.fragmentStart&&Sp(t.details,u)}else super.loadFragment(e,t,n)}else this.clearTrackerIfNeeded(e)}flushAudioIfNeeded(e){if(this.media&&this.bufferedTrack){const{name:t,lang:n,assocLang:r,characteristics:o,audioCodec:u,channels:d}=this.bufferedTrack;ku({name:t,lang:n,assocLang:r,characteristics:o,audioCodec:u,channels:d},e,xu)||(yp(e.url,this.hls)?(this.log("Switching audio track : flushing all audio"),super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio"),this.bufferedTrack=null):this.bufferedTrack=e)}}completeAudioSwitch(e){const{hls:t}=this;this.flushAudioIfNeeded(e),this.bufferedTrack=e,this.switchingTrack=null,t.trigger(Ee.AUDIO_TRACK_SWITCHED,qr({},e))}}class e0 extends gs{constructor(e,t){super(t,e.logger),this.hls=void 0,this.canLoad=!1,this.timer=-1,this.hls=e}destroy(){this.clearTimer(),this.hls=this.log=this.warn=null}clearTimer(){this.timer!==-1&&(self.clearTimeout(this.timer),this.timer=-1)}startLoad(){this.canLoad=!0,this.loadPlaylist()}stopLoad(){this.canLoad=!1,this.clearTimer()}switchParams(e,t,n){const r=t==null?void 0:t.renditionReports;if(r){let o=-1;for(let u=0;u<r.length;u++){const d=r[u];let h;try{h=new self.URL(d.URI,t.url).href}catch(f){this.warn(`Could not construct new URL for Rendition Report: ${f}`),h=d.URI||""}if(h===e){o=u;break}else h===e.substring(0,h.length)&&(o=u)}if(o!==-1){const u=r[o],d=parseInt(u["LAST-MSN"])||t.lastPartSn;let h=parseInt(u["LAST-PART"])||t.lastPartIndex;if(this.hls.config.lowLatencyMode){const y=Math.min(t.age-t.partTarget,t.targetduration);h>=0&&y>t.partTarget&&(h+=1)}const f=n&&rT(n);return new iT(d,h>=0?h:void 0,f)}}}loadPlaylist(e){this.clearTimer()}loadingPlaylist(e,t){this.clearTimer()}shouldLoadPlaylist(e){return this.canLoad&&!!e&&!!e.url&&(!e.details||e.details.live)}getUrlWithDirectives(e,t){if(t)try{return t.addDirectives(e)}catch(n){this.warn(`Could not construct new URL with HLS Delivery Directives: ${n}`)}return e}playlistLoaded(e,t,n){const{details:r,stats:o}=t,u=self.performance.now(),d=o.loading.first?Math.max(0,u-o.loading.first):0;r.advancedDateTime=Date.now()-d;const h=this.hls.config.timelineOffset;if(h!==r.appliedTimelineOffset){const y=Math.max(h||0,0);r.appliedTimelineOffset=y,r.fragments.forEach(m=>{m.setStart(m.playlistOffset+y)})}if(r.live||n!=null&&n.live){const y="levelInfo"in t?t.levelInfo:t.track;if(r.reloaded(n),n&&r.fragments.length>0){Y1(n,r,this);const $=r.playlistParsingError;if($){this.warn($);const K=this.hls;if(!K.config.ignorePlaylistParsingErrors){var f;const{networkDetails:ue}=t;K.trigger(Ee.ERROR,{type:Qn.NETWORK_ERROR,details:kt.LEVEL_PARSING_ERROR,fatal:!1,url:r.url,error:$,reason:$.message,level:t.level||void 0,parent:(f=r.fragments[0])==null?void 0:f.type,networkDetails:ue,stats:o});return}r.playlistParsingError=null}}r.requestScheduled===-1&&(r.requestScheduled=o.loading.start);const m=this.hls.mainForwardBufferInfo,p=m?m.end-m.len:0,T=(r.edge-p)*1e3,v=hA(r,T);if(r.requestScheduled+v<u?r.requestScheduled=u:r.requestScheduled+=v,this.log(`live playlist ${e} ${r.advanced?"REFRESHED "+r.lastPartSn+"-"+r.lastPartIndex:r.updated?"UPDATED":"MISSED"}`),!this.canLoad||!r.live)return;let A,k,B;if(r.canBlockReload&&r.endSN&&r.advanced){const $=this.hls.config.lowLatencyMode,K=r.lastPartSn,ue=r.endSN,me=r.lastPartIndex,Te=me!==-1,X=K===ue;Te?X?(k=ue+1,B=$?0:me):(k=K,B=$?me+1:r.maxPartIndex):k=ue+1;const Q=r.age,be=Q+r.ageHeader;let F=Math.min(be-r.partTarget,r.targetduration*1.5);if(F>0){if(be>r.targetduration*3)this.log(`Playlist last advanced ${Q.toFixed(2)}s ago. Omitting segment and part directives.`),k=void 0,B=void 0;else if(n!=null&&n.tuneInGoal&&be-r.partTarget>n.tuneInGoal)this.warn(`CDN Tune-in goal increased from: ${n.tuneInGoal} to: ${F} with playlist age: ${r.age}`),F=0;else{const ke=Math.floor(F/r.targetduration);if(k+=ke,B!==void 0){const Qe=Math.round(F%r.targetduration/r.partTarget);B+=Qe}this.log(`CDN Tune-in age: ${r.ageHeader}s last advanced ${Q.toFixed(2)}s goal: ${F} skip sn ${ke} to part ${B}`)}r.tuneInGoal=F}if(A=this.getDeliveryDirectives(r,t.deliveryDirectives,k,B),$||!X){r.requestScheduled=u,this.loadingPlaylist(y,A);return}}else(r.canBlockReload||r.canSkipUntil)&&(A=this.getDeliveryDirectives(r,t.deliveryDirectives,k,B));A&&k!==void 0&&r.canBlockReload&&(r.requestScheduled=o.loading.first+Math.max(v-d*2,v/2)),this.scheduleLoading(y,A,r)}else this.clearTimer()}scheduleLoading(e,t,n){const r=n||e.details;if(!r){this.loadingPlaylist(e,t);return}const o=self.performance.now(),u=r.requestScheduled;if(o>=u){this.loadingPlaylist(e,t);return}const d=u-o;this.log(`reload live playlist ${e.name||e.bitrate+"bps"} in ${Math.round(d)} ms`),this.clearTimer(),this.timer=self.setTimeout(()=>this.loadingPlaylist(e,t),d)}getDeliveryDirectives(e,t,n,r){let o=rT(e);return t!=null&&t.skip&&e.deltaUpdateFailed&&(n=t.msn,r=t.part,o=Zm.No),new iT(n,r,o)}checkRetry(e){const t=e.details,n=bp(e),r=e.errorAction,{action:o,retryCount:u=0,retryConfig:d}=r||{},h=!!r&&!!d&&(o===Qi.RetryRequest||!r.resolved&&o===Qi.SendAlternateToPenaltyBox);if(h){var f;if(u>=d.maxNumRetry)return!1;if(n&&(f=e.context)!=null&&f.deliveryDirectives)this.warn(`Retrying playlist loading ${u+1}/${d.maxNumRetry} after "${t}" without delivery-directives`),this.loadPlaylist();else{const y=jE(d,u);this.clearTimer(),this.timer=self.setTimeout(()=>this.loadPlaylist(),y),this.warn(`Retrying playlist loading ${u+1}/${d.maxNumRetry} after "${t}" in ${y}ms`)}e.levelRetry=!0,r.resolved=!0}return h}}function UA(i,e){if(i.length!==e.length)return!1;for(let t=0;t<i.length;t++)if(!Dh(i[t].attrs,e[t].attrs))return!1;return!0}function Dh(i,e,t){const n=i["STABLE-RENDITION-ID"];return n&&!t?n===e["STABLE-RENDITION-ID"]:!(t||["LANGUAGE","NAME","CHARACTERISTICS","AUTOSELECT","DEFAULT","FORCED","ASSOC-LANGUAGE"]).some(r=>i[r]!==e[r])}function Qb(i,e){return e.label.toLowerCase()===i.name.toLowerCase()&&(!e.language||e.language.toLowerCase()===(i.lang||"").toLowerCase())}class rN extends e0{constructor(e){super(e,"audio-track-controller"),this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0,this.registerListeners()}registerListeners(){const{hls:e}=this;e.on(Ee.MANIFEST_LOADING,this.onManifestLoading,this),e.on(Ee.MANIFEST_PARSED,this.onManifestParsed,this),e.on(Ee.LEVEL_LOADING,this.onLevelLoading,this),e.on(Ee.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(Ee.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.on(Ee.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off(Ee.MANIFEST_LOADING,this.onManifestLoading,this),e.off(Ee.MANIFEST_PARSED,this.onManifestParsed,this),e.off(Ee.LEVEL_LOADING,this.onLevelLoading,this),e.off(Ee.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(Ee.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.off(Ee.ERROR,this.onError,this)}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,super.destroy()}onManifestLoading(){this.tracks=[],this.tracksInGroup=[],this.groupIds=null,this.currentTrack=null,this.trackId=-1,this.selectDefaultTrack=!0}onManifestParsed(e,t){this.tracks=t.audioTracks||[]}onAudioTrackLoaded(e,t){const{id:n,groupId:r,details:o}=t,u=this.tracksInGroup[n];if(!u||u.groupId!==r){this.warn(`Audio track with id:${n} and group:${r} not found in active group ${u==null?void 0:u.groupId}`);return}const d=u.details;u.details=t.details,this.log(`Audio track ${n} "${u.name}" lang:${u.lang} group:${r} loaded [${o.startSN}-${o.endSN}]`),n===this.trackId&&this.playlistLoaded(n,t,d)}onLevelLoading(e,t){this.switchLevel(t.level)}onLevelSwitching(e,t){this.switchLevel(t.level)}switchLevel(e){const t=this.hls.levels[e];if(!t)return;const n=t.audioGroups||null,r=this.groupIds;let o=this.currentTrack;if(!n||(r==null?void 0:r.length)!==(n==null?void 0:n.length)||n!=null&&n.some(d=>(r==null?void 0:r.indexOf(d))===-1)){this.groupIds=n,this.trackId=-1,this.currentTrack=null;const d=this.tracks.filter(p=>!n||n.indexOf(p.groupId)!==-1);if(d.length)this.selectDefaultTrack&&!d.some(p=>p.default)&&(this.selectDefaultTrack=!1),d.forEach((p,T)=>{p.id=T});else if(!o&&!this.tracksInGroup.length)return;this.tracksInGroup=d;const h=this.hls.config.audioPreference;if(!o&&h){const p=to(h,d,xu);if(p>-1)o=d[p];else{const T=to(h,this.tracks);o=this.tracks[T]}}let f=this.findTrackId(o);f===-1&&o&&(f=this.findTrackId(null));const y={audioTracks:d};this.log(`Updating audio tracks, ${d.length} track(s) found in group(s): ${n==null?void 0:n.join(",")}`),this.hls.trigger(Ee.AUDIO_TRACKS_UPDATED,y);const m=this.trackId;if(f!==-1&&m===-1)this.setAudioTrack(f);else if(d.length&&m===-1){var u;const p=new Error(`No audio track selected for current audio group-ID(s): ${(u=this.groupIds)==null?void 0:u.join(",")} track count: ${d.length}`);this.warn(p.message),this.hls.trigger(Ee.ERROR,{type:Qn.MEDIA_ERROR,details:kt.AUDIO_TRACK_LOAD_ERROR,fatal:!0,error:p})}}}onError(e,t){t.fatal||!t.context||t.context.type===Tr.AUDIO_TRACK&&t.context.id===this.trackId&&(!this.groupIds||this.groupIds.indexOf(t.context.groupId)!==-1)&&this.checkRetry(t)}get allAudioTracks(){return this.tracks}get audioTracks(){return this.tracksInGroup}get audioTrack(){return this.trackId}set audioTrack(e){this.selectDefaultTrack=!1,this.setAudioTrack(e)}setAudioOption(e){const t=this.hls;if(t.config.audioPreference=e,e){const n=this.allAudioTracks;if(this.selectDefaultTrack=!1,n.length){const r=this.currentTrack;if(r&&ku(e,r,xu))return r;const o=to(e,this.tracksInGroup,xu);if(o>-1){const u=this.tracksInGroup[o];return this.setAudioTrack(o),u}else if(r){let u=t.loadLevel;u===-1&&(u=t.firstAutoLevel);const d=m1(e,t.levels,n,u,xu);if(d===-1)return null;t.nextLoadLevel=d}if(e.channels||e.audioCodec){const u=to(e,n);if(u>-1)return n[u]}}}return null}setAudioTrack(e){const t=this.tracksInGroup;if(e<0||e>=t.length){this.warn(`Invalid audio track id: ${e}`);return}this.selectDefaultTrack=!1;const n=this.currentTrack,r=t[e],o=r.details&&!r.details.live;if(e===this.trackId&&r===n&&o||(this.log(`Switching to audio-track ${e} "${r.name}" lang:${r.lang} group:${r.groupId} channels:${r.channels}`),this.trackId=e,this.currentTrack=r,this.hls.trigger(Ee.AUDIO_TRACK_SWITCHING,qr({},r)),o))return;const u=this.switchParams(r.url,n==null?void 0:n.details,r.details);this.loadPlaylist(u)}findTrackId(e){const t=this.tracksInGroup;for(let n=0;n<t.length;n++){const r=t[n];if(!(this.selectDefaultTrack&&!r.default)&&(!e||ku(e,r,xu)))return n}if(e){const{name:n,lang:r,assocLang:o,characteristics:u,audioCodec:d,channels:h}=e;for(let f=0;f<t.length;f++){const y=t[f];if(ku({name:n,lang:r,assocLang:o,characteristics:u,audioCodec:d,channels:h},y,xu))return f}for(let f=0;f<t.length;f++){const y=t[f];if(Dh(e.attrs,y.attrs,["LANGUAGE","ASSOC-LANGUAGE","CHARACTERISTICS"]))return f}for(let f=0;f<t.length;f++){const y=t[f];if(Dh(e.attrs,y.attrs,["LANGUAGE"]))return f}}return-1}loadPlaylist(e){super.loadPlaylist();const t=this.currentTrack;this.shouldLoadPlaylist(t)&&yp(t.url,this.hls)&&this.scheduleLoading(t,e)}loadingPlaylist(e,t){super.loadingPlaylist(e,t);const n=e.id,r=e.groupId,o=this.getUrlWithDirectives(e.url,t),u=e.details,d=u==null?void 0:u.age;this.log(`Loading audio-track ${n} "${e.name}" lang:${e.lang} group:${r}${(t==null?void 0:t.msn)!==void 0?" at sn "+t.msn+" part "+t.part:""}${d&&u.live?" age "+d.toFixed(1)+(u.type&&" "+u.type||""):""} ${o}`),this.hls.trigger(Ee.AUDIO_TRACK_LOADING,{url:o,id:n,groupId:r,deliveryDirectives:t||null,track:e})}}class iN{constructor(e){this.tracks=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.tracks=e}destroy(){this.tracks=this.queues=null}append(e,t,n){if(this.queues===null||this.tracks===null)return;const r=this.queues[t];r.push(e),r.length===1&&!n&&this.executeNext(t)}appendBlocker(e){return new Promise(t=>{const n={label:"async-blocker",execute:t,onStart:()=>{},onComplete:()=>{},onError:()=>{}};this.append(n,e)})}prependBlocker(e){return new Promise(t=>{if(this.queues){const n={label:"async-blocker-prepend",execute:t,onStart:()=>{},onComplete:()=>{},onError:()=>{}};this.queues[e].unshift(n)}})}removeBlockers(){this.queues!==null&&[this.queues.video,this.queues.audio,this.queues.audiovideo].forEach(e=>{var t;const n=(t=e[0])==null?void 0:t.label;(n==="async-blocker"||n==="async-blocker-prepend")&&(e[0].execute(),e.splice(0,1))})}unblockAudio(e){if(this.queues===null)return;this.queues.audio[0]===e&&this.shiftAndExecuteNext("audio")}executeNext(e){if(this.queues===null||this.tracks===null)return;const t=this.queues[e];if(t.length){const r=t[0];try{r.execute()}catch(o){var n;if(r.onError(o),this.queues===null||this.tracks===null)return;const u=(n=this.tracks[e])==null?void 0:n.buffer;u!=null&&u.updating||this.shiftAndExecuteNext(e)}}}shiftAndExecuteNext(e){this.queues!==null&&(this.queues[e].shift(),this.executeNext(e))}current(e){var t;return((t=this.queues)==null?void 0:t[e][0])||null}toString(){const{queues:e,tracks:t}=this;return e===null||t===null?"<destroyed>":`
${this.list("video")}
${this.list("audio")}
${this.list("audiovideo")}}`}list(e){var t,n;return(t=this.queues)!=null&&t[e]||(n=this.tracks)!=null&&n[e]?`${e}: (${this.listSbInfo(e)}) ${this.listOps(e)}`:""}listSbInfo(e){var t;const n=(t=this.tracks)==null?void 0:t[e],r=n==null?void 0:n.buffer;return r?`SourceBuffer${r.updating?" updating":""}${n.ended?" ended":""}${n.ending?" ending":""}`:"none"}listOps(e){var t;return((t=this.queues)==null?void 0:t[e].map(n=>n.label).join(", "))||""}}const GT=/(avc[1234]|hvc1|hev1|dvh[1e]|vp09|av01)(?:\.[^.,]+)+/,BA="HlsJsTrackRemovedError";class aN extends Error{constructor(e){super(e),this.name=BA}}class sN extends gs{constructor(e,t){super("buffer-controller",e.logger),this.hls=void 0,this.fragmentTracker=void 0,this.details=null,this._objectUrl=null,this.operationQueue=null,this.bufferCodecEventsTotal=0,this.media=null,this.mediaSource=null,this.lastMpegAudioChunk=null,this.blockedAudioAppend=null,this.lastVideoAppendEnd=0,this.appendSource=void 0,this.transferData=void 0,this.overrides=void 0,this.appendErrors={audio:0,video:0,audiovideo:0},this.tracks={},this.sourceBuffers=[[null,null],[null,null]],this._onEndStreaming=n=>{var r;this.hls&&((r=this.mediaSource)==null?void 0:r.readyState)==="open"&&this.hls.pauseBuffering()},this._onStartStreaming=n=>{this.hls&&this.hls.resumeBuffering()},this._onMediaSourceOpen=n=>{const{media:r,mediaSource:o}=this;n&&this.log("Media source opened"),!(!r||!o)&&(o.removeEventListener("sourceopen",this._onMediaSourceOpen),r.removeEventListener("emptied",this._onMediaEmptied),this.updateDuration(),this.hls.trigger(Ee.MEDIA_ATTACHED,{media:r,mediaSource:o}),this.mediaSource!==null&&this.checkPendingTracks())},this._onMediaSourceClose=()=>{this.log("Media source closed")},this._onMediaSourceEnded=()=>{this.log("Media source ended")},this._onMediaEmptied=()=>{const{mediaSrc:n,_objectUrl:r}=this;n!==r&&this.error(`Media element src was set while attaching MediaSource (${r} > ${n})`)},this.hls=e,this.fragmentTracker=t,this.appendSource=wD(Ll(e.config.preferManagedMediaSource)),this.initTracks(),this.registerListeners()}hasSourceTypes(){return Object.keys(this.tracks).length>0}destroy(){this.unregisterListeners(),this.details=null,this.lastMpegAudioChunk=this.blockedAudioAppend=null,this.transferData=this.overrides=void 0,this.operationQueue&&(this.operationQueue.destroy(),this.operationQueue=null),this.hls=this.fragmentTracker=null,this._onMediaSourceOpen=this._onMediaSourceClose=null,this._onMediaSourceEnded=null,this._onStartStreaming=this._onEndStreaming=null}registerListeners(){const{hls:e}=this;e.on(Ee.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(Ee.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(Ee.MANIFEST_LOADING,this.onManifestLoading,this),e.on(Ee.MANIFEST_PARSED,this.onManifestParsed,this),e.on(Ee.BUFFER_RESET,this.onBufferReset,this),e.on(Ee.BUFFER_APPENDING,this.onBufferAppending,this),e.on(Ee.BUFFER_CODECS,this.onBufferCodecs,this),e.on(Ee.BUFFER_EOS,this.onBufferEos,this),e.on(Ee.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(Ee.LEVEL_UPDATED,this.onLevelUpdated,this),e.on(Ee.FRAG_PARSED,this.onFragParsed,this),e.on(Ee.FRAG_CHANGED,this.onFragChanged,this),e.on(Ee.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off(Ee.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(Ee.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(Ee.MANIFEST_LOADING,this.onManifestLoading,this),e.off(Ee.MANIFEST_PARSED,this.onManifestParsed,this),e.off(Ee.BUFFER_RESET,this.onBufferReset,this),e.off(Ee.BUFFER_APPENDING,this.onBufferAppending,this),e.off(Ee.BUFFER_CODECS,this.onBufferCodecs,this),e.off(Ee.BUFFER_EOS,this.onBufferEos,this),e.off(Ee.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(Ee.LEVEL_UPDATED,this.onLevelUpdated,this),e.off(Ee.FRAG_PARSED,this.onFragParsed,this),e.off(Ee.FRAG_CHANGED,this.onFragChanged,this),e.off(Ee.ERROR,this.onError,this)}transferMedia(){const{media:e,mediaSource:t}=this;if(!e)return null;const n={};if(this.operationQueue){const o=this.isUpdating();o||this.operationQueue.removeBlockers();const u=this.isQueued();(o||u)&&this.warn(`Transfering MediaSource with${u?" operations in queue":""}${o?" updating SourceBuffer(s)":""} ${this.operationQueue}`),this.operationQueue.destroy()}const r=this.transferData;return!this.sourceBufferCount&&r&&r.mediaSource===t?Kr(n,r.tracks):this.sourceBuffers.forEach(o=>{const[u]=o;u&&(n[u]=Kr({},this.tracks[u]),this.removeBuffer(u)),o[0]=o[1]=null}),{media:e,mediaSource:t,tracks:n}}initTracks(){const e={};this.sourceBuffers=[[null,null],[null,null]],this.tracks=e,this.resetQueue(),this.resetAppendErrors(),this.lastMpegAudioChunk=this.blockedAudioAppend=null,this.lastVideoAppendEnd=0}onManifestLoading(){this.bufferCodecEventsTotal=0,this.details=null}onManifestParsed(e,t){var n;let r=2;(t.audio&&!t.video||!t.altAudio)&&(r=1),this.bufferCodecEventsTotal=r,this.log(`${r} bufferCodec event(s) expected.`),(n=this.transferData)!=null&&n.mediaSource&&this.sourceBufferCount&&r&&this.bufferCreated()}onMediaAttaching(e,t){const n=this.media=t.media;this.transferData=this.overrides=void 0;const r=Ll(this.appendSource);if(r){const o=!!t.mediaSource;(o||t.overrides)&&(this.transferData=t,this.overrides=t.overrides);const u=this.mediaSource=t.mediaSource||new r;if(this.assignMediaSource(u),o)this._objectUrl=n.src,this.attachTransferred();else{const d=this._objectUrl=self.URL.createObjectURL(u);if(this.appendSource)try{n.removeAttribute("src");const h=self.ManagedMediaSource;n.disableRemotePlayback=n.disableRemotePlayback||h&&u instanceof h,$T(n),oN(n,d),n.load()}catch{n.src=d}else n.src=d}n.addEventListener("emptied",this._onMediaEmptied)}}assignMediaSource(e){var t,n;this.log(`${((t=this.transferData)==null?void 0:t.mediaSource)===e?"transferred":"created"} media source: ${(n=e.constructor)==null?void 0:n.name}`),e.addEventListener("sourceopen",this._onMediaSourceOpen),e.addEventListener("sourceended",this._onMediaSourceEnded),e.addEventListener("sourceclose",this._onMediaSourceClose),this.appendSource&&(e.addEventListener("startstreaming",this._onStartStreaming),e.addEventListener("endstreaming",this._onEndStreaming))}attachTransferred(){const e=this.media,t=this.transferData;if(!t||!e)return;const n=this.tracks,r=t.tracks,o=r?Object.keys(r):null,u=o?o.length:0,d=()=>{Promise.resolve().then(()=>{this.media&&this.mediaSourceOpenOrEnded&&this._onMediaSourceOpen()})};if(r&&o&&u){if(!this.tracksReady){this.hls.config.startFragPrefetch=!0,this.log("attachTransferred: waiting for SourceBuffer track info");return}if(this.log(`attachTransferred: (bufferCodecEventsTotal ${this.bufferCodecEventsTotal})
required tracks: ${ei(n,(h,f)=>h==="initSegment"?void 0:f)};
transfer tracks: ${ei(r,(h,f)=>h==="initSegment"?void 0:f)}}`),!P_(r,n)){t.mediaSource=null,t.tracks=void 0;const h=e.currentTime,f=this.details,y=Math.max(h,(f==null?void 0:f.fragments[0].start)||0);if(y-h>1){this.log(`attachTransferred: waiting for playback to reach new tracks start time ${h} -> ${y}`);return}this.warn(`attachTransferred: resetting MediaSource for incompatible tracks ("${Object.keys(r)}"->"${Object.keys(n)}") start time: ${y} currentTime: ${h}`),this.onMediaDetaching(Ee.MEDIA_DETACHING,{}),this.onMediaAttaching(Ee.MEDIA_ATTACHING,t),e.currentTime=y;return}this.transferData=void 0,o.forEach(h=>{const f=h,y=r[f];if(y){const m=y.buffer;if(m){const p=this.fragmentTracker,T=y.id;if(p.hasFragments(T)||p.hasParts(T)){const k=dr.getBuffered(m);p.detectEvictedFragments(f,k,T,null,!0)}const v=ub(f),A=[f,m];this.sourceBuffers[v]=A,m.updating&&this.operationQueue&&this.operationQueue.prependBlocker(f),this.trackSourceBuffer(f,y)}}}),d(),this.bufferCreated()}else this.log("attachTransferred: MediaSource w/o SourceBuffers"),d()}get mediaSourceOpenOrEnded(){var e;const t=(e=this.mediaSource)==null?void 0:e.readyState;return t==="open"||t==="ended"}onMediaDetaching(e,t){const n=!!t.transferMedia;this.transferData=this.overrides=void 0;const{media:r,mediaSource:o,_objectUrl:u}=this;if(o){if(this.log(`media source ${n?"transferring":"detaching"}`),n)this.sourceBuffers.forEach(([d])=>{d&&this.removeBuffer(d)}),this.resetQueue();else{if(this.mediaSourceOpenOrEnded){const d=o.readyState==="open";try{const h=o.sourceBuffers;for(let f=h.length;f--;)d&&h[f].abort(),o.removeSourceBuffer(h[f]);d&&o.endOfStream()}catch(h){this.warn(`onMediaDetaching: ${h.message} while calling endOfStream`)}}this.sourceBufferCount&&this.onBufferReset()}o.removeEventListener("sourceopen",this._onMediaSourceOpen),o.removeEventListener("sourceended",this._onMediaSourceEnded),o.removeEventListener("sourceclose",this._onMediaSourceClose),this.appendSource&&(o.removeEventListener("startstreaming",this._onStartStreaming),o.removeEventListener("endstreaming",this._onEndStreaming)),this.mediaSource=null,this._objectUrl=null}r&&(r.removeEventListener("emptied",this._onMediaEmptied),n||(u&&self.URL.revokeObjectURL(u),this.mediaSrc===u?(r.removeAttribute("src"),this.appendSource&&$T(r),r.load()):this.warn("media|source.src was changed by a third party - skip cleanup")),this.media=null),this.hls.trigger(Ee.MEDIA_DETACHED,t)}onBufferReset(){this.sourceBuffers.forEach(([e])=>{e&&this.resetBuffer(e)}),this.initTracks()}resetBuffer(e){var t;const n=(t=this.tracks[e])==null?void 0:t.buffer;if(this.removeBuffer(e),n)try{var r;(r=this.mediaSource)!=null&&r.sourceBuffers.length&&this.mediaSource.removeSourceBuffer(n)}catch(o){this.warn(`onBufferReset ${e}`,o)}delete this.tracks[e]}removeBuffer(e){this.removeBufferListeners(e),this.sourceBuffers[ub(e)]=[null,null];const t=this.tracks[e];t&&(t.buffer=void 0)}resetQueue(){this.operationQueue&&this.operationQueue.destroy(),this.operationQueue=new iN(this.tracks)}onBufferCodecs(e,t){var n;const r=this.tracks,o=Object.keys(t);this.log(`BUFFER_CODECS: "${o}" (current SB count ${this.sourceBufferCount})`);const u="audiovideo"in t&&(r.audio||r.video)||r.audiovideo&&("audio"in t||"video"in t),d=!u&&this.sourceBufferCount&&this.media&&o.some(h=>!r[h]);if(u||d){this.warn(`Unsupported transition between "${Object.keys(r)}" and "${o}" SourceBuffers`);return}o.forEach(h=>{var f,y;const m=t[h],{id:p,codec:T,levelCodec:v,container:A,metadata:k,supplemental:B}=m;let $=r[h];const K=(f=this.transferData)==null||(f=f.tracks)==null?void 0:f[h],ue=K!=null&&K.buffer?K:$,me=(ue==null?void 0:ue.pendingCodec)||(ue==null?void 0:ue.codec),Te=ue==null?void 0:ue.levelCodec;$||($=r[h]={buffer:void 0,listeners:[],codec:T,supplemental:B,container:A,levelCodec:v,metadata:k,id:p});const X=Qm(me,Te),Q=X==null?void 0:X.replace(GT,"$1");let be=Qm(T,v);const F=(y=be)==null?void 0:y.replace(GT,"$1");be&&X&&Q!==F&&(h.slice(0,5)==="audio"&&(be=mp(be,this.appendSource)),this.log(`switching codec ${me} to ${be}`),be!==($.pendingCodec||$.codec)&&($.pendingCodec=be),$.container=A,this.appendChangeType(h,A,be))}),(this.tracksReady||this.sourceBufferCount)&&(t.tracks=this.sourceBufferTracks),!this.sourceBufferCount&&(this.bufferCodecEventsTotal>1&&!this.tracks.video&&!t.video&&((n=t.audio)==null?void 0:n.id)==="main"&&(this.log("Main audio-only"),this.bufferCodecEventsTotal=1),this.mediaSourceOpenOrEnded&&this.checkPendingTracks())}get sourceBufferTracks(){return Object.keys(this.tracks).reduce((e,t)=>{const n=this.tracks[t];return e[t]={id:n.id,container:n.container,codec:n.codec,levelCodec:n.levelCodec},e},{})}appendChangeType(e,t,n){const r=`${t};codecs=${n}`,o={label:`change-type=${r}`,execute:()=>{const u=this.tracks[e];if(u){const d=u.buffer;d!=null&&d.changeType&&(this.log(`changing ${e} sourceBuffer type to ${r}`),d.changeType(r),u.codec=n,u.container=t)}this.shiftAndExecuteNext(e)},onStart:()=>{},onComplete:()=>{},onError:u=>{this.warn(`Failed to change ${e} SourceBuffer type`,u)}};this.append(o,e,this.isPending(this.tracks[e]))}blockAudio(e){var t;const n=e.start,r=n+e.duration*.05;if(((t=this.fragmentTracker.getAppendedFrag(n,jn.MAIN))==null?void 0:t.gap)===!0)return;const u={label:"block-audio",execute:()=>{var d;const h=this.tracks.video;(this.lastVideoAppendEnd>r||h!=null&&h.buffer&&dr.isBuffered(h.buffer,r)||((d=this.fragmentTracker.getAppendedFrag(r,jn.MAIN))==null?void 0:d.gap)===!0)&&(this.blockedAudioAppend=null,this.shiftAndExecuteNext("audio"))},onStart:()=>{},onComplete:()=>{},onError:d=>{this.warn("Error executing block-audio operation",d)}};this.blockedAudioAppend={op:u,frag:e},this.append(u,"audio",!0)}unblockAudio(){const{blockedAudioAppend:e,operationQueue:t}=this;e&&t&&(this.blockedAudioAppend=null,t.unblockAudio(e.op))}onBufferAppending(e,t){const{tracks:n}=this,{data:r,type:o,parent:u,frag:d,part:h,chunkMeta:f,offset:y}=t,m=f.buffering[o],{sn:p,cc:T}=d,v=self.performance.now();m.start=v;const A=d.stats.buffering,k=h?h.stats.buffering:null;A.start===0&&(A.start=v),k&&k.start===0&&(k.start=v);const B=n.audio;let $=!1;o==="audio"&&(B==null?void 0:B.container)==="audio/mpeg"&&($=!this.lastMpegAudioChunk||f.id===1||this.lastMpegAudioChunk.sn!==f.sn,this.lastMpegAudioChunk=f);const K=n.video,ue=K==null?void 0:K.buffer;if(ue&&p!=="initSegment"){const X=h||d,Q=this.blockedAudioAppend;if(o==="audio"&&u!=="main"&&!this.blockedAudioAppend&&!(K.ending||K.ended)){const F=X.start+X.duration*.05,ke=ue.buffered,Qe=this.currentOp("video");!ke.length&&!Qe?this.blockAudio(X):!Qe&&!dr.isBuffered(ue,F)&&this.lastVideoAppendEnd<F&&this.blockAudio(X)}else if(o==="video"){const be=X.end;if(Q){const F=Q.frag.start;(be>F||be<this.lastVideoAppendEnd||dr.isBuffered(ue,F))&&this.unblockAudio()}this.lastVideoAppendEnd=be}}const me=(h||d).start,Te={label:`append-${o}`,execute:()=>{var X;m.executeStart=self.performance.now();const Q=(X=this.tracks[o])==null?void 0:X.buffer;Q&&($?this.updateTimestampOffset(Q,me,.1,o,p,T):y!==void 0&&Mn(y)&&this.updateTimestampOffset(Q,y,1e-6,o,p,T)),this.appendExecutor(r,o)},onStart:()=>{},onComplete:()=>{const X=self.performance.now();m.executeEnd=m.end=X,A.first===0&&(A.first=X),k&&k.first===0&&(k.first=X);const Q={};this.sourceBuffers.forEach(([be,F])=>{be&&(Q[be]=dr.getBuffered(F))}),this.appendErrors[o]=0,o==="audio"||o==="video"?this.appendErrors.audiovideo=0:(this.appendErrors.audio=0,this.appendErrors.video=0),this.hls.trigger(Ee.BUFFER_APPENDED,{type:o,frag:d,part:h,chunkMeta:f,parent:d.type,timeRanges:Q})},onError:X=>{var Q;const be={type:Qn.MEDIA_ERROR,parent:d.type,details:kt.BUFFER_APPEND_ERROR,sourceBufferName:o,frag:d,part:h,chunkMeta:f,error:X,err:X,fatal:!1},F=(Q=this.media)==null?void 0:Q.error;if(X.code===DOMException.QUOTA_EXCEEDED_ERR||X.name=="QuotaExceededError"||"quota"in X)be.details=kt.BUFFER_FULL_ERROR;else if(X.code===DOMException.INVALID_STATE_ERR&&this.mediaSourceOpenOrEnded&&!F)be.errorAction=gd(!0);else if(X.name===BA&&this.sourceBufferCount===0)be.errorAction=gd(!0);else{const ke=++this.appendErrors[o];this.warn(`Failed ${ke}/${this.hls.config.appendErrorMaxRetry} times to append segment in "${o}" sourceBuffer (${F||"no media error"})`),(ke>=this.hls.config.appendErrorMaxRetry||F)&&(be.fatal=!0)}this.hls.trigger(Ee.ERROR,be)}};this.log(`queuing "${o}" append sn: ${p}${h?" p: "+h.index:""} of ${d.type===jn.MAIN?"level":"track"} ${d.level} cc: ${T}`),this.append(Te,o,this.isPending(this.tracks[o]))}getFlushOp(e,t,n){return this.log(`queuing "${e}" remove ${t}-${n}`),{label:"remove",execute:()=>{this.removeExecutor(e,t,n)},onStart:()=>{},onComplete:()=>{this.hls.trigger(Ee.BUFFER_FLUSHED,{type:e})},onError:r=>{this.warn(`Failed to remove ${t}-${n} from "${e}" SourceBuffer`,r)}}}onBufferFlushing(e,t){const{type:n,startOffset:r,endOffset:o}=t;n?this.append(this.getFlushOp(n,r,o),n):this.sourceBuffers.forEach(([u])=>{u&&this.append(this.getFlushOp(u,r,o),u)})}onFragParsed(e,t){const{frag:n,part:r}=t,o=[],u=r?r.elementaryStreams:n.elementaryStreams;u[Jr.AUDIOVIDEO]?o.push("audiovideo"):(u[Jr.AUDIO]&&o.push("audio"),u[Jr.VIDEO]&&o.push("video"));const d=()=>{const h=self.performance.now();n.stats.buffering.end=h,r&&(r.stats.buffering.end=h);const f=r?r.stats:n.stats;this.hls.trigger(Ee.FRAG_BUFFERED,{frag:n,part:r,stats:f,id:n.type})};o.length===0&&this.warn(`Fragments must have at least one ElementaryStreamType set. type: ${n.type} level: ${n.level} sn: ${n.sn}`),this.blockBuffers(d,o).catch(h=>{this.warn(`Fragment buffered callback ${h}`),this.stepOperationQueue(this.sourceBufferTypes)})}onFragChanged(e,t){this.trimBuffers()}get bufferedToEnd(){return this.sourceBufferCount>0&&!this.sourceBuffers.some(([e])=>{if(e){const t=this.tracks[e];if(t)return!t.ended||t.ending}return!1})}onBufferEos(e,t){var n;this.sourceBuffers.forEach(([u])=>{if(u){const d=this.tracks[u];(!t.type||t.type===u)&&(d.ending=!0,d.ended||(d.ended=!0,this.log(`${u} buffer reached EOS`)))}});const r=((n=this.overrides)==null?void 0:n.endOfStream)!==!1;this.sourceBufferCount>0&&!this.sourceBuffers.some(([u])=>{var d;return u&&!((d=this.tracks[u])!=null&&d.ended)})?r?(this.log("Queueing EOS"),this.blockUntilOpen(()=>{this.tracksEnded();const{mediaSource:u}=this;if(!u||u.readyState!=="open"){u&&this.log(`Could not call mediaSource.endOfStream(). mediaSource.readyState: ${u.readyState}`);return}this.log("Calling mediaSource.endOfStream()"),u.endOfStream(),this.hls.trigger(Ee.BUFFERED_TO_END,void 0)})):(this.tracksEnded(),this.hls.trigger(Ee.BUFFERED_TO_END,void 0)):t.type==="video"&&this.unblockAudio()}tracksEnded(){this.sourceBuffers.forEach(([e])=>{if(e!==null){const t=this.tracks[e];t&&(t.ending=!1)}})}onLevelUpdated(e,{details:t}){t.fragments.length&&(this.details=t,this.updateDuration())}updateDuration(){this.blockUntilOpen(()=>{const e=this.getDurationAndRange();e&&this.updateMediaSource(e)})}onError(e,t){if(t.details===kt.BUFFER_APPEND_ERROR&&t.frag){var n;const r=(n=t.errorAction)==null?void 0:n.nextAutoLevel;Mn(r)&&r!==t.frag.level&&this.resetAppendErrors()}}resetAppendErrors(){this.appendErrors={audio:0,video:0,audiovideo:0}}trimBuffers(){const{hls:e,details:t,media:n}=this;if(!n||t===null||!this.sourceBufferCount)return;const r=e.config,o=n.currentTime,u=t.levelTargetDuration,d=t.live&&r.liveBackBufferLength!==null?r.liveBackBufferLength:r.backBufferLength;if(Mn(d)&&d>=0){const f=Math.max(d,u),y=Math.floor(o/u)*u-f;this.flushBackBuffer(o,u,y)}const h=r.frontBufferFlushThreshold;if(Mn(h)&&h>0){const f=Math.max(r.maxBufferLength,h),y=Math.max(f,u),m=Math.floor(o/u)*u+y;this.flushFrontBuffer(o,u,m)}}flushBackBuffer(e,t,n){this.sourceBuffers.forEach(([r,o])=>{if(o){const d=dr.getBuffered(o);if(d.length>0&&n>d.start(0)){var u;this.hls.trigger(Ee.BACK_BUFFER_REACHED,{bufferEnd:n});const h=this.tracks[r];if((u=this.details)!=null&&u.live)this.hls.trigger(Ee.LIVE_BACK_BUFFER_REACHED,{bufferEnd:n});else if(h!=null&&h.ended){this.log(`Cannot flush ${r} back buffer while SourceBuffer is in ended state`);return}this.hls.trigger(Ee.BUFFER_FLUSHING,{startOffset:0,endOffset:n,type:r})}}})}flushFrontBuffer(e,t,n){this.sourceBuffers.forEach(([r,o])=>{if(o){const u=dr.getBuffered(o),d=u.length;if(d<2)return;const h=u.start(d-1),f=u.end(d-1);if(n>h||e>=h&&e<=f)return;this.hls.trigger(Ee.BUFFER_FLUSHING,{startOffset:h,endOffset:1/0,type:r})}})}getDurationAndRange(){var e;const{details:t,mediaSource:n}=this;if(!t||!this.media||(n==null?void 0:n.readyState)!=="open")return null;const r=t.edge;if(t.live&&this.hls.config.liveDurationInfinity){if(t.fragments.length&&n.setLiveSeekableRange){const f=Math.max(0,t.fragmentStart),y=Math.max(f,r);return{duration:1/0,start:f,end:y}}return{duration:1/0}}const o=(e=this.overrides)==null?void 0:e.duration;if(o)return Mn(o)?{duration:o}:null;const u=this.media.duration,d=Mn(n.duration)?n.duration:0;return r>d&&r>u||!Mn(u)?{duration:r}:null}updateMediaSource({duration:e,start:t,end:n}){const r=this.mediaSource;!this.media||!r||r.readyState!=="open"||(r.duration!==e&&(Mn(e)&&this.log(`Updating MediaSource duration to ${e.toFixed(3)}`),r.duration=e),t!==void 0&&n!==void 0&&(this.log(`MediaSource duration is set to ${r.duration}. Setting seekable range to ${t}-${n}.`),r.setLiveSeekableRange(t,n)))}get tracksReady(){const e=this.pendingTrackCount;return e>0&&(e>=this.bufferCodecEventsTotal||this.isPending(this.tracks.audiovideo))}checkPendingTracks(){const{bufferCodecEventsTotal:e,pendingTrackCount:t,tracks:n}=this;if(this.log(`checkPendingTracks (pending: ${t} codec events expected: ${e}) ${ei(n)}`),this.tracksReady){var r;const o=(r=this.transferData)==null?void 0:r.tracks;o&&Object.keys(o).length?this.attachTransferred():this.createSourceBuffers()}}bufferCreated(){if(this.sourceBufferCount){const e={};this.sourceBuffers.forEach(([t,n])=>{if(t){const r=this.tracks[t];e[t]={buffer:n,container:r.container,codec:r.codec,supplemental:r.supplemental,levelCodec:r.levelCodec,id:r.id,metadata:r.metadata}}}),this.hls.trigger(Ee.BUFFER_CREATED,{tracks:e}),this.log(`SourceBuffers created. Running queue: ${this.operationQueue}`),this.sourceBuffers.forEach(([t])=>{this.executeNext(t)})}else{const e=new Error("could not create source buffer for media codec(s)");this.hls.trigger(Ee.ERROR,{type:Qn.MEDIA_ERROR,details:kt.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,error:e,reason:e.message})}}createSourceBuffers(){const{tracks:e,sourceBuffers:t,mediaSource:n}=this;if(!n)throw new Error("createSourceBuffers called when mediaSource was null");for(const o in e){const u=o,d=e[u];if(this.isPending(d)){const h=this.getTrackCodec(d,u),f=`${d.container};codecs=${h}`;d.codec=h,this.log(`creating sourceBuffer(${f})${this.currentOp(u)?" Queued":""} ${ei(d)}`);try{const y=n.addSourceBuffer(f),m=ub(u),p=[u,y];t[m]=p,d.buffer=y}catch(y){var r;this.error(`error while trying to add sourceBuffer: ${y.message}`),this.shiftAndExecuteNext(u),(r=this.operationQueue)==null||r.removeBlockers(),delete this.tracks[u],this.hls.trigger(Ee.ERROR,{type:Qn.MEDIA_ERROR,details:kt.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:y,sourceBufferName:u,mimeType:f,parent:d.id});return}this.trackSourceBuffer(u,d)}}this.bufferCreated()}getTrackCodec(e,t){const n=e.supplemental;let r=e.codec;n&&(t==="video"||t==="audiovideo")&&Rh(n,"video")&&(r=XD(r,n));const o=Qm(r,e.levelCodec);return o?t.slice(0,5)==="audio"?mp(o,this.appendSource):o:""}trackSourceBuffer(e,t){const n=t.buffer;if(!n)return;const r=this.getTrackCodec(t,e);this.tracks[e]={buffer:n,codec:r,container:t.container,levelCodec:t.levelCodec,supplemental:t.supplemental,metadata:t.metadata,id:t.id,listeners:[]},this.removeBufferListeners(e),this.addBufferListener(e,"updatestart",this.onSBUpdateStart),this.addBufferListener(e,"updateend",this.onSBUpdateEnd),this.addBufferListener(e,"error",this.onSBUpdateError),this.appendSource&&this.addBufferListener(e,"bufferedchange",(o,u)=>{const d=u.removedRanges;d!=null&&d.length&&this.hls.trigger(Ee.BUFFER_FLUSHED,{type:o})})}get mediaSrc(){var e,t;const n=((e=this.media)==null||(t=e.querySelector)==null?void 0:t.call(e,"source"))||this.media;return n==null?void 0:n.src}onSBUpdateStart(e){const t=this.currentOp(e);t&&t.onStart()}onSBUpdateEnd(e){var t;if(((t=this.mediaSource)==null?void 0:t.readyState)==="closed"){this.resetBuffer(e);return}const n=this.currentOp(e);n&&(n.onComplete(),this.shiftAndExecuteNext(e))}onSBUpdateError(e,t){var n;const r=new Error(`${e} SourceBuffer error. MediaSource readyState: ${(n=this.mediaSource)==null?void 0:n.readyState}`);this.error(`${r}`,t),this.hls.trigger(Ee.ERROR,{type:Qn.MEDIA_ERROR,details:kt.BUFFER_APPENDING_ERROR,sourceBufferName:e,error:r,fatal:!1});const o=this.currentOp(e);o&&o.onError(r)}updateTimestampOffset(e,t,n,r,o,u){const d=t-e.timestampOffset;Math.abs(d)>=n&&(this.log(`Updating ${r} SourceBuffer timestampOffset to ${t} (sn: ${o} cc: ${u})`),e.timestampOffset=t)}removeExecutor(e,t,n){const{media:r,mediaSource:o}=this,u=this.tracks[e],d=u==null?void 0:u.buffer;if(!r||!o||!d){this.warn(`Attempting to remove from the ${e} SourceBuffer, but it does not exist`),this.shiftAndExecuteNext(e);return}const h=Mn(r.duration)?r.duration:1/0,f=Mn(o.duration)?o.duration:1/0,y=Math.max(0,t),m=Math.min(n,h,f);m>y&&(!u.ending||u.ended)?(u.ended=!1,this.log(`Removing [${y},${m}] from the ${e} SourceBuffer`),d.remove(y,m)):this.shiftAndExecuteNext(e)}appendExecutor(e,t){const n=this.tracks[t],r=n==null?void 0:n.buffer;if(!r)throw new aN(`Attempting to append to the ${t} SourceBuffer, but it does not exist`);n.ending=!1,n.ended=!1,r.appendBuffer(e)}blockUntilOpen(e){if(this.isUpdating()||this.isQueued())this.blockBuffers(e).catch(t=>{this.warn(`SourceBuffer blocked callback ${t}`),this.stepOperationQueue(this.sourceBufferTypes)});else try{e()}catch(t){this.warn(`Callback run without blocking ${this.operationQueue} ${t}`)}}isUpdating(){return this.sourceBuffers.some(([e,t])=>e&&t.updating)}isQueued(){return this.sourceBuffers.some(([e])=>e&&!!this.currentOp(e))}isPending(e){return!!e&&!e.buffer}blockBuffers(e,t=this.sourceBufferTypes){if(!t.length)return this.log("Blocking operation requested, but no SourceBuffers exist"),Promise.resolve().then(e);const{operationQueue:n}=this,r=t.map(u=>this.appendBlocker(u));return t.length>1&&!!this.blockedAudioAppend&&this.unblockAudio(),Promise.all(r).then(u=>{n===this.operationQueue&&(e(),this.stepOperationQueue(this.sourceBufferTypes))})}stepOperationQueue(e){e.forEach(t=>{var n;const r=(n=this.tracks[t])==null?void 0:n.buffer;!r||r.updating||this.shiftAndExecuteNext(t)})}append(e,t,n){this.operationQueue&&this.operationQueue.append(e,t,n)}appendBlocker(e){if(this.operationQueue)return this.operationQueue.appendBlocker(e)}currentOp(e){return this.operationQueue?this.operationQueue.current(e):null}executeNext(e){e&&this.operationQueue&&this.operationQueue.executeNext(e)}shiftAndExecuteNext(e){this.operationQueue&&this.operationQueue.shiftAndExecuteNext(e)}get pendingTrackCount(){return Object.keys(this.tracks).reduce((e,t)=>e+(this.isPending(this.tracks[t])?1:0),0)}get sourceBufferCount(){return this.sourceBuffers.reduce((e,[t])=>e+(t?1:0),0)}get sourceBufferTypes(){return this.sourceBuffers.map(([e])=>e).filter(e=>!!e)}addBufferListener(e,t,n){const r=this.tracks[e];if(!r)return;const o=r.buffer;if(!o)return;const u=n.bind(this,e);r.listeners.push({event:t,listener:u}),o.addEventListener(t,u)}removeBufferListeners(e){const t=this.tracks[e];if(!t)return;const n=t.buffer;n&&(t.listeners.forEach(r=>{n.removeEventListener(r.event,r.listener)}),t.listeners.length=0)}}function $T(i){const e=i.querySelectorAll("source");[].slice.call(e).forEach(t=>{i.removeChild(t)})}function oN(i,e){const t=self.document.createElement("source");t.type="video/mp4",t.src=e,i.appendChild(t)}function ub(i){return i==="audio"?1:0}class t0{constructor(e){this.hls=void 0,this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.clientRect=void 0,this.streamController=void 0,this.hls=e,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}setStreamController(e){this.streamController=e}destroy(){this.hls&&this.unregisterListener(),this.timer&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null}registerListeners(){const{hls:e}=this;e.on(Ee.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.on(Ee.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(Ee.MANIFEST_PARSED,this.onManifestParsed,this),e.on(Ee.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(Ee.BUFFER_CODECS,this.onBufferCodecs,this),e.on(Ee.MEDIA_DETACHING,this.onMediaDetaching,this)}unregisterListener(){const{hls:e}=this;e.off(Ee.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.off(Ee.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(Ee.MANIFEST_PARSED,this.onManifestParsed,this),e.off(Ee.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(Ee.BUFFER_CODECS,this.onBufferCodecs,this),e.off(Ee.MEDIA_DETACHING,this.onMediaDetaching,this)}onFpsDropLevelCapping(e,t){const n=this.hls.levels[t.droppedLevel];this.isLevelAllowed(n)&&this.restrictedLevels.push({bitrate:n.bitrate,height:n.height,width:n.width})}onMediaAttaching(e,t){this.media=t.media instanceof HTMLVideoElement?t.media:null,this.clientRect=null,this.timer&&this.hls.levels.length&&this.detectPlayerSize()}onManifestParsed(e,t){const n=this.hls;this.restrictedLevels=[],this.firstLevel=t.firstLevel,n.config.capLevelToPlayerSize&&t.video&&this.startCapping()}onLevelsUpdated(e,t){this.timer&&Mn(this.autoLevelCapping)&&this.detectPlayerSize()}onBufferCodecs(e,t){this.hls.config.capLevelToPlayerSize&&t.video&&this.startCapping()}onMediaDetaching(){this.stopCapping(),this.media=null}detectPlayerSize(){if(this.media){if(this.mediaHeight<=0||this.mediaWidth<=0){this.clientRect=null;return}const e=this.hls.levels;if(e.length){const t=this.hls,n=this.getMaxLevel(e.length-1);n!==this.autoLevelCapping&&t.logger.log(`Setting autoLevelCapping to ${n}: ${e[n].height}p@${e[n].bitrate} for media ${this.mediaWidth}x${this.mediaHeight}`),t.autoLevelCapping=n,t.autoLevelEnabled&&t.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=t.autoLevelCapping}}}getMaxLevel(e){const t=this.hls.levels;if(!t.length)return-1;const n=t.filter((r,o)=>this.isLevelAllowed(r)&&o<=e);return this.clientRect=null,t0.getMaxLevelByMediaSize(n,this.mediaWidth,this.mediaHeight)}startCapping(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())}stopCapping(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)}getDimensions(){if(this.clientRect)return this.clientRect;const e=this.media,t={width:0,height:0};if(e){const n=e.getBoundingClientRect();t.width=n.width,t.height=n.height,!t.width&&!t.height&&(t.width=n.right-n.left||e.width||0,t.height=n.bottom-n.top||e.height||0)}return this.clientRect=t,t}get mediaWidth(){return this.getDimensions().width*this.contentScaleFactor}get mediaHeight(){return this.getDimensions().height*this.contentScaleFactor}get contentScaleFactor(){let e=1;if(!this.hls.config.ignoreDevicePixelRatio)try{e=self.devicePixelRatio}catch{}return Math.min(e,this.hls.config.maxDevicePixelRatio)}isLevelAllowed(e){return!this.restrictedLevels.some(n=>e.bitrate===n.bitrate&&e.width===n.width&&e.height===n.height)}static getMaxLevelByMediaSize(e,t,n){if(!(e!=null&&e.length))return-1;const r=(d,h)=>h?d.width!==h.width||d.height!==h.height:!0;let o=e.length-1;const u=Math.max(t,n);for(let d=0;d<e.length;d+=1){const h=e[d];if((h.width>=u||h.height>=u)&&r(h,e[d+1])){o=d;break}}return o}}const lN={MANIFEST:"m",AUDIO:"a",VIDEO:"v",MUXED:"av",INIT:"i",CAPTION:"c",TIMED_TEXT:"tt",KEY:"k",OTHER:"o"},Da=lN,uN={HLS:"h"},cN=uN;class lo{constructor(e,t){Array.isArray(e)&&(e=e.map(n=>n instanceof lo?n:new lo(n))),this.value=e,this.params=t}}const dN="Dict";function fN(i){return Array.isArray(i)?JSON.stringify(i):i instanceof Map?"Map{}":i instanceof Set?"Set{}":typeof i=="object"?JSON.stringify(i):String(i)}function hN(i,e,t,n){return new Error(`failed to ${i} "${fN(e)}" as ${t}`,{cause:n})}function uo(i,e,t){return hN("serialize",i,e,t)}class jA{constructor(e){this.description=e}}const HT="Bare Item",gN="Boolean";function mN(i){if(typeof i!="boolean")throw uo(i,gN);return i?"?1":"?0"}function pN(i){return btoa(String.fromCharCode(...i))}const yN="Byte Sequence";function bN(i){if(ArrayBuffer.isView(i)===!1)throw uo(i,yN);return`:${pN(i)}:`}const EN="Integer";function vN(i){return i<-999999999999999||999999999999999<i}function qA(i){if(vN(i))throw uo(i,EN);return i.toString()}function TN(i){return`@${qA(i.getTime()/1e3)}`}function GA(i,e){if(i<0)return-GA(-i,e);const t=Math.pow(10,e);if(Math.abs(i*t%1-.5)<Number.EPSILON){const r=Math.floor(i*t);return(r%2===0?r:r+1)/t}else return Math.round(i*t)/t}const SN="Decimal";function _N(i){const e=GA(i,3);if(Math.floor(Math.abs(e)).toString().length>12)throw uo(i,SN);const t=e.toString();return t.includes(".")?t:`${t}.0`}const AN="String",RN=/[\x00-\x1f\x7f]+/;function xN(i){if(RN.test(i))throw uo(i,AN);return`"${i.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`}function IN(i){return i.description||i.toString().slice(7,-1)}const wN="Token";function VT(i){const e=IN(i);if(/^([a-zA-Z*])([!#$%&'*+\-.^_`|~\w:/]*)$/.test(e)===!1)throw uo(e,wN);return e}function Zb(i){switch(typeof i){case"number":if(!Mn(i))throw uo(i,HT);return Number.isInteger(i)?qA(i):_N(i);case"string":return xN(i);case"symbol":return VT(i);case"boolean":return mN(i);case"object":if(i instanceof Date)return TN(i);if(i instanceof Uint8Array)return bN(i);if(i instanceof jA)return VT(i);default:throw uo(i,HT)}}const kN="Key";function Jb(i){if(/^[a-z*][a-z0-9\-_.*]*$/.test(i)===!1)throw uo(i,kN);return i}function n0(i){return i==null?"":Object.entries(i).map(([e,t])=>t===!0?`;${Jb(e)}`:`;${Jb(e)}=${Zb(t)}`).join("")}function $A(i){return i instanceof lo?`${Zb(i.value)}${n0(i.params)}`:Zb(i)}function CN(i){return`(${i.value.map($A).join(" ")})${n0(i.params)}`}function DN(i,e={whitespace:!0}){if(typeof i!="object"||i==null)throw uo(i,dN);const t=i instanceof Map?i.entries():Object.entries(i),n=e!=null&&e.whitespace?" ":"";return Array.from(t).map(([r,o])=>{o instanceof lo||(o=new lo(o));let u=Jb(r);return o.value===!0?u+=n0(o.params):(u+="=",Array.isArray(o.value)?u+=CN(o):u+=$A(o)),u}).join(`,${n}`)}function HA(i,e){return DN(i,e)}const Ks="CMCD-Object",di="CMCD-Request",Su="CMCD-Session",Al="CMCD-Status",LN={br:Ks,ab:Ks,d:Ks,ot:Ks,tb:Ks,tpb:Ks,lb:Ks,tab:Ks,lab:Ks,url:Ks,pb:di,bl:di,tbl:di,dl:di,ltc:di,mtp:di,nor:di,nrr:di,rc:di,sn:di,sta:di,su:di,ttfb:di,ttfbb:di,ttlb:di,cmsdd:di,cmsds:di,smrt:di,df:di,cs:di,ts:di,cid:Su,pr:Su,sf:Su,sid:Su,st:Su,v:Su,msd:Su,bs:Al,bsd:Al,cdn:Al,rtp:Al,bg:Al,pt:Al,ec:Al,e:Al},NN={REQUEST:di};function ON(i){return Object.keys(i).reduce((e,t)=>{var n;return(n=i[t])===null||n===void 0||n.forEach(r=>e[r]=t),e},{})}function MN(i,e){const t={};if(!i)return t;const n=Object.keys(i),r=e?ON(e):{};return n.reduce((o,u)=>{var d;const h=LN[u]||r[u]||NN.REQUEST,f=(d=o[h])!==null&&d!==void 0?d:o[h]={};return f[u]=i[u],o},t)}function PN(i){return["ot","sf","st","e","sta"].includes(i)}function zN(i){return typeof i=="number"?Mn(i):i!=null&&i!==""&&i!==!1}const VA="event";function FN(i,e){const t=new URL(i),n=new URL(e);if(t.origin!==n.origin)return i;const r=t.pathname.split("/").slice(1),o=n.pathname.split("/").slice(1,-1);for(;r[0]===o[0];)r.shift(),o.shift();for(;o.length;)o.shift(),r.unshift("..");return r.join("/")+t.search+t.hash}const np=i=>Math.round(i),eE=(i,e)=>Array.isArray(i)?i.map(t=>eE(t,e)):i instanceof lo&&typeof i.value=="string"?new lo(eE(i.value,e),i.params):(e.baseUrl&&(i=FN(i,e.baseUrl)),e.version===1?encodeURIComponent(i):i),Nm=i=>np(i/100)*100,UN=(i,e)=>{let t=i;return e.version>=2&&(i instanceof lo&&typeof i.value=="string"?t=new lo([i]):typeof i=="string"&&(t=[i])),eE(t,e)},BN={br:np,d:np,bl:Nm,dl:Nm,mtp:Nm,nor:UN,rtp:Nm,tb:np},KA="request",YA="response",r0=["ab","bg","bl","br","bs","bsd","cdn","cid","cs","df","ec","lab","lb","ltc","msd","mtp","pb","pr","pt","sf","sid","sn","st","sta","tab","tb","tbl","tpb","ts","v"],jN=["e"],qN=/^[a-zA-Z0-9-.]+-[a-zA-Z0-9-.]+$/;function Wp(i){return qN.test(i)}function GN(i){return r0.includes(i)||jN.includes(i)||Wp(i)}const WA=["d","dl","nor","ot","rtp","su"];function $N(i){return r0.includes(i)||WA.includes(i)||Wp(i)}const HN=["cmsdd","cmsds","rc","smrt","ttfb","ttfbb","ttlb","url"];function VN(i){return r0.includes(i)||WA.includes(i)||HN.includes(i)||Wp(i)}const KN=["bl","br","bs","cid","d","dl","mtp","nor","nrr","ot","pr","rtp","sf","sid","st","su","tb","v"];function YN(i){return KN.includes(i)||Wp(i)}const WN={[YA]:VN,[VA]:GN,[KA]:$N};function XA(i,e={}){const t={};if(i==null||typeof i!="object")return t;const n=e.version||i.v||1,r=e.reportingMode||KA,o=n===1?YN:WN[r];let u=Object.keys(i).filter(o);const d=e.filter;typeof d=="function"&&(u=u.filter(d));const h=r===YA||r===VA;h&&!u.includes("ts")&&u.push("ts"),n>1&&!u.includes("v")&&u.push("v");const f=Kr({},BN,e.formatters),y={version:n,reportingMode:r,baseUrl:e.baseUrl};return u.sort().forEach(m=>{let p=i[m];const T=f[m];if(typeof T=="function"&&(p=T(p,y)),m==="v"){if(n===1)return;p=n}m=="pr"&&p===1||(h&&m==="ts"&&!Mn(p)&&(p=Date.now()),zN(p)&&(PN(m)&&typeof p=="string"&&(p=new jA(p)),t[m]=p))}),t}function XN(i,e={}){const t={};if(!i)return t;const n=XA(i,e),r=MN(n,e==null?void 0:e.customHeaderMap);return Object.entries(r).reduce((o,[u,d])=>{const h=HA(d,{whitespace:!1});return h&&(o[u]=h),o},t)}function QN(i,e,t){return Kr(i,XN(e,t))}const ZN="CMCD";function JN(i,e={}){return i?HA(XA(i,e),{whitespace:!1}):""}function eO(i,e={}){if(!i)return"";const t=JN(i,e);return encodeURIComponent(t)}function tO(i,e={}){if(!i)return"";const t=eO(i,e);return`${ZN}=${t}`}const KT=/CMCD=[^&#]+/;function nO(i,e,t){const n=tO(e,t);if(!n)return i;if(KT.test(i))return i.replace(KT,n);const r=i.includes("?")?"&":"?";return`${i}${r}${n}`}class rO{constructor(e){this.hls=void 0,this.config=void 0,this.media=void 0,this.sid=void 0,this.cid=void 0,this.useHeaders=!1,this.includeKeys=void 0,this.initialized=!1,this.starved=!1,this.buffering=!0,this.audioBuffer=void 0,this.videoBuffer=void 0,this.onWaiting=()=>{this.initialized&&(this.starved=!0),this.buffering=!0},this.onPlaying=()=>{this.initialized||(this.initialized=!0),this.buffering=!1},this.applyPlaylistData=r=>{try{this.apply(r,{ot:Da.MANIFEST,su:!this.initialized})}catch(o){this.hls.logger.warn("Could not generate manifest CMCD data.",o)}},this.applyFragmentData=r=>{try{const{frag:o,part:u}=r,d=this.hls.levels[o.level],h=this.getObjectType(o),f={d:(u||o).duration*1e3,ot:h};(h===Da.VIDEO||h===Da.AUDIO||h==Da.MUXED)&&(f.br=d.bitrate/1e3,f.tb=this.getTopBandwidth(h)/1e3,f.bl=this.getBufferLength(h));const y=u?this.getNextPart(u):this.getNextFrag(o);y!=null&&y.url&&y.url!==o.url&&(f.nor=y.url),this.apply(r,f)}catch(o){this.hls.logger.warn("Could not generate segment CMCD data.",o)}},this.hls=e;const t=this.config=e.config,{cmcd:n}=t;n!=null&&(t.pLoader=this.createPlaylistLoader(),t.fLoader=this.createFragmentLoader(),this.sid=n.sessionId||e.sessionId,this.cid=n.contentId,this.useHeaders=n.useHeaders===!0,this.includeKeys=n.includeKeys,this.registerListeners())}registerListeners(){const e=this.hls;e.on(Ee.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(Ee.MEDIA_DETACHED,this.onMediaDetached,this),e.on(Ee.BUFFER_CREATED,this.onBufferCreated,this)}unregisterListeners(){const e=this.hls;e.off(Ee.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(Ee.MEDIA_DETACHED,this.onMediaDetached,this),e.off(Ee.BUFFER_CREATED,this.onBufferCreated,this)}destroy(){this.unregisterListeners(),this.onMediaDetached(),this.hls=this.config=this.audioBuffer=this.videoBuffer=null,this.onWaiting=this.onPlaying=this.media=null}onMediaAttached(e,t){this.media=t.media,this.media.addEventListener("waiting",this.onWaiting),this.media.addEventListener("playing",this.onPlaying)}onMediaDetached(){this.media&&(this.media.removeEventListener("waiting",this.onWaiting),this.media.removeEventListener("playing",this.onPlaying),this.media=null)}onBufferCreated(e,t){var n,r;this.audioBuffer=(n=t.tracks.audio)==null?void 0:n.buffer,this.videoBuffer=(r=t.tracks.video)==null?void 0:r.buffer}createData(){var e;return{v:1,sf:cN.HLS,sid:this.sid,cid:this.cid,pr:(e=this.media)==null?void 0:e.playbackRate,mtp:this.hls.bandwidthEstimate/1e3}}apply(e,t={}){Kr(t,this.createData());const n=t.ot===Da.INIT||t.ot===Da.VIDEO||t.ot===Da.MUXED;this.starved&&n&&(t.bs=!0,t.su=!0,this.starved=!1),t.su==null&&(t.su=this.buffering);const{includeKeys:r}=this;r&&(t=Object.keys(t).reduce((u,d)=>(r.includes(d)&&(u[d]=t[d]),u),{}));const o={baseUrl:e.url};this.useHeaders?(e.headers||(e.headers={}),QN(e.headers,t,o)):e.url=nO(e.url,t,o)}getNextFrag(e){var t;const n=(t=this.hls.levels[e.level])==null?void 0:t.details;if(n){const r=e.sn-n.startSN;return n.fragments[r+1]}}getNextPart(e){var t;const{index:n,fragment:r}=e,o=(t=this.hls.levels[r.level])==null||(t=t.details)==null?void 0:t.partList;if(o){const{sn:u}=r;for(let d=o.length-1;d>=0;d--){const h=o[d];if(h.index===n&&h.fragment.sn===u)return o[d+1]}}}getObjectType(e){const{type:t}=e;if(t==="subtitle")return Da.TIMED_TEXT;if(e.sn==="initSegment")return Da.INIT;if(t==="audio")return Da.AUDIO;if(t==="main")return this.hls.audioTracks.length?Da.VIDEO:Da.MUXED}getTopBandwidth(e){let t=0,n;const r=this.hls;if(e===Da.AUDIO)n=r.audioTracks;else{const o=r.maxAutoLevel,u=o>-1?o+1:r.levels.length;n=r.levels.slice(0,u)}return n.forEach(o=>{o.bitrate>t&&(t=o.bitrate)}),t>0?t:NaN}getBufferLength(e){const t=this.media,n=e===Da.AUDIO?this.audioBuffer:this.videoBuffer;return!n||!t?NaN:dr.bufferInfo(n,t.currentTime,this.config.maxBufferHole).len*1e3}createPlaylistLoader(){const{pLoader:e}=this.config,t=this.applyPlaylistData,n=e||this.config.loader;return class{constructor(o){this.loader=void 0,this.loader=new n(o)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(o,u,d){t(o),this.loader.load(o,u,d)}}}createFragmentLoader(){const{fLoader:e}=this.config,t=this.applyFragmentData,n=e||this.config.loader;return class{constructor(o){this.loader=void 0,this.loader=new n(o)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(o,u,d){t(o),this.loader.load(o,u,d)}}}}const iO=3e5;class aO extends gs{constructor(e){super("content-steering",e.logger),this.hls=void 0,this.loader=null,this.uri=null,this.pathwayId=".",this._pathwayPriority=null,this.timeToLoad=300,this.reloadTimer=-1,this.updated=0,this.started=!1,this.enabled=!0,this.levels=null,this.audioTracks=null,this.subtitleTracks=null,this.penalizedPathways={},this.hls=e,this.registerListeners()}registerListeners(){const e=this.hls;e.on(Ee.MANIFEST_LOADING,this.onManifestLoading,this),e.on(Ee.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(Ee.MANIFEST_PARSED,this.onManifestParsed,this),e.on(Ee.ERROR,this.onError,this)}unregisterListeners(){const e=this.hls;e&&(e.off(Ee.MANIFEST_LOADING,this.onManifestLoading,this),e.off(Ee.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(Ee.MANIFEST_PARSED,this.onManifestParsed,this),e.off(Ee.ERROR,this.onError,this))}pathways(){return(this.levels||[]).reduce((e,t)=>(e.indexOf(t.pathwayId)===-1&&e.push(t.pathwayId),e),[])}get pathwayPriority(){return this._pathwayPriority}set pathwayPriority(e){this.updatePathwayPriority(e)}startLoad(){if(this.started=!0,this.clearTimeout(),this.enabled&&this.uri){if(this.updated){const e=this.timeToLoad*1e3-(performance.now()-this.updated);if(e>0){this.scheduleRefresh(this.uri,e);return}}this.loadSteeringManifest(this.uri)}}stopLoad(){this.started=!1,this.loader&&(this.loader.destroy(),this.loader=null),this.clearTimeout()}clearTimeout(){this.reloadTimer!==-1&&(self.clearTimeout(this.reloadTimer),this.reloadTimer=-1)}destroy(){this.unregisterListeners(),this.stopLoad(),this.hls=null,this.levels=this.audioTracks=this.subtitleTracks=null}removeLevel(e){const t=this.levels;t&&(this.levels=t.filter(n=>n!==e))}onManifestLoading(){this.stopLoad(),this.enabled=!0,this.timeToLoad=300,this.updated=0,this.uri=null,this.pathwayId=".",this.levels=this.audioTracks=this.subtitleTracks=null}onManifestLoaded(e,t){const{contentSteering:n}=t;n!==null&&(this.pathwayId=n.pathwayId,this.uri=n.uri,this.started&&this.startLoad())}onManifestParsed(e,t){this.audioTracks=t.audioTracks,this.subtitleTracks=t.subtitleTracks}onError(e,t){const{errorAction:n}=t;if((n==null?void 0:n.action)===Qi.SendAlternateToPenaltyBox&&n.flags===ja.MoveAllAlternatesMatchingHost){const r=this.levels;let o=this._pathwayPriority,u=this.pathwayId;if(t.context){const{groupId:d,pathwayId:h,type:f}=t.context;d&&r?u=this.getPathwayForGroupId(d,f,u):h&&(u=h)}u in this.penalizedPathways||(this.penalizedPathways[u]=performance.now()),!o&&r&&(o=this.pathways()),o&&o.length>1&&(this.updatePathwayPriority(o),n.resolved=this.pathwayId!==u),t.details===kt.BUFFER_APPEND_ERROR&&!t.fatal?n.resolved=!0:n.resolved||this.warn(`Could not resolve ${t.details} ("${t.error.message}") with content-steering for Pathway: ${u} levels: ${r&&r.length} priorities: ${ei(o)} penalized: ${ei(this.penalizedPathways)}`)}}filterParsedLevels(e){this.levels=e;let t=this.getLevelsForPathway(this.pathwayId);if(t.length===0){const n=e[0].pathwayId;this.log(`No levels found in Pathway ${this.pathwayId}. Setting initial Pathway to "${n}"`),t=this.getLevelsForPathway(n),this.pathwayId=n}return t.length!==e.length&&this.log(`Found ${t.length}/${e.length} levels in Pathway "${this.pathwayId}"`),t}getLevelsForPathway(e){return this.levels===null?[]:this.levels.filter(t=>e===t.pathwayId)}updatePathwayPriority(e){this._pathwayPriority=e;let t;const n=this.penalizedPathways,r=performance.now();Object.keys(n).forEach(o=>{r-n[o]>iO&&delete n[o]});for(let o=0;o<e.length;o++){const u=e[o];if(u in n)continue;if(u===this.pathwayId)return;const d=this.hls.nextLoadLevel,h=this.hls.levels[d];if(t=this.getLevelsForPathway(u),t.length>0){this.log(`Setting Pathway to "${u}"`),this.pathwayId=u,pA(t),this.hls.trigger(Ee.LEVELS_UPDATED,{levels:t});const f=this.hls.levels[d];h&&f&&this.levels&&(f.attrs["STABLE-VARIANT-ID"]!==h.attrs["STABLE-VARIANT-ID"]&&f.bitrate!==h.bitrate&&this.log(`Unstable Pathways change from bitrate ${h.bitrate} to ${f.bitrate}`),this.hls.nextLoadLevel=d);break}}}getPathwayForGroupId(e,t,n){const r=this.getLevelsForPathway(n).concat(this.levels||[]);for(let o=0;o<r.length;o++)if(t===Tr.AUDIO_TRACK&&r[o].hasAudioGroup(e)||t===Tr.SUBTITLE_TRACK&&r[o].hasSubtitleGroup(e))return r[o].pathwayId;return n}clonePathways(e){const t=this.levels;if(!t)return;const n={},r={};e.forEach(o=>{const{ID:u,"BASE-ID":d,"URI-REPLACEMENT":h}=o;if(t.some(y=>y.pathwayId===u))return;const f=this.getLevelsForPathway(d).map(y=>{const m=new li(y.attrs);m["PATHWAY-ID"]=u;const p=m.AUDIO&&`${m.AUDIO}_clone_${u}`,T=m.SUBTITLES&&`${m.SUBTITLES}_clone_${u}`;p&&(n[m.AUDIO]=p,m.AUDIO=p),T&&(r[m.SUBTITLES]=T,m.SUBTITLES=T);const v=QA(y.uri,m["STABLE-VARIANT-ID"],"PER-VARIANT-URIS",h),A=new Ih({attrs:m,audioCodec:y.audioCodec,bitrate:y.bitrate,height:y.height,name:y.name,url:v,videoCodec:y.videoCodec,width:y.width});if(y.audioGroups)for(let k=1;k<y.audioGroups.length;k++)A.addGroupId("audio",`${y.audioGroups[k]}_clone_${u}`);if(y.subtitleGroups)for(let k=1;k<y.subtitleGroups.length;k++)A.addGroupId("text",`${y.subtitleGroups[k]}_clone_${u}`);return A});t.push(...f),YT(this.audioTracks,n,h,u),YT(this.subtitleTracks,r,h,u)})}loadSteeringManifest(e){const t=this.hls.config,n=t.loader;this.loader&&this.loader.destroy(),this.loader=new n(t);let r;try{r=new self.URL(e)}catch{this.enabled=!1,this.log(`Failed to parse Steering Manifest URI: ${e}`);return}if(r.protocol!=="data:"){const y=(this.hls.bandwidthEstimate||t.abrEwmaDefaultEstimate)|0;r.searchParams.set("_HLS_pathway",this.pathwayId),r.searchParams.set("_HLS_throughput",""+y)}const o={responseType:"json",url:r.href},u=t.steeringManifestLoadPolicy.default,d=u.errorRetry||u.timeoutRetry||{},h={loadPolicy:u,timeout:u.maxLoadTimeMs,maxRetry:d.maxNumRetry||0,retryDelay:d.retryDelayMs||0,maxRetryDelay:d.maxRetryDelayMs||0},f={onSuccess:(y,m,p,T)=>{this.log(`Loaded steering manifest: "${r}"`);const v=y.data;if((v==null?void 0:v.VERSION)!==1){this.log(`Steering VERSION ${v.VERSION} not supported!`);return}this.updated=performance.now(),this.timeToLoad=v.TTL;const{"RELOAD-URI":A,"PATHWAY-CLONES":k,"PATHWAY-PRIORITY":B}=v;if(A)try{this.uri=new self.URL(A,r).href}catch{this.enabled=!1,this.log(`Failed to parse Steering Manifest RELOAD-URI: ${A}`);return}this.scheduleRefresh(this.uri||p.url),k&&this.clonePathways(k);const $={steeringManifest:v,url:r.toString()};this.hls.trigger(Ee.STEERING_MANIFEST_LOADED,$),B&&this.updatePathwayPriority(B)},onError:(y,m,p,T)=>{if(this.log(`Error loading steering manifest: ${y.code} ${y.text} (${m.url})`),this.stopLoad(),y.code===410){this.enabled=!1,this.log(`Steering manifest ${m.url} no longer available`);return}let v=this.timeToLoad*1e3;if(y.code===429){const A=this.loader;if(typeof(A==null?void 0:A.getResponseHeader)=="function"){const k=A.getResponseHeader("Retry-After");k&&(v=parseFloat(k)*1e3)}this.log(`Steering manifest ${m.url} rate limited`);return}this.scheduleRefresh(this.uri||m.url,v)},onTimeout:(y,m,p)=>{this.log(`Timeout loading steering manifest (${m.url})`),this.scheduleRefresh(this.uri||m.url)}};this.log(`Requesting steering manifest: ${r}`),this.loader.load(o,h,f)}scheduleRefresh(e,t=this.timeToLoad*1e3){this.clearTimeout(),this.reloadTimer=self.setTimeout(()=>{var n;const r=(n=this.hls)==null?void 0:n.media;if(r&&!r.ended){this.loadSteeringManifest(e);return}this.scheduleRefresh(e,this.timeToLoad*1e3)},t)}}function YT(i,e,t,n){i&&Object.keys(e).forEach(r=>{const o=i.filter(u=>u.groupId===r).map(u=>{const d=Kr({},u);return d.details=void 0,d.attrs=new li(d.attrs),d.url=d.attrs.URI=QA(u.url,u.attrs["STABLE-RENDITION-ID"],"PER-RENDITION-URIS",t),d.groupId=d.attrs["GROUP-ID"]=e[r],d.attrs["PATHWAY-ID"]=n,d});i.push(...o)})}function QA(i,e,t,n){const{HOST:r,PARAMS:o,[t]:u}=n;let d;e&&(d=u==null?void 0:u[e],d&&(i=d));const h=new self.URL(i);return r&&!d&&(h.host=r),o&&Object.keys(o).sort().forEach(f=>{f&&h.searchParams.set(f,o[f])}),h.href}class pd extends gs{constructor(e){super("eme",e.logger),this.hls=void 0,this.config=void 0,this.media=null,this.mediaResolved=void 0,this.keyFormatPromise=null,this.keySystemAccessPromises={},this._requestLicenseFailureCount=0,this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},this.mediaKeys=null,this.setMediaKeysQueue=pd.CDMCleanupPromise?[pd.CDMCleanupPromise]:[],this.bannedKeyIds={},this.onMediaEncrypted=t=>{const{initDataType:n,initData:r}=t,o=`"${t.type}" event: init data type: "${n}"`;if(this.debug(o),r!==null){if(!this.keyFormatPromise){let u=Object.keys(this.keySystemAccessPromises);u.length||(u=mh(this.config));const d=u.map(tb).filter(h=>!!h);this.keyFormatPromise=this.getKeyFormatPromise(d)}this.keyFormatPromise.then(u=>{const d=Jm(u);if(n!=="sinf"||d!==ui.FAIRPLAY){this.log(`Ignoring "${t.type}" event with init data type: "${n}" for selected key-system ${d}`);return}let h;try{const T=Ni(new Uint8Array(r)),v=HE(JSON.parse(T).sinf),A=H_(v);if(!A)throw new Error("'schm' box missing or not cbcs/cenc with schi > tenc");h=new Uint8Array(A.subarray(8,24))}catch(T){this.warn(`${o} Failed to parse sinf: ${T}`);return}const f=Zi(h),{keyIdToKeySessionPromise:y,mediaKeySessions:m}=this;let p=y[f];for(let T=0;T<m.length;T++){const v=m[T],A=v.decryptdata;if(!A.keyId)continue;const k=Zi(A.keyId);if(vp(h,A.keyId)||A.uri.replace(/-/g,"").indexOf(f)!==-1){if(p=y[k],!p)continue;if(A.pssh)break;delete y[k],A.pssh=new Uint8Array(r),A.keyId=h,p=y[f]=p.then(()=>this.generateRequestWithPreferredKeySession(v,n,r,"encrypted-event-key-match")),p.catch(B=>this.handleError(B));break}}p||this.handleError(new Error(`Key ID ${f} not encountered in playlist. Key-system sessions ${m.length}.`))}).catch(u=>this.handleError(u))}},this.onWaitingForKey=t=>{this.log(`"${t.type}" event`)},this.hls=e,this.config=e.config,this.registerListeners()}destroy(){this.onDestroying(),this.onMediaDetached();const e=this.config;e.requestMediaKeySystemAccessFunc=null,e.licenseXhrSetup=e.licenseResponseCallback=void 0,e.drmSystems=e.drmSystemOptions={},this.hls=this.config=this.keyIdToKeySessionPromise=null,this.onMediaEncrypted=this.onWaitingForKey=null}registerListeners(){this.hls.on(Ee.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(Ee.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.on(Ee.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(Ee.MANIFEST_LOADED,this.onManifestLoaded,this),this.hls.on(Ee.DESTROYING,this.onDestroying,this)}unregisterListeners(){this.hls.off(Ee.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(Ee.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.off(Ee.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(Ee.MANIFEST_LOADED,this.onManifestLoaded,this),this.hls.off(Ee.DESTROYING,this.onDestroying,this)}getLicenseServerUrl(e){const{drmSystems:t,widevineLicenseUrl:n}=this.config,r=t==null?void 0:t[e];if(r)return r.licenseUrl;if(e===ui.WIDEVINE&&n)return n}getLicenseServerUrlOrThrow(e){const t=this.getLicenseServerUrl(e);if(t===void 0)throw new Error(`no license server URL configured for key-system "${e}"`);return t}getServerCertificateUrl(e){const{drmSystems:t}=this.config,n=t==null?void 0:t[e];if(n)return n.serverCertificateUrl;this.log(`No Server Certificate in config.drmSystems["${e}"]`)}attemptKeySystemAccess(e){const t=this.hls.levels,n=(u,d,h)=>!!u&&h.indexOf(u)===d,r=t.map(u=>u.audioCodec).filter(n),o=t.map(u=>u.videoCodec).filter(n);return r.length+o.length===0&&o.push("avc1.42e01e"),new Promise((u,d)=>{const h=f=>{const y=f.shift();this.getMediaKeysPromise(y,r,o).then(m=>u({keySystem:y,mediaKeys:m})).catch(m=>{f.length?h(f):m instanceof Ba?d(m):d(new Ba({type:Qn.KEY_SYSTEM_ERROR,details:kt.KEY_SYSTEM_NO_ACCESS,error:m,fatal:!0},m.message))})};h(e)})}requestMediaKeySystemAccess(e,t){const{requestMediaKeySystemAccessFunc:n}=this.config;if(typeof n!="function"){let r=`Configured requestMediaKeySystemAccess is not a function ${n}`;return lA===null&&self.location.protocol==="http:"&&(r=`navigator.requestMediaKeySystemAccess is not available over insecure protocol ${location.protocol}`),Promise.reject(new Error(r))}return n(e,t)}getMediaKeysPromise(e,t,n){var r;const o=U1(e,t,n,this.config.drmSystemOptions||{});let u=this.keySystemAccessPromises[e],d=(r=u)==null?void 0:r.keySystemAccess;if(!d){this.log(`Requesting encrypted media "${e}" key-system access with config: ${ei(o)}`),d=this.requestMediaKeySystemAccess(e,o);const h=u=this.keySystemAccessPromises[e]={keySystemAccess:d};return d.catch(f=>{this.log(`Failed to obtain access to key-system "${e}": ${f}`)}),d.then(f=>{this.log(`Access for key-system "${f.keySystem}" obtained`);const y=this.fetchServerCertificate(e);this.log(`Create media-keys for "${e}"`);const m=h.mediaKeys=f.createMediaKeys().then(p=>(this.log(`Media-keys created for "${e}"`),h.hasMediaKeys=!0,y.then(T=>T?this.setMediaKeysServerCertificate(p,e,T):p)));return m.catch(p=>{this.error(`Failed to create media-keys for "${e}"}: ${p}`)}),m})}return d.then(()=>u.mediaKeys)}createMediaKeySessionContext({decryptdata:e,keySystem:t,mediaKeys:n}){this.log(`Creating key-system session "${t}" keyId: ${Zi(e.keyId||[])} keyUri: ${e.uri}`);const r=n.createSession(),o={decryptdata:e,keySystem:t,mediaKeys:n,mediaKeysSession:r,keyStatus:"status-pending"};return this.mediaKeySessions.push(o),o}renewKeySession(e){const t=e.decryptdata;if(t.pssh){const n=this.createMediaKeySessionContext(e),r=Om(t),o="cenc";this.keyIdToKeySessionPromise[r]=this.generateRequestWithPreferredKeySession(n,o,t.pssh.buffer,"expired")}else this.warn("Could not renew expired session. Missing pssh initData.");this.removeSession(e)}updateKeySession(e,t){const n=e.mediaKeysSession;return this.log(`Updating key-session "${n.sessionId}" for keyId ${Zi(e.decryptdata.keyId||[])}
      } (data length: ${t.byteLength})`),n.update(t)}getSelectedKeySystemFormats(){return Object.keys(this.keySystemAccessPromises).map(e=>({keySystem:e,hasMediaKeys:this.keySystemAccessPromises[e].hasMediaKeys})).filter(({hasMediaKeys:e})=>!!e).map(({keySystem:e})=>tb(e)).filter(e=>!!e)}getKeySystemAccess(e){return this.getKeySystemSelectionPromise(e).then(({keySystem:t,mediaKeys:n})=>this.attemptSetMediaKeys(t,n))}selectKeySystem(e){return new Promise((t,n)=>{this.getKeySystemSelectionPromise(e).then(({keySystem:r})=>{const o=tb(r);o?t(o):n(new Error(`Unable to find format for key-system "${r}"`))}).catch(n)})}selectKeySystemFormat(e){const t=Object.keys(e.levelkeys||{});return this.keyFormatPromise||(this.log(`Selecting key-system from fragment (sn: ${e.sn} ${e.type}: ${e.level}) key formats ${t.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(t)),this.keyFormatPromise}getKeyFormatPromise(e){const t=mh(this.config),n=e.map(Jm).filter(r=>!!r&&t.indexOf(r)!==-1);return this.selectKeySystem(n)}getKeyStatus(e){const{mediaKeySessions:t}=this;for(let n=0;n<t.length;n++){const r=sO(e,t[n]);if(r)return r}}loadKey(e){const t=e.keyInfo.decryptdata,n=Om(t),r=this.bannedKeyIds[n];if(r||this.getKeyStatus(t)==="internal-error"){const d=WT(r||"internal-error",t);return this.handleError(d,e.frag),Promise.reject(d)}const o=`(keyId: ${n} format: "${t.keyFormat}" method: ${t.method} uri: ${t.uri})`;this.log(`Starting session for key ${o}`);const u=this.keyIdToKeySessionPromise[n];if(!u){const d=this.getKeySystemForKeyPromise(t).then(({keySystem:h,mediaKeys:f})=>(this.throwIfDestroyed(),this.log(`Handle encrypted media sn: ${e.frag.sn} ${e.frag.type}: ${e.frag.level} using key ${o}`),this.attemptSetMediaKeys(h,f).then(()=>(this.throwIfDestroyed(),this.createMediaKeySessionContext({keySystem:h,mediaKeys:f,decryptdata:t}))))).then(h=>{const f="cenc",y=t.pssh?t.pssh.buffer:null;return this.generateRequestWithPreferredKeySession(h,f,y,"playlist-key")});return d.catch(h=>this.handleError(h,e.frag)),this.keyIdToKeySessionPromise[n]=d,d}return u.catch(d=>{if(d instanceof Ba){const h=qr({},d.data);this.getKeyStatus(t)==="internal-error"&&(h.decryptdata=t);const f=new Ba(h,d.message);this.handleError(f,e.frag)}}),u}throwIfDestroyed(e="Invalid state"){if(!this.hls)throw new Error("invalid state")}handleError(e,t){if(this.hls)if(e instanceof Ba){t&&(e.data.frag=t);const n=e.data.decryptdata;this.error(`${e.message}${n?` (${Zi(n.keyId||[])})`:""}`),this.hls.trigger(Ee.ERROR,e.data)}else this.error(e.message),this.hls.trigger(Ee.ERROR,{type:Qn.KEY_SYSTEM_ERROR,details:kt.KEY_SYSTEM_NO_KEYS,error:e,fatal:!0})}getKeySystemForKeyPromise(e){const t=Om(e),n=this.keyIdToKeySessionPromise[t];if(!n){const r=Jm(e.keyFormat),o=r?[r]:mh(this.config);return this.attemptKeySystemAccess(o)}return n}getKeySystemSelectionPromise(e){if(e.length||(e=mh(this.config)),e.length===0)throw new Ba({type:Qn.KEY_SYSTEM_ERROR,details:kt.KEY_SYSTEM_NO_CONFIGURED_LICENSE,fatal:!0},`Missing key-system license configuration options ${ei({drmSystems:this.config.drmSystems})}`);return this.attemptKeySystemAccess(e)}attemptSetMediaKeys(e,t){if(this.mediaResolved=void 0,this.mediaKeys===t)return Promise.resolve();const n=this.setMediaKeysQueue.slice();this.log(`Setting media-keys for "${e}"`);const r=Promise.all(n).then(()=>this.media?this.media.setMediaKeys(t):new Promise((o,u)=>{this.mediaResolved=()=>{if(this.mediaResolved=void 0,!this.media)return u(new Error("Attempted to set mediaKeys without media element attached"));this.mediaKeys=t,this.media.setMediaKeys(t).then(o).catch(u)}}));return this.mediaKeys=t,this.setMediaKeysQueue.push(r),r.then(()=>{this.log(`Media-keys set for "${e}"`),n.push(r),this.setMediaKeysQueue=this.setMediaKeysQueue.filter(o=>n.indexOf(o)===-1)})}generateRequestWithPreferredKeySession(e,t,n,r){var o;const u=(o=this.config.drmSystems)==null||(o=o[e.keySystem])==null?void 0:o.generateRequest;if(u)try{const v=u.call(this.hls,t,n,e);if(!v)throw new Error("Invalid response from configured generateRequest filter");t=v.initDataType,n=v.initData?v.initData:null,e.decryptdata.pssh=n?new Uint8Array(n):null}catch(v){if(this.warn(v.message),this.hls&&this.hls.config.debug)throw v}if(n===null)return this.log(`Skipping key-session request for "${r}" (no initData)`),Promise.resolve(e);const d=Om(e.decryptdata),h=e.decryptdata.uri;this.log(`Generating key-session request for "${r}" keyId: ${d} URI: ${h} (init data type: ${t} length: ${n.byteLength})`);const f=new KE,y=e._onmessage=v=>{const A=e.mediaKeysSession;if(!A){f.emit("error",new Error("invalid state"));return}const{messageType:k,message:B}=v;this.log(`"${k}" message event for session "${A.sessionId}" message size: ${B.byteLength}`),k==="license-request"||k==="license-renewal"?this.renewLicense(e,B).catch($=>{f.eventNames().length?f.emit("error",$):this.handleError($)}):k==="license-release"?e.keySystem===ui.FAIRPLAY&&this.updateKeySession(e,Vb("acknowledged")).then(()=>this.removeSession(e)).catch($=>this.handleError($)):this.warn(`unhandled media key message type "${k}"`)},m=(v,A)=>{A.keyStatus=v;let k;v.startsWith("usable")?f.emit("resolved"):v==="internal-error"||v==="output-restricted"||v==="output-downscaled"?k=WT(v,A.decryptdata):v==="expired"?k=new Error(`key expired (keyId: ${d})`):v==="released"?k=new Error("key released"):v==="status-pending"||this.warn(`unhandled key status change "${v}" (keyId: ${d})`),k&&(f.eventNames().length?f.emit("error",k):this.handleError(k))},p=e._onkeystatuseschange=v=>{if(!e.mediaKeysSession){f.emit("error",new Error("invalid state"));return}const k=this.getKeyStatuses(e);if(!Object.keys(k).some(ue=>k[ue]!=="status-pending"))return;if(k[d]==="expired"){this.log(`Expired key ${ei(k)} in key-session "${e.mediaKeysSession.sessionId}"`),this.renewKeySession(e);return}let $=k[d];if($)m($,e);else{var K;e.keyStatusTimeouts||(e.keyStatusTimeouts={}),(K=e.keyStatusTimeouts)[d]||(K[d]=self.setTimeout(()=>{if(!e.mediaKeysSession||!this.mediaKeys)return;const me=this.getKeyStatus(e.decryptdata);if(me&&me!=="status-pending")return this.log(`No status for keyId ${d} in key-session "${e.mediaKeysSession.sessionId}". Using session key-status ${me} from other session.`),m(me,e);this.log(`key status for ${d} in key-session "${e.mediaKeysSession.sessionId}" timed out after 1000ms`),$="internal-error",m($,e)},1e3)),this.log(`No status for keyId ${d} (${ei(k)}).`)}};Ea(e.mediaKeysSession,"message",y),Ea(e.mediaKeysSession,"keystatuseschange",p);const T=new Promise((v,A)=>{f.on("error",A),f.on("resolved",v)});return e.mediaKeysSession.generateRequest(t,n).then(()=>{this.log(`Request generated for key-session "${e.mediaKeysSession.sessionId}" keyId: ${d} URI: ${h}`)}).catch(v=>{throw new Ba({type:Qn.KEY_SYSTEM_ERROR,details:kt.KEY_SYSTEM_NO_SESSION,error:v,decryptdata:e.decryptdata,fatal:!1},`Error generating key-session request: ${v}`)}).then(()=>T).catch(v=>(f.removeAllListeners(),this.removeSession(e).then(()=>{throw v}))).then(()=>(f.removeAllListeners(),e))}getKeyStatuses(e){const t={};return e.mediaKeysSession.keyStatuses.forEach((n,r)=>{if(typeof r=="string"&&typeof n=="object"){const d=r;r=n,n=d}const o="buffer"in r?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):new Uint8Array(r);if(e.keySystem===ui.PLAYREADY&&o.length===16){const d=Zi(o);t[d]=n,sA(o)}const u=Zi(o);n==="internal-error"&&(this.bannedKeyIds[u]=n),this.log(`key status change "${n}" for keyStatuses keyId: ${u} key-session "${e.mediaKeysSession.sessionId}"`),t[u]=n}),t}fetchServerCertificate(e){const t=this.config,n=t.loader,r=new n(t),o=this.getServerCertificateUrl(e);return o?(this.log(`Fetching server certificate for "${e}"`),new Promise((u,d)=>{const h={responseType:"arraybuffer",url:o},f=t.certLoadPolicy.default,y={loadPolicy:f,timeout:f.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},m={onSuccess:(p,T,v,A)=>{u(p.data)},onError:(p,T,v,A)=>{d(new Ba({type:Qn.KEY_SYSTEM_ERROR,details:kt.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:v,response:qr({url:h.url,data:void 0},p)},`"${e}" certificate request failed (${o}). Status: ${p.code} (${p.text})`))},onTimeout:(p,T,v)=>{d(new Ba({type:Qn.KEY_SYSTEM_ERROR,details:kt.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:v,response:{url:h.url,data:void 0}},`"${e}" certificate request timed out (${o})`))},onAbort:(p,T,v)=>{d(new Error("aborted"))}};r.load(h,y,m)})):Promise.resolve()}setMediaKeysServerCertificate(e,t,n){return new Promise((r,o)=>{e.setServerCertificate(n).then(u=>{this.log(`setServerCertificate ${u?"success":"not supported by CDM"} (${n.byteLength}) on "${t}"`),r(e)}).catch(u=>{o(new Ba({type:Qn.KEY_SYSTEM_ERROR,details:kt.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED,error:u,fatal:!0},u.message))})})}renewLicense(e,t){return this.requestLicense(e,new Uint8Array(t)).then(n=>this.updateKeySession(e,new Uint8Array(n)).catch(r=>{throw new Ba({type:Qn.KEY_SYSTEM_ERROR,details:kt.KEY_SYSTEM_SESSION_UPDATE_FAILED,decryptdata:e.decryptdata,error:r,fatal:!1},r.message)}))}unpackPlayReadyKeyMessage(e,t){const n=String.fromCharCode.apply(null,new Uint16Array(t.buffer));if(!n.includes("PlayReadyKeyMessage"))return e.setRequestHeader("Content-Type","text/xml; charset=utf-8"),t;const r=new DOMParser().parseFromString(n,"application/xml"),o=r.querySelectorAll("HttpHeader");if(o.length>0){let y;for(let m=0,p=o.length;m<p;m++){var u,d;y=o[m];const T=(u=y.querySelector("name"))==null?void 0:u.textContent,v=(d=y.querySelector("value"))==null?void 0:d.textContent;T&&v&&e.setRequestHeader(T,v)}}const h=r.querySelector("Challenge"),f=h==null?void 0:h.textContent;if(!f)throw new Error("Cannot find <Challenge> in key message");return Vb(atob(f))}setupLicenseXHR(e,t,n,r){const o=this.config.licenseXhrSetup;return o?Promise.resolve().then(()=>{if(!n.decryptdata)throw new Error("Key removed");return o.call(this.hls,e,t,n,r)}).catch(u=>{if(!n.decryptdata)throw u;return e.open("POST",t,!0),o.call(this.hls,e,t,n,r)}).then(u=>(e.readyState||e.open("POST",t,!0),{xhr:e,licenseChallenge:u||r})):(e.open("POST",t,!0),Promise.resolve({xhr:e,licenseChallenge:r}))}requestLicense(e,t){const n=this.config.keyLoadPolicy.default;return new Promise((r,o)=>{const u=this.getLicenseServerUrlOrThrow(e.keySystem);this.log(`Sending license request to URL: ${u}`);const d=new XMLHttpRequest;d.responseType="arraybuffer",d.onreadystatechange=()=>{if(!this.hls||!e.mediaKeysSession)return o(new Error("invalid state"));if(d.readyState===4)if(d.status===200){this._requestLicenseFailureCount=0;let h=d.response;this.log(`License received ${h instanceof ArrayBuffer?h.byteLength:h}`);const f=this.config.licenseResponseCallback;if(f)try{h=f.call(this.hls,d,u,e)}catch(y){this.error(y)}r(h)}else{const h=n.errorRetry,f=h?h.maxNumRetry:0;if(this._requestLicenseFailureCount++,this._requestLicenseFailureCount>f||d.status>=400&&d.status<500)o(new Ba({type:Qn.KEY_SYSTEM_ERROR,details:kt.KEY_SYSTEM_LICENSE_REQUEST_FAILED,decryptdata:e.decryptdata,fatal:!0,networkDetails:d,response:{url:u,data:void 0,code:d.status,text:d.statusText}},`License Request XHR failed (${u}). Status: ${d.status} (${d.statusText})`));else{const y=f-this._requestLicenseFailureCount+1;this.warn(`Retrying license request, ${y} attempts left`),this.requestLicense(e,t).then(r,o)}}},e.licenseXhr&&e.licenseXhr.readyState!==XMLHttpRequest.DONE&&e.licenseXhr.abort(),e.licenseXhr=d,this.setupLicenseXHR(d,u,e,t).then(({xhr:h,licenseChallenge:f})=>{e.keySystem==ui.PLAYREADY&&(f=this.unpackPlayReadyKeyMessage(h,f)),h.send(f)}).catch(o)})}onDestroying(){this.unregisterListeners(),this._clear()}onMediaAttached(e,t){if(!this.config.emeEnabled)return;const n=t.media;this.media=n,Ea(n,"encrypted",this.onMediaEncrypted),Ea(n,"waitingforkey",this.onWaitingForKey);const r=this.mediaResolved;r?r():this.mediaKeys=n.mediaKeys}onMediaDetached(){const e=this.media;e&&(La(e,"encrypted",this.onMediaEncrypted),La(e,"waitingforkey",this.onWaitingForKey),this.media=null,this.mediaKeys=null)}_clear(){var e;this._requestLicenseFailureCount=0,this.keyIdToKeySessionPromise={},this.bannedKeyIds={};const t=this.mediaResolved;if(t&&t(),!this.mediaKeys&&!this.mediaKeySessions.length)return;const n=this.media,r=this.mediaKeySessions.slice();this.mediaKeySessions=[],this.mediaKeys=null,wl.clearKeyUriToKeyIdMap();const o=r.length;pd.CDMCleanupPromise=Promise.all(r.map(u=>this.removeSession(u)).concat((n==null||(e=n.setMediaKeys(null))==null?void 0:e.catch(u=>{this.log(`Could not clear media keys: ${u}`),this.hls&&this.hls.trigger(Ee.ERROR,{type:Qn.OTHER_ERROR,details:kt.KEY_SYSTEM_DESTROY_MEDIA_KEYS_ERROR,fatal:!1,error:new Error(`Could not clear media keys: ${u}`)})}))||Promise.resolve())).catch(u=>{this.log(`Could not close sessions and clear media keys: ${u}`),this.hls&&this.hls.trigger(Ee.ERROR,{type:Qn.OTHER_ERROR,details:kt.KEY_SYSTEM_DESTROY_CLOSE_SESSION_ERROR,fatal:!1,error:new Error(`Could not close sessions and clear media keys: ${u}`)})}).then(()=>{o&&this.log("finished closing key sessions and clearing media keys")})}onManifestLoading(){this._clear()}onManifestLoaded(e,{sessionKeys:t}){if(!(!t||!this.config.emeEnabled)&&!this.keyFormatPromise){const n=t.reduce((r,o)=>(r.indexOf(o.keyFormat)===-1&&r.push(o.keyFormat),r),[]);this.log(`Selecting key-system from session-keys ${n.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(n)}}removeSession(e){const{mediaKeysSession:t,licenseXhr:n,decryptdata:r}=e;if(t){this.log(`Remove licenses and keys and close session "${t.sessionId}" keyId: ${Zi((r==null?void 0:r.keyId)||[])}`),e._onmessage&&(t.removeEventListener("message",e._onmessage),e._onmessage=void 0),e._onkeystatuseschange&&(t.removeEventListener("keystatuseschange",e._onkeystatuseschange),e._onkeystatuseschange=void 0),n&&n.readyState!==XMLHttpRequest.DONE&&n.abort(),e.mediaKeysSession=e.decryptdata=e.licenseXhr=void 0;const o=this.mediaKeySessions.indexOf(e);o>-1&&this.mediaKeySessions.splice(o,1);const{keyStatusTimeouts:u}=e;u&&Object.keys(u).forEach(f=>self.clearTimeout(u[f]));const{drmSystemOptions:d}=this.config;return(j1(d)?new Promise((f,y)=>{self.setTimeout(()=>y(new Error("MediaKeySession.remove() timeout")),8e3),t.remove().then(f).catch(y)}):Promise.resolve()).catch(f=>{this.log(`Could not remove session: ${f}`),this.hls&&this.hls.trigger(Ee.ERROR,{type:Qn.OTHER_ERROR,details:kt.KEY_SYSTEM_DESTROY_REMOVE_SESSION_ERROR,fatal:!1,error:new Error(`Could not remove session: ${f}`)})}).then(()=>t.close()).catch(f=>{this.log(`Could not close session: ${f}`),this.hls&&this.hls.trigger(Ee.ERROR,{type:Qn.OTHER_ERROR,details:kt.KEY_SYSTEM_DESTROY_CLOSE_SESSION_ERROR,fatal:!1,error:new Error(`Could not close session: ${f}`)})})}return Promise.resolve()}}pd.CDMCleanupPromise=void 0;function Om(i){if(!i)throw new Error("Could not read keyId of undefined decryptdata");if(i.keyId===null)throw new Error("keyId is null");return Zi(i.keyId)}function sO(i,e){if(i.keyId&&e.mediaKeysSession.keyStatuses.has(i.keyId))return e.mediaKeysSession.keyStatuses.get(i.keyId);if(i.matches(e.decryptdata))return e.keyStatus}class Ba extends Error{constructor(e,t){super(t),this.data=void 0,e.error||(e.error=new Error(t)),this.data=e,e.err=e.error}}function WT(i,e){const t=i==="output-restricted",n=t?kt.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED:kt.KEY_SYSTEM_STATUS_INTERNAL_ERROR;return new Ba({type:Qn.KEY_SYSTEM_ERROR,details:n,fatal:!1,decryptdata:e},t?"HDCP level output restricted":`key status changed to "${i}"`)}class oO{constructor(e){this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=e,this.registerListeners()}setStreamController(e){this.streamController=e}registerListeners(){this.hls.on(Ee.MEDIA_ATTACHING,this.onMediaAttaching,this),this.hls.on(Ee.MEDIA_DETACHING,this.onMediaDetaching,this)}unregisterListeners(){this.hls.off(Ee.MEDIA_ATTACHING,this.onMediaAttaching,this),this.hls.off(Ee.MEDIA_DETACHING,this.onMediaDetaching,this)}destroy(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null}onMediaAttaching(e,t){const n=this.hls.config;if(n.capLevelOnFPSDrop){const r=t.media instanceof self.HTMLVideoElement?t.media:null;this.media=r,r&&typeof r.getVideoPlaybackQuality=="function"&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),n.fpsDroppedMonitoringPeriod)}}onMediaDetaching(){this.media=null}checkFPS(e,t,n){const r=performance.now();if(t){if(this.lastTime){const o=r-this.lastTime,u=n-this.lastDroppedFrames,d=t-this.lastDecodedFrames,h=1e3*u/o,f=this.hls;if(f.trigger(Ee.FPS_DROP,{currentDropped:u,currentDecoded:d,totalDroppedFrames:n}),h>0&&u>f.config.fpsDroppedMonitoringThreshold*d){let y=f.currentLevel;f.logger.warn("drop FPS ratio greater than max allowed value for currentLevel: "+y),y>0&&(f.autoLevelCapping===-1||f.autoLevelCapping>=y)&&(y=y-1,f.trigger(Ee.FPS_DROP_LEVEL_CAPPING,{level:y,droppedLevel:f.currentLevel}),f.autoLevelCapping=y,this.streamController.nextLevelSwitch())}}this.lastTime=r,this.lastDroppedFrames=n,this.lastDecodedFrames=t}}checkFPSInterval(){const e=this.media;if(e)if(this.isVideoPlaybackQualityAvailable){const t=e.getVideoPlaybackQuality();this.checkFPS(e,t.totalVideoFrames,t.droppedVideoFrames)}else this.checkFPS(e,e.webkitDecodedFrameCount,e.webkitDroppedFrameCount)}}function ZA(i,e){let t;try{t=new Event("addtrack")}catch{t=document.createEvent("Event"),t.initEvent("addtrack",!1,!1)}t.track=i,e.dispatchEvent(t)}function JA(i,e){const t=i.mode;if(t==="disabled"&&(i.mode="hidden"),i.cues&&!i.cues.getCueById(e.id))try{if(i.addCue(e),!i.cues.getCueById(e.id))throw new Error(`addCue is failed for: ${e}`)}catch(n){Gr.debug(`[texttrack-utils]: ${n}`);try{const r=new self.TextTrackCue(e.startTime,e.endTime,e.text);r.id=e.id,i.addCue(r)}catch(r){Gr.debug(`[texttrack-utils]: Legacy TextTrackCue fallback failed: ${r}`)}}t==="disabled"&&(i.mode=t)}function dd(i,e){const t=i.mode;if(t==="disabled"&&(i.mode="hidden"),i.cues)for(let n=i.cues.length;n--;)e&&i.cues[n].removeEventListener("enter",e),i.removeCue(i.cues[n]);t==="disabled"&&(i.mode=t)}function tE(i,e,t,n){const r=i.mode;if(r==="disabled"&&(i.mode="hidden"),i.cues&&i.cues.length>0){const o=uO(i.cues,e,t);for(let u=0;u<o.length;u++)(!n||n(o[u]))&&i.removeCue(o[u])}r==="disabled"&&(i.mode=r)}function lO(i,e){if(e<=i[0].startTime)return 0;const t=i.length-1;if(e>i[t].endTime)return-1;let n=0,r=t,o;for(;n<=r;)if(o=Math.floor((r+n)/2),e<i[o].startTime)r=o-1;else if(e>i[o].startTime&&n<t)n=o+1;else return o;return i[n].startTime-e<e-i[r].startTime?n:r}function uO(i,e,t){const n=[],r=lO(i,e);if(r>-1)for(let o=r,u=i.length;o<u;o++){const d=i[o];if(d.startTime>=e&&d.endTime<=t)n.push(d);else if(d.startTime>t)return n}return n}function rp(i){const e=[];for(let t=0;t<i.length;t++){const n=i[t];(n.kind==="subtitles"||n.kind==="captions")&&n.label&&e.push(i[t])}return e}class cO extends e0{constructor(e){super(e,"subtitle-track-controller"),this.media=null,this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0,this.queuedDefaultTrack=-1,this.useTextTrackPolling=!1,this.subtitlePollingInterval=-1,this._subtitleDisplay=!0,this.asyncPollTrackChange=()=>this.pollTrackChange(0),this.onTextTracksChanged=()=>{if(this.useTextTrackPolling||self.clearInterval(this.subtitlePollingInterval),!this.media||!this.hls.config.renderTextTracksNatively)return;let t=null;const n=rp(this.media.textTracks);for(let o=0;o<n.length;o++)if(n[o].mode==="hidden")t=n[o];else if(n[o].mode==="showing"){t=n[o];break}const r=this.findTrackForTextTrack(t);this.subtitleTrack!==r&&this.setSubtitleTrack(r)},this.registerListeners()}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,this.onTextTracksChanged=this.asyncPollTrackChange=null,super.destroy()}get subtitleDisplay(){return this._subtitleDisplay}set subtitleDisplay(e){this._subtitleDisplay=e,this.trackId>-1&&this.toggleTrackModes()}registerListeners(){const{hls:e}=this;e.on(Ee.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(Ee.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(Ee.MANIFEST_LOADING,this.onManifestLoading,this),e.on(Ee.MANIFEST_PARSED,this.onManifestParsed,this),e.on(Ee.LEVEL_LOADING,this.onLevelLoading,this),e.on(Ee.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(Ee.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.on(Ee.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off(Ee.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(Ee.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(Ee.MANIFEST_LOADING,this.onManifestLoading,this),e.off(Ee.MANIFEST_PARSED,this.onManifestParsed,this),e.off(Ee.LEVEL_LOADING,this.onLevelLoading,this),e.off(Ee.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(Ee.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.off(Ee.ERROR,this.onError,this)}onMediaAttached(e,t){this.media=t.media,this.media&&(this.queuedDefaultTrack>-1&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=-1),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.pollTrackChange(500):this.media.textTracks.addEventListener("change",this.asyncPollTrackChange))}pollTrackChange(e){self.clearInterval(this.subtitlePollingInterval),this.subtitlePollingInterval=self.setInterval(this.onTextTracksChanged,e)}onMediaDetaching(e,t){const n=this.media;if(!n)return;const r=!!t.transferMedia;if(self.clearInterval(this.subtitlePollingInterval),this.useTextTrackPolling||n.textTracks.removeEventListener("change",this.asyncPollTrackChange),this.trackId>-1&&(this.queuedDefaultTrack=this.trackId),this.subtitleTrack=-1,this.media=null,r)return;rp(n.textTracks).forEach(u=>{dd(u)})}onManifestLoading(){this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0}onManifestParsed(e,t){this.tracks=t.subtitleTracks}onSubtitleTrackLoaded(e,t){const{id:n,groupId:r,details:o}=t,u=this.tracksInGroup[n];if(!u||u.groupId!==r){this.warn(`Subtitle track with id:${n} and group:${r} not found in active group ${u==null?void 0:u.groupId}`);return}const d=u.details;u.details=t.details,this.log(`Subtitle track ${n} "${u.name}" lang:${u.lang} group:${r} loaded [${o.startSN}-${o.endSN}]`),n===this.trackId&&this.playlistLoaded(n,t,d)}onLevelLoading(e,t){this.switchLevel(t.level)}onLevelSwitching(e,t){this.switchLevel(t.level)}switchLevel(e){const t=this.hls.levels[e];if(!t)return;const n=t.subtitleGroups||null,r=this.groupIds;let o=this.currentTrack;if(!n||(r==null?void 0:r.length)!==(n==null?void 0:n.length)||n!=null&&n.some(u=>(r==null?void 0:r.indexOf(u))===-1)){this.groupIds=n,this.trackId=-1,this.currentTrack=null;const u=this.tracks.filter(y=>!n||n.indexOf(y.groupId)!==-1);if(u.length)this.selectDefaultTrack&&!u.some(y=>y.default)&&(this.selectDefaultTrack=!1),u.forEach((y,m)=>{y.id=m});else if(!o&&!this.tracksInGroup.length)return;this.tracksInGroup=u;const d=this.hls.config.subtitlePreference;if(!o&&d){this.selectDefaultTrack=!1;const y=to(d,u);if(y>-1)o=u[y];else{const m=to(d,this.tracks);o=this.tracks[m]}}let h=this.findTrackId(o);h===-1&&o&&(h=this.findTrackId(null));const f={subtitleTracks:u};this.log(`Updating subtitle tracks, ${u.length} track(s) found in "${n==null?void 0:n.join(",")}" group-id`),this.hls.trigger(Ee.SUBTITLE_TRACKS_UPDATED,f),h!==-1&&this.trackId===-1&&this.setSubtitleTrack(h)}}findTrackId(e){const t=this.tracksInGroup,n=this.selectDefaultTrack;for(let r=0;r<t.length;r++){const o=t[r];if(!(n&&!o.default||!n&&!e)&&(!e||ku(o,e)))return r}if(e){for(let r=0;r<t.length;r++){const o=t[r];if(Dh(e.attrs,o.attrs,["LANGUAGE","ASSOC-LANGUAGE","CHARACTERISTICS"]))return r}for(let r=0;r<t.length;r++){const o=t[r];if(Dh(e.attrs,o.attrs,["LANGUAGE"]))return r}}return-1}findTrackForTextTrack(e){if(e){const t=this.tracksInGroup;for(let n=0;n<t.length;n++){const r=t[n];if(Qb(r,e))return n}}return-1}onError(e,t){t.fatal||!t.context||t.context.type===Tr.SUBTITLE_TRACK&&t.context.id===this.trackId&&(!this.groupIds||this.groupIds.indexOf(t.context.groupId)!==-1)&&this.checkRetry(t)}get allSubtitleTracks(){return this.tracks}get subtitleTracks(){return this.tracksInGroup}get subtitleTrack(){return this.trackId}set subtitleTrack(e){this.selectDefaultTrack=!1,this.setSubtitleTrack(e)}setSubtitleOption(e){if(this.hls.config.subtitlePreference=e,e){if(e.id===-1)return this.setSubtitleTrack(-1),null;const t=this.allSubtitleTracks;if(this.selectDefaultTrack=!1,t.length){const n=this.currentTrack;if(n&&ku(e,n))return n;const r=to(e,this.tracksInGroup);if(r>-1){const o=this.tracksInGroup[r];return this.setSubtitleTrack(r),o}else{if(n)return null;{const o=to(e,t);if(o>-1)return t[o]}}}}return null}loadPlaylist(e){super.loadPlaylist(),this.shouldLoadPlaylist(this.currentTrack)&&this.scheduleLoading(this.currentTrack,e)}loadingPlaylist(e,t){super.loadingPlaylist(e,t);const n=e.id,r=e.groupId,o=this.getUrlWithDirectives(e.url,t),u=e.details,d=u==null?void 0:u.age;this.log(`Loading subtitle ${n} "${e.name}" lang:${e.lang} group:${r}${(t==null?void 0:t.msn)!==void 0?" at sn "+t.msn+" part "+t.part:""}${d&&u.live?" age "+d.toFixed(1)+(u.type&&" "+u.type||""):""} ${o}`),this.hls.trigger(Ee.SUBTITLE_TRACK_LOADING,{url:o,id:n,groupId:r,deliveryDirectives:t||null,track:e})}toggleTrackModes(){const{media:e}=this;if(!e)return;const t=rp(e.textTracks),n=this.currentTrack;let r;if(n&&(r=t.filter(o=>Qb(n,o))[0],r||this.warn(`Unable to find subtitle TextTrack with name "${n.name}" and language "${n.lang}"`)),[].slice.call(t).forEach(o=>{o.mode!=="disabled"&&o!==r&&(o.mode="disabled")}),r){const o=this.subtitleDisplay?"showing":"hidden";r.mode!==o&&(r.mode=o)}}setSubtitleTrack(e){const t=this.tracksInGroup;if(!this.media){this.queuedDefaultTrack=e;return}if(e<-1||e>=t.length||!Mn(e)){this.warn(`Invalid subtitle track id: ${e}`);return}this.selectDefaultTrack=!1;const n=this.currentTrack,r=t[e]||null;if(this.trackId=e,this.currentTrack=r,this.toggleTrackModes(),!r){this.hls.trigger(Ee.SUBTITLE_TRACK_SWITCH,{id:e});return}const o=!!r.details&&!r.details.live;if(e===this.trackId&&r===n&&o)return;this.log(`Switching to subtitle-track ${e}`+(r?` "${r.name}" lang:${r.lang} group:${r.groupId}`:""));const{id:u,groupId:d="",name:h,type:f,url:y}=r;this.hls.trigger(Ee.SUBTITLE_TRACK_SWITCH,{id:u,groupId:d,name:h,type:f,url:y});const m=this.switchParams(r.url,n==null?void 0:n.details,r.details);this.loadPlaylist(m)}}function dO(){try{return crypto.randomUUID()}catch{try{const e=URL.createObjectURL(new Blob),t=e.toString();return URL.revokeObjectURL(e),t.slice(t.lastIndexOf("/")+1)}catch{let t=new Date().getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,r=>{const o=(t+Math.random()*16)%16|0;return t=Math.floor(t/16),(r=="x"?o:o&3|8).toString(16)})}}}function Eh(i){let e=5381,t=i.length;for(;t;)e=e*33^i.charCodeAt(--t);return(e>>>0).toString()}const yd=.025;let Ap=function(i){return i[i.Point=0]="Point",i[i.Range=1]="Range",i}({});function fO(i,e,t){return`${i.identifier}-${t+1}-${Eh(e)}`}class hO{constructor(e,t){this.base=void 0,this._duration=null,this._timelineStart=null,this.appendInPlaceDisabled=void 0,this.appendInPlaceStarted=void 0,this.dateRange=void 0,this.hasPlayed=!1,this.cumulativeDuration=0,this.resumeOffset=NaN,this.playoutLimit=NaN,this.restrictions={skip:!1,jump:!1},this.snapOptions={out:!1,in:!1},this.assetList=[],this.assetListLoader=void 0,this.assetListResponse=null,this.resumeAnchor=void 0,this.error=void 0,this.resetOnResume=void 0,this.base=t,this.dateRange=e,this.setDateRange(e)}setDateRange(e){this.dateRange=e,this.resumeOffset=e.attr.optionalFloat("X-RESUME-OFFSET",this.resumeOffset),this.playoutLimit=e.attr.optionalFloat("X-PLAYOUT-LIMIT",this.playoutLimit),this.restrictions=e.attr.enumeratedStringList("X-RESTRICT",this.restrictions),this.snapOptions=e.attr.enumeratedStringList("X-SNAP",this.snapOptions)}reset(){var e;this.appendInPlaceStarted=!1,(e=this.assetListLoader)==null||e.destroy(),this.assetListLoader=void 0,this.supplementsPrimary||(this.assetListResponse=null,this.assetList=[],this._duration=null)}isAssetPastPlayoutLimit(e){var t;if(e>0&&e>=this.assetList.length)return!0;const n=this.playoutLimit;return e<=0||isNaN(n)?!1:n===0?!0:(((t=this.assetList[e])==null?void 0:t.startOffset)||0)>n}findAssetIndex(e){return this.assetList.indexOf(e)}get identifier(){return this.dateRange.id}get startDate(){return this.dateRange.startDate}get startTime(){const e=this.dateRange.startTime;if(this.snapOptions.out){const t=this.dateRange.tagAnchor;if(t)return cb(e,t)}return e}get startOffset(){return this.cue.pre?0:this.startTime}get startIsAligned(){if(this.startTime===0||this.snapOptions.out)return!0;const e=this.dateRange.tagAnchor;if(e){const t=this.dateRange.startTime,n=cb(t,e);return t-n<.1}return!1}get resumptionOffset(){const e=this.resumeOffset,t=Mn(e)?e:this.duration;return this.cumulativeDuration+t}get resumeTime(){const e=this.startOffset+this.resumptionOffset;if(this.snapOptions.in){const t=this.resumeAnchor;if(t)return cb(e,t)}return e}get appendInPlace(){return this.appendInPlaceStarted?!0:this.appendInPlaceDisabled?!1:!!(!this.cue.once&&!this.cue.pre&&this.startIsAligned&&(isNaN(this.playoutLimit)&&isNaN(this.resumeOffset)||this.resumeOffset&&this.duration&&Math.abs(this.resumeOffset-this.duration)<yd))}set appendInPlace(e){if(this.appendInPlaceStarted){this.resetOnResume=!e;return}this.appendInPlaceDisabled=!e}get timelineStart(){return this._timelineStart!==null?this._timelineStart:this.startTime}set timelineStart(e){this._timelineStart=e}get duration(){const e=this.playoutLimit;let t;return this._duration!==null?t=this._duration:this.dateRange.duration?t=this.dateRange.duration:t=this.dateRange.plannedDuration||0,!isNaN(e)&&e<t&&(t=e),t}set duration(e){this._duration=e}get cue(){return this.dateRange.cue}get timelineOccupancy(){return this.dateRange.attr["X-TIMELINE-OCCUPIES"]==="RANGE"?Ap.Range:Ap.Point}get supplementsPrimary(){return this.dateRange.attr["X-TIMELINE-STYLE"]==="PRIMARY"}get contentMayVary(){return this.dateRange.attr["X-CONTENT-MAY-VARY"]!=="NO"}get assetUrl(){return this.dateRange.attr["X-ASSET-URI"]}get assetListUrl(){return this.dateRange.attr["X-ASSET-LIST"]}get baseUrl(){return this.base.url}get assetListLoaded(){return this.assetList.length>0||this.assetListResponse!==null}toString(){return gO(this)}}function cb(i,e){return i-e.start<e.duration/2&&!(Math.abs(i-(e.start+e.duration))<yd)?e.start:e.start+e.duration}function eR(i,e,t){const n=new self.URL(i,t);return n.protocol!=="data:"&&n.searchParams.set("_HLS_primary_id",e),n}function db(i,e){for(;(t=i.assetList[++e])!=null&&t.error;)var t;return e}function gO(i){return`["${i.identifier}" ${i.cue.pre?"<pre>":i.cue.post?"<post>":""}${i.timelineStart.toFixed(2)}-${i.resumeTime.toFixed(2)}]`}function ud(i){const e=i.timelineStart,t=i.duration||0;return`["${i.identifier}" ${e.toFixed(2)}-${(e+t).toFixed(2)}]`}class mO{constructor(e,t,n,r){this.hls=void 0,this.interstitial=void 0,this.assetItem=void 0,this.tracks=null,this.hasDetails=!1,this.mediaAttached=null,this._currentTime=void 0,this._bufferedEosTime=void 0,this.checkPlayout=()=>{this.reachedPlayout(this.currentTime)&&this.hls&&this.hls.trigger(Ee.PLAYOUT_LIMIT_REACHED,{})};const o=this.hls=new e(t);this.interstitial=n,this.assetItem=r;const u=()=>{this.hasDetails=!0};o.once(Ee.LEVEL_LOADED,u),o.once(Ee.AUDIO_TRACK_LOADED,u),o.once(Ee.SUBTITLE_TRACK_LOADED,u),o.on(Ee.MEDIA_ATTACHING,(d,{media:h})=>{this.removeMediaListeners(),this.mediaAttached=h,this.interstitial.playoutLimit&&(h.addEventListener("timeupdate",this.checkPlayout),this.appendInPlace&&o.on(Ee.BUFFER_APPENDED,()=>{const y=this.bufferedEnd;this.reachedPlayout(y)&&(this._bufferedEosTime=y,o.trigger(Ee.BUFFERED_TO_END,void 0))}))})}get appendInPlace(){return this.interstitial.appendInPlace}loadSource(){const e=this.hls;if(e)if(e.url)e.levels.length&&!e.started&&e.startLoad(-1,!0);else{let t=this.assetItem.uri;try{t=eR(t,e.config.primarySessionId||"").href}catch{}e.loadSource(t)}}bufferedInPlaceToEnd(e){var t;if(!this.appendInPlace)return!1;if((t=this.hls)!=null&&t.bufferedToEnd)return!0;if(!e)return!1;const n=Math.min(this._bufferedEosTime||1/0,this.duration),r=this.timelineOffset,o=dr.bufferInfo(e,r,0);return this.getAssetTime(o.end)>=n-.02}reachedPlayout(e){const n=this.interstitial.playoutLimit;return this.startOffset+e>=n}get destroyed(){var e;return!((e=this.hls)!=null&&e.userConfig)}get assetId(){return this.assetItem.identifier}get interstitialId(){return this.assetItem.parentIdentifier}get media(){var e;return((e=this.hls)==null?void 0:e.media)||null}get bufferedEnd(){const e=this.media||this.mediaAttached;if(!e)return this._bufferedEosTime?this._bufferedEosTime:this.currentTime;const t=dr.bufferInfo(e,e.currentTime,.001);return this.getAssetTime(t.end)}get currentTime(){const e=this.media||this.mediaAttached;return e?this.getAssetTime(e.currentTime):this._currentTime||0}get duration(){const e=this.assetItem.duration;if(!e)return 0;const t=this.interstitial.playoutLimit;if(t){const n=t-this.startOffset;if(n>0&&n<e)return n}return e}get remaining(){const e=this.duration;return e?Math.max(0,e-this.currentTime):0}get startOffset(){return this.assetItem.startOffset}get timelineOffset(){var e;return((e=this.hls)==null?void 0:e.config.timelineOffset)||0}set timelineOffset(e){const t=this.timelineOffset;if(e!==t){const n=e-t;if(Math.abs(n)>1/9e4&&this.hls){if(this.hasDetails)throw new Error("Cannot set timelineOffset after playlists are loaded");this.hls.config.timelineOffset=e}}}getAssetTime(e){const t=this.timelineOffset,n=this.duration;return Math.min(Math.max(0,e-t),n)}removeMediaListeners(){const e=this.mediaAttached;e&&(this._currentTime=e.currentTime,this.bufferSnapShot(),e.removeEventListener("timeupdate",this.checkPlayout))}bufferSnapShot(){if(this.mediaAttached){var e;(e=this.hls)!=null&&e.bufferedToEnd&&(this._bufferedEosTime=this.bufferedEnd)}}destroy(){this.removeMediaListeners(),this.hls&&this.hls.destroy(),this.hls=null,this.tracks=this.mediaAttached=this.checkPlayout=null}attachMedia(e){var t;this.loadSource(),(t=this.hls)==null||t.attachMedia(e)}detachMedia(){var e;this.removeMediaListeners(),this.mediaAttached=null,(e=this.hls)==null||e.detachMedia()}resumeBuffering(){var e;(e=this.hls)==null||e.resumeBuffering()}pauseBuffering(){var e;(e=this.hls)==null||e.pauseBuffering()}transferMedia(){var e;return this.bufferSnapShot(),((e=this.hls)==null?void 0:e.transferMedia())||null}resetDetails(){const e=this.hls;if(e&&this.hasDetails){e.stopLoad();const t=n=>delete n.details;e.levels.forEach(t),e.allAudioTracks.forEach(t),e.allSubtitleTracks.forEach(t),this.hasDetails=!1}}on(e,t,n){var r;(r=this.hls)==null||r.on(e,t)}once(e,t,n){var r;(r=this.hls)==null||r.once(e,t)}off(e,t,n){var r;(r=this.hls)==null||r.off(e,t)}toString(){var e;return`HlsAssetPlayer: ${ud(this.assetItem)} ${(e=this.hls)==null?void 0:e.sessionId} ${this.appendInPlace?"append-in-place":""}`}}const XT=.033;class pO extends gs{constructor(e,t){super("interstitials-sched",t),this.onScheduleUpdate=void 0,this.eventMap={},this.events=null,this.items=null,this.durations={primary:0,playout:0,integrated:0},this.onScheduleUpdate=e}destroy(){this.reset(),this.onScheduleUpdate=null}reset(){this.eventMap={},this.setDurations(0,0,0),this.events&&this.events.forEach(e=>e.reset()),this.events=this.items=null}resetErrorsInRange(e,t){return this.events?this.events.reduce((n,r)=>e<=r.startOffset&&t>r.startOffset?(delete r.error,n+1):n,0):0}get duration(){const e=this.items;return e?e[e.length-1].end:0}get length(){return this.items?this.items.length:0}getEvent(e){return e&&this.eventMap[e]||null}hasEvent(e){return e in this.eventMap}findItemIndex(e,t){if(e.event)return this.findEventIndex(e.event.identifier);let n=-1;e.nextEvent?n=this.findEventIndex(e.nextEvent.identifier)-1:e.previousEvent&&(n=this.findEventIndex(e.previousEvent.identifier)+1);const r=this.items;if(r)for(r[n]||(t===void 0&&(t=e.start),n=this.findItemIndexAtTime(t));n>=0&&(o=r[n])!=null&&o.event;){var o;n--}return n}findItemIndexAtTime(e,t){const n=this.items;if(n)for(let r=0;r<n.length;r++){let o=n[r];if(t&&t!=="primary"&&(o=o[t]),e===o.start||e>o.start&&e<o.end)return r}return-1}findJumpRestrictedIndex(e,t){const n=this.items;if(n)for(let r=e;r<=t&&n[r];r++){const o=n[r].event;if(o!=null&&o.restrictions.jump&&!o.appendInPlace)return r}return-1}findEventIndex(e){const t=this.items;if(t)for(let r=t.length;r--;){var n;if(((n=t[r].event)==null?void 0:n.identifier)===e)return r}return-1}findAssetIndex(e,t){const n=e.assetList,r=n.length;if(r>1)for(let o=0;o<r;o++){const u=n[o];if(!u.error){const d=u.timelineStart;if(t===d||t>d&&(t<d+(u.duration||0)||o===r-1))return o}}return 0}get assetIdAtEnd(){var e;const t=(e=this.items)==null||(e=e[this.length-1])==null?void 0:e.event;if(t){const n=t.assetList,r=n[n.length-1];if(r)return r.identifier}return null}parseInterstitialDateRanges(e,t){const n=e.main.details,{dateRanges:r}=n,o=this.events,u=this.parseDateRanges(r,{url:n.url},t),d=Object.keys(r),h=o?o.filter(f=>!d.includes(f.identifier)):[];u.length&&u.sort((f,y)=>{const m=f.cue.pre,p=f.cue.post,T=y.cue.pre,v=y.cue.post;if(m&&!T)return-1;if(T&&!m||p&&!v)return 1;if(v&&!p)return-1;if(!m&&!T&&!p&&!v){const A=f.startTime,k=y.startTime;if(A!==k)return A-k}return f.dateRange.tagOrder-y.dateRange.tagOrder}),this.events=u,h.forEach(f=>{this.removeEvent(f)}),this.updateSchedule(e,h)}updateSchedule(e,t=[],n=!1){const r=this.events||[];if(r.length||t.length||this.length<2){const o=this.items,u=this.parseSchedule(r,e);(n||t.length||(o==null?void 0:o.length)!==u.length||u.some((h,f)=>Math.abs(h.playout.start-o[f].playout.start)>.005||Math.abs(h.playout.end-o[f].playout.end)>.005))&&(this.items=u,this.onScheduleUpdate(t,o))}}parseDateRanges(e,t,n){const r=[],o=Object.keys(e);for(let u=0;u<o.length;u++){const d=o[u],h=e[d];if(h.isInterstitial){let f=this.eventMap[d];f?f.setDateRange(h):(f=new hO(h,t),this.eventMap[d]=f,n===!1&&(f.appendInPlace=n)),r.push(f)}}return r}parseSchedule(e,t){const n=[],r=t.main.details,o=r.live?1/0:r.edge;let u=0;if(e=e.filter(h=>!h.error&&!(h.cue.once&&h.hasPlayed)),e.length){this.resolveOffsets(e,t);let h=0,f=0;if(e.forEach((y,m)=>{const p=y.cue.pre,T=y.cue.post,v=e[m-1]||null,A=y.appendInPlace,k=T?o:y.startOffset,B=y.duration,$=y.timelineOccupancy===Ap.Range?B:0,K=y.resumptionOffset,ue=(v==null?void 0:v.startTime)===k,me=k+y.cumulativeDuration;let Te=A?me+B:k+K;if(p||!T&&k<=0){const Q=f;f+=$,y.timelineStart=me;const be=u;u+=B,n.push({event:y,start:me,end:Te,playout:{start:be,end:u},integrated:{start:Q,end:f}})}else if(k<=o){if(!ue){const F=k-h;if(F>XT){const ke=h,Qe=f;f+=F;const xe=u;u+=F;const Ye={previousEvent:e[m-1]||null,nextEvent:y,start:ke,end:ke+F,playout:{start:xe,end:u},integrated:{start:Qe,end:f}};n.push(Ye)}else F>0&&v&&(v.cumulativeDuration+=F,n[n.length-1].end=k)}T&&(Te=me),y.timelineStart=me;const Q=f;f+=$;const be=u;u+=B,n.push({event:y,start:me,end:Te,playout:{start:be,end:u},integrated:{start:Q,end:f}})}else return;const X=y.resumeTime;T||X>o?h=o:h=X}),h<o){var d;const y=h,m=f,p=o-h;f+=p;const T=u;u+=p,n.push({previousEvent:((d=n[n.length-1])==null?void 0:d.event)||null,nextEvent:null,start:h,end:y+p,playout:{start:T,end:u},integrated:{start:m,end:f}})}this.setDurations(o,u,f)}else n.push({previousEvent:null,nextEvent:null,start:0,end:o,playout:{start:0,end:o},integrated:{start:0,end:o}}),this.setDurations(o,o,o);return n}setDurations(e,t,n){this.durations={primary:e,playout:t,integrated:n}}resolveOffsets(e,t){const n=t.main.details,r=n.live?1/0:n.edge;let o=0,u=-1;e.forEach((d,h)=>{const f=d.cue.pre,y=d.cue.post,m=f?0:y?r:d.startTime;this.updateAssetDurations(d),u===m?d.cumulativeDuration=o:(o=0,u=m),!y&&d.snapOptions.in&&(d.resumeAnchor=Pu(null,n.fragments,d.startOffset+d.resumptionOffset,0,0)||void 0),d.appendInPlace&&!d.appendInPlaceStarted&&(this.primaryCanResumeInPlaceAt(d,t)||(d.appendInPlace=!1)),!d.appendInPlace&&h+1<e.length&&e[h+1].startTime-e[h].resumeTime<XT&&(e[h+1].appendInPlace=!1,e[h+1].appendInPlace&&this.warn(`Could not change append strategy for abutting event ${d}`));const T=Mn(d.resumeOffset)?d.resumeOffset:d.duration;o+=T})}primaryCanResumeInPlaceAt(e,t){const n=e.resumeTime,r=e.startTime+e.resumptionOffset;return Math.abs(n-r)>yd?(this.log(`"${e.identifier}" resumption ${n} not aligned with estimated timeline end ${r}`),!1):!Object.keys(t).some(u=>{const d=t[u].details,h=d.edge;if(n>=h)return this.log(`"${e.identifier}" resumption ${n} past ${u} playlist end ${h}`),!1;const f=Pu(null,d.fragments,n);if(!f)return this.log(`"${e.identifier}" resumption ${n} does not align with any fragments in ${u} playlist (${d.fragStart}-${d.fragmentEnd})`),!0;const y=u==="audio"?.175:0;return Math.abs(f.start-n)<yd+y||Math.abs(f.end-n)<yd+y?!1:(this.log(`"${e.identifier}" resumption ${n} not aligned with ${u} fragment bounds (${f.start}-${f.end} sn: ${f.sn} cc: ${f.cc})`),!0)})}updateAssetDurations(e){if(!e.assetListLoaded)return;const t=e.timelineStart;let n=0,r=!1,o=!1;for(let u=0;u<e.assetList.length;u++){const d=e.assetList[u],h=t+n;d.startOffset=n,d.timelineStart=h,r||(r=d.duration===null),o||(o=!!d.error);const f=d.error?0:d.duration||0;n+=f}r&&!o?e.duration=Math.max(n,e.duration):e.duration=n}removeEvent(e){e.reset(),delete this.eventMap[e.identifier]}}function xs(i){return`[${i.event?'"'+i.event.identifier+'"':"primary"}: ${i.start.toFixed(2)}-${i.end.toFixed(2)}]`}class yO{constructor(e){this.hls=void 0,this.hls=e}destroy(){this.hls=null}loadAssetList(e,t){const n=e.assetListUrl;let r;try{r=eR(n,this.hls.sessionId,e.baseUrl)}catch(p){const T=this.assignAssetListError(e,kt.ASSET_LIST_LOAD_ERROR,p,n);this.hls.trigger(Ee.ERROR,T);return}t&&r.protocol!=="data:"&&r.searchParams.set("_HLS_start_offset",""+t);const o=this.hls.config,u=o.loader,d=new u(o),h={responseType:"json",url:r.href},f=o.interstitialAssetListLoadPolicy.default,y={loadPolicy:f,timeout:f.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},m={onSuccess:(p,T,v,A)=>{const k=p.data,B=k==null?void 0:k.ASSETS;if(!Array.isArray(B)){const $=this.assignAssetListError(e,kt.ASSET_LIST_PARSING_ERROR,new Error("Invalid interstitial asset list"),v.url,T,A);this.hls.trigger(Ee.ERROR,$);return}e.assetListResponse=k,this.hls.trigger(Ee.ASSET_LIST_LOADED,{event:e,assetListResponse:k,networkDetails:A})},onError:(p,T,v,A)=>{const k=this.assignAssetListError(e,kt.ASSET_LIST_LOAD_ERROR,new Error(`Error loading X-ASSET-LIST: HTTP status ${p.code} ${p.text} (${T.url})`),T.url,A,v);this.hls.trigger(Ee.ERROR,k)},onTimeout:(p,T,v)=>{const A=this.assignAssetListError(e,kt.ASSET_LIST_LOAD_TIMEOUT,new Error(`Timeout loading X-ASSET-LIST (${T.url})`),T.url,p,v);this.hls.trigger(Ee.ERROR,A)}};return d.load(h,y,m),this.hls.trigger(Ee.ASSET_LIST_LOADING,{event:e}),d}assignAssetListError(e,t,n,r,o,u){return e.error=n,{type:Qn.NETWORK_ERROR,details:t,fatal:!1,interstitial:e,url:r,error:n,networkDetails:u,stats:o}}}function QT(i){var e;i==null||(e=i.play())==null||e.catch(()=>{})}function Mm(i,e){return`[${i}] Advancing timeline position to ${e}`}class bO extends gs{constructor(e,t){super("interstitials",e.logger),this.HlsPlayerClass=void 0,this.hls=void 0,this.assetListLoader=void 0,this.mediaSelection=null,this.altSelection=null,this.media=null,this.detachedData=null,this.requiredTracks=null,this.manager=null,this.playerQueue=[],this.bufferedPos=-1,this.timelinePos=-1,this.schedule=void 0,this.playingItem=null,this.bufferingItem=null,this.waitingItem=null,this.endedItem=null,this.playingAsset=null,this.endedAsset=null,this.bufferingAsset=null,this.shouldPlay=!1,this.onPlay=()=>{this.shouldPlay=!0},this.onPause=()=>{this.shouldPlay=!1},this.onSeeking=()=>{const n=this.currentTime;if(n===void 0||this.playbackDisabled||!this.schedule)return;const r=n-this.timelinePos;if(Math.abs(r)<1/7056e5)return;const u=r<=-.01;this.timelinePos=n,this.bufferedPos=n;const d=this.playingItem;if(!d){this.checkBuffer();return}if(u&&this.schedule.resetErrorsInRange(n,n-r)&&this.updateSchedule(!0),this.checkBuffer(),u&&n<d.start||n>=d.end){var h;const T=this.findItemIndex(d);let v=this.schedule.findItemIndexAtTime(n);if(v===-1&&(v=T+(u?-1:1),this.log(`seeked ${u?"back ":""}to position not covered by schedule ${n} (resolving from ${T} to ${v})`)),!this.isInterstitial(d)&&(h=this.media)!=null&&h.paused&&(this.shouldPlay=!1),!u&&v>T){const A=this.schedule.findJumpRestrictedIndex(T+1,v);if(A>T){this.setSchedulePosition(A);return}}this.setSchedulePosition(v);return}const f=this.playingAsset;if(!f){if(this.playingLastItem&&this.isInterstitial(d)){const T=d.event.assetList[0];T&&(this.endedItem=this.playingItem,this.playingItem=null,this.setScheduleToAssetAtTime(n,T))}return}const y=f.timelineStart,m=f.duration||0;if(u&&n<y||n>=y+m){var p;(p=d.event)!=null&&p.appendInPlace&&(this.clearAssetPlayers(d.event,d),this.flushFrontBuffer(n)),this.setScheduleToAssetAtTime(n,f)}},this.onTimeupdate=()=>{const n=this.currentTime;if(n===void 0||this.playbackDisabled)return;if(n>this.timelinePos)this.timelinePos=n,n>this.bufferedPos&&this.checkBuffer();else return;const r=this.playingItem;if(!r||this.playingLastItem)return;if(n>=r.end){this.timelinePos=r.end;const d=this.findItemIndex(r);this.setSchedulePosition(d+1)}const o=this.playingAsset;if(!o)return;const u=o.timelineStart+(o.duration||0);n>=u&&this.setScheduleToAssetAtTime(n,o)},this.onScheduleUpdate=(n,r)=>{const o=this.schedule;if(!o)return;const u=this.playingItem,d=o.events||[],h=o.items||[],f=o.durations,y=n.map(A=>A.identifier),m=!!(d.length||y.length);(m||r)&&this.log(`INTERSTITIALS_UPDATED (${d.length}): ${d}
Schedule: ${h.map(A=>xs(A))} pos: ${this.timelinePos}`),y.length&&this.log(`Removed events ${y}`);let p=null,T=null;u&&(p=this.updateItem(u,this.timelinePos),this.itemsMatch(u,p)?this.playingItem=p:this.waitingItem=this.endedItem=null),this.waitingItem=this.updateItem(this.waitingItem),this.endedItem=this.updateItem(this.endedItem);const v=this.bufferingItem;if(v&&(T=this.updateItem(v,this.bufferedPos),this.itemsMatch(v,T)?this.bufferingItem=T:v.event&&(this.bufferingItem=this.playingItem,this.clearInterstitial(v.event,null))),n.forEach(A=>{A.assetList.forEach(k=>{this.clearAssetPlayer(k.identifier,null)})}),this.playerQueue.forEach(A=>{if(A.interstitial.appendInPlace){const k=A.assetItem.timelineStart,B=A.timelineOffset-k;if(B)try{A.timelineOffset=k}catch($){Math.abs(B)>yd&&this.warn(`${$} ("${A.assetId}" ${A.timelineOffset}->${k})`)}}}),m||r){if(this.hls.trigger(Ee.INTERSTITIALS_UPDATED,{events:d.slice(0),schedule:h.slice(0),durations:f,removedIds:y}),this.isInterstitial(u)&&y.includes(u.event.identifier)){this.warn(`Interstitial "${u.event.identifier}" removed while playing`),this.primaryFallback(u.event);return}u&&this.trimInPlace(p,u),v&&T!==p&&this.trimInPlace(T,v),this.checkBuffer()}},this.hls=e,this.HlsPlayerClass=t,this.assetListLoader=new yO(e),this.schedule=new pO(this.onScheduleUpdate,e.logger),this.registerListeners()}registerListeners(){const e=this.hls;e&&(e.on(Ee.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(Ee.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(Ee.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(Ee.MANIFEST_LOADING,this.onManifestLoading,this),e.on(Ee.LEVEL_UPDATED,this.onLevelUpdated,this),e.on(Ee.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(Ee.AUDIO_TRACK_UPDATED,this.onAudioTrackUpdated,this),e.on(Ee.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.on(Ee.SUBTITLE_TRACK_UPDATED,this.onSubtitleTrackUpdated,this),e.on(Ee.EVENT_CUE_ENTER,this.onInterstitialCueEnter,this),e.on(Ee.ASSET_LIST_LOADED,this.onAssetListLoaded,this),e.on(Ee.BUFFER_APPENDED,this.onBufferAppended,this),e.on(Ee.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(Ee.BUFFERED_TO_END,this.onBufferedToEnd,this),e.on(Ee.MEDIA_ENDED,this.onMediaEnded,this),e.on(Ee.ERROR,this.onError,this),e.on(Ee.DESTROYING,this.onDestroying,this))}unregisterListeners(){const e=this.hls;e&&(e.off(Ee.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(Ee.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(Ee.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(Ee.MANIFEST_LOADING,this.onManifestLoading,this),e.off(Ee.LEVEL_UPDATED,this.onLevelUpdated,this),e.off(Ee.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(Ee.AUDIO_TRACK_UPDATED,this.onAudioTrackUpdated,this),e.off(Ee.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.off(Ee.SUBTITLE_TRACK_UPDATED,this.onSubtitleTrackUpdated,this),e.off(Ee.EVENT_CUE_ENTER,this.onInterstitialCueEnter,this),e.off(Ee.ASSET_LIST_LOADED,this.onAssetListLoaded,this),e.off(Ee.BUFFER_CODECS,this.onBufferCodecs,this),e.off(Ee.BUFFER_APPENDED,this.onBufferAppended,this),e.off(Ee.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(Ee.BUFFERED_TO_END,this.onBufferedToEnd,this),e.off(Ee.MEDIA_ENDED,this.onMediaEnded,this),e.off(Ee.ERROR,this.onError,this),e.off(Ee.DESTROYING,this.onDestroying,this))}startLoad(){this.resumeBuffering()}stopLoad(){this.pauseBuffering()}resumeBuffering(){var e;(e=this.getBufferingPlayer())==null||e.resumeBuffering()}pauseBuffering(){var e;(e=this.getBufferingPlayer())==null||e.pauseBuffering()}destroy(){this.unregisterListeners(),this.stopLoad(),this.assetListLoader&&this.assetListLoader.destroy(),this.emptyPlayerQueue(),this.clearScheduleState(),this.schedule&&this.schedule.destroy(),this.media=this.detachedData=this.mediaSelection=this.requiredTracks=this.altSelection=this.schedule=this.manager=null,this.hls=this.HlsPlayerClass=this.log=null,this.assetListLoader=null,this.onPlay=this.onPause=this.onSeeking=this.onTimeupdate=null,this.onScheduleUpdate=null}onDestroying(){const e=this.primaryMedia||this.media;e&&this.removeMediaListeners(e)}removeMediaListeners(e){La(e,"play",this.onPlay),La(e,"pause",this.onPause),La(e,"seeking",this.onSeeking),La(e,"timeupdate",this.onTimeupdate)}onMediaAttaching(e,t){const n=this.media=t.media;Ea(n,"seeking",this.onSeeking),Ea(n,"timeupdate",this.onTimeupdate),Ea(n,"play",this.onPlay),Ea(n,"pause",this.onPause)}onMediaAttached(e,t){const n=this.effectivePlayingItem,r=this.detachedData;if(this.detachedData=null,n===null)this.checkStart();else if(!r){this.clearScheduleState();const o=this.findItemIndex(n);this.setSchedulePosition(o)}}clearScheduleState(){this.log("clear schedule state"),this.playingItem=this.bufferingItem=this.waitingItem=this.endedItem=this.playingAsset=this.endedAsset=this.bufferingAsset=null}onMediaDetaching(e,t){const n=!!t.transferMedia,r=this.media;if(this.media=null,!n&&(r&&this.removeMediaListeners(r),this.detachedData)){const o=this.getBufferingPlayer();o&&(this.log(`Removing schedule state for detachedData and ${o}`),this.playingAsset=this.endedAsset=this.bufferingAsset=this.bufferingItem=this.waitingItem=this.detachedData=null,o.detachMedia()),this.shouldPlay=!1}}get interstitialsManager(){if(!this.hls)return null;if(this.manager)return this.manager;const e=this,t=()=>e.bufferingItem||e.waitingItem,n=m=>m&&e.getAssetPlayer(m.identifier),r=(m,p,T,v,A)=>{if(m){let k=m[p].start;const B=m.event;if(B){if(p==="playout"||B.timelineOccupancy!==Ap.Point){const $=n(T);($==null?void 0:$.interstitial)===B&&(k+=$.assetItem.startOffset+$[A])}}else{const $=v==="bufferedPos"?u():e[v];k+=$-m.start}return k}return 0},o=(m,p)=>{var T;if(m!==0&&p!=="primary"&&(T=e.schedule)!=null&&T.length){var v;const A=e.schedule.findItemIndexAtTime(m),k=(v=e.schedule.items)==null?void 0:v[A];if(k){const B=k[p].start-k.start;return m+B}}return m},u=()=>{const m=e.bufferedPos;return m===Number.MAX_VALUE?d("primary"):Math.max(m,0)},d=m=>{var p,T;return(p=e.primaryDetails)!=null&&p.live?e.primaryDetails.edge:((T=e.schedule)==null?void 0:T.durations[m])||0},h=(m,p)=>{var T,v;const A=e.effectivePlayingItem;if(A!=null&&(T=A.event)!=null&&T.restrictions.skip||!e.schedule)return;e.log(`seek to ${m} "${p}"`);const k=e.effectivePlayingItem,B=e.schedule.findItemIndexAtTime(m,p),$=(v=e.schedule.items)==null?void 0:v[B],K=e.getBufferingPlayer(),ue=K==null?void 0:K.interstitial,me=ue==null?void 0:ue.appendInPlace,Te=k&&e.itemsMatch(k,$);if(k&&(me||Te)){const X=n(e.playingAsset),Q=(X==null?void 0:X.media)||e.primaryMedia;if(Q){const be=p==="primary"?Q.currentTime:r(k,p,e.playingAsset,"timelinePos","currentTime"),F=m-be,ke=(me?be:Q.currentTime)+F;if(ke>=0&&(!X||me||ke<=X.duration)){Q.currentTime=ke;return}}}if($){let X=m;if(p!=="primary"){const be=$[p].start,F=m-be;X=$.start+F}const Q=!e.isInterstitial($);if((!e.isInterstitial(k)||k.event.appendInPlace)&&(Q||$.event.appendInPlace)){const be=e.media||(me?K==null?void 0:K.media:null);be&&(be.currentTime=X)}else if(k){const be=e.findItemIndex(k);if(B>be){const ke=e.schedule.findJumpRestrictedIndex(be+1,B);if(ke>be){e.setSchedulePosition(ke);return}}let F=0;if(Q)e.timelinePos=X,e.checkBuffer();else{const ke=$.event.assetList,Qe=m-($[p]||$).start;for(let xe=ke.length;xe--;){const Ye=ke[xe];if(Ye.duration&&Qe>=Ye.startOffset&&Qe<Ye.startOffset+Ye.duration){F=xe;break}}}e.setSchedulePosition(B,F)}}},f=()=>{const m=e.effectivePlayingItem;if(e.isInterstitial(m))return m;const p=t();return e.isInterstitial(p)?p:null},y={get bufferedEnd(){const m=t(),p=e.bufferingItem;if(p&&p===m){var T;return r(p,"playout",e.bufferingAsset,"bufferedPos","bufferedEnd")-p.playout.start||((T=e.bufferingAsset)==null?void 0:T.startOffset)||0}return 0},get currentTime(){const m=f(),p=e.effectivePlayingItem;return p&&p===m?r(p,"playout",e.effectivePlayingAsset,"timelinePos","currentTime")-p.playout.start:0},set currentTime(m){const p=f(),T=e.effectivePlayingItem;T&&T===p&&h(m+T.playout.start,"playout")},get duration(){const m=f();return m?m.playout.end-m.playout.start:0},get assetPlayers(){var m;const p=(m=f())==null?void 0:m.event.assetList;return p?p.map(T=>e.getAssetPlayer(T.identifier)):[]},get playingIndex(){var m;const p=(m=f())==null?void 0:m.event;return p&&e.effectivePlayingAsset?p.findAssetIndex(e.effectivePlayingAsset):-1},get scheduleItem(){return f()}};return this.manager={get events(){var m;return((m=e.schedule)==null||(m=m.events)==null?void 0:m.slice(0))||[]},get schedule(){var m;return((m=e.schedule)==null||(m=m.items)==null?void 0:m.slice(0))||[]},get interstitialPlayer(){return f()?y:null},get playerQueue(){return e.playerQueue.slice(0)},get bufferingAsset(){return e.bufferingAsset},get bufferingItem(){return t()},get bufferingIndex(){const m=t();return e.findItemIndex(m)},get playingAsset(){return e.effectivePlayingAsset},get playingItem(){return e.effectivePlayingItem},get playingIndex(){const m=e.effectivePlayingItem;return e.findItemIndex(m)},primary:{get bufferedEnd(){return u()},get currentTime(){const m=e.timelinePos;return m>0?m:0},set currentTime(m){h(m,"primary")},get duration(){return d("primary")},get seekableStart(){var m;return((m=e.primaryDetails)==null?void 0:m.fragmentStart)||0}},integrated:{get bufferedEnd(){return r(t(),"integrated",e.bufferingAsset,"bufferedPos","bufferedEnd")},get currentTime(){return r(e.effectivePlayingItem,"integrated",e.effectivePlayingAsset,"timelinePos","currentTime")},set currentTime(m){h(m,"integrated")},get duration(){return d("integrated")},get seekableStart(){var m;return o(((m=e.primaryDetails)==null?void 0:m.fragmentStart)||0,"integrated")}},skip:()=>{const m=e.effectivePlayingItem,p=m==null?void 0:m.event;if(p&&!p.restrictions.skip){const T=e.findItemIndex(m);if(p.appendInPlace){const v=m.playout.start+m.event.duration;h(v+.001,"playout")}else e.advanceAfterAssetEnded(p,T,1/0)}}}}get effectivePlayingItem(){return this.waitingItem||this.playingItem||this.endedItem}get effectivePlayingAsset(){return this.playingAsset||this.endedAsset}get playingLastItem(){var e;const t=this.playingItem,n=(e=this.schedule)==null?void 0:e.items;return!this.playbackStarted||!t||!n?!1:this.findItemIndex(t)===n.length-1}get playbackStarted(){return this.effectivePlayingItem!==null}get currentTime(){var e,t;if(this.mediaSelection===null)return;const n=this.waitingItem||this.playingItem;if(this.isInterstitial(n)&&!n.event.appendInPlace)return;let r=this.media;!r&&(e=this.bufferingItem)!=null&&(e=e.event)!=null&&e.appendInPlace&&(r=this.primaryMedia);const o=(t=r)==null?void 0:t.currentTime;if(!(o===void 0||!Mn(o)))return o}get primaryMedia(){var e;return this.media||((e=this.detachedData)==null?void 0:e.media)||null}isInterstitial(e){return!!(e!=null&&e.event)}retreiveMediaSource(e,t){const n=this.getAssetPlayer(e);n&&this.transferMediaFromPlayer(n,t)}transferMediaFromPlayer(e,t){const n=e.interstitial.appendInPlace,r=e.media;if(n&&r===this.primaryMedia){if(this.bufferingAsset=null,(!t||this.isInterstitial(t)&&!t.event.appendInPlace)&&t&&r){this.detachedData={media:r};return}const o=e.transferMedia();this.log(`transfer MediaSource from ${e} ${ei(o)}`),this.detachedData=o}else t&&r&&(this.shouldPlay||(this.shouldPlay=!r.paused))}transferMediaTo(e,t){var n,r;if(e.media===t)return;let o=null;const u=this.hls,d=e!==u,h=d&&e.interstitial.appendInPlace,f=(n=this.detachedData)==null?void 0:n.mediaSource;let y;if(u.media)h&&(o=u.transferMedia(),this.detachedData=o),y="Primary";else if(f){const v=this.getBufferingPlayer();v?(o=v.transferMedia(),y=`${v}`):y="detached MediaSource"}else y="detached media";if(!o){if(f)o=this.detachedData,this.log(`using detachedData: MediaSource ${ei(o)}`);else if(!this.detachedData||u.media===t){const v=this.playerQueue;v.length>1&&v.forEach(A=>{if(d&&A.interstitial.appendInPlace!==h){const k=A.interstitial;this.clearInterstitial(A.interstitial,null),k.appendInPlace=!1,k.appendInPlace&&this.warn(`Could not change append strategy for queued assets ${k}`)}}),this.hls.detachMedia(),this.detachedData={media:t}}}const m=o&&"mediaSource"in o&&((r=o.mediaSource)==null?void 0:r.readyState)!=="closed",p=m&&o?o:t;this.log(`${m?"transfering MediaSource":"attaching media"} to ${d?e:"Primary"} from ${y} (media.currentTime: ${t.currentTime})`);const T=this.schedule;if(p===o&&T){const v=d&&e.assetId===T.assetIdAtEnd;p.overrides={duration:T.duration,endOfStream:!d||v,cueRemoval:!d}}e.attachMedia(p)}onInterstitialCueEnter(){this.onTimeupdate()}checkStart(){const e=this.schedule,t=e==null?void 0:e.events;if(!t||this.playbackDisabled||!this.media)return;this.bufferedPos===-1&&(this.bufferedPos=0);const n=this.timelinePos,r=this.effectivePlayingItem;if(n===-1){const o=this.hls.startPosition;if(this.log(Mm("checkStart",o)),this.timelinePos=o,t.length&&t[0].cue.pre){const u=e.findEventIndex(t[0].identifier);this.setSchedulePosition(u)}else if(o>=0||!this.primaryLive){const u=this.timelinePos=o>0?o:0,d=e.findItemIndexAtTime(u);this.setSchedulePosition(d)}}else if(r&&!this.playingItem){const o=e.findItemIndex(r);this.setSchedulePosition(o)}}advanceAssetBuffering(e,t){const n=e.event,r=n.findAssetIndex(t),o=db(n,r);if(!n.isAssetPastPlayoutLimit(o))this.bufferedToEvent(e,o);else if(this.schedule){var u;const d=(u=this.schedule.items)==null?void 0:u[this.findItemIndex(e)+1];d&&this.bufferedToItem(d)}}advanceAfterAssetEnded(e,t,n){const r=db(e,n);if(e.isAssetPastPlayoutLimit(r)){if(this.schedule){const o=this.schedule.items;if(o){const u=t+1,d=o.length;if(u>=d){this.setSchedulePosition(-1);return}const h=e.resumeTime;this.timelinePos<h&&(this.log(Mm("advanceAfterAssetEnded",h)),this.timelinePos=h,e.appendInPlace&&this.advanceInPlace(h),this.checkBuffer(this.bufferedPos<h)),this.setSchedulePosition(u)}}}else{if(e.appendInPlace){const o=e.assetList[r];o&&this.advanceInPlace(o.timelineStart)}this.setSchedulePosition(t,r)}}setScheduleToAssetAtTime(e,t){const n=this.schedule;if(!n)return;const r=t.parentIdentifier,o=n.getEvent(r);if(o){const u=n.findEventIndex(r),d=n.findAssetIndex(o,e);this.advanceAfterAssetEnded(o,u,d-1)}}setSchedulePosition(e,t){var n;const r=(n=this.schedule)==null?void 0:n.items;if(!r||this.playbackDisabled)return;const o=e>=0?r[e]:null;this.log(`setSchedulePosition ${e}, ${t} (${o&&xs(o)}) pos: ${this.timelinePos}`);const u=this.waitingItem||this.playingItem,d=this.playingLastItem;if(this.isInterstitial(u)){const y=u.event,m=this.playingAsset,p=m==null?void 0:m.identifier,T=p?this.getAssetPlayer(p):null;if(T&&p&&(!this.eventItemsMatch(u,o)||t!==void 0&&p!==y.assetList[t].identifier)){var h;const v=y.findAssetIndex(m);if(this.log(`INTERSTITIAL_ASSET_ENDED ${v+1}/${y.assetList.length} ${ud(m)}`),this.endedAsset=m,this.playingAsset=null,this.hls.trigger(Ee.INTERSTITIAL_ASSET_ENDED,{asset:m,assetListIndex:v,event:y,schedule:r.slice(0),scheduleIndex:e,player:T}),u!==this.playingItem){this.itemsMatch(u,this.playingItem)&&!this.playingAsset&&this.advanceAfterAssetEnded(y,this.findItemIndex(this.playingItem),v);return}this.retreiveMediaSource(p,o),T.media&&!((h=this.detachedData)!=null&&h.mediaSource)&&T.detachMedia()}if(!this.eventItemsMatch(u,o)&&(this.endedItem=u,this.playingItem=null,this.log(`INTERSTITIAL_ENDED ${y} ${xs(u)}`),y.hasPlayed=!0,this.hls.trigger(Ee.INTERSTITIAL_ENDED,{event:y,schedule:r.slice(0),scheduleIndex:e}),y.cue.once)){var f;this.updateSchedule();const v=(f=this.schedule)==null?void 0:f.items;if(o&&v){const A=this.findItemIndex(o);this.advanceSchedule(A,v,t,u,d)}return}}this.advanceSchedule(e,r,t,u,d)}advanceSchedule(e,t,n,r,o){const u=this.schedule;if(!u)return;const d=t[e]||null,h=this.primaryMedia,f=this.playerQueue;if(f.length&&f.forEach(y=>{const m=y.interstitial,p=u.findEventIndex(m.identifier);(p<e||p>e+1)&&this.clearInterstitial(m,d)}),this.isInterstitial(d)){this.timelinePos=Math.min(Math.max(this.timelinePos,d.start),d.end);const y=d.event;if(n===void 0){n=u.findAssetIndex(y,this.timelinePos);const v=db(y,n-1);if(y.isAssetPastPlayoutLimit(v)||y.appendInPlace&&this.timelinePos===d.end){this.advanceAfterAssetEnded(y,e,n);return}n=v}const m=this.waitingItem;this.assetsBuffered(d,h)||this.setBufferingItem(d);let p=this.preloadAssets(y,n);if(this.eventItemsMatch(d,m||r)||(this.waitingItem=d,this.log(`INTERSTITIAL_STARTED ${xs(d)} ${y.appendInPlace?"append in place":""}`),this.hls.trigger(Ee.INTERSTITIAL_STARTED,{event:y,schedule:t.slice(0),scheduleIndex:e})),!y.assetListLoaded){this.log(`Waiting for ASSET-LIST to complete loading ${y}`);return}if(y.assetListLoader&&(y.assetListLoader.destroy(),y.assetListLoader=void 0),!h){this.log(`Waiting for attachMedia to start Interstitial ${y}`);return}this.waitingItem=this.endedItem=null,this.playingItem=d;const T=y.assetList[n];if(!T){this.advanceAfterAssetEnded(y,e,n||0);return}if(p||(p=this.getAssetPlayer(T.identifier)),p===null||p.destroyed){const v=y.assetList.length;this.warn(`asset ${n+1}/${v} player destroyed ${y}`),p=this.createAssetPlayer(y,T,n),p.loadSource()}if(!this.eventItemsMatch(d,this.bufferingItem)&&y.appendInPlace&&this.isAssetBuffered(T))return;this.startAssetPlayer(p,n,t,e,h),this.shouldPlay&&QT(p.media)}else d?(this.resumePrimary(d,e,r),this.shouldPlay&&QT(this.hls.media)):o&&this.isInterstitial(r)&&(this.endedItem=null,this.playingItem=r,r.event.appendInPlace||this.attachPrimary(u.durations.primary,null))}get playbackDisabled(){return this.hls.config.enableInterstitialPlayback===!1}get primaryDetails(){var e;return(e=this.mediaSelection)==null?void 0:e.main.details}get primaryLive(){var e;return!!((e=this.primaryDetails)!=null&&e.live)}resumePrimary(e,t,n){var r,o;if(this.playingItem=e,this.playingAsset=this.endedAsset=null,this.waitingItem=this.endedItem=null,this.bufferedToItem(e),this.log(`resuming ${xs(e)}`),!((r=this.detachedData)!=null&&r.mediaSource)){let d=this.timelinePos;(d<e.start||d>=e.end)&&(d=this.getPrimaryResumption(e,t),this.log(Mm("resumePrimary",d)),this.timelinePos=d),this.attachPrimary(d,e)}if(!n)return;const u=(o=this.schedule)==null?void 0:o.items;u&&(this.log(`INTERSTITIALS_PRIMARY_RESUMED ${xs(e)}`),this.hls.trigger(Ee.INTERSTITIALS_PRIMARY_RESUMED,{schedule:u.slice(0),scheduleIndex:t}),this.checkBuffer())}getPrimaryResumption(e,t){const n=e.start;if(this.primaryLive){const r=this.primaryDetails;if(t===0)return this.hls.startPosition;if(r&&(n<r.fragmentStart||n>r.edge))return this.hls.liveSyncPosition||-1}return n}isAssetBuffered(e){const t=this.getAssetPlayer(e.identifier);return t!=null&&t.hls?t.hls.bufferedToEnd:dr.bufferInfo(this.primaryMedia,this.timelinePos,0).end+1>=e.timelineStart+(e.duration||0)}attachPrimary(e,t,n){t?this.setBufferingItem(t):this.bufferingItem=this.playingItem,this.bufferingAsset=null;const r=this.primaryMedia;if(!r)return;const o=this.hls;o.media?this.checkBuffer():(this.transferMediaTo(o,r),n&&this.startLoadingPrimaryAt(e,n)),n||(this.log(Mm("attachPrimary",e)),this.timelinePos=e,this.startLoadingPrimaryAt(e,n))}startLoadingPrimaryAt(e,t){var n;const r=this.hls;!r.loadingEnabled||!r.media||Math.abs((((n=r.mainForwardBufferInfo)==null?void 0:n.start)||r.media.currentTime)-e)>.5?r.startLoad(e,t):r.bufferingEnabled||r.resumeBuffering()}onManifestLoading(){var e;this.stopLoad(),(e=this.schedule)==null||e.reset(),this.emptyPlayerQueue(),this.clearScheduleState(),this.shouldPlay=!1,this.bufferedPos=this.timelinePos=-1,this.mediaSelection=this.altSelection=this.manager=this.requiredTracks=null,this.hls.off(Ee.BUFFER_CODECS,this.onBufferCodecs,this),this.hls.on(Ee.BUFFER_CODECS,this.onBufferCodecs,this)}onLevelUpdated(e,t){if(t.level===-1||!this.schedule)return;const n=this.hls.levels[t.level];if(!n.details)return;const r=qr(qr({},this.mediaSelection||this.altSelection),{},{main:n});this.mediaSelection=r,this.schedule.parseInterstitialDateRanges(r,this.hls.config.interstitialAppendInPlace),!this.effectivePlayingItem&&this.schedule.items&&this.checkStart()}onAudioTrackUpdated(e,t){const n=this.hls.audioTracks[t.id],r=this.mediaSelection;if(!r){this.altSelection=qr(qr({},this.altSelection),{},{audio:n});return}const o=qr(qr({},r),{},{audio:n});this.mediaSelection=o}onSubtitleTrackUpdated(e,t){const n=this.hls.subtitleTracks[t.id],r=this.mediaSelection;if(!r){this.altSelection=qr(qr({},this.altSelection),{},{subtitles:n});return}const o=qr(qr({},r),{},{subtitles:n});this.mediaSelection=o}onAudioTrackSwitching(e,t){const n=sT(t);this.playerQueue.forEach(({hls:r})=>r&&(r.setAudioOption(t)||r.setAudioOption(n)))}onSubtitleTrackSwitch(e,t){const n=sT(t);this.playerQueue.forEach(({hls:r})=>r&&(r.setSubtitleOption(t)||t.id!==-1&&r.setSubtitleOption(n)))}onBufferCodecs(e,t){const n=t.tracks;n&&(this.requiredTracks=n)}onBufferAppended(e,t){this.checkBuffer()}onBufferFlushed(e,t){const n=this.playingItem;if(n&&!this.itemsMatch(n,this.bufferingItem)&&!this.isInterstitial(n)){const r=this.timelinePos;this.bufferedPos=r,this.checkBuffer()}}onBufferedToEnd(e){if(!this.schedule)return;const t=this.schedule.events;if(this.bufferedPos<Number.MAX_VALUE&&t){for(let r=0;r<t.length;r++){const o=t[r];if(o.cue.post){var n;const u=this.schedule.findEventIndex(o.identifier),d=(n=this.schedule.items)==null?void 0:n[u];this.isInterstitial(d)&&this.eventItemsMatch(d,this.bufferingItem)&&this.bufferedToItem(d,0);break}}this.bufferedPos=Number.MAX_VALUE}}onMediaEnded(e){const t=this.playingItem;if(!this.playingLastItem&&t){const n=this.findItemIndex(t);this.setSchedulePosition(n+1)}else this.shouldPlay=!1}updateItem(e,t){var n;const r=(n=this.schedule)==null?void 0:n.items;if(e&&r){const o=this.findItemIndex(e,t);return r[o]||null}return null}trimInPlace(e,t){if(this.isInterstitial(e)&&e.event.appendInPlace&&t.end-e.end>.25){e.event.assetList.forEach((o,u)=>{e.event.isAssetPastPlayoutLimit(u)&&this.clearAssetPlayer(o.identifier,null)});const n=e.end+.25,r=dr.bufferInfo(this.primaryMedia,n,0);(r.end>n||(r.nextStart||0)>n)&&(this.log(`trim buffered interstitial ${xs(e)} (was ${xs(t)})`),this.attachPrimary(n,null,!0),this.flushFrontBuffer(n))}}itemsMatch(e,t){return!!t&&(e===t||e.event&&t.event&&this.eventItemsMatch(e,t)||!e.event&&!t.event&&this.findItemIndex(e)===this.findItemIndex(t))}eventItemsMatch(e,t){var n;return!!t&&(e===t||e.event.identifier===((n=t.event)==null?void 0:n.identifier))}findItemIndex(e,t){return e&&this.schedule?this.schedule.findItemIndex(e,t):-1}updateSchedule(e=!1){var t;const n=this.mediaSelection;n&&((t=this.schedule)==null||t.updateSchedule(n,[],e))}checkBuffer(e){var t;const n=(t=this.schedule)==null?void 0:t.items;if(!n)return;const r=dr.bufferInfo(this.primaryMedia,this.timelinePos,0);e&&(this.bufferedPos=this.timelinePos),e||(e=r.len<1),this.updateBufferedPos(r.end,n,e)}updateBufferedPos(e,t,n){const r=this.schedule,o=this.bufferingItem;if(this.bufferedPos>e||!r)return;if(t.length===1&&this.itemsMatch(t[0],o)){this.bufferedPos=e;return}const u=this.playingItem,d=this.findItemIndex(u);let h=r.findItemIndexAtTime(e);if(this.bufferedPos<e){var f;const y=this.findItemIndex(o),m=Math.min(y+1,t.length-1),p=t[m];if((h===-1&&o&&e>=o.end||(f=p.event)!=null&&f.appendInPlace&&e+.01>=p.start)&&(h=m),this.isInterstitial(o)){const T=o.event;if(m-d>1&&T.appendInPlace===!1||T.assetList.length===0&&T.assetListLoader)return}if(this.bufferedPos=e,h>y&&h>d)this.bufferedToItem(p);else{const T=this.primaryDetails;this.primaryLive&&T&&e>T.edge-T.targetduration&&p.start<T.edge+this.hls.config.interstitialLiveLookAhead&&this.isInterstitial(p)&&this.preloadAssets(p.event,0)}}else n&&u&&!this.itemsMatch(u,o)&&(h===d?this.bufferedToItem(u):h===d+1&&this.bufferedToItem(t[h]))}assetsBuffered(e,t){return e.event.assetList.length===0?!1:!e.event.assetList.some(r=>{const o=this.getAssetPlayer(r.identifier);return!(o!=null&&o.bufferedInPlaceToEnd(t))})}setBufferingItem(e){const t=this.bufferingItem,n=this.schedule;if(!this.itemsMatch(e,t)&&n){const{items:r,events:o}=n;if(!r||!o)return t;const u=this.isInterstitial(e),d=this.getBufferingPlayer();this.bufferingItem=e,this.bufferedPos=Math.max(e.start,Math.min(e.end,this.timelinePos));const h=d?d.remaining:t?t.end-this.timelinePos:0;if(this.log(`INTERSTITIALS_BUFFERED_TO_BOUNDARY ${xs(e)}`+(t?` (${h.toFixed(2)} remaining)`:"")),!this.playbackDisabled)if(u){const f=n.findAssetIndex(e.event,this.bufferedPos);e.event.assetList.forEach((y,m)=>{const p=this.getAssetPlayer(y.identifier);p&&(m===f&&p.loadSource(),p.resumeBuffering())})}else this.hls.resumeBuffering(),this.playerQueue.forEach(f=>f.pauseBuffering());this.hls.trigger(Ee.INTERSTITIALS_BUFFERED_TO_BOUNDARY,{events:o.slice(0),schedule:r.slice(0),bufferingIndex:this.findItemIndex(e),playingIndex:this.findItemIndex(this.playingItem)})}else this.bufferingItem!==e&&(this.bufferingItem=e);return t}bufferedToItem(e,t=0){const n=this.setBufferingItem(e);if(!this.playbackDisabled){if(this.isInterstitial(e))this.bufferedToEvent(e,t);else if(n!==null){this.bufferingAsset=null;const r=this.detachedData;r?r.mediaSource?this.attachPrimary(e.start,e,!0):this.preloadPrimary(e):this.preloadPrimary(e)}}}preloadPrimary(e){const t=this.findItemIndex(e),n=this.getPrimaryResumption(e,t);this.startLoadingPrimaryAt(n)}bufferedToEvent(e,t){const n=e.event,r=n.assetList.length===0&&!n.assetListLoader,o=n.cue.once;if(r||!o){const u=this.preloadAssets(n,t);if(u!=null&&u.interstitial.appendInPlace){const d=this.primaryMedia;d&&this.bufferAssetPlayer(u,d)}}}preloadAssets(e,t){const n=e.assetUrl,r=e.assetList.length,o=r===0&&!e.assetListLoader,u=e.cue.once;if(o){const h=e.timelineStart;if(e.appendInPlace){var d;const p=this.playingItem;!this.isInterstitial(p)&&(p==null||(d=p.nextEvent)==null?void 0:d.identifier)===e.identifier&&this.flushFrontBuffer(h+.25)}let f,y=0;if(!this.playingItem&&this.primaryLive&&(y=this.hls.startPosition,y===-1&&(y=this.hls.liveSyncPosition||0)),y&&!(e.cue.pre||e.cue.post)){const p=y-h;p>0&&(f=Math.round(p*1e3)/1e3)}if(this.log(`Load interstitial asset ${t+1}/${n?1:r} ${e}${f?` live-start: ${y} start-offset: ${f}`:""}`),n)return this.createAsset(e,0,0,h,e.duration,n);const m=this.assetListLoader.loadAssetList(e,f);m&&(e.assetListLoader=m)}else if(!u&&r){for(let f=t;f<r;f++){const y=e.assetList[f],m=this.getAssetPlayerQueueIndex(y.identifier);(m===-1||this.playerQueue[m].destroyed)&&!y.error&&this.createAssetPlayer(e,y,f)}const h=e.assetList[t];if(h){const f=this.getAssetPlayer(h.identifier);return f&&f.loadSource(),f}}return null}flushFrontBuffer(e){const t=this.requiredTracks;if(!t)return;this.log(`Removing front buffer starting at ${e}`),Object.keys(t).forEach(r=>{this.hls.trigger(Ee.BUFFER_FLUSHING,{startOffset:e,endOffset:1/0,type:r})})}getAssetPlayerQueueIndex(e){const t=this.playerQueue;for(let n=0;n<t.length;n++)if(e===t[n].assetId)return n;return-1}getAssetPlayer(e){const t=this.getAssetPlayerQueueIndex(e);return this.playerQueue[t]||null}getBufferingPlayer(){const{playerQueue:e,primaryMedia:t}=this;if(t){for(let n=0;n<e.length;n++)if(e[n].media===t)return e[n]}return null}createAsset(e,t,n,r,o,u){const d={parentIdentifier:e.identifier,identifier:fO(e,u,t),duration:o,startOffset:n,timelineStart:r,uri:u};return this.createAssetPlayer(e,d,t)}createAssetPlayer(e,t,n){const r=this.hls,o=r.userConfig;let u=o.videoPreference;const d=r.loadLevelObj||r.levels[r.currentLevel];(u||d)&&(u=Kr({},u),d.videoCodec&&(u.videoCodec=d.videoCodec),d.videoRange&&(u.allowedVideoRanges=[d.videoRange]));const h=r.audioTracks[r.audioTrack],f=r.subtitleTracks[r.subtitleTrack];let y=0;if(this.primaryLive||e.appendInPlace){const ue=this.timelinePos-t.timelineStart;if(ue>1){const me=t.duration;me&&ue<me&&(y=ue)}}const m=t.identifier,p=qr(qr({},o),{},{maxMaxBufferLength:Math.min(180,r.config.maxMaxBufferLength),autoStartLoad:!0,startFragPrefetch:!0,primarySessionId:r.sessionId,assetPlayerId:m,abrEwmaDefaultEstimate:r.bandwidthEstimate,interstitialsController:void 0,startPosition:y,liveDurationInfinity:!1,testBandwidth:!1,videoPreference:u,audioPreference:h||o.audioPreference,subtitlePreference:f||o.subtitlePreference});e.appendInPlace&&(e.appendInPlaceStarted=!0,t.timelineStart&&(p.timelineOffset=t.timelineStart));const T=p.cmcd;T!=null&&T.sessionId&&T.contentId&&(p.cmcd=Kr({},T,{contentId:Eh(t.uri)})),this.getAssetPlayer(m)&&this.warn(`Duplicate date range identifier ${e} and asset ${m}`);const v=new mO(this.HlsPlayerClass,p,e,t);this.playerQueue.push(v),e.assetList[n]=t;let A=!0;const k=ue=>{if(ue.live){var me;const Q=new Error(`Interstitials MUST be VOD assets ${e}`),be={fatal:!0,type:Qn.OTHER_ERROR,details:kt.INTERSTITIAL_ASSET_ITEM_ERROR,error:Q},F=((me=this.schedule)==null?void 0:me.findEventIndex(e.identifier))||-1;this.handleAssetItemError(be,e,F,n,Q.message);return}const Te=ue.edge-ue.fragmentStart,X=t.duration;(A||X===null||Te>X)&&(A=!1,this.log(`Interstitial asset "${m}" duration change ${X} > ${Te}`),t.duration=Te,this.updateSchedule())};v.on(Ee.LEVEL_UPDATED,(ue,{details:me})=>k(me)),v.on(Ee.LEVEL_PTS_UPDATED,(ue,{details:me})=>k(me)),v.on(Ee.EVENT_CUE_ENTER,()=>this.onInterstitialCueEnter());const B=(ue,me)=>{const Te=this.getAssetPlayer(m);if(Te&&me.tracks){Te.off(Ee.BUFFER_CODECS,B),Te.tracks=me.tracks;const X=this.primaryMedia;this.bufferingAsset===Te.assetItem&&X&&!Te.media&&this.bufferAssetPlayer(Te,X)}};v.on(Ee.BUFFER_CODECS,B);const $=()=>{var ue;const me=this.getAssetPlayer(m);if(this.log(`buffered to end of asset ${me}`),!me||!this.schedule)return;const Te=this.schedule.findEventIndex(e.identifier),X=(ue=this.schedule.items)==null?void 0:ue[Te];this.isInterstitial(X)&&this.advanceAssetBuffering(X,t)};v.on(Ee.BUFFERED_TO_END,$);const K=ue=>()=>{if(!this.getAssetPlayer(m)||!this.schedule)return;this.shouldPlay=!0;const Te=this.schedule.findEventIndex(e.identifier);this.advanceAfterAssetEnded(e,Te,ue)};return v.once(Ee.MEDIA_ENDED,K(n)),v.once(Ee.PLAYOUT_LIMIT_REACHED,K(1/0)),v.on(Ee.ERROR,(ue,me)=>{if(!this.schedule)return;const Te=this.getAssetPlayer(m);if(me.details===kt.BUFFER_STALLED_ERROR){if(Te!=null&&Te.appendInPlace){this.handleInPlaceStall(e);return}this.onTimeupdate(),this.checkBuffer(!0);return}this.handleAssetItemError(me,e,this.schedule.findEventIndex(e.identifier),n,`Asset player error ${me.error} ${e}`)}),v.on(Ee.DESTROYING,()=>{if(!this.getAssetPlayer(m)||!this.schedule)return;const me=new Error(`Asset player destroyed unexpectedly ${m}`),Te={fatal:!0,type:Qn.OTHER_ERROR,details:kt.INTERSTITIAL_ASSET_ITEM_ERROR,error:me};this.handleAssetItemError(Te,e,this.schedule.findEventIndex(e.identifier),n,me.message)}),this.log(`INTERSTITIAL_ASSET_PLAYER_CREATED ${ud(t)}`),this.hls.trigger(Ee.INTERSTITIAL_ASSET_PLAYER_CREATED,{asset:t,assetListIndex:n,event:e,player:v}),v}clearInterstitial(e,t){this.clearAssetPlayers(e,t),e.reset()}clearAssetPlayers(e,t){e.assetList.forEach(n=>{this.clearAssetPlayer(n.identifier,t)})}resetAssetPlayer(e){const t=this.getAssetPlayerQueueIndex(e);if(t!==-1){this.log(`reset asset player "${e}" after error`);const n=this.playerQueue[t];this.transferMediaFromPlayer(n,null),n.resetDetails()}}clearAssetPlayer(e,t){const n=this.getAssetPlayerQueueIndex(e);if(n!==-1){const r=this.playerQueue[n];this.log(`clear ${r} toSegment: ${t&&xs(t)}`),this.transferMediaFromPlayer(r,t),this.playerQueue.splice(n,1),r.destroy()}}emptyPlayerQueue(){let e;for(;e=this.playerQueue.pop();)e.destroy();this.playerQueue=[]}startAssetPlayer(e,t,n,r,o){const{interstitial:u,assetItem:d,assetId:h}=e,f=u.assetList.length,y=this.playingAsset;this.endedAsset=null,this.playingAsset=d,(!y||y.identifier!==h)&&(y&&(this.clearAssetPlayer(y.identifier,n[r]),delete y.error),this.log(`INTERSTITIAL_ASSET_STARTED ${t+1}/${f} ${ud(d)}`),this.hls.trigger(Ee.INTERSTITIAL_ASSET_STARTED,{asset:d,assetListIndex:t,event:u,schedule:n.slice(0),scheduleIndex:r,player:e})),this.bufferAssetPlayer(e,o)}bufferAssetPlayer(e,t){var n,r;if(!this.schedule)return;const{interstitial:o,assetItem:u}=e,d=this.schedule.findEventIndex(o.identifier),h=(n=this.schedule.items)==null?void 0:n[d];if(!h)return;e.loadSource(),this.setBufferingItem(h),this.bufferingAsset=u;const f=this.getBufferingPlayer();if(f===e)return;const y=o.appendInPlace;if(y&&(f==null?void 0:f.interstitial.appendInPlace)===!1)return;const m=(f==null?void 0:f.tracks)||((r=this.detachedData)==null?void 0:r.tracks)||this.requiredTracks;if(y&&u!==this.playingAsset){if(!e.tracks){this.log(`Waiting for track info before buffering ${e}`);return}if(m&&!P_(m,e.tracks)){const p=new Error(`Asset ${ud(u)} SourceBuffer tracks ('${Object.keys(e.tracks)}') are not compatible with primary content tracks ('${Object.keys(m)}')`),T={fatal:!0,type:Qn.OTHER_ERROR,details:kt.INTERSTITIAL_ASSET_ITEM_ERROR,error:p},v=o.findAssetIndex(u);this.handleAssetItemError(T,o,d,v,p.message);return}}this.transferMediaTo(e,t)}handleInPlaceStall(e){const t=this.schedule,n=this.primaryMedia;if(!t||!n)return;const r=n.currentTime,o=t.findAssetIndex(e,r),u=e.assetList[o];if(u){const d=this.getAssetPlayer(u.identifier);if(d){const h=d.currentTime||r-u.timelineStart,f=d.duration-h;if(this.warn(`Stalled at ${h} of ${h+f} in ${d} ${e} (media.currentTime: ${r})`),h&&(f/n.playbackRate<.5||d.bufferedInPlaceToEnd(n))&&d.hls){const y=t.findEventIndex(e.identifier);this.advanceAfterAssetEnded(e,y,o)}}}}advanceInPlace(e){const t=this.primaryMedia;t&&t.currentTime<e&&(t.currentTime=e)}handleAssetItemError(e,t,n,r,o){if(e.details===kt.BUFFER_STALLED_ERROR)return;const u=t.assetList[r]||null;if(this.warn(`INTERSTITIAL_ASSET_ERROR ${u&&ud(u)} ${e.error}`),!this.schedule)return;const d=(u==null?void 0:u.identifier)||"",h=this.getAssetPlayerQueueIndex(d),f=this.playerQueue[h]||null,y=this.schedule.items,m=Kr({},e,{fatal:!1,errorAction:gd(!0),asset:u,assetListIndex:r,event:t,schedule:y,scheduleIndex:n,player:f});if(this.hls.trigger(Ee.INTERSTITIAL_ASSET_ERROR,m),!e.fatal)return;const p=this.playingAsset,T=this.bufferingAsset,v=new Error(o);if(u&&(this.clearAssetPlayer(d,null),u.error=v),!t.assetList.some(A=>!A.error))t.error=v;else for(let A=r;A<t.assetList.length;A++)this.resetAssetPlayer(t.assetList[A].identifier);this.updateSchedule(!0),t.error?this.primaryFallback(t):p&&p.identifier===d?this.advanceAfterAssetEnded(t,n,r):T&&T.identifier===d&&this.isInterstitial(this.bufferingItem)&&this.advanceAssetBuffering(this.bufferingItem,T)}primaryFallback(e){const t=e.timelineStart,n=this.effectivePlayingItem;let r=this.timelinePos;if(n){this.log(`Fallback to primary from event "${e.identifier}" start: ${t} pos: ${r} playing: ${xs(n)} error: ${e.error}`),r===-1&&(r=this.hls.startPosition);const u=this.updateItem(n,r);this.itemsMatch(n,u)&&this.clearInterstitial(e,null),e.appendInPlace&&(this.attachPrimary(t,null),this.flushFrontBuffer(t))}else if(r===-1){this.checkStart();return}if(!this.schedule)return;const o=this.schedule.findItemIndexAtTime(r);this.setSchedulePosition(o)}onAssetListLoaded(e,t){var n,r;const o=t.event,u=o.identifier,d=t.assetListResponse.ASSETS;if(!((n=this.schedule)!=null&&n.hasEvent(u)))return;const h=o.timelineStart,f=o.duration;let y=0;d.forEach((A,k)=>{const B=parseFloat(A.DURATION);this.createAsset(o,k,y,h+y,B,A.URI),y+=B}),o.duration=y,this.log(`Loaded asset-list with duration: ${y} (was: ${f}) ${o}`);const m=this.waitingItem,p=(m==null?void 0:m.event.identifier)===u;this.updateSchedule();const T=(r=this.bufferingItem)==null?void 0:r.event;if(p){var v;const A=this.schedule.findEventIndex(u),k=(v=this.schedule.items)==null?void 0:v[A];if(k){if(!this.playingItem&&this.timelinePos>k.end&&this.schedule.findItemIndexAtTime(this.timelinePos)!==A){o.error=new Error(`Interstitial ${d.length?"no longer within playback range":"asset-list is empty"} ${this.timelinePos} ${o}`),this.log(o.error.message),this.updateSchedule(!0),this.primaryFallback(o);return}this.setBufferingItem(k)}this.setSchedulePosition(A)}else if((T==null?void 0:T.identifier)===u){const A=o.assetList[0];if(A){const k=this.getAssetPlayer(A.identifier);if(T.appendInPlace){const B=this.primaryMedia;k&&B&&this.bufferAssetPlayer(k,B)}else k&&k.loadSource()}}}onError(e,t){if(this.schedule)switch(t.details){case kt.ASSET_LIST_PARSING_ERROR:case kt.ASSET_LIST_LOAD_ERROR:case kt.ASSET_LIST_LOAD_TIMEOUT:{const n=t.interstitial;n&&(this.updateSchedule(!0),this.primaryFallback(n));break}case kt.BUFFER_STALLED_ERROR:{const n=this.endedItem||this.waitingItem||this.playingItem;if(this.isInterstitial(n)&&n.event.appendInPlace){this.handleInPlaceStall(n.event);return}this.log(`Primary player stall @${this.timelinePos} bufferedPos: ${this.bufferedPos}`),this.onTimeupdate(),this.checkBuffer(!0);break}}}}const ZT=500;class EO extends VE{constructor(e,t,n){super(e,t,n,"subtitle-stream-controller",jn.SUBTITLE),this.currentTrackId=-1,this.tracksBuffered=[],this.mainDetails=null,this.registerListeners()}onHandlerDestroying(){this.unregisterListeners(),super.onHandlerDestroying(),this.mainDetails=null}registerListeners(){super.registerListeners();const{hls:e}=this;e.on(Ee.LEVEL_LOADED,this.onLevelLoaded,this),e.on(Ee.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.on(Ee.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.on(Ee.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.on(Ee.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),e.on(Ee.BUFFER_FLUSHING,this.onBufferFlushing,this)}unregisterListeners(){super.unregisterListeners();const{hls:e}=this;e.off(Ee.LEVEL_LOADED,this.onLevelLoaded,this),e.off(Ee.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.off(Ee.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.off(Ee.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.off(Ee.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),e.off(Ee.BUFFER_FLUSHING,this.onBufferFlushing,this)}startLoad(e,t){this.stopLoad(),this.state=cn.IDLE,this.setInterval(ZT),this.nextLoadPosition=this.lastCurrentTime=e+this.timelineOffset,this.startPosition=t?-1:e,this.tick()}onManifestLoading(){super.onManifestLoading(),this.mainDetails=null}onMediaDetaching(e,t){this.tracksBuffered=[],super.onMediaDetaching(e,t)}onLevelLoaded(e,t){this.mainDetails=t.details}onSubtitleFragProcessed(e,t){const{frag:n,success:r}=t;if(this.fragContextChanged(n)||(vi(n)&&(this.fragPrevious=n),this.state=cn.IDLE),!r)return;const o=this.tracksBuffered[this.currentTrackId];if(!o)return;let u;const d=n.start;for(let f=0;f<o.length;f++)if(d>=o[f].start&&d<=o[f].end){u=o[f];break}const h=n.start+n.duration;u?u.end=h:(u={start:d,end:h},o.push(u)),this.fragmentTracker.fragBuffered(n),this.fragBufferedComplete(n,null),this.media&&this.tick()}onBufferFlushing(e,t){const{startOffset:n,endOffset:r}=t;if(n===0&&r!==Number.POSITIVE_INFINITY){const o=r-1;if(o<=0)return;t.endOffsetSubtitles=Math.max(0,o),this.tracksBuffered.forEach(u=>{for(let d=0;d<u.length;){if(u[d].end<=o){u.shift();continue}else if(u[d].start<o)u[d].start=o;else break;d++}}),this.fragmentTracker.removeFragmentsInRange(n,o,jn.SUBTITLE)}}onError(e,t){const n=t.frag;(n==null?void 0:n.type)===jn.SUBTITLE&&(t.details===kt.FRAG_GAP&&this.fragmentTracker.fragBuffered(n,!0),this.fragCurrent&&this.fragCurrent.abortRequests(),this.state!==cn.STOPPED&&(this.state=cn.IDLE))}onSubtitleTracksUpdated(e,{subtitleTracks:t}){if(this.levels&&UA(this.levels,t)){this.levels=t.map(n=>new Ih(n));return}this.tracksBuffered=[],this.levels=t.map(n=>{const r=new Ih(n);return this.tracksBuffered[r.id]=[],r}),this.fragmentTracker.removeFragmentsInRange(0,Number.POSITIVE_INFINITY,jn.SUBTITLE),this.fragPrevious=null,this.mediaBuffer=null}onSubtitleTrackSwitch(e,t){var n;if(this.currentTrackId=t.id,!((n=this.levels)!=null&&n.length)||this.currentTrackId===-1){this.clearInterval();return}const r=this.levels[this.currentTrackId];r!=null&&r.details?this.mediaBuffer=this.mediaBufferTimeRanges:this.mediaBuffer=null,r&&this.state!==cn.STOPPED&&this.setInterval(ZT)}onSubtitleTrackLoaded(e,t){var n;const{currentTrackId:r,levels:o}=this,{details:u,id:d}=t;if(!o){this.warn(`Subtitle tracks were reset while loading level ${d}`);return}const h=o[d];if(d>=o.length||!h)return;this.log(`Subtitle track ${d} loaded [${u.startSN},${u.endSN}]${u.lastPartSn?`[part-${u.lastPartSn}-${u.lastPartIndex}]`:""},duration:${u.totalduration}`),this.mediaBuffer=this.mediaBufferTimeRanges;let f=0;if(u.live||(n=h.details)!=null&&n.live){if(u.deltaUpdateFailed)return;const m=this.mainDetails;if(!m){this.startFragRequested=!1;return}const p=m.fragments[0];if(!h.details)u.hasProgramDateTime&&m.hasProgramDateTime?(Sp(u,m),f=u.fragmentStart):p&&(f=p.start,Yb(u,f));else{var y;f=this.alignPlaylists(u,h.details,(y=this.levelLastLoaded)==null?void 0:y.details),f===0&&p&&(f=p.start,Yb(u,f))}m&&!this.startFragRequested&&this.setStartPosition(m,f)}h.details=u,this.levelLastLoaded=h,d===r&&(this.hls.trigger(Ee.SUBTITLE_TRACK_UPDATED,{details:u,id:d,groupId:t.groupId}),this.tick(),u.live&&!this.fragCurrent&&this.media&&this.state===cn.IDLE&&(Pu(null,u.fragments,this.media.currentTime,0)||(this.warn("Subtitle playlist not aligned with playback"),h.details=void 0)))}_handleFragmentLoadComplete(e){const{frag:t,payload:n}=e,r=t.decryptdata,o=this.hls;if(!this.fragContextChanged(t)&&n&&n.byteLength>0&&r!=null&&r.key&&r.iv&&md(r.method)){const u=performance.now();this.decrypter.decrypt(new Uint8Array(n),r.key.buffer,r.iv.buffer,$E(r.method)).catch(d=>{throw o.trigger(Ee.ERROR,{type:Qn.MEDIA_ERROR,details:kt.FRAG_DECRYPT_ERROR,fatal:!1,error:d,reason:d.message,frag:t}),d}).then(d=>{const h=performance.now();o.trigger(Ee.FRAG_DECRYPTED,{frag:t,payload:d,stats:{tstart:u,tdecrypt:h}})}).catch(d=>{this.warn(`${d.name}: ${d.message}`),this.state=cn.IDLE})}}doTick(){if(!this.media){this.state=cn.IDLE;return}if(this.state===cn.IDLE){const{currentTrackId:e,levels:t}=this,n=t==null?void 0:t[e];if(!n||!t.length||!n.details||this.waitForLive(n))return;const{config:r}=this,o=this.getLoadPosition(),u=dr.bufferedInfo(this.tracksBuffered[this.currentTrackId]||[],o,r.maxBufferHole),{end:d,len:h}=u,f=n.details,y=this.hls.maxBufferLength+f.levelTargetDuration;if(h>y)return;const m=f.fragments,p=m.length,T=f.edge;let v=null;const A=this.fragPrevious;if(d<T){const $=r.maxFragLookUpTolerance,K=d>T-$?0:$;v=Pu(A,m,Math.max(m[0].start,d),K),!v&&A&&A.start<m[0].start&&(v=m[0])}else v=m[p-1];if(v=this.filterReplacedPrimary(v,n.details),!v)return;const k=v.sn-f.startSN,B=m[k-1];if(B&&B.cc===v.cc&&this.fragmentTracker.getState(B)===Oi.NOT_LOADED&&(v=B),this.fragmentTracker.getState(v)===Oi.NOT_LOADED){const $=this.mapToInitFragWhenRequired(v);$&&this.loadFragment($,n,d)}}}loadFragment(e,t,n){vi(e)?super.loadFragment(e,t,n):this._loadInitSegment(e,t)}get mediaBufferTimeRanges(){return new vO(this.tracksBuffered[this.currentTrackId]||[])}}class vO{constructor(e){this.buffered=void 0;const t=(n,r,o)=>{if(r=r>>>0,r>o-1)throw new DOMException(`Failed to execute '${n}' on 'TimeRanges': The index provided (${r}) is greater than the maximum bound (${o})`);return e[r][n]};this.buffered={get length(){return e.length},end(n){return t("end",n,e.length)},start(n){return t("start",n,e.length)}}}}const TO={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},tR=i=>String.fromCharCode(TO[i]||i),Is=15,Uo=100,SO={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},_O={17:2,18:4,21:6,22:8,23:10,19:13,20:15},AO={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},RO={25:2,26:4,29:6,30:8,31:10,27:13,28:15},xO=["white","green","blue","cyan","red","yellow","magenta","black","transparent"];class IO{constructor(){this.time=null,this.verboseLevel=0}log(e,t){if(this.verboseLevel>=e){const n=typeof t=="function"?t():t;Gr.log(`${this.time} [${e}] ${n}`)}}}const _u=function(e){const t=[];for(let n=0;n<e.length;n++)t.push(e[n].toString(16));return t};class nR{constructor(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}reset(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}setStyles(e){const t=["foreground","underline","italics","background","flash"];for(let n=0;n<t.length;n++){const r=t[n];e.hasOwnProperty(r)&&(this[r]=e[r])}}isDefault(){return this.foreground==="white"&&!this.underline&&!this.italics&&this.background==="black"&&!this.flash}equals(e){return this.foreground===e.foreground&&this.underline===e.underline&&this.italics===e.italics&&this.background===e.background&&this.flash===e.flash}copy(e){this.foreground=e.foreground,this.underline=e.underline,this.italics=e.italics,this.background=e.background,this.flash=e.flash}toString(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}}class wO{constructor(){this.uchar=" ",this.penState=new nR}reset(){this.uchar=" ",this.penState.reset()}setChar(e,t){this.uchar=e,this.penState.copy(t)}setPenState(e){this.penState.copy(e)}equals(e){return this.uchar===e.uchar&&this.penState.equals(e.penState)}copy(e){this.uchar=e.uchar,this.penState.copy(e.penState)}isEmpty(){return this.uchar===" "&&this.penState.isDefault()}}class kO{constructor(e){this.chars=[],this.pos=0,this.currPenState=new nR,this.cueStartTime=null,this.logger=void 0;for(let t=0;t<Uo;t++)this.chars.push(new wO);this.logger=e}equals(e){for(let t=0;t<Uo;t++)if(!this.chars[t].equals(e.chars[t]))return!1;return!0}copy(e){for(let t=0;t<Uo;t++)this.chars[t].copy(e.chars[t])}isEmpty(){let e=!0;for(let t=0;t<Uo;t++)if(!this.chars[t].isEmpty()){e=!1;break}return e}setCursor(e){this.pos!==e&&(this.pos=e),this.pos<0?(this.logger.log(3,"Negative cursor position "+this.pos),this.pos=0):this.pos>Uo&&(this.logger.log(3,"Too large cursor position "+this.pos),this.pos=Uo)}moveCursor(e){const t=this.pos+e;if(e>1)for(let n=this.pos+1;n<t+1;n++)this.chars[n].setPenState(this.currPenState);this.setCursor(t)}backSpace(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)}insertChar(e){e>=144&&this.backSpace();const t=tR(e);if(this.pos>=Uo){this.logger.log(0,()=>"Cannot insert "+e.toString(16)+" ("+t+") at position "+this.pos+". Skipping it!");return}this.chars[this.pos].setChar(t,this.currPenState),this.moveCursor(1)}clearFromPos(e){let t;for(t=e;t<Uo;t++)this.chars[t].reset()}clear(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()}clearToEndOfRow(){this.clearFromPos(this.pos)}getTextString(){const e=[];let t=!0;for(let n=0;n<Uo;n++){const r=this.chars[n].uchar;r!==" "&&(t=!1),e.push(r)}return t?"":e.join("")}setPenStyles(e){this.currPenState.setStyles(e),this.chars[this.pos].setPenState(this.currPenState)}}class fb{constructor(e){this.rows=[],this.currRow=Is-1,this.nrRollUpRows=null,this.lastOutputScreen=null,this.logger=void 0;for(let t=0;t<Is;t++)this.rows.push(new kO(e));this.logger=e}reset(){for(let e=0;e<Is;e++)this.rows[e].clear();this.currRow=Is-1}equals(e){let t=!0;for(let n=0;n<Is;n++)if(!this.rows[n].equals(e.rows[n])){t=!1;break}return t}copy(e){for(let t=0;t<Is;t++)this.rows[t].copy(e.rows[t])}isEmpty(){let e=!0;for(let t=0;t<Is;t++)if(!this.rows[t].isEmpty()){e=!1;break}return e}backSpace(){this.rows[this.currRow].backSpace()}clearToEndOfRow(){this.rows[this.currRow].clearToEndOfRow()}insertChar(e){this.rows[this.currRow].insertChar(e)}setPen(e){this.rows[this.currRow].setPenStyles(e)}moveCursor(e){this.rows[this.currRow].moveCursor(e)}setCursor(e){this.logger.log(2,"setCursor: "+e),this.rows[this.currRow].setCursor(e)}setPAC(e){this.logger.log(2,()=>"pacData = "+ei(e));let t=e.row-1;if(this.nrRollUpRows&&t<this.nrRollUpRows-1&&(t=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==t){for(let d=0;d<Is;d++)this.rows[d].clear();const o=this.currRow+1-this.nrRollUpRows,u=this.lastOutputScreen;if(u){const d=u.rows[o].cueStartTime,h=this.logger.time;if(d!==null&&h!==null&&d<h)for(let f=0;f<this.nrRollUpRows;f++)this.rows[t-this.nrRollUpRows+f+1].copy(u.rows[o+f])}}this.currRow=t;const n=this.rows[this.currRow];if(e.indent!==null){const o=e.indent,u=Math.max(o-1,0);n.setCursor(e.indent),e.color=n.chars[u].penState.foreground}const r={foreground:e.color,underline:e.underline,italics:e.italics,background:"black",flash:!1};this.setPen(r)}setBkgData(e){this.logger.log(2,()=>"bkgData = "+ei(e)),this.backSpace(),this.setPen(e),this.insertChar(32)}setRollUpRows(e){this.nrRollUpRows=e}rollUp(){if(this.nrRollUpRows===null){this.logger.log(3,"roll_up but nrRollUpRows not set yet");return}this.logger.log(1,()=>this.getDisplayText());const e=this.currRow+1-this.nrRollUpRows,t=this.rows.splice(e,1)[0];t.clear(),this.rows.splice(this.currRow,0,t),this.logger.log(2,"Rolling up")}getDisplayText(e){e=e||!1;const t=[];let n="",r=-1;for(let o=0;o<Is;o++){const u=this.rows[o].getTextString();u&&(r=o+1,e?t.push("Row "+r+": '"+u+"'"):t.push(u.trim()))}return t.length>0&&(e?n="["+t.join(" | ")+"]":n=t.join(`
`)),n}getTextAndFormat(){return this.rows}}class JT{constructor(e,t,n){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=e,this.outputFilter=t,this.mode=null,this.verbose=0,this.displayedMemory=new fb(n),this.nonDisplayedMemory=new fb(n),this.lastOutputScreen=new fb(n),this.currRollUpRow=this.displayedMemory.rows[Is-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=n}reset(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[Is-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}getHandler(){return this.outputFilter}setHandler(e){this.outputFilter=e}setPAC(e){this.writeScreen.setPAC(e)}setBkgData(e){this.writeScreen.setBkgData(e)}setMode(e){e!==this.mode&&(this.mode=e,this.logger.log(2,()=>"MODE="+e),this.mode==="MODE_POP-ON"?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),this.mode!=="MODE_ROLL-UP"&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=e)}insertChars(e){for(let n=0;n<e.length;n++)this.writeScreen.insertChar(e[n]);const t=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(2,()=>t+": "+this.writeScreen.getDisplayText(!0)),(this.mode==="MODE_PAINT-ON"||this.mode==="MODE_ROLL-UP")&&(this.logger.log(1,()=>"DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())}ccRCL(){this.logger.log(2,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")}ccBS(){this.logger.log(2,"BS - BackSpace"),this.mode!=="MODE_TEXT"&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())}ccAOF(){}ccAON(){}ccDER(){this.logger.log(2,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()}ccRU(e){this.logger.log(2,"RU("+e+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(e)}ccFON(){this.logger.log(2,"FON - Flash On"),this.writeScreen.setPen({flash:!0})}ccRDC(){this.logger.log(2,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")}ccTR(){this.logger.log(2,"TR"),this.setMode("MODE_TEXT")}ccRTD(){this.logger.log(2,"RTD"),this.setMode("MODE_TEXT")}ccEDM(){this.logger.log(2,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)}ccCR(){this.logger.log(2,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)}ccENM(){this.logger.log(2,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()}ccEOC(){if(this.logger.log(2,"EOC - End Of Caption"),this.mode==="MODE_POP-ON"){const e=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=e,this.writeScreen=this.nonDisplayedMemory,this.logger.log(1,()=>"DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)}ccTO(e){this.logger.log(2,"TO("+e+") - Tab Offset"),this.writeScreen.moveCursor(e)}ccMIDROW(e){const t={flash:!1};if(t.underline=e%2===1,t.italics=e>=46,t.italics)t.foreground="white";else{const n=Math.floor(e/2)-16,r=["white","green","blue","cyan","red","yellow","magenta"];t.foreground=r[n]}this.logger.log(2,"MIDROW: "+ei(t)),this.writeScreen.setPen(t)}outputDataUpdate(e=!1){const t=this.logger.time;t!==null&&this.outputFilter&&(this.cueStartTime===null&&!this.displayedMemory.isEmpty()?this.cueStartTime=t:this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,t,this.lastOutputScreen),e&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:t),this.lastOutputScreen.copy(this.displayedMemory))}cueSplitAtTime(e){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.displayedMemory),this.cueStartTime=e))}}class eS{constructor(e,t,n){this.channels=void 0,this.currentChannel=0,this.cmdHistory=DO(),this.logger=void 0;const r=this.logger=new IO;this.channels=[null,new JT(e,t,r),new JT(e+1,n,r)]}getHandler(e){return this.channels[e].getHandler()}setHandler(e,t){this.channels[e].setHandler(t)}addData(e,t){this.logger.time=e;for(let n=0;n<t.length;n+=2){const r=t[n]&127,o=t[n+1]&127;let u=!1,d=null;if(r===0&&o===0)continue;this.logger.log(3,()=>"["+_u([t[n],t[n+1]])+"] -> ("+_u([r,o])+")");const h=this.cmdHistory;if(r>=16&&r<=31){if(CO(r,o,h)){Pm(null,null,h),this.logger.log(3,()=>"Repeated command ("+_u([r,o])+") is dropped");continue}Pm(r,o,this.cmdHistory),u=this.parseCmd(r,o),u||(u=this.parseMidrow(r,o)),u||(u=this.parsePAC(r,o)),u||(u=this.parseBackgroundAttributes(r,o))}else Pm(null,null,h);if(!u&&(d=this.parseChars(r,o),d)){const y=this.currentChannel;y&&y>0?this.channels[y].insertChars(d):this.logger.log(2,"No channel found yet. TEXT-MODE?")}!u&&!d&&this.logger.log(2,()=>"Couldn't parse cleaned data "+_u([r,o])+" orig: "+_u([t[n],t[n+1]]))}}parseCmd(e,t){const n=(e===20||e===28||e===21||e===29)&&t>=32&&t<=47,r=(e===23||e===31)&&t>=33&&t<=35;if(!(n||r))return!1;const o=e===20||e===21||e===23?1:2,u=this.channels[o];return e===20||e===21||e===28||e===29?t===32?u.ccRCL():t===33?u.ccBS():t===34?u.ccAOF():t===35?u.ccAON():t===36?u.ccDER():t===37?u.ccRU(2):t===38?u.ccRU(3):t===39?u.ccRU(4):t===40?u.ccFON():t===41?u.ccRDC():t===42?u.ccTR():t===43?u.ccRTD():t===44?u.ccEDM():t===45?u.ccCR():t===46?u.ccENM():t===47&&u.ccEOC():u.ccTO(t-32),this.currentChannel=o,!0}parseMidrow(e,t){let n=0;if((e===17||e===25)&&t>=32&&t<=47){if(e===17?n=1:n=2,n!==this.currentChannel)return this.logger.log(0,"Mismatch channel in midrow parsing"),!1;const r=this.channels[n];return r?(r.ccMIDROW(t),this.logger.log(3,()=>"MIDROW ("+_u([e,t])+")"),!0):!1}return!1}parsePAC(e,t){let n;const r=(e>=17&&e<=23||e>=25&&e<=31)&&t>=64&&t<=127,o=(e===16||e===24)&&t>=64&&t<=95;if(!(r||o))return!1;const u=e<=23?1:2;t>=64&&t<=95?n=u===1?SO[e]:AO[e]:n=u===1?_O[e]:RO[e];const d=this.channels[u];return d?(d.setPAC(this.interpretPAC(n,t)),this.currentChannel=u,!0):!1}interpretPAC(e,t){let n;const r={color:null,italics:!1,indent:null,underline:!1,row:e};return t>95?n=t-96:n=t-64,r.underline=(n&1)===1,n<=13?r.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(n/2)]:n<=15?(r.italics=!0,r.color="white"):r.indent=Math.floor((n-16)/2)*4,r}parseChars(e,t){let n,r=null,o=null;if(e>=25?(n=2,o=e-8):(n=1,o=e),o>=17&&o<=19){let u;o===17?u=t+80:o===18?u=t+112:u=t+144,this.logger.log(2,()=>"Special char '"+tR(u)+"' in channel "+n),r=[u]}else e>=32&&e<=127&&(r=t===0?[e]:[e,t]);return r&&this.logger.log(3,()=>"Char codes =  "+_u(r).join(",")),r}parseBackgroundAttributes(e,t){const n=(e===16||e===24)&&t>=32&&t<=47,r=(e===23||e===31)&&t>=45&&t<=47;if(!(n||r))return!1;let o;const u={};e===16||e===24?(o=Math.floor((t-32)/2),u.background=xO[o],t%2===1&&(u.background=u.background+"_semi")):t===45?u.background="transparent":(u.foreground="black",t===47&&(u.underline=!0));const d=e<=23?1:2;return this.channels[d].setBkgData(u),!0}reset(){for(let e=0;e<Object.keys(this.channels).length;e++){const t=this.channels[e];t&&t.reset()}Pm(null,null,this.cmdHistory)}cueSplitAtTime(e){for(let t=0;t<this.channels.length;t++){const n=this.channels[t];n&&n.cueSplitAtTime(e)}}}function Pm(i,e,t){t.a=i,t.b=e}function CO(i,e,t){return t.a===i&&t.b===e}function DO(){return{a:null,b:null}}var i0=function(){if(Tp!=null&&Tp.VTTCue)return self.VTTCue;const i=["","lr","rl"],e=["start","middle","end","left","right"];function t(d,h){if(typeof h!="string"||!Array.isArray(d))return!1;const f=h.toLowerCase();return~d.indexOf(f)?f:!1}function n(d){return t(i,d)}function r(d){return t(e,d)}function o(d,...h){let f=1;for(;f<arguments.length;f++){const y=arguments[f];for(const m in y)d[m]=y[m]}return d}function u(d,h,f){const y=this,m={enumerable:!0};y.hasBeenReset=!1;let p="",T=!1,v=d,A=h,k=f,B=null,$="",K=!0,ue="auto",me="start",Te=50,X="middle",Q=50,be="middle";Object.defineProperty(y,"id",o({},m,{get:function(){return p},set:function(F){p=""+F}})),Object.defineProperty(y,"pauseOnExit",o({},m,{get:function(){return T},set:function(F){T=!!F}})),Object.defineProperty(y,"startTime",o({},m,{get:function(){return v},set:function(F){if(typeof F!="number")throw new TypeError("Start time must be set to a number.");v=F,this.hasBeenReset=!0}})),Object.defineProperty(y,"endTime",o({},m,{get:function(){return A},set:function(F){if(typeof F!="number")throw new TypeError("End time must be set to a number.");A=F,this.hasBeenReset=!0}})),Object.defineProperty(y,"text",o({},m,{get:function(){return k},set:function(F){k=""+F,this.hasBeenReset=!0}})),Object.defineProperty(y,"region",o({},m,{get:function(){return B},set:function(F){B=F,this.hasBeenReset=!0}})),Object.defineProperty(y,"vertical",o({},m,{get:function(){return $},set:function(F){const ke=n(F);if(ke===!1)throw new SyntaxError("An invalid or illegal string was specified.");$=ke,this.hasBeenReset=!0}})),Object.defineProperty(y,"snapToLines",o({},m,{get:function(){return K},set:function(F){K=!!F,this.hasBeenReset=!0}})),Object.defineProperty(y,"line",o({},m,{get:function(){return ue},set:function(F){if(typeof F!="number"&&F!=="auto")throw new SyntaxError("An invalid number or illegal string was specified.");ue=F,this.hasBeenReset=!0}})),Object.defineProperty(y,"lineAlign",o({},m,{get:function(){return me},set:function(F){const ke=r(F);if(!ke)throw new SyntaxError("An invalid or illegal string was specified.");me=ke,this.hasBeenReset=!0}})),Object.defineProperty(y,"position",o({},m,{get:function(){return Te},set:function(F){if(F<0||F>100)throw new Error("Position must be between 0 and 100.");Te=F,this.hasBeenReset=!0}})),Object.defineProperty(y,"positionAlign",o({},m,{get:function(){return X},set:function(F){const ke=r(F);if(!ke)throw new SyntaxError("An invalid or illegal string was specified.");X=ke,this.hasBeenReset=!0}})),Object.defineProperty(y,"size",o({},m,{get:function(){return Q},set:function(F){if(F<0||F>100)throw new Error("Size must be between 0 and 100.");Q=F,this.hasBeenReset=!0}})),Object.defineProperty(y,"align",o({},m,{get:function(){return be},set:function(F){const ke=r(F);if(!ke)throw new SyntaxError("An invalid or illegal string was specified.");be=ke,this.hasBeenReset=!0}})),y.displayState=void 0}return u.prototype.getCueAsHTML=function(){return self.WebVTT.convertCueToDOMTree(self,this.text)},u}();class LO{decode(e,t){if(!e)return"";if(typeof e!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}function rR(i){function e(n,r,o,u){return(n|0)*3600+(r|0)*60+(o|0)+parseFloat(u||0)}const t=i.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/);return t?parseFloat(t[2])>59?e(t[2],t[3],0,t[4]):e(t[1],t[2],t[3],t[4]):null}class NO{constructor(){this.values=Object.create(null)}set(e,t){!this.get(e)&&t!==""&&(this.values[e]=t)}get(e,t,n){return n?this.has(e)?this.values[e]:t[n]:this.has(e)?this.values[e]:t}has(e){return e in this.values}alt(e,t,n){for(let r=0;r<n.length;++r)if(t===n[r]){this.set(e,t);break}}integer(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))}percent(e,t){if(/^([\d]{1,3})(\.[\d]*)?%$/.test(t)){const n=parseFloat(t);if(n>=0&&n<=100)return this.set(e,n),!0}return!1}}function iR(i,e,t,n){const r=n?i.split(n):[i];for(const o in r){if(typeof r[o]!="string")continue;const u=r[o].split(t);if(u.length!==2)continue;const d=u[0],h=u[1];e(d,h)}}const nE=new i0(0,0,""),zm=nE.align==="middle"?"middle":"center";function OO(i,e,t){const n=i;function r(){const d=rR(i);if(d===null)throw new Error("Malformed timestamp: "+n);return i=i.replace(/^[^\sa-zA-Z-]+/,""),d}function o(d,h){const f=new NO;iR(d,function(p,T){let v;switch(p){case"region":for(let A=t.length-1;A>=0;A--)if(t[A].id===T){f.set(p,t[A].region);break}break;case"vertical":f.alt(p,T,["rl","lr"]);break;case"line":v=T.split(","),f.integer(p,v[0]),f.percent(p,v[0])&&f.set("snapToLines",!1),f.alt(p,v[0],["auto"]),v.length===2&&f.alt("lineAlign",v[1],["start",zm,"end"]);break;case"position":v=T.split(","),f.percent(p,v[0]),v.length===2&&f.alt("positionAlign",v[1],["start",zm,"end","line-left","line-right","auto"]);break;case"size":f.percent(p,T);break;case"align":f.alt(p,T,["start",zm,"end","left","right"]);break}},/:/,/\s/),h.region=f.get("region",null),h.vertical=f.get("vertical","");let y=f.get("line","auto");y==="auto"&&nE.line===-1&&(y=-1),h.line=y,h.lineAlign=f.get("lineAlign","start"),h.snapToLines=f.get("snapToLines",!0),h.size=f.get("size",100),h.align=f.get("align",zm);let m=f.get("position","auto");m==="auto"&&nE.position===50&&(m=h.align==="start"||h.align==="left"?0:h.align==="end"||h.align==="right"?100:50),h.position=m}function u(){i=i.replace(/^\s+/,"")}if(u(),e.startTime=r(),u(),i.slice(0,3)!=="-->")throw new Error("Malformed time stamp (time stamps must be separated by '-->'): "+n);i=i.slice(3),u(),e.endTime=r(),u(),o(i,e)}function aR(i){return i.replace(/<br(?: \/)?>/gi,`
`)}class MO{constructor(){this.state="INITIAL",this.buffer="",this.decoder=new LO,this.regionList=[],this.cue=null,this.oncue=void 0,this.onparsingerror=void 0,this.onflush=void 0}parse(e){const t=this;e&&(t.buffer+=t.decoder.decode(e,{stream:!0}));function n(){let o=t.buffer,u=0;for(o=aR(o);u<o.length&&o[u]!=="\r"&&o[u]!==`
`;)++u;const d=o.slice(0,u);return o[u]==="\r"&&++u,o[u]===`
`&&++u,t.buffer=o.slice(u),d}function r(o){iR(o,function(u,d){},/:/)}try{let o="";if(t.state==="INITIAL"){if(!/\r\n|\n/.test(t.buffer))return this;o=n();const d=o.match(/^()?WEBVTT([ \t].*)?$/);if(!(d!=null&&d[0]))throw new Error("Malformed WebVTT signature.");t.state="HEADER"}let u=!1;for(;t.buffer;){if(!/\r\n|\n/.test(t.buffer))return this;switch(u?u=!1:o=n(),t.state){case"HEADER":/:/.test(o)?r(o):o||(t.state="ID");continue;case"NOTE":o||(t.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(o)){t.state="NOTE";break}if(!o)continue;if(t.cue=new i0(0,0,""),t.state="CUE",o.indexOf("-->")===-1){t.cue.id=o;continue}case"CUE":if(!t.cue){t.state="BADCUE";continue}try{OO(o,t.cue,t.regionList)}catch{t.cue=null,t.state="BADCUE";continue}t.state="CUETEXT";continue;case"CUETEXT":{const d=o.indexOf("-->")!==-1;if(!o||d&&(u=!0)){t.oncue&&t.cue&&t.oncue(t.cue),t.cue=null,t.state="ID";continue}if(t.cue===null)continue;t.cue.text&&(t.cue.text+=`
`),t.cue.text+=o}continue;case"BADCUE":o||(t.state="ID")}}}catch{t.state==="CUETEXT"&&t.cue&&t.oncue&&t.oncue(t.cue),t.cue=null,t.state=t.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this}flush(){const e=this;try{if((e.cue||e.state==="HEADER")&&(e.buffer+=`

`,e.parse()),e.state==="INITIAL"||e.state==="BADWEBVTT")throw new Error("Malformed WebVTT signature.")}catch(t){e.onparsingerror&&e.onparsingerror(t)}return e.onflush&&e.onflush(),this}}const PO=/\r\n|\n\r|\n|\r/g,hb=function(e,t,n=0){return e.slice(n,n+t.length)===t},zO=function(e){let t=parseInt(e.slice(-3));const n=parseInt(e.slice(-6,-4)),r=parseInt(e.slice(-9,-7)),o=e.length>9?parseInt(e.substring(0,e.indexOf(":"))):0;if(!Mn(t)||!Mn(n)||!Mn(r)||!Mn(o))throw Error(`Malformed X-TIMESTAMP-MAP: Local:${e}`);return t+=1e3*n,t+=60*1e3*r,t+=60*60*1e3*o,t};function a0(i,e,t){return Eh(i.toString())+Eh(e.toString())+Eh(t)}const FO=function(e,t,n){let r=e[t],o=e[r.prevCC];if(!o||!o.new&&r.new){e.ccOffset=e.presentationOffset=r.start,r.new=!1;return}for(;(u=o)!=null&&u.new;){var u;e.ccOffset+=r.start-o.start,r.new=!1,r=o,o=e[r.prevCC]}e.presentationOffset=n};function UO(i,e,t,n,r,o,u){const d=new MO,h=Va(new Uint8Array(i)).trim().replace(PO,`
`).split(`
`),f=[],y=e?HL(e.baseTime,e.timescale):0;let m="00:00.000",p=0,T=0,v,A=!0;d.oncue=function(k){const B=t[n];let $=t.ccOffset;const K=(p-y)/9e4;if(B!=null&&B.new&&(T!==void 0?$=t.ccOffset=B.start:FO(t,n,K)),K){if(!e){v=new Error("Missing initPTS for VTT MPEGTS");return}$=K-t.presentationOffset}const ue=k.endTime-k.startTime,me=qa((k.startTime+$-T)*9e4,r*9e4)/9e4;k.startTime=Math.max(me,0),k.endTime=Math.max(me+ue,0);const Te=k.text.trim();k.text=decodeURIComponent(encodeURIComponent(Te)),k.id||(k.id=a0(k.startTime,k.endTime,Te)),k.endTime>0&&f.push(k)},d.onparsingerror=function(k){v=k},d.onflush=function(){if(v){u(v);return}o(f)},h.forEach(k=>{if(A)if(hb(k,"X-TIMESTAMP-MAP=")){A=!1,k.slice(16).split(",").forEach(B=>{hb(B,"LOCAL:")?m=B.slice(6):hb(B,"MPEGTS:")&&(p=parseInt(B.slice(7)))});try{T=zO(m)/1e3}catch(B){v=B}return}else k===""&&(A=!1);d.parse(k+`
`)}),d.flush()}const gb="stpp.ttml.im1t",sR=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,oR=/^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/,BO={left:"start",center:"center",right:"end",start:"start",end:"end"};function tS(i,e,t,n){const r=Er(new Uint8Array(i),["mdat"]);if(r.length===0){n(new Error("Could not parse IMSC1 mdat"));return}const o=r.map(d=>Va(d)),u=$L(e.baseTime,1,e.timescale);try{o.forEach(d=>t(jO(d,u)))}catch(d){n(d)}}function jO(i,e){const r=new DOMParser().parseFromString(i,"text/xml").getElementsByTagName("tt")[0];if(!r)throw new Error("Invalid ttml");const o={frameRate:30,subFrameRate:1,frameRateMultiplier:0,tickRate:0},u=Object.keys(o).reduce((m,p)=>(m[p]=r.getAttribute(`ttp:${p}`)||o[p],m),{}),d=r.getAttribute("xml:space")!=="preserve",h=nS(mb(r,"styling","style")),f=nS(mb(r,"layout","region")),y=mb(r,"body","[begin]");return[].map.call(y,m=>{const p=lR(m,d);if(!p||!m.hasAttribute("begin"))return null;const T=yb(m.getAttribute("begin"),u),v=yb(m.getAttribute("dur"),u);let A=yb(m.getAttribute("end"),u);if(T===null)throw rS(m);if(A===null){if(v===null)throw rS(m);A=T+v}const k=new i0(T-e,A-e,p);k.id=a0(k.startTime,k.endTime,k.text);const B=f[m.getAttribute("region")],$=h[m.getAttribute("style")],K=qO(B,$,h),{textAlign:ue}=K;if(ue){const me=BO[ue];me&&(k.lineAlign=me),k.align=ue}return Kr(k,K),k}).filter(m=>m!==null)}function mb(i,e,t){const n=i.getElementsByTagName(e)[0];return n?[].slice.call(n.querySelectorAll(t)):[]}function nS(i){return i.reduce((e,t)=>{const n=t.getAttribute("xml:id");return n&&(e[n]=t),e},{})}function lR(i,e){return[].slice.call(i.childNodes).reduce((t,n,r)=>{var o;return n.nodeName==="br"&&r?t+`
`:(o=n.childNodes)!=null&&o.length?lR(n,e):e?t+n.textContent.trim().replace(/\s+/g," "):t+n.textContent},"")}function qO(i,e,t){const n="http://www.w3.org/ns/ttml#styling";let r=null;const o=["displayAlign","textAlign","color","backgroundColor","fontSize","fontFamily"],u=i!=null&&i.hasAttribute("style")?i.getAttribute("style"):null;return u&&t.hasOwnProperty(u)&&(r=t[u]),o.reduce((d,h)=>{const f=pb(e,n,h)||pb(i,n,h)||pb(r,n,h);return f&&(d[h]=f),d},{})}function pb(i,e,t){return i&&i.hasAttributeNS(e,t)?i.getAttributeNS(e,t):null}function rS(i){return new Error(`Could not parse ttml timestamp ${i}`)}function yb(i,e){if(!i)return null;let t=rR(i);return t===null&&(sR.test(i)?t=GO(i,e):oR.test(i)&&(t=$O(i,e))),t}function GO(i,e){const t=sR.exec(i),n=(t[4]|0)+(t[5]|0)/e.subFrameRate;return(t[1]|0)*3600+(t[2]|0)*60+(t[3]|0)+n/e.frameRate}function $O(i,e){const t=oR.exec(i),n=Number(t[1]);switch(t[2]){case"h":return n*3600;case"m":return n*60;case"ms":return n*1e3;case"f":return n/e.frameRate;case"t":return n/e.tickRate}return n}class Fm{constructor(e,t){this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=e,this.trackName=t}dispatchCue(){this.startTime!==null&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)}newCue(e,t,n){(this.startTime===null||this.startTime>e)&&(this.startTime=e),this.endTime=t,this.screen=n,this.timelineController.createCaptionsTrack(this.trackName)}reset(){this.cueRanges=[],this.startTime=null}}class HO{constructor(e){this.hls=void 0,this.media=null,this.config=void 0,this.enabled=!0,this.Cues=void 0,this.textTracks=[],this.tracks=[],this.initPTS=[],this.unparsedVttFrags=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.cea608Parser1=void 0,this.cea608Parser2=void 0,this.lastCc=-1,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs=aS(),this.captionsProperties=void 0,this.hls=e,this.config=e.config,this.Cues=e.config.cueHandler,this.captionsProperties={textTrack1:{label:this.config.captionsTextTrack1Label,languageCode:this.config.captionsTextTrack1LanguageCode},textTrack2:{label:this.config.captionsTextTrack2Label,languageCode:this.config.captionsTextTrack2LanguageCode},textTrack3:{label:this.config.captionsTextTrack3Label,languageCode:this.config.captionsTextTrack3LanguageCode},textTrack4:{label:this.config.captionsTextTrack4Label,languageCode:this.config.captionsTextTrack4LanguageCode}},e.on(Ee.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(Ee.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(Ee.MANIFEST_LOADING,this.onManifestLoading,this),e.on(Ee.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(Ee.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.on(Ee.FRAG_LOADING,this.onFragLoading,this),e.on(Ee.FRAG_LOADED,this.onFragLoaded,this),e.on(Ee.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),e.on(Ee.FRAG_DECRYPTED,this.onFragDecrypted,this),e.on(Ee.INIT_PTS_FOUND,this.onInitPtsFound,this),e.on(Ee.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),e.on(Ee.BUFFER_FLUSHING,this.onBufferFlushing,this)}destroy(){const{hls:e}=this;e.off(Ee.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(Ee.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(Ee.MANIFEST_LOADING,this.onManifestLoading,this),e.off(Ee.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(Ee.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.off(Ee.FRAG_LOADING,this.onFragLoading,this),e.off(Ee.FRAG_LOADED,this.onFragLoaded,this),e.off(Ee.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),e.off(Ee.FRAG_DECRYPTED,this.onFragDecrypted,this),e.off(Ee.INIT_PTS_FOUND,this.onInitPtsFound,this),e.off(Ee.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),e.off(Ee.BUFFER_FLUSHING,this.onBufferFlushing,this),this.hls=this.config=this.media=null,this.cea608Parser1=this.cea608Parser2=void 0}initCea608Parsers(){const e=new Fm(this,"textTrack1"),t=new Fm(this,"textTrack2"),n=new Fm(this,"textTrack3"),r=new Fm(this,"textTrack4");this.cea608Parser1=new eS(1,e,t),this.cea608Parser2=new eS(3,n,r)}addCues(e,t,n,r,o){let u=!1;for(let d=o.length;d--;){const h=o[d],f=VO(h[0],h[1],t,n);if(f>=0&&(h[0]=Math.min(h[0],t),h[1]=Math.max(h[1],n),u=!0,f/(n-t)>.5))return}if(u||o.push([t,n]),this.config.renderTextTracksNatively){const d=this.captionsTracks[e];this.Cues.newCue(d,t,n,r)}else{const d=this.Cues.newCue(null,t,n,r);this.hls.trigger(Ee.CUES_PARSED,{type:"captions",cues:d,track:e})}}onInitPtsFound(e,{frag:t,id:n,initPTS:r,timescale:o,trackId:u}){const{unparsedVttFrags:d}=this;n===jn.MAIN&&(this.initPTS[t.cc]={baseTime:r,timescale:o,trackId:u}),d.length&&(this.unparsedVttFrags=[],d.forEach(h=>{this.initPTS[h.frag.cc]?this.onFragLoaded(Ee.FRAG_LOADED,h):this.hls.trigger(Ee.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:h.frag,error:new Error("Subtitle discontinuity domain does not match main")})}))}getExistingTrack(e,t){const{media:n}=this;if(n)for(let r=0;r<n.textTracks.length;r++){const o=n.textTracks[r];if(iS(o,{name:e,lang:t,characteristics:"transcribes-spoken-dialog,describes-music-and-sound"}))return o}return null}createCaptionsTrack(e){this.config.renderTextTracksNatively?this.createNativeTrack(e):this.createNonNativeTrack(e)}createNativeTrack(e){if(this.captionsTracks[e])return;const{captionsProperties:t,captionsTracks:n,media:r}=this,{label:o,languageCode:u}=t[e],d=this.getExistingTrack(o,u);if(d)n[e]=d,dd(n[e]),ZA(n[e],r);else{const h=this.createTextTrack("captions",o,u);h&&(h[e]=!0,n[e]=h)}}createNonNativeTrack(e){if(this.nonNativeCaptionsTracks[e])return;const t=this.captionsProperties[e];if(!t)return;const n=t.label,r={_id:e,label:n,kind:"captions",default:t.media?!!t.media.default:!1,closedCaptions:t.media};this.nonNativeCaptionsTracks[e]=r,this.hls.trigger(Ee.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[r]})}createTextTrack(e,t,n){const r=this.media;if(r)return r.addTextTrack(e,t,n)}onMediaAttaching(e,t){this.media=t.media,t.mediaSource||this._cleanTracks()}onMediaDetaching(e,t){const n=!!t.transferMedia;if(this.media=null,n)return;const{captionsTracks:r}=this;Object.keys(r).forEach(o=>{dd(r[o]),delete r[o]}),this.nonNativeCaptionsTracks={}}onManifestLoading(){this.lastCc=-1,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs=aS(),this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.textTracks=[],this.unparsedVttFrags=[],this.initPTS=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset())}_cleanTracks(){const{media:e}=this;if(!e)return;const t=e.textTracks;if(t)for(let n=0;n<t.length;n++)dd(t[n])}onSubtitleTracksUpdated(e,t){const n=t.subtitleTracks||[],r=n.some(o=>o.textCodec===gb);if(this.config.enableWebVTT||r&&this.config.enableIMSC1){if(UA(this.tracks,n)){this.tracks=n;return}if(this.textTracks=[],this.tracks=n,this.config.renderTextTracksNatively){const u=this.media,d=u?rp(u.textTracks):null;if(this.tracks.forEach((h,f)=>{let y;if(d){let m=null;for(let p=0;p<d.length;p++)if(d[p]&&iS(d[p],h)){m=d[p],d[p]=null;break}m&&(y=m)}if(y)dd(y);else{const m=uR(h);y=this.createTextTrack(m,h.name,h.lang),y&&(y.mode="disabled")}y&&this.textTracks.push(y)}),d!=null&&d.length){const h=d.filter(f=>f!==null).map(f=>f.label);h.length&&this.hls.logger.warn(`Media element contains unused subtitle tracks: ${h.join(", ")}. Replace media element for each source to clear TextTracks and captions menu.`)}}else if(this.tracks.length){const u=this.tracks.map(d=>({label:d.name,kind:d.type.toLowerCase(),default:d.default,subtitleTrack:d}));this.hls.trigger(Ee.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:u})}}}onManifestLoaded(e,t){this.config.enableCEA708Captions&&t.captions&&t.captions.forEach(n=>{const r=/(?:CC|SERVICE)([1-4])/.exec(n.instreamId);if(!r)return;const o=`textTrack${r[1]}`,u=this.captionsProperties[o];u&&(u.label=n.name,n.lang&&(u.languageCode=n.lang),u.media=n)})}closedCaptionsForLevel(e){const t=this.hls.levels[e.level];return t==null?void 0:t.attrs["CLOSED-CAPTIONS"]}onFragLoading(e,t){if(this.enabled&&t.frag.type===jn.MAIN){var n,r;const{cea608Parser1:o,cea608Parser2:u,lastSn:d}=this,{cc:h,sn:f}=t.frag,y=(n=(r=t.part)==null?void 0:r.index)!=null?n:-1;o&&u&&(f!==d+1||f===d&&y!==this.lastPartIndex+1||h!==this.lastCc)&&(o.reset(),u.reset()),this.lastCc=h,this.lastSn=f,this.lastPartIndex=y}}onFragLoaded(e,t){const{frag:n,payload:r}=t;if(n.type===jn.SUBTITLE)if(r.byteLength){const o=n.decryptdata,u="stats"in t;if(o==null||!o.encrypted||u){const d=this.tracks[n.level],h=this.vttCCs;h[n.cc]||(h[n.cc]={start:n.start,prevCC:this.prevCC,new:!0},this.prevCC=n.cc),d&&d.textCodec===gb?this._parseIMSC1(n,r):this._parseVTTs(t)}}else this.hls.trigger(Ee.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:n,error:new Error("Empty subtitle payload")})}_parseIMSC1(e,t){const n=this.hls;tS(t,this.initPTS[e.cc],r=>{this._appendCues(r,e.level),n.trigger(Ee.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:e})},r=>{n.logger.log(`Failed to parse IMSC1: ${r}`),n.trigger(Ee.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e,error:r})})}_parseVTTs(e){var t;const{frag:n,payload:r}=e,{initPTS:o,unparsedVttFrags:u}=this,d=o.length-1;if(!o[n.cc]&&d===-1){u.push(e);return}const h=this.hls,f=(t=n.initSegment)!=null&&t.data?cs(n.initSegment.data,new Uint8Array(r)).buffer:r;UO(f,this.initPTS[n.cc],this.vttCCs,n.cc,n.start,y=>{this._appendCues(y,n.level),h.trigger(Ee.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:n})},y=>{const m=y.message==="Missing initPTS for VTT MPEGTS";m?u.push(e):this._fallbackToIMSC1(n,r),h.logger.log(`Failed to parse VTT cue: ${y}`),!(m&&d>n.cc)&&h.trigger(Ee.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:n,error:y})})}_fallbackToIMSC1(e,t){const n=this.tracks[e.level];n.textCodec||tS(t,this.initPTS[e.cc],()=>{n.textCodec=gb,this._parseIMSC1(e,t)},()=>{n.textCodec="wvtt"})}_appendCues(e,t){const n=this.hls;if(this.config.renderTextTracksNatively){const r=this.textTracks[t];if(!r||r.mode==="disabled")return;e.forEach(o=>JA(r,o))}else{const r=this.tracks[t];if(!r)return;const o=r.default?"default":"subtitles"+t;n.trigger(Ee.CUES_PARSED,{type:"subtitles",cues:e,track:o})}}onFragDecrypted(e,t){const{frag:n}=t;n.type===jn.SUBTITLE&&this.onFragLoaded(Ee.FRAG_LOADED,t)}onSubtitleTracksCleared(){this.tracks=[],this.captionsTracks={}}onFragParsingUserdata(e,t){if(!this.enabled||!this.config.enableCEA708Captions)return;const{frag:n,samples:r}=t;if(!(n.type===jn.MAIN&&this.closedCaptionsForLevel(n)==="NONE"))for(let o=0;o<r.length;o++){const u=r[o].bytes;if(u){this.cea608Parser1||this.initCea608Parsers();const d=this.extractCea608Data(u);this.cea608Parser1.addData(r[o].pts,d[0]),this.cea608Parser2.addData(r[o].pts,d[1])}}}onBufferFlushing(e,{startOffset:t,endOffset:n,endOffsetSubtitles:r,type:o}){const{media:u}=this;if(!(!u||u.currentTime<n)){if(!o||o==="video"){const{captionsTracks:d}=this;Object.keys(d).forEach(h=>tE(d[h],t,n))}if(this.config.renderTextTracksNatively&&t===0&&r!==void 0){const{textTracks:d}=this;Object.keys(d).forEach(h=>tE(d[h],t,r))}}}extractCea608Data(e){const t=[[],[]],n=e[0]&31;let r=2;for(let o=0;o<n;o++){const u=e[r++],d=127&e[r++],h=127&e[r++];if(d===0&&h===0)continue;if((4&u)!==0){const y=3&u;(y===0||y===1)&&(t[y].push(d),t[y].push(h))}}return t}}function uR(i){return i.characteristics&&/transcribes-spoken-dialog/gi.test(i.characteristics)&&/describes-music-and-sound/gi.test(i.characteristics)?"captions":"subtitles"}function iS(i,e){return!!i&&i.kind===uR(e)&&Qb(e,i)}function VO(i,e,t,n){return Math.min(e,n)-Math.max(i,t)}function aS(){return{ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}}}const KO=/\s/,YO={newCue(i,e,t,n){const r=[];let o,u,d,h,f;const y=self.VTTCue||self.TextTrackCue;for(let p=0;p<n.rows.length;p++)if(o=n.rows[p],d=!0,h=0,f="",!o.isEmpty()){var m;for(let A=0;A<o.chars.length;A++)KO.test(o.chars[A].uchar)&&d?h++:(f+=o.chars[A].uchar,d=!1);o.cueStartTime=e,e===t&&(t+=1e-4),h>=16?h--:h++;const T=aR(f.trim()),v=a0(e,t,T);i!=null&&(m=i.cues)!=null&&m.getCueById(v)||(u=new y(e,t,T),u.id=v,u.line=p+1,u.align="left",u.position=10+Math.min(80,Math.floor(h*8/32)*10),r.push(u))}return i&&r.length&&(r.sort((p,T)=>p.line==="auto"||T.line==="auto"?0:p.line>8&&T.line>8?T.line-p.line:p.line-T.line),r.forEach(p=>JA(i,p))),r}};function WO(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch{}return!1}const XO=/(\d+)-(\d+)\/(\d+)/;class sS{constructor(e){this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=null,this.response=null,this.controller=void 0,this.context=null,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=e.fetchSetup||eM,this.controller=new self.AbortController,this.stats=new zE}destroy(){this.loader=this.callbacks=this.context=this.config=this.request=null,this.abortInternal(),this.response=null,this.fetchSetup=this.controller=this.stats=null}abortInternal(){this.controller&&!this.stats.loading.end&&(this.stats.aborted=!0,this.controller.abort())}abort(){var e;this.abortInternal(),(e=this.callbacks)!=null&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)}load(e,t,n){const r=this.stats;if(r.loading.start)throw new Error("Loader can only be used once.");r.loading.start=self.performance.now();const o=QO(e,this.controller.signal),u=e.responseType==="arraybuffer",d=u?"byteLength":"length",{maxTimeToFirstByteMs:h,maxLoadTimeMs:f}=t.loadPolicy;this.context=e,this.config=t,this.callbacks=n,this.request=this.fetchSetup(e,o),self.clearTimeout(this.requestTimeout),t.timeout=h&&Mn(h)?h:f,this.requestTimeout=self.setTimeout(()=>{this.callbacks&&(this.abortInternal(),this.callbacks.onTimeout(r,e,this.response))},t.timeout),(Ch(this.request)?this.request.then(self.fetch):self.fetch(this.request)).then(m=>{var p;this.response=this.loader=m;const T=Math.max(self.performance.now(),r.loading.start);if(self.clearTimeout(this.requestTimeout),t.timeout=f,this.requestTimeout=self.setTimeout(()=>{this.callbacks&&(this.abortInternal(),this.callbacks.onTimeout(r,e,this.response))},f-(T-r.loading.start)),!m.ok){const{status:A,statusText:k}=m;throw new tM(k||"fetch, bad network response",A,m)}r.loading.first=T,r.total=JO(m.headers)||r.total;const v=(p=this.callbacks)==null?void 0:p.onProgress;return v&&Mn(t.highWaterMark)?this.loadProgressively(m,r,e,t.highWaterMark,v):u?m.arrayBuffer():e.responseType==="json"?m.json():m.text()}).then(m=>{var p,T;const v=this.response;if(!v)throw new Error("loader destroyed");self.clearTimeout(this.requestTimeout),r.loading.end=Math.max(self.performance.now(),r.loading.first);const A=m[d];A&&(r.loaded=r.total=A);const k={url:v.url,data:m,code:v.status},B=(p=this.callbacks)==null?void 0:p.onProgress;B&&!Mn(t.highWaterMark)&&B(r,e,m,v),(T=this.callbacks)==null||T.onSuccess(k,r,e,v)}).catch(m=>{var p;if(self.clearTimeout(this.requestTimeout),r.aborted)return;const T=m&&m.code||0,v=m?m.message:null;(p=this.callbacks)==null||p.onError({code:T,text:v},e,m?m.details:null,r)})}getCacheAge(){let e=null;if(this.response){const t=this.response.headers.get("age");e=t?parseFloat(t):null}return e}getResponseHeader(e){return this.response?this.response.headers.get(e):null}loadProgressively(e,t,n,r=0,o){const u=new EA,d=e.body.getReader(),h=()=>d.read().then(f=>{if(f.done)return u.dataLength&&o(t,n,u.flush().buffer,e),Promise.resolve(new ArrayBuffer(0));const y=f.value,m=y.length;return t.loaded+=m,m<r||u.dataLength?(u.push(y),u.dataLength>=r&&o(t,n,u.flush().buffer,e)):o(t,n,y.buffer,e),h()}).catch(()=>Promise.reject());return h()}}function QO(i,e){const t={method:"GET",mode:"cors",credentials:"same-origin",signal:e,headers:new self.Headers(Kr({},i.headers))};return i.rangeEnd&&t.headers.set("Range","bytes="+i.rangeStart+"-"+String(i.rangeEnd-1)),t}function ZO(i){const e=XO.exec(i);if(e)return parseInt(e[2])-parseInt(e[1])+1}function JO(i){const e=i.get("Content-Range");if(e){const n=ZO(e);if(Mn(n))return n}const t=i.get("Content-Length");if(t)return parseInt(t)}function eM(i,e){return new self.Request(i.url,e)}class tM extends Error{constructor(e,t,n){super(e),this.code=void 0,this.details=void 0,this.code=t,this.details=n}}const nM=/^age:\s*[\d.]+\s*$/im;class cR{constructor(e){this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=null,this.loader=null,this.stats=void 0,this.xhrSetup=e&&e.xhrSetup||null,this.stats=new zE,this.retryDelay=0}destroy(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null,this.context=null,this.xhrSetup=null}abortInternal(){const e=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),e&&(e.onreadystatechange=null,e.onprogress=null,e.readyState!==4&&(this.stats.aborted=!0,e.abort()))}abort(){var e;this.abortInternal(),(e=this.callbacks)!=null&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)}load(e,t,n){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=e,this.config=t,this.callbacks=n,this.loadInternal()}loadInternal(){const{config:e,context:t}=this;if(!e||!t)return;const n=this.loader=new self.XMLHttpRequest,r=this.stats;r.loading.first=0,r.loaded=0,r.aborted=!1;const o=this.xhrSetup;o?Promise.resolve().then(()=>{if(!(this.loader!==n||this.stats.aborted))return o(n,t.url)}).catch(u=>{if(!(this.loader!==n||this.stats.aborted))return n.open("GET",t.url,!0),o(n,t.url)}).then(()=>{this.loader!==n||this.stats.aborted||this.openAndSendXhr(n,t,e)}).catch(u=>{var d;(d=this.callbacks)==null||d.onError({code:n.status,text:u.message},t,n,r)}):this.openAndSendXhr(n,t,e)}openAndSendXhr(e,t,n){e.readyState||e.open("GET",t.url,!0);const r=t.headers,{maxTimeToFirstByteMs:o,maxLoadTimeMs:u}=n.loadPolicy;if(r)for(const d in r)e.setRequestHeader(d,r[d]);t.rangeEnd&&e.setRequestHeader("Range","bytes="+t.rangeStart+"-"+(t.rangeEnd-1)),e.onreadystatechange=this.readystatechange.bind(this),e.onprogress=this.loadprogress.bind(this),e.responseType=t.responseType,self.clearTimeout(this.requestTimeout),n.timeout=o&&Mn(o)?o:u,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),n.timeout),e.send()}readystatechange(){const{context:e,loader:t,stats:n}=this;if(!e||!t)return;const r=t.readyState,o=this.config;if(!n.aborted&&r>=2&&(n.loading.first===0&&(n.loading.first=Math.max(self.performance.now(),n.loading.start),o.timeout!==o.loadPolicy.maxLoadTimeMs&&(self.clearTimeout(this.requestTimeout),o.timeout=o.loadPolicy.maxLoadTimeMs,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),o.loadPolicy.maxLoadTimeMs-(n.loading.first-n.loading.start)))),r===4)){self.clearTimeout(this.requestTimeout),t.onreadystatechange=null,t.onprogress=null;const f=t.status,y=t.responseType==="text"?t.responseText:null;if(f>=200&&f<300){const v=y??t.response;if(v!=null){var u,d;n.loading.end=Math.max(self.performance.now(),n.loading.first);const A=t.responseType==="arraybuffer"?v.byteLength:v.length;n.loaded=n.total=A,n.bwEstimate=n.total*8e3/(n.loading.end-n.loading.first);const k=(u=this.callbacks)==null?void 0:u.onProgress;k&&k(n,e,v,t);const B={url:t.responseURL,data:v,code:f};(d=this.callbacks)==null||d.onSuccess(B,n,e,t);return}}const m=o.loadPolicy.errorRetry,p=n.retry,T={url:e.url,data:void 0,code:f};if(Ep(m,p,!1,T))this.retry(m);else{var h;Gr.error(`${f} while loading ${e.url}`),(h=this.callbacks)==null||h.onError({code:f,text:t.statusText},e,t,n)}}}loadtimeout(){if(!this.config)return;const e=this.config.loadPolicy.timeoutRetry,t=this.stats.retry;if(Ep(e,t,!0))this.retry(e);else{var n;Gr.warn(`timeout while loading ${(n=this.context)==null?void 0:n.url}`);const r=this.callbacks;r&&(this.abortInternal(),r.onTimeout(this.stats,this.context,this.loader))}}retry(e){const{context:t,stats:n}=this;this.retryDelay=jE(e,n.retry),n.retry++,Gr.warn(`${status?"HTTP Status "+status:"Timeout"} while loading ${t==null?void 0:t.url}, retrying ${n.retry}/${e.maxNumRetry} in ${this.retryDelay}ms`),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay)}loadprogress(e){const t=this.stats;t.loaded=e.loaded,e.lengthComputable&&(t.total=e.total)}getCacheAge(){let e=null;if(this.loader&&nM.test(this.loader.getAllResponseHeaders())){const t=this.loader.getResponseHeader("age");e=t?parseFloat(t):null}return e}getResponseHeader(e){return this.loader&&new RegExp(`^${e}:\\s*[\\d.]+\\s*$`,"im").test(this.loader.getAllResponseHeaders())?this.loader.getResponseHeader(e):null}}const rM={maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:null,errorRetry:null},iM=qr(qr({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,ignoreDevicePixelRatio:!1,maxDevicePixelRatio:Number.POSITIVE_INFINITY,preferManagedMediaSource:!0,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,frontBufferFlushThreshold:1/0,startOnSegmentBoundary:!1,maxBufferSize:60*1e3*1e3,maxFragLookUpTolerance:.25,maxBufferHole:.1,detectStallWithCurrentTimeMs:1250,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,nudgeOnVideoHole:!0,liveSyncMode:"edge",liveSyncDurationCount:3,liveSyncOnStallIncrease:1,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,workerPath:null,enableSoftwareAES:!0,startLevel:void 0,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,ignorePlaylistParsingErrors:!1,loader:cR,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:p1,bufferController:sN,capLevelController:t0,errorController:T1,fpsController:oO,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrEwmaDefaultEstimateMax:5e6,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystems:{},drmSystemOptions:{},requestMediaKeySystemAccessFunc:lA,requireKeySystemAccessOnStart:!1,testBandwidth:!0,progressive:!1,lowLatencyMode:!0,cmcd:void 0,enableDateRangeMetadataCues:!0,enableEmsgMetadataCues:!0,enableEmsgKLVMetadata:!1,enableID3MetadataCues:!0,enableInterstitialPlayback:!0,interstitialAppendInPlace:!0,interstitialLiveLookAhead:10,useMediaCapabilities:!0,preserveManualLevelOnError:!1,certLoadPolicy:{default:rM},keyLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"},errorRetry:{maxNumRetry:8,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"}}},manifestLoadPolicy:{default:{maxTimeToFirstByteMs:1/0,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},playlistLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:2,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},fragLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:12e4,timeoutRetry:{maxNumRetry:4,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:6,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},steeringManifestLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},interstitialAssetListLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:3e4,timeoutRetry:{maxNumRetry:0,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:0,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3},aM()),{},{subtitleStreamController:EO,subtitleTrackController:cO,timelineController:HO,audioStreamController:nN,audioTrackController:rN,emeController:pd,cmcdController:rO,contentSteeringController:aO,interstitialsController:bO});function aM(){return{cueHandler:YO,enableWebVTT:!0,enableIMSC1:!0,enableCEA708Captions:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}}function sM(i,e,t){if((e.liveSyncDurationCount||e.liveMaxLatencyDurationCount)&&(e.liveSyncDuration||e.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(e.liveMaxLatencyDurationCount!==void 0&&(e.liveSyncDurationCount===void 0||e.liveMaxLatencyDurationCount<=e.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(e.liveMaxLatencyDuration!==void 0&&(e.liveSyncDuration===void 0||e.liveMaxLatencyDuration<=e.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');const n=rE(i),r=["manifest","level","frag"],o=["TimeOut","MaxRetry","RetryDelay","MaxRetryTimeout"];return r.forEach(u=>{const d=`${u==="level"?"playlist":u}LoadPolicy`,h=e[d]===void 0,f=[];o.forEach(y=>{const m=`${u}Loading${y}`,p=e[m];if(p!==void 0&&h){f.push(m);const T=n[d].default;switch(e[d]={default:T},y){case"TimeOut":T.maxLoadTimeMs=p,T.maxTimeToFirstByteMs=p;break;case"MaxRetry":T.errorRetry.maxNumRetry=p,T.timeoutRetry.maxNumRetry=p;break;case"RetryDelay":T.errorRetry.retryDelayMs=p,T.timeoutRetry.retryDelayMs=p;break;case"MaxRetryTimeout":T.errorRetry.maxRetryDelayMs=p,T.timeoutRetry.maxRetryDelayMs=p;break}}}),f.length&&t.warn(`hls.js config: "${f.join('", "')}" setting(s) are deprecated, use "${d}": ${ei(e[d])}`)}),qr(qr({},n),e)}function rE(i){return i&&typeof i=="object"?Array.isArray(i)?i.map(rE):Object.keys(i).reduce((e,t)=>(e[t]=rE(i[t]),e),{}):i}function oM(i,e){const t=i.loader;t!==sS&&t!==cR?(e.log("[config]: Custom loader detected, cannot enable progressive streaming"),i.progressive=!1):WO()&&(i.loader=sS,i.progressive=!0,i.enableSoftwareAES=!0,e.log("[config]: Progressive streaming enabled, using FetchLoader"))}const ip=2,lM=.1,uM=.05,cM=100;class dM extends rA{constructor(e,t){super("gap-controller",e.logger),this.hls=void 0,this.fragmentTracker=void 0,this.media=null,this.mediaSource=void 0,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1,this.buffered={},this.lastCurrentTime=0,this.ended=0,this.waiting=0,this.onMediaPlaying=()=>{this.ended=0,this.waiting=0},this.onMediaWaiting=()=>{var n;(n=this.media)!=null&&n.seeking||(this.waiting=self.performance.now(),this.tick())},this.onMediaEnded=()=>{if(this.hls){var n;this.ended=((n=this.media)==null?void 0:n.currentTime)||1,this.hls.trigger(Ee.MEDIA_ENDED,{stalled:!1})}},this.hls=e,this.fragmentTracker=t,this.registerListeners()}registerListeners(){const{hls:e}=this;e&&(e.on(Ee.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(Ee.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(Ee.BUFFER_APPENDED,this.onBufferAppended,this))}unregisterListeners(){const{hls:e}=this;e&&(e.off(Ee.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(Ee.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(Ee.BUFFER_APPENDED,this.onBufferAppended,this))}destroy(){super.destroy(),this.unregisterListeners(),this.media=this.hls=this.fragmentTracker=null,this.mediaSource=void 0}onMediaAttached(e,t){this.setInterval(cM),this.mediaSource=t.mediaSource;const n=this.media=t.media;Ea(n,"playing",this.onMediaPlaying),Ea(n,"waiting",this.onMediaWaiting),Ea(n,"ended",this.onMediaEnded)}onMediaDetaching(e,t){this.clearInterval();const{media:n}=this;n&&(La(n,"playing",this.onMediaPlaying),La(n,"waiting",this.onMediaWaiting),La(n,"ended",this.onMediaEnded),this.media=null),this.mediaSource=void 0}onBufferAppended(e,t){this.buffered=t.timeRanges}get hasBuffered(){return Object.keys(this.buffered).length>0}tick(){var e;if(!((e=this.media)!=null&&e.readyState)||!this.hasBuffered)return;const t=this.media.currentTime;this.poll(t,this.lastCurrentTime),this.lastCurrentTime=t}poll(e,t){var n,r;const o=(n=this.hls)==null?void 0:n.config;if(!o)return;const u=this.media;if(!u)return;const{seeking:d}=u,h=this.seeking&&!d,f=!this.seeking&&d,y=u.paused&&!d||u.ended||u.playbackRate===0;if(this.seeking=d,e!==t){t&&(this.ended=0),this.moved=!0,d||(this.nudgeRetry=0,o.nudgeOnVideoHole&&!y&&e>t&&this.nudgeOnVideoHole(e,t)),this.waiting===0&&this.stallResolved(e);return}if(f||h){h&&this.stallResolved(e);return}if(y){this.nudgeRetry=0,this.stallResolved(e),!this.ended&&u.ended&&this.hls&&(this.ended=e||1,this.hls.trigger(Ee.MEDIA_ENDED,{stalled:!1}));return}if(!dr.getBuffered(u).length){this.nudgeRetry=0;return}const m=dr.bufferInfo(u,e,0),p=m.nextStart||0,T=this.fragmentTracker;if(d&&T&&this.hls){const Te=oS(this.hls.inFlightFragments,e),X=m.len>ip,Q=!p||Te||p-e>ip&&!T.getPartialFragment(e);if(X||Q)return;this.moved=!1}const v=(r=this.hls)==null?void 0:r.latestLevelDetails;if(!this.moved&&this.stalled!==null&&T){if(!(m.len>0)&&!p)return;const X=Math.max(p,m.start||0)-e,be=!!(v!=null&&v.live)?v.targetduration*2:ip,F=Um(e,T);if(X>0&&(X<=be||F)){u.paused||this._trySkipBufferHole(F);return}}const A=o.detectStallWithCurrentTimeMs,k=self.performance.now(),B=this.waiting;let $=this.stalled;if($===null)if(B>0&&k-B<A)$=this.stalled=B;else{this.stalled=k;return}const K=k-$;if(!d&&(K>=A||B)&&this.hls){var ue;if(((ue=this.mediaSource)==null?void 0:ue.readyState)==="ended"&&!(v!=null&&v.live)&&Math.abs(e-((v==null?void 0:v.edge)||0))<1){if(this.ended)return;this.ended=e||1,this.hls.trigger(Ee.MEDIA_ENDED,{stalled:!0});return}if(this._reportStall(m),!this.media||!this.hls)return}const me=dr.bufferInfo(u,e,o.maxBufferHole);this._tryFixBufferStall(me,K,e)}stallResolved(e){const t=this.stalled;if(t&&this.hls&&(this.stalled=null,this.stallReported)){const n=self.performance.now()-t;this.log(`playback not stuck anymore @${e}, after ${Math.round(n)}ms`),this.stallReported=!1,this.waiting=0,this.hls.trigger(Ee.STALL_RESOLVED,{})}}nudgeOnVideoHole(e,t){var n;const r=this.buffered.video;if(this.hls&&this.media&&this.fragmentTracker&&(n=this.buffered.audio)!=null&&n.length&&r&&r.length>1&&e>r.end(0)){const o=dr.bufferedInfo(dr.timeRangesToArray(this.buffered.audio),e,0);if(o.len>1&&t>=o.start){const u=dr.timeRangesToArray(r),d=dr.bufferedInfo(u,t,0).bufferedIndex;if(d>-1&&d<u.length-1){const h=dr.bufferedInfo(u,e,0).bufferedIndex,f=u[d].end,y=u[d+1].start;if((h===-1||h>d)&&y-f<1&&e-f<2){const m=new Error(`nudging playhead to flush pipeline after video hole. currentTime: ${e} hole: ${f} -> ${y} buffered index: ${h}`);this.warn(m.message),this.media.currentTime+=1e-6;let p=Um(e,this.fragmentTracker);p&&"fragment"in p?p=p.fragment:p||(p=void 0);const T=dr.bufferInfo(this.media,e,0);this.hls.trigger(Ee.ERROR,{type:Qn.MEDIA_ERROR,details:kt.BUFFER_SEEK_OVER_HOLE,fatal:!1,error:m,reason:m.message,frag:p,buffer:T.len,bufferInfo:T})}}}}}_tryFixBufferStall(e,t,n){var r,o;const{fragmentTracker:u,media:d}=this,h=(r=this.hls)==null?void 0:r.config;if(!d||!u||!h)return;const f=(o=this.hls)==null?void 0:o.latestLevelDetails,y=Um(n,u);if((y||f!=null&&f.live&&n<f.fragmentStart)&&(this._trySkipBufferHole(y)||!this.media))return;const m=e.buffered,p=this.adjacentTraversal(e,n);(m&&m.length>1&&e.len>h.maxBufferHole||e.nextStart&&(e.nextStart-n<h.maxBufferHole||p))&&(t>h.highBufferWatchdogPeriod*1e3||this.waiting)&&(this.warn("Trying to nudge playhead over buffer-hole"),this._tryNudgeBuffer(e))}adjacentTraversal(e,t){const n=this.fragmentTracker,r=e.nextStart;if(n&&r){const o=n.getFragAtPos(t,jn.MAIN),u=n.getFragAtPos(r,jn.MAIN);if(o&&u)return u.sn-o.sn<2}return!1}_reportStall(e){const{hls:t,media:n,stallReported:r,stalled:o}=this;if(!r&&o!==null&&n&&t){this.stallReported=!0;const u=new Error(`Playback stalling at @${n.currentTime} due to low buffer (${ei(e)})`);this.warn(u.message),t.trigger(Ee.ERROR,{type:Qn.MEDIA_ERROR,details:kt.BUFFER_STALLED_ERROR,fatal:!1,error:u,buffer:e.len,bufferInfo:e,stalled:{start:o}})}}_trySkipBufferHole(e){var t;const{fragmentTracker:n,media:r}=this,o=(t=this.hls)==null?void 0:t.config;if(!r||!n||!o)return 0;const u=r.currentTime,d=dr.bufferInfo(r,u,0),h=u<d.start?d.start:d.nextStart;if(h&&this.hls){const y=d.len<=o.maxBufferHole,m=d.len>0&&d.len<1&&r.readyState<3,p=h-u;if(p>0&&(y||m)){if(p>o.maxBufferHole){let v=!1;if(u===0){const A=n.getAppendedFrag(0,jn.MAIN);A&&h<A.end&&(v=!0)}if(!v&&e){var f;if(!((f=this.hls.loadLevelObj)!=null&&f.details)||oS(this.hls.inFlightFragments,h))return 0;let k=!1,B=e.end;for(;B<h;){const $=Um(B,n);if($)B+=$.duration;else{k=!0;break}}if(k)return 0}}const T=Math.max(h+uM,u+lM);if(this.warn(`skipping hole, adjusting currentTime from ${u} to ${T}`),this.moved=!0,r.currentTime=T,!(e!=null&&e.gap)){const v=new Error(`fragment loaded with buffer holes, seeking from ${u} to ${T}`),A={type:Qn.MEDIA_ERROR,details:kt.BUFFER_SEEK_OVER_HOLE,fatal:!1,error:v,reason:v.message,buffer:d.len,bufferInfo:d};e&&("fragment"in e?A.part=e:A.frag=e),this.hls.trigger(Ee.ERROR,A)}return T}}return 0}_tryNudgeBuffer(e){const{hls:t,media:n,nudgeRetry:r}=this,o=t==null?void 0:t.config;if(!n||!o)return 0;const u=n.currentTime;if(this.nudgeRetry++,r<o.nudgeMaxRetry){const d=u+(r+1)*o.nudgeOffset,h=new Error(`Nudging 'currentTime' from ${u} to ${d}`);this.warn(h.message),n.currentTime=d,t.trigger(Ee.ERROR,{type:Qn.MEDIA_ERROR,details:kt.BUFFER_NUDGE_ON_STALL,error:h,fatal:!1,buffer:e.len,bufferInfo:e})}else{const d=new Error(`Playhead still not moving while enough data buffered @${u} after ${o.nudgeMaxRetry} nudges`);this.error(d.message),t.trigger(Ee.ERROR,{type:Qn.MEDIA_ERROR,details:kt.BUFFER_STALLED_ERROR,error:d,fatal:!0,buffer:e.len,bufferInfo:e})}}}function oS(i,e){const t=lS(i.main);if(t&&t.start<=e)return t;const n=lS(i.audio);return n&&n.start<=e?n:null}function lS(i){if(!i)return null;switch(i.state){case cn.IDLE:case cn.STOPPED:case cn.ENDED:case cn.ERROR:return null}return i.frag}function Um(i,e){return e.getAppendedFrag(i,jn.MAIN)||e.getPartialFragment(i)}const fM=.25;function iE(){if(!(typeof self>"u"))return self.VTTCue||self.TextTrackCue}function bb(i,e,t,n,r){let o=new i(e,t,"");try{o.value=n,r&&(o.type=r)}catch{o=new i(e,t,ei(r?qr({type:r},n):n))}return o}const Bm=(()=>{const i=iE();try{i&&new i(0,Number.POSITIVE_INFINITY,"")}catch{return Number.MAX_VALUE}return Number.POSITIVE_INFINITY})();class hM{constructor(e){this.hls=void 0,this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.removeCues=!0,this.assetCue=void 0,this.onEventCueEnter=()=>{this.hls&&this.hls.trigger(Ee.EVENT_CUE_ENTER,{})},this.hls=e,this._registerListeners()}destroy(){this._unregisterListeners(),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=this.onEventCueEnter=null}_registerListeners(){const{hls:e}=this;e&&(e.on(Ee.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(Ee.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(Ee.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(Ee.MANIFEST_LOADING,this.onManifestLoading,this),e.on(Ee.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.on(Ee.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(Ee.LEVEL_UPDATED,this.onLevelUpdated,this),e.on(Ee.LEVEL_PTS_UPDATED,this.onLevelPtsUpdated,this))}_unregisterListeners(){const{hls:e}=this;e&&(e.off(Ee.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(Ee.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(Ee.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(Ee.MANIFEST_LOADING,this.onManifestLoading,this),e.off(Ee.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.off(Ee.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(Ee.LEVEL_UPDATED,this.onLevelUpdated,this),e.off(Ee.LEVEL_PTS_UPDATED,this.onLevelPtsUpdated,this))}onMediaAttaching(e,t){var n;this.media=t.media,((n=t.overrides)==null?void 0:n.cueRemoval)===!1&&(this.removeCues=!1)}onMediaAttached(){var e;const t=(e=this.hls)==null?void 0:e.latestLevelDetails;t&&this.updateDateRangeCues(t)}onMediaDetaching(e,t){this.media=null,!t.transferMedia&&(this.id3Track&&(this.removeCues&&dd(this.id3Track,this.onEventCueEnter),this.id3Track=null),this.dateRangeCuesAppended={})}onManifestLoading(){this.dateRangeCuesAppended={}}createTrack(e){const t=this.getID3Track(e.textTracks);return t.mode="hidden",t}getID3Track(e){if(this.media){for(let t=0;t<e.length;t++){const n=e[t];if(n.kind==="metadata"&&n.label==="id3")return ZA(n,this.media),n}return this.media.addTextTrack("metadata","id3")}}onFragParsingMetadata(e,t){if(!this.media||!this.hls)return;const{enableEmsgMetadataCues:n,enableID3MetadataCues:r}=this.hls.config;if(!n&&!r)return;const{samples:o}=t;this.id3Track||(this.id3Track=this.createTrack(this.media));const u=iE();if(u)for(let d=0;d<o.length;d++){const h=o[d].type;if(h===Ga.emsg&&!n||!r)continue;const f=xA(o[d].data),y=o[d].pts;let m=y+o[d].duration;m>Bm&&(m=Bm),m-y<=0&&(m=y+fM);for(let T=0;T<f.length;T++){const v=f[T];if(!IA(v)){this.updateId3CueEnds(y,h);const A=bb(u,y,m,v,h);A&&this.id3Track.addCue(A)}}}}updateId3CueEnds(e,t){var n;const r=(n=this.id3Track)==null?void 0:n.cues;if(r)for(let o=r.length;o--;){const u=r[o];u.type===t&&u.startTime<e&&u.endTime===Bm&&(u.endTime=e)}}onBufferFlushing(e,{startOffset:t,endOffset:n,type:r}){const{id3Track:o,hls:u}=this;if(!u)return;const{config:{enableEmsgMetadataCues:d,enableID3MetadataCues:h}}=u;if(o&&(d||h)){let f;r==="audio"?f=y=>y.type===Ga.audioId3&&h:r==="video"?f=y=>y.type===Ga.emsg&&d:f=y=>y.type===Ga.audioId3&&h||y.type===Ga.emsg&&d,tE(o,t,n,f)}}onLevelUpdated(e,{details:t}){this.updateDateRangeCues(t,!0)}onLevelPtsUpdated(e,t){Math.abs(t.drift)>.01&&this.updateDateRangeCues(t.details)}updateDateRangeCues(e,t){if(!this.hls||!this.media)return;const{assetPlayerId:n,timelineOffset:r,enableDateRangeMetadataCues:o,interstitialsController:u}=this.hls.config;if(!o)return;const d=iE();if(n&&r&&!u){const{fragmentStart:A,fragmentEnd:k}=e;let B=this.assetCue;B?(B.startTime=A,B.endTime=k):d&&(B=this.assetCue=bb(d,A,k,{assetPlayerId:this.hls.config.assetPlayerId},"hlsjs.interstitial.asset"),B&&(B.id=n,this.id3Track||(this.id3Track=this.createTrack(this.media)),this.id3Track.addCue(B),B.addEventListener("enter",this.onEventCueEnter)))}if(!e.hasProgramDateTime)return;const{id3Track:h}=this,{dateRanges:f}=e,y=Object.keys(f);let m=this.dateRangeCuesAppended;if(h&&t){var p;if((p=h.cues)!=null&&p.length){const A=Object.keys(m).filter(k=>!y.includes(k));for(let k=A.length;k--;){var T;const B=A[k],$=(T=m[B])==null?void 0:T.cues;delete m[B],$&&Object.keys($).forEach(K=>{const ue=$[K];if(ue){ue.removeEventListener("enter",this.onEventCueEnter);try{h.removeCue(ue)}catch{}}})}}else m=this.dateRangeCuesAppended={}}const v=e.fragments[e.fragments.length-1];if(!(y.length===0||!Mn(v==null?void 0:v.programDateTime))){this.id3Track||(this.id3Track=this.createTrack(this.media));for(let A=0;A<y.length;A++){const k=y[A],B=f[k],$=B.startTime,K=m[k],ue=(K==null?void 0:K.cues)||{};let me=(K==null?void 0:K.durationKnown)||!1,Te=Bm;const{duration:X,endDate:Q}=B;if(Q&&X!==null)Te=$+X,me=!0;else if(B.endOnNext&&!me){const F=y.reduce((ke,Qe)=>{if(Qe!==B.id){const xe=f[Qe];if(xe.class===B.class&&xe.startDate>B.startDate&&(!ke||B.startDate<ke.startDate))return xe}return ke},null);F&&(Te=F.startTime,me=!0)}const be=Object.keys(B.attr);for(let F=0;F<be.length;F++){const ke=be[F];if(!O1(ke))continue;const Qe=ue[ke];if(Qe)me&&!(K!=null&&K.durationKnown)?Qe.endTime=Te:Math.abs(Qe.startTime-$)>.01&&(Qe.startTime=$,Qe.endTime=Te);else if(d){let xe=B.attr[ke];M1(ke)&&(xe=z_(xe));const Ge=bb(d,$,Te,{key:ke,data:xe},Ga.dateRange);Ge&&(Ge.id=k,this.id3Track.addCue(Ge),ue[ke]=Ge,u&&(ke==="X-ASSET-LIST"||ke==="X-ASSET-URL")&&Ge.addEventListener("enter",this.onEventCueEnter))}}m[k]={cues:ue,dateRange:B,durationKnown:me}}}}}class gM{constructor(e){this.hls=void 0,this.config=void 0,this.media=null,this.currentTime=0,this.stallCount=0,this._latency=null,this._targetLatencyUpdated=!1,this.onTimeupdate=()=>{const{media:t}=this,n=this.levelDetails;if(!t||!n)return;this.currentTime=t.currentTime;const r=this.computeLatency();if(r===null)return;this._latency=r;const{lowLatencyMode:o,maxLiveSyncPlaybackRate:u}=this.config;if(!o||u===1||!n.live)return;const d=this.targetLatency;if(d===null)return;const h=r-d,f=Math.min(this.maxLatency,d+n.targetduration);if(h<f&&h>.05&&this.forwardBufferLength>1){const m=Math.min(2,Math.max(1,u)),p=Math.round(2/(1+Math.exp(-.75*h-this.edgeStalled))*20)/20,T=Math.min(m,Math.max(1,p));this.changeMediaPlaybackRate(t,T)}else t.playbackRate!==1&&t.playbackRate!==0&&this.changeMediaPlaybackRate(t,1)},this.hls=e,this.config=e.config,this.registerListeners()}get levelDetails(){var e;return((e=this.hls)==null?void 0:e.latestLevelDetails)||null}get latency(){return this._latency||0}get maxLatency(){const{config:e}=this;if(e.liveMaxLatencyDuration!==void 0)return e.liveMaxLatencyDuration;const t=this.levelDetails;return t?e.liveMaxLatencyDurationCount*t.targetduration:0}get targetLatency(){const e=this.levelDetails;if(e===null||this.hls===null)return null;const{holdBack:t,partHoldBack:n,targetduration:r}=e,{liveSyncDuration:o,liveSyncDurationCount:u,lowLatencyMode:d}=this.config,h=this.hls.userConfig;let f=d&&n||t;(this._targetLatencyUpdated||h.liveSyncDuration||h.liveSyncDurationCount||f===0)&&(f=o!==void 0?o:u*r);const y=r;return f+Math.min(this.stallCount*this.config.liveSyncOnStallIncrease,y)}set targetLatency(e){this.stallCount=0,this.config.liveSyncDuration=e,this._targetLatencyUpdated=!0}get liveSyncPosition(){const e=this.estimateLiveEdge(),t=this.targetLatency;if(e===null||t===null)return null;const n=this.levelDetails;if(n===null)return null;const r=n.edge,o=e-t-this.edgeStalled,u=r-n.totalduration,d=r-(this.config.lowLatencyMode&&n.partTarget||n.targetduration);return Math.min(Math.max(u,o),d)}get drift(){const e=this.levelDetails;return e===null?1:e.drift}get edgeStalled(){const e=this.levelDetails;if(e===null)return 0;const t=(this.config.lowLatencyMode&&e.partTarget||e.targetduration)*3;return Math.max(e.age-t,0)}get forwardBufferLength(){const{media:e}=this,t=this.levelDetails;if(!e||!t)return 0;const n=e.buffered.length;return(n?e.buffered.end(n-1):t.edge)-this.currentTime}destroy(){this.unregisterListeners(),this.onMediaDetaching(),this.hls=null}registerListeners(){const{hls:e}=this;e&&(e.on(Ee.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(Ee.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(Ee.MANIFEST_LOADING,this.onManifestLoading,this),e.on(Ee.LEVEL_UPDATED,this.onLevelUpdated,this),e.on(Ee.ERROR,this.onError,this))}unregisterListeners(){const{hls:e}=this;e&&(e.off(Ee.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(Ee.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(Ee.MANIFEST_LOADING,this.onManifestLoading,this),e.off(Ee.LEVEL_UPDATED,this.onLevelUpdated,this),e.off(Ee.ERROR,this.onError,this))}onMediaAttached(e,t){this.media=t.media,this.media.addEventListener("timeupdate",this.onTimeupdate)}onMediaDetaching(){this.media&&(this.media.removeEventListener("timeupdate",this.onTimeupdate),this.media=null)}onManifestLoading(){this._latency=null,this.stallCount=0}onLevelUpdated(e,{details:t}){t.advanced&&this.onTimeupdate(),!t.live&&this.media&&this.media.removeEventListener("timeupdate",this.onTimeupdate)}onError(e,t){var n;t.details===kt.BUFFER_STALLED_ERROR&&(this.stallCount++,this.hls&&(n=this.levelDetails)!=null&&n.live&&this.hls.logger.warn("[latency-controller]: Stall detected, adjusting target latency"))}changeMediaPlaybackRate(e,t){var n,r;e.playbackRate!==t&&((n=this.hls)==null||n.logger.debug(`[latency-controller]: latency=${this.latency.toFixed(3)}, targetLatency=${(r=this.targetLatency)==null?void 0:r.toFixed(3)}, forwardBufferLength=${this.forwardBufferLength.toFixed(3)}: adjusting playback rate from ${e.playbackRate} to ${t}`),e.playbackRate=t)}estimateLiveEdge(){const e=this.levelDetails;return e===null?null:e.edge+e.age}computeLatency(){const e=this.estimateLiveEdge();return e===null?null:e-this.currentTime}}class mM extends e0{constructor(e,t){super(e,"level-controller"),this._levels=[],this._firstLevel=-1,this._maxAutoLevel=-1,this._startLevel=void 0,this.currentLevel=null,this.currentLevelIndex=-1,this.manualLevelIndex=-1,this.steering=void 0,this.onParsedComplete=void 0,this.steering=t,this._registerListeners()}_registerListeners(){const{hls:e}=this;e.on(Ee.MANIFEST_LOADING,this.onManifestLoading,this),e.on(Ee.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(Ee.LEVEL_LOADED,this.onLevelLoaded,this),e.on(Ee.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(Ee.FRAG_BUFFERED,this.onFragBuffered,this),e.on(Ee.ERROR,this.onError,this)}_unregisterListeners(){const{hls:e}=this;e.off(Ee.MANIFEST_LOADING,this.onManifestLoading,this),e.off(Ee.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(Ee.LEVEL_LOADED,this.onLevelLoaded,this),e.off(Ee.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(Ee.FRAG_BUFFERED,this.onFragBuffered,this),e.off(Ee.ERROR,this.onError,this)}destroy(){this._unregisterListeners(),this.steering=null,this.resetLevels(),super.destroy()}stopLoad(){this._levels.forEach(t=>{t.loadError=0,t.fragmentError=0}),super.stopLoad()}resetLevels(){this._startLevel=void 0,this.manualLevelIndex=-1,this.currentLevelIndex=-1,this.currentLevel=null,this._levels=[],this._maxAutoLevel=-1}onManifestLoading(e,t){this.resetLevels()}onManifestLoaded(e,t){const n=this.hls.config.preferManagedMediaSource,r=[],o={},u={};let d=!1,h=!1,f=!1;t.levels.forEach(y=>{const m=y.attrs;let{audioCodec:p,videoCodec:T}=y;p&&(y.audioCodec=p=mp(p,n)||void 0),T&&(T=y.videoCodec=QD(T));const{width:v,height:A,unknownCodecs:k}=y,B=(k==null?void 0:k.length)||0;if(d||(d=!!(v&&A)),h||(h=!!T),f||(f=!!p),B||p&&!this.isAudioSupported(p)||T&&!this.isVideoSupported(T)){this.log(`Some or all CODECS not supported "${m.CODECS}"`);return}const{CODECS:$,"FRAME-RATE":K,"HDCP-LEVEL":ue,"PATHWAY-ID":me,RESOLUTION:Te,"VIDEO-RANGE":X}=m,be=`${`${me||"."}-`}${y.bitrate}-${Te}-${K}-${$}-${X}-${ue}`;if(o[be])if(o[be].uri!==y.url&&!y.attrs["PATHWAY-ID"]){const F=u[be]+=1;y.attrs["PATHWAY-ID"]=new Array(F+1).join(".");const ke=this.createLevel(y);o[be]=ke,r.push(ke)}else o[be].addGroupId("audio",m.AUDIO),o[be].addGroupId("text",m.SUBTITLES);else{const F=this.createLevel(y);o[be]=F,u[be]=1,r.push(F)}}),this.filterAndSortMediaOptions(r,t,d,h,f)}createLevel(e){const t=new Ih(e),n=e.supplemental;if(n!=null&&n.videoCodec&&!this.isVideoSupported(n.videoCodec)){const r=new Error(`SUPPLEMENTAL-CODECS not supported "${n.videoCodec}"`);this.log(r.message),t.supportedResult=W_(r,[])}return t}isAudioSupported(e){return Rh(e,"audio",this.hls.config.preferManagedMediaSource)}isVideoSupported(e){return Rh(e,"video",this.hls.config.preferManagedMediaSource)}filterAndSortMediaOptions(e,t,n,r,o){var u;let d=[],h=[],f=e;const y=((u=t.stats)==null?void 0:u.parsing)||{};if((n||r)&&o&&(f=f.filter(({videoCodec:$,videoRange:K,width:ue,height:me})=>(!!$||!!(ue&&me))&&o1(K))),f.length===0){Promise.resolve().then(()=>{if(this.hls){let $="no level with compatible codecs found in manifest",K=$;t.levels.length&&(K=`one or more CODECS in variant not supported: ${ei(t.levels.map(me=>me.attrs.CODECS).filter((me,Te,X)=>X.indexOf(me)===Te))}`,this.warn(K),$+=` (${K})`);const ue=new Error($);this.hls.trigger(Ee.ERROR,{type:Qn.MEDIA_ERROR,details:kt.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:t.url,error:ue,reason:K})}}),y.end=performance.now();return}t.audioTracks&&(d=t.audioTracks.filter($=>!$.audioCodec||this.isAudioSupported($.audioCodec)),uS(d)),t.subtitles&&(h=t.subtitles,uS(h));const m=f.slice(0);f.sort(($,K)=>{if($.attrs["HDCP-LEVEL"]!==K.attrs["HDCP-LEVEL"])return($.attrs["HDCP-LEVEL"]||"")>(K.attrs["HDCP-LEVEL"]||"")?1:-1;if(n&&$.height!==K.height)return $.height-K.height;if($.frameRate!==K.frameRate)return $.frameRate-K.frameRate;if($.videoRange!==K.videoRange)return pp.indexOf($.videoRange)-pp.indexOf(K.videoRange);if($.videoCodec!==K.videoCodec){const ue=eT($.videoCodec),me=eT(K.videoCodec);if(ue!==me)return me-ue}if($.uri===K.uri&&$.codecSet!==K.codecSet){const ue=gp($.codecSet),me=gp(K.codecSet);if(ue!==me)return me-ue}return $.averageBitrate!==K.averageBitrate?$.averageBitrate-K.averageBitrate:0});let p=m[0];if(this.steering&&(f=this.steering.filterParsedLevels(f),f.length!==m.length)){for(let $=0;$<m.length;$++)if(m[$].pathwayId===f[0].pathwayId){p=m[$];break}}this._levels=f;for(let $=0;$<f.length;$++)if(f[$]===p){var T;this._firstLevel=$;const K=p.bitrate,ue=this.hls.bandwidthEstimate;if(this.log(`manifest loaded, ${f.length} level(s) found, first bitrate: ${K}`),((T=this.hls.userConfig)==null?void 0:T.abrEwmaDefaultEstimate)===void 0){const me=Math.min(K,this.hls.config.abrEwmaDefaultEstimateMax);me>ue&&ue===this.hls.abrEwmaDefaultEstimate&&(this.hls.bandwidthEstimate=me)}break}const v=o&&!r,A=this.hls.config,k=!!(A.audioStreamController&&A.audioTrackController),B={levels:f,audioTracks:d,subtitleTracks:h,sessionData:t.sessionData,sessionKeys:t.sessionKeys,firstLevel:this._firstLevel,stats:t.stats,audio:o,video:r,altAudio:k&&!v&&d.some($=>!!$.url)};y.end=performance.now(),this.hls.trigger(Ee.MANIFEST_PARSED,B)}get levels(){return this._levels.length===0?null:this._levels}get loadLevelObj(){return this.currentLevel}get level(){return this.currentLevelIndex}set level(e){const t=this._levels;if(t.length===0)return;if(e<0||e>=t.length){const y=new Error("invalid level idx"),m=e<0;if(this.hls.trigger(Ee.ERROR,{type:Qn.OTHER_ERROR,details:kt.LEVEL_SWITCH_ERROR,level:e,fatal:m,error:y,reason:y.message}),m)return;e=Math.min(e,t.length-1)}const n=this.currentLevelIndex,r=this.currentLevel,o=r?r.attrs["PATHWAY-ID"]:void 0,u=t[e],d=u.attrs["PATHWAY-ID"];if(this.currentLevelIndex=e,this.currentLevel=u,n===e&&r&&o===d)return;this.log(`Switching to level ${e} (${u.height?u.height+"p ":""}${u.videoRange?u.videoRange+" ":""}${u.codecSet?u.codecSet+" ":""}@${u.bitrate})${d?" with Pathway "+d:""} from level ${n}${o?" with Pathway "+o:""}`);const h={level:e,attrs:u.attrs,details:u.details,bitrate:u.bitrate,averageBitrate:u.averageBitrate,maxBitrate:u.maxBitrate,realBitrate:u.realBitrate,width:u.width,height:u.height,codecSet:u.codecSet,audioCodec:u.audioCodec,videoCodec:u.videoCodec,audioGroups:u.audioGroups,subtitleGroups:u.subtitleGroups,loaded:u.loaded,loadError:u.loadError,fragmentError:u.fragmentError,name:u.name,id:u.id,uri:u.uri,url:u.url,urlId:0,audioGroupIds:u.audioGroupIds,textGroupIds:u.textGroupIds};this.hls.trigger(Ee.LEVEL_SWITCHING,h);const f=u.details;if(!f||f.live){const y=this.switchParams(u.uri,r==null?void 0:r.details,f);this.loadPlaylist(y)}}get manualLevel(){return this.manualLevelIndex}set manualLevel(e){this.manualLevelIndex=e,this._startLevel===void 0&&(this._startLevel=e),e!==-1&&(this.level=e)}get firstLevel(){return this._firstLevel}set firstLevel(e){this._firstLevel=e}get startLevel(){if(this._startLevel===void 0){const e=this.hls.config.startLevel;return e!==void 0?e:this.hls.firstAutoLevel}return this._startLevel}set startLevel(e){this._startLevel=e}get pathways(){return this.steering?this.steering.pathways():[]}get pathwayPriority(){return this.steering?this.steering.pathwayPriority:null}set pathwayPriority(e){if(this.steering){const t=this.steering.pathways(),n=e.filter(r=>t.indexOf(r)!==-1);if(e.length<1){this.warn(`pathwayPriority ${e} should contain at least one pathway from list: ${t}`);return}this.steering.pathwayPriority=n}}onError(e,t){t.fatal||!t.context||t.context.type===Tr.LEVEL&&t.context.level===this.level&&this.checkRetry(t)}onFragBuffered(e,{frag:t}){if(t!==void 0&&t.type===jn.MAIN){const n=t.elementaryStreams;if(!Object.keys(n).some(o=>!!n[o]))return;const r=this._levels[t.level];r!=null&&r.loadError&&(this.log(`Resetting level error count of ${r.loadError} on frag buffered`),r.loadError=0)}}onLevelLoaded(e,t){var n;const{level:r,details:o}=t,u=t.levelInfo;if(!u){var d;this.warn(`Invalid level index ${r}`),(d=t.deliveryDirectives)!=null&&d.skip&&(o.deltaUpdateFailed=!0);return}if(u===this.currentLevel||t.withoutMultiVariant){u.fragmentError===0&&(u.loadError=0);let h=u.details;h===t.details&&h.advanced&&(h=void 0),this.playlistLoaded(r,t,h)}else(n=t.deliveryDirectives)!=null&&n.skip&&(o.deltaUpdateFailed=!0)}loadPlaylist(e){super.loadPlaylist(),this.shouldLoadPlaylist(this.currentLevel)&&this.scheduleLoading(this.currentLevel,e)}loadingPlaylist(e,t){super.loadingPlaylist(e,t);const n=this.getUrlWithDirectives(e.uri,t),r=this.currentLevelIndex,o=e.attrs["PATHWAY-ID"],u=e.details,d=u==null?void 0:u.age;this.log(`Loading level index ${r}${(t==null?void 0:t.msn)!==void 0?" at sn "+t.msn+" part "+t.part:""}${o?" Pathway "+o:""}${d&&u.live?" age "+d.toFixed(1)+(u.type&&" "+u.type||""):""} ${n}`),this.hls.trigger(Ee.LEVEL_LOADING,{url:n,level:r,levelInfo:e,pathwayId:e.attrs["PATHWAY-ID"],id:0,deliveryDirectives:t||null})}get nextLoadLevel(){return this.manualLevelIndex!==-1?this.manualLevelIndex:this.hls.nextAutoLevel}set nextLoadLevel(e){this.level=e,this.manualLevelIndex===-1&&(this.hls.nextAutoLevel=e)}removeLevel(e){var t;if(this._levels.length===1)return;const n=this._levels.filter((o,u)=>u!==e?!0:(this.steering&&this.steering.removeLevel(o),o===this.currentLevel&&(this.currentLevel=null,this.currentLevelIndex=-1,o.details&&o.details.fragments.forEach(d=>d.level=-1)),!1));pA(n),this._levels=n,this.currentLevelIndex>-1&&(t=this.currentLevel)!=null&&t.details&&(this.currentLevelIndex=this.currentLevel.details.fragments[0].level),this.manualLevelIndex>-1&&(this.manualLevelIndex=this.currentLevelIndex);const r=n.length-1;this._firstLevel=Math.min(this._firstLevel,r),this._startLevel&&(this._startLevel=Math.min(this._startLevel,r)),this.hls.trigger(Ee.LEVELS_UPDATED,{levels:n})}onLevelsUpdated(e,{levels:t}){this._levels=t}checkMaxAutoUpdated(){const{autoLevelCapping:e,maxAutoLevel:t,maxHdcpLevel:n}=this.hls;this._maxAutoLevel!==t&&(this._maxAutoLevel=t,this.hls.trigger(Ee.MAX_AUTO_LEVEL_UPDATED,{autoLevelCapping:e,levels:this.levels,maxAutoLevel:t,minAutoLevel:this.hls.minAutoLevel,maxHdcpLevel:n}))}}function uS(i){const e={};i.forEach(t=>{const n=t.groupId||"";t.id=e[n]=e[n]||0,e[n]++})}function dR(){return self.SourceBuffer||self.WebKitSourceBuffer}function fR(){if(!Ll())return!1;const e=dR();return!e||e.prototype&&typeof e.prototype.appendBuffer=="function"&&typeof e.prototype.remove=="function"}function pM(){if(!fR())return!1;const i=Ll();return typeof(i==null?void 0:i.isTypeSupported)=="function"&&(["avc1.42E01E,mp4a.40.2","av01.0.01M.08","vp09.00.50.08"].some(e=>i.isTypeSupported(xh(e,"video")))||["mp4a.40.2","fLaC"].some(e=>i.isTypeSupported(xh(e,"audio"))))}function yM(){var i;const e=dR();return typeof(e==null||(i=e.prototype)==null?void 0:i.changeType)=="function"}const bM=100;class EM extends VE{constructor(e,t,n){super(e,t,n,"stream-controller",jn.MAIN),this.audioCodecSwap=!1,this.level=-1,this._forceStartLoad=!1,this._hasEnoughToStart=!1,this.altAudio=0,this.audioOnly=!1,this.fragPlaying=null,this.fragLastKbps=0,this.couldBacktrack=!1,this.backtrackFragment=null,this.audioCodecSwitch=!1,this.videoBuffer=null,this.onMediaPlaying=()=>{this.tick()},this.onMediaSeeked=()=>{const r=this.media,o=r?r.currentTime:null;if(o===null||!Mn(o)||(this.log(`Media seeked to ${o.toFixed(3)}`),!this.getBufferedFrag(o)))return;const u=this.getFwdBufferInfoAtPos(r,o,jn.MAIN,0);if(u===null||u.len===0){this.warn(`Main forward buffer length at ${o} on "seeked" event ${u?u.len:"empty"})`);return}this.tick()},this.registerListeners()}registerListeners(){super.registerListeners();const{hls:e}=this;e.on(Ee.MANIFEST_PARSED,this.onManifestParsed,this),e.on(Ee.LEVEL_LOADING,this.onLevelLoading,this),e.on(Ee.LEVEL_LOADED,this.onLevelLoaded,this),e.on(Ee.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.on(Ee.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(Ee.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.on(Ee.BUFFER_CREATED,this.onBufferCreated,this),e.on(Ee.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(Ee.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(Ee.FRAG_BUFFERED,this.onFragBuffered,this)}unregisterListeners(){super.unregisterListeners();const{hls:e}=this;e.off(Ee.MANIFEST_PARSED,this.onManifestParsed,this),e.off(Ee.LEVEL_LOADED,this.onLevelLoaded,this),e.off(Ee.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.off(Ee.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(Ee.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.off(Ee.BUFFER_CREATED,this.onBufferCreated,this),e.off(Ee.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(Ee.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(Ee.FRAG_BUFFERED,this.onFragBuffered,this)}onHandlerDestroying(){this.onMediaPlaying=this.onMediaSeeked=null,this.unregisterListeners(),super.onHandlerDestroying()}startLoad(e,t){if(this.levels){const{lastCurrentTime:n,hls:r}=this;if(this.stopLoad(),this.setInterval(bM),this.level=-1,!this.startFragRequested){let o=r.startLevel;o===-1&&(r.config.testBandwidth&&this.levels.length>1?(o=0,this.bitrateTest=!0):o=r.firstAutoLevel),r.nextLoadLevel=o,this.level=r.loadLevel,this._hasEnoughToStart=!!t}n>0&&e===-1&&!t&&(this.log(`Override startPosition with lastCurrentTime @${n.toFixed(3)}`),e=n),this.state=cn.IDLE,this.nextLoadPosition=this.lastCurrentTime=e+this.timelineOffset,this.startPosition=t?-1:e,this.tick()}else this._forceStartLoad=!0,this.state=cn.STOPPED}stopLoad(){this._forceStartLoad=!1,super.stopLoad()}doTick(){switch(this.state){case cn.WAITING_LEVEL:{const{levels:e,level:t}=this,n=e==null?void 0:e[t],r=n==null?void 0:n.details;if(r&&(!r.live||this.levelLastLoaded===n&&!this.waitForLive(n))){if(this.waitForCdnTuneIn(r))break;this.state=cn.IDLE;break}else if(this.hls.nextLoadLevel!==this.level){this.state=cn.IDLE;break}break}case cn.FRAG_LOADING_WAITING_RETRY:this.checkRetryDate();break}this.state===cn.IDLE&&this.doTickIdle(),this.onTickEnd()}onTickEnd(){var e;super.onTickEnd(),(e=this.media)!=null&&e.readyState&&this.media.seeking===!1&&(this.lastCurrentTime=this.media.currentTime),this.checkFragmentChanged()}doTickIdle(){const{hls:e,levelLastLoaded:t,levels:n,media:r}=this;if(t===null||!r&&!this.primaryPrefetch&&(this.startFragRequested||!e.config.startFragPrefetch)||this.altAudio&&this.audioOnly)return;const o=this.buffering?e.nextLoadLevel:e.loadLevel;if(!(n!=null&&n[o]))return;const u=n[o],d=this.getMainFwdBufferInfo();if(d===null)return;const h=this.getLevelDetails();if(h&&this._streamEnded(d,h)){const A={};this.altAudio===2&&(A.type="video"),this.hls.trigger(Ee.BUFFER_EOS,A),this.state=cn.ENDED;return}if(!this.buffering)return;e.loadLevel!==o&&e.manualLevel===-1&&this.log(`Adapting to level ${o} from level ${this.level}`),this.level=e.nextLoadLevel=o;const f=u.details;if(!f||this.state===cn.WAITING_LEVEL||this.waitForLive(u)){this.level=o,this.state=cn.WAITING_LEVEL,this.startFragRequested=!1;return}const y=d.len,m=this.getMaxBufferLength(u.maxBitrate);if(y>=m)return;this.backtrackFragment&&this.backtrackFragment.start>d.end&&(this.backtrackFragment=null);const p=this.backtrackFragment?this.backtrackFragment.start:d.end;let T=this.getNextFragment(p,f);if(this.couldBacktrack&&!this.fragPrevious&&T&&vi(T)&&this.fragmentTracker.getState(T)!==Oi.OK){var v;const k=((v=this.backtrackFragment)!=null?v:T).sn-f.startSN,B=f.fragments[k-1];B&&T.cc===B.cc&&(T=B,this.fragmentTracker.removeFragment(B))}else this.backtrackFragment&&d.len&&(this.backtrackFragment=null);if(T&&this.isLoopLoading(T,p)){if(!T.gap){const k=this.audioOnly&&!this.altAudio?Jr.AUDIO:Jr.VIDEO,B=(k===Jr.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;B&&this.afterBufferFlushed(B,k,jn.MAIN)}T=this.getNextFragmentLoopLoading(T,f,d,jn.MAIN,m)}T&&(T.initSegment&&!T.initSegment.data&&!this.bitrateTest&&(T=T.initSegment),this.loadFragment(T,u,p))}loadFragment(e,t,n){const r=this.fragmentTracker.getState(e);r===Oi.NOT_LOADED||r===Oi.PARTIAL?vi(e)?this.bitrateTest?(this.log(`Fragment ${e.sn} of level ${e.level} is being downloaded to test bitrate and will not be buffered`),this._loadBitrateTestFrag(e,t)):super.loadFragment(e,t,n):this._loadInitSegment(e,t):this.clearTrackerIfNeeded(e)}getBufferedFrag(e){return this.fragmentTracker.getBufferedFrag(e,jn.MAIN)}followingBufferedFrag(e){return e?this.getBufferedFrag(e.end+.5):null}immediateLevelSwitch(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)}nextLevelSwitch(){const{levels:e,media:t}=this;if(t!=null&&t.readyState){let n;const r=this.getAppendedFrag(t.currentTime);r&&r.start>1&&this.flushMainBuffer(0,r.start-1);const o=this.getLevelDetails();if(o!=null&&o.live){const d=this.getMainFwdBufferInfo();if(!d||d.len<o.targetduration*2)return}if(!t.paused&&e){const d=this.hls.nextLoadLevel,h=e[d],f=this.fragLastKbps;f&&this.fragCurrent?n=this.fragCurrent.duration*h.maxBitrate/(1e3*f)+1:n=0}else n=0;const u=this.getBufferedFrag(t.currentTime+n);if(u){const d=this.followingBufferedFrag(u);if(d){this.abortCurrentFrag();const h=d.maxStartPTS?d.maxStartPTS:d.start,f=d.duration,y=Math.max(u.end,h+Math.min(Math.max(f-this.config.maxFragLookUpTolerance,f*(this.couldBacktrack?.5:.125)),f*(this.couldBacktrack?.75:.25)));this.flushMainBuffer(y,Number.POSITIVE_INFINITY)}}}}abortCurrentFrag(){const e=this.fragCurrent;switch(this.fragCurrent=null,this.backtrackFragment=null,e&&(e.abortRequests(),this.fragmentTracker.removeFragment(e)),this.state){case cn.KEY_LOADING:case cn.FRAG_LOADING:case cn.FRAG_LOADING_WAITING_RETRY:case cn.PARSING:case cn.PARSED:this.state=cn.IDLE;break}this.nextLoadPosition=this.getLoadPosition()}flushMainBuffer(e,t){super.flushMainBuffer(e,t,this.altAudio===2?"video":null)}onMediaAttached(e,t){super.onMediaAttached(e,t);const n=t.media;Ea(n,"playing",this.onMediaPlaying),Ea(n,"seeked",this.onMediaSeeked)}onMediaDetaching(e,t){const{media:n}=this;n&&(La(n,"playing",this.onMediaPlaying),La(n,"seeked",this.onMediaSeeked)),this.videoBuffer=null,this.fragPlaying=null,super.onMediaDetaching(e,t),!t.transferMedia&&(this._hasEnoughToStart=!1)}onManifestLoading(){super.onManifestLoading(),this.log("Trigger BUFFER_RESET"),this.hls.trigger(Ee.BUFFER_RESET,void 0),this.couldBacktrack=!1,this.fragLastKbps=0,this.fragPlaying=this.backtrackFragment=null,this.altAudio=0,this.audioOnly=!1}onManifestParsed(e,t){let n=!1,r=!1;for(let o=0;o<t.levels.length;o++){const u=t.levels[o].audioCodec;u&&(n=n||u.indexOf("mp4a.40.2")!==-1,r=r||u.indexOf("mp4a.40.5")!==-1)}this.audioCodecSwitch=n&&r&&!yM(),this.audioCodecSwitch&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=t.levels,this.startFragRequested=!1}onLevelLoading(e,t){const{levels:n}=this;if(!n||this.state!==cn.IDLE)return;const r=t.levelInfo;(!r.details||r.details.live&&(this.levelLastLoaded!==r||r.details.expired)||this.waitForCdnTuneIn(r.details))&&(this.state=cn.WAITING_LEVEL)}onLevelLoaded(e,t){var n;const{levels:r,startFragRequested:o}=this,u=t.level,d=t.details,h=d.totalduration;if(!r){this.warn(`Levels were reset while loading level ${u}`);return}this.log(`Level ${u} loaded [${d.startSN},${d.endSN}]${d.lastPartSn?`[part-${d.lastPartSn}-${d.lastPartIndex}]`:""}, cc [${d.startCC}, ${d.endCC}] duration:${h}`);const f=t.levelInfo,y=this.fragCurrent;y&&(this.state===cn.FRAG_LOADING||this.state===cn.FRAG_LOADING_WAITING_RETRY)&&y.level!==t.level&&y.loader&&this.abortCurrentFrag();let m=0;if(d.live||(n=f.details)!=null&&n.live){var p;if(this.checkLiveUpdate(d),d.deltaUpdateFailed)return;m=this.alignPlaylists(d,f.details,(p=this.levelLastLoaded)==null?void 0:p.details)}if(f.details=d,this.levelLastLoaded=f,o||this.setStartPosition(d,m),this.hls.trigger(Ee.LEVEL_UPDATED,{details:d,level:u}),this.state===cn.WAITING_LEVEL){if(this.waitForCdnTuneIn(d))return;this.state=cn.IDLE}o&&d.live&&this.synchronizeToLiveEdge(d),this.tick()}synchronizeToLiveEdge(e){const{config:t,media:n}=this;if(!n)return;const r=this.hls.liveSyncPosition,o=this.getLoadPosition(),u=e.fragmentStart,d=e.edge,h=o>=u-t.maxFragLookUpTolerance&&o<=d;if(r!==null&&n.duration>r&&(o<r||!h)){const y=t.liveMaxLatencyDuration!==void 0?t.liveMaxLatencyDuration:t.liveMaxLatencyDurationCount*e.targetduration;if((!h&&n.readyState<4||o<d-y)&&(this._hasEnoughToStart||(this.nextLoadPosition=r),n.readyState))if(this.warn(`Playback: ${o.toFixed(3)} is located too far from the end of live sliding playlist: ${d}, reset currentTime to : ${r.toFixed(3)}`),this.config.liveSyncMode==="buffered"){var f;const m=dr.bufferInfo(n,r,0);if(!((f=m.buffered)!=null&&f.length)){n.currentTime=r;return}if(m.start<=o){n.currentTime=r;return}const{nextStart:T}=dr.bufferedInfo(m.buffered,o,0);T&&(n.currentTime=T)}else n.currentTime=r}}_handleFragmentLoadProgress(e){var t;const n=e.frag,{part:r,payload:o}=e,{levels:u}=this;if(!u){this.warn(`Levels were reset while fragment load was in progress. Fragment ${n.sn} of level ${n.level} will not be buffered`);return}const d=u[n.level];if(!d){this.warn(`Level ${n.level} not found on progress`);return}const h=d.details;if(!h){this.warn(`Dropping fragment ${n.sn} of level ${n.level} after level details were reset`),this.fragmentTracker.removeFragment(n);return}const f=d.videoCodec,y=h.PTSKnown||!h.live,m=(t=n.initSegment)==null?void 0:t.data,p=this._getAudioCodec(d),T=this.transmuxer=this.transmuxer||new FA(this.hls,jn.MAIN,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),v=r?r.index:-1,A=v!==-1,k=new GE(n.level,n.sn,n.stats.chunkCount,o.byteLength,v,A),B=this.initPTS[n.cc];T.push(o,m,p,f,n,r,h.totalduration,y,k,B)}onAudioTrackSwitching(e,t){const n=this.hls,r=this.altAudio!==0;if(yp(t.url,n))this.altAudio=1;else{if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;const u=this.fragCurrent;u&&(this.log("Switching to main audio track, cancel main fragment load"),u.abortRequests(),this.fragmentTracker.removeFragment(u)),this.resetTransmuxer(),this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();if(r){this.altAudio=0,this.fragmentTracker.removeAllFragments(),n.once(Ee.BUFFER_FLUSHED,()=>{this.hls&&this.hls.trigger(Ee.AUDIO_TRACK_SWITCHED,t)}),n.trigger(Ee.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:null});return}n.trigger(Ee.AUDIO_TRACK_SWITCHED,t)}}onAudioTrackSwitched(e,t){const n=yp(t.url,this.hls);if(n){const r=this.videoBuffer;r&&this.mediaBuffer!==r&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=r)}this.altAudio=n?2:0,this.tick()}onBufferCreated(e,t){const n=t.tracks;let r,o,u=!1;for(const d in n){const h=n[d];if(h.id==="main"){if(o=d,r=h,d==="video"){const f=n[d];f&&(this.videoBuffer=f.buffer)}}else u=!0}u&&r?(this.log(`Alternate track found, use ${o}.buffered to schedule main fragment loading`),this.mediaBuffer=r.buffer):this.mediaBuffer=this.media}onFragBuffered(e,t){const{frag:n,part:r}=t,o=n.type===jn.MAIN;if(o){if(this.fragContextChanged(n)){this.warn(`Fragment ${n.sn}${r?" p: "+r.index:""} of level ${n.level} finished buffering, but was aborted. state: ${this.state}`),this.state===cn.PARSED&&(this.state=cn.IDLE);return}const d=r?r.stats:n.stats;this.fragLastKbps=Math.round(8*d.total/(d.buffering.end-d.loading.first)),vi(n)&&(this.fragPrevious=n),this.fragBufferedComplete(n,r)}const u=this.media;u&&(!this._hasEnoughToStart&&dr.getBuffered(u).length&&(this._hasEnoughToStart=!0,this.seekToStartPos()),o&&this.tick())}get hasEnoughToStart(){return this._hasEnoughToStart}onError(e,t){var n;if(t.fatal){this.state=cn.ERROR;return}switch(t.details){case kt.FRAG_GAP:case kt.FRAG_PARSING_ERROR:case kt.FRAG_DECRYPT_ERROR:case kt.FRAG_LOAD_ERROR:case kt.FRAG_LOAD_TIMEOUT:case kt.KEY_LOAD_ERROR:case kt.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(jn.MAIN,t);break;case kt.LEVEL_LOAD_ERROR:case kt.LEVEL_LOAD_TIMEOUT:case kt.LEVEL_PARSING_ERROR:!t.levelRetry&&this.state===cn.WAITING_LEVEL&&((n=t.context)==null?void 0:n.type)===Tr.LEVEL&&(this.state=cn.IDLE);break;case kt.BUFFER_ADD_CODEC_ERROR:case kt.BUFFER_APPEND_ERROR:if(t.parent!=="main")return;this.reduceLengthAndFlushBuffer(t)&&this.resetLoadingState();break;case kt.BUFFER_FULL_ERROR:if(t.parent!=="main")return;this.reduceLengthAndFlushBuffer(t)&&(!this.config.interstitialsController&&this.config.assetPlayerId?this._hasEnoughToStart=!0:this.flushMainBuffer(0,Number.POSITIVE_INFINITY));break;case kt.INTERNAL_EXCEPTION:this.recoverWorkerError(t);break}}onFragLoadEmergencyAborted(){this.state=cn.IDLE,this._hasEnoughToStart||(this.startFragRequested=!1,this.nextLoadPosition=this.lastCurrentTime),this.tickImmediate()}onBufferFlushed(e,{type:t}){if(t!==Jr.AUDIO||!this.altAudio){const n=(t===Jr.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;n&&(this.afterBufferFlushed(n,t,jn.MAIN),this.tick())}}onLevelsUpdated(e,t){this.level>-1&&this.fragCurrent&&(this.level=this.fragCurrent.level,this.level===-1&&this.resetWhenMissingContext(this.fragCurrent)),this.levels=t.levels}swapAudioCodec(){this.audioCodecSwap=!this.audioCodecSwap}seekToStartPos(){const{media:e}=this;if(!e)return;const t=e.currentTime;let n=this.startPosition;if(n>=0&&t<n){if(e.seeking){this.log(`could not seek to ${n}, already seeking at ${t}`);return}const r=this.timelineOffset;r&&n&&(n+=r);const o=this.getLevelDetails(),u=dr.getBuffered(e),d=u.length?u.start(0):0,h=d-n,f=Math.max(this.config.maxBufferHole,this.config.maxFragLookUpTolerance);(this.config.startOnSegmentBoundary||h>0&&(h<f||this.loadingParts&&h<2*((o==null?void 0:o.partTarget)||0)))&&(this.log(`adjusting start position by ${h} to match buffer start`),n+=h,this.startPosition=n),t<n&&(this.log(`seek to target start position ${n} from current time ${t} buffer start ${d}`),e.currentTime=n)}}_getAudioCodec(e){let t=this.config.defaultAudioCodec||e.audioCodec;return this.audioCodecSwap&&t&&(this.log("Swapping audio codec"),t.indexOf("mp4a.40.5")!==-1?t="mp4a.40.2":t="mp4a.40.5"),t}_loadBitrateTestFrag(e,t){e.bitrateTest=!0,this._doFragLoad(e,t).then(n=>{const{hls:r}=this,o=n==null?void 0:n.frag;if(!o||this.fragContextChanged(o))return;t.fragmentError=0,this.state=cn.IDLE,this.startFragRequested=!1,this.bitrateTest=!1;const u=o.stats;u.parsing.start=u.parsing.end=u.buffering.start=u.buffering.end=self.performance.now(),r.trigger(Ee.FRAG_LOADED,n),o.bitrateTest=!1}).catch(n=>{this.state===cn.STOPPED||this.state===cn.ERROR||(this.warn(n),this.resetFragmentLoading(e))})}_handleTransmuxComplete(e){const t=this.playlistType,{hls:n}=this,{remuxResult:r,chunkMeta:o}=e,u=this.getCurrentContext(o);if(!u){this.resetWhenMissingContext(o);return}const{frag:d,part:h,level:f}=u,{video:y,text:m,id3:p,initSegment:T}=r,{details:v}=f,A=this.altAudio?void 0:r.audio;if(this.fragContextChanged(d)){this.fragmentTracker.removeFragment(d);return}if(this.state=cn.PARSING,T){const k=T.tracks;if(k){const ue=d.initSegment||d;if(this.unhandledEncryptionError(T,d))return;this._bufferInitSegment(f,k,ue,o),n.trigger(Ee.FRAG_PARSING_INIT_SEGMENT,{frag:ue,id:t,tracks:k})}const B=T.initPTS,$=T.timescale,K=this.initPTS[d.cc];if(Mn(B)&&(!K||K.baseTime!==B||K.timescale!==$)){const ue=T.trackId;this.initPTS[d.cc]={baseTime:B,timescale:$,trackId:ue},n.trigger(Ee.INIT_PTS_FOUND,{frag:d,id:t,initPTS:B,timescale:$,trackId:ue})}}if(y&&v){A&&y.type==="audiovideo"&&this.logMuxedErr(d);const k=v.fragments[d.sn-1-v.startSN],B=d.sn===v.startSN,$=!k||d.cc>k.cc;if(r.independent!==!1){const{startPTS:K,endPTS:ue,startDTS:me,endDTS:Te}=y;if(h)h.elementaryStreams[y.type]={startPTS:K,endPTS:ue,startDTS:me,endDTS:Te};else if(y.firstKeyFrame&&y.independent&&o.id===1&&!$&&(this.couldBacktrack=!0),y.dropped&&y.independent){const X=this.getMainFwdBufferInfo(),Q=(X?X.end:this.getLoadPosition())+this.config.maxBufferHole,be=y.firstKeyFramePTS?y.firstKeyFramePTS:K;if(!B&&Q<be-this.config.maxBufferHole&&!$){this.backtrack(d);return}else $&&(d.gap=!0);d.setElementaryStreamInfo(y.type,d.start,ue,d.start,Te,!0)}else B&&K-(v.appliedTimelineOffset||0)>ip&&(d.gap=!0);d.setElementaryStreamInfo(y.type,K,ue,me,Te),this.backtrackFragment&&(this.backtrackFragment=d),this.bufferFragmentData(y,d,h,o,B||$)}else if(B||$)d.gap=!0;else{this.backtrack(d);return}}if(A){const{startPTS:k,endPTS:B,startDTS:$,endDTS:K}=A;h&&(h.elementaryStreams[Jr.AUDIO]={startPTS:k,endPTS:B,startDTS:$,endDTS:K}),d.setElementaryStreamInfo(Jr.AUDIO,k,B,$,K),this.bufferFragmentData(A,d,h,o)}if(v&&p!=null&&p.samples.length){const k={id:t,frag:d,details:v,samples:p.samples};n.trigger(Ee.FRAG_PARSING_METADATA,k)}if(v&&m){const k={id:t,frag:d,details:v,samples:m.samples};n.trigger(Ee.FRAG_PARSING_USERDATA,k)}}logMuxedErr(e){this.warn(`${vi(e)?"Media":"Init"} segment with muxed audiovideo where only video expected: ${e.url}`)}_bufferInitSegment(e,t,n,r){if(this.state!==cn.PARSING)return;this.audioOnly=!!t.audio&&!t.video,this.altAudio&&!this.audioOnly&&(delete t.audio,t.audiovideo&&this.logMuxedErr(n));const{audio:o,video:u,audiovideo:d}=t;if(o){const f=e.audioCodec;let y=Qm(o.codec,f);y==="mp4a"&&(y="mp4a.40.5");const m=navigator.userAgent.toLowerCase();if(this.audioCodecSwitch){y&&(y.indexOf("mp4a.40.5")!==-1?y="mp4a.40.2":y="mp4a.40.5");const p=o.metadata;p&&"channelCount"in p&&(p.channelCount||1)!==1&&m.indexOf("firefox")===-1&&(y="mp4a.40.5")}y&&y.indexOf("mp4a.40.5")!==-1&&m.indexOf("android")!==-1&&o.container!=="audio/mpeg"&&(y="mp4a.40.2",this.log(`Android: force audio codec to ${y}`)),f&&f!==y&&this.log(`Swapping manifest audio codec "${f}" for "${y}"`),o.levelCodec=y,o.id=jn.MAIN,this.log(`Init audio buffer, container:${o.container}, codecs[selected/level/parsed]=[${y||""}/${f||""}/${o.codec}]`),delete t.audiovideo}if(u){u.levelCodec=e.videoCodec,u.id=jn.MAIN;const f=u.codec;if((f==null?void 0:f.length)===4)switch(f){case"hvc1":case"hev1":u.codec="hvc1.1.6.L120.90";break;case"av01":u.codec="av01.0.04M.08";break;case"avc1":u.codec="avc1.42e01e";break}this.log(`Init video buffer, container:${u.container}, codecs[level/parsed]=[${e.videoCodec||""}/${f}]${u.codec!==f?" parsed-corrected="+u.codec:""}${u.supplemental?" supplemental="+u.supplemental:""}`),delete t.audiovideo}d&&(this.log(`Init audiovideo buffer, container:${d.container}, codecs[level/parsed]=[${e.codecs}/${d.codec}]`),delete t.video,delete t.audio);const h=Object.keys(t);if(h.length){if(this.hls.trigger(Ee.BUFFER_CODECS,t),!this.hls)return;h.forEach(f=>{const m=t[f].initSegment;m!=null&&m.byteLength&&this.hls.trigger(Ee.BUFFER_APPENDING,{type:f,data:m,frag:n,part:null,chunkMeta:r,parent:n.type})})}this.tickImmediate()}getMainFwdBufferInfo(){const e=this.mediaBuffer&&this.altAudio===2?this.mediaBuffer:this.media;return this.getFwdBufferInfo(e,jn.MAIN)}get maxBufferLength(){const{levels:e,level:t}=this,n=e==null?void 0:e[t];return n?this.getMaxBufferLength(n.maxBitrate):this.config.maxBufferLength}backtrack(e){this.couldBacktrack=!0,this.backtrackFragment=e,this.resetTransmuxer(),this.flushBufferGap(e),this.fragmentTracker.removeFragment(e),this.fragPrevious=null,this.nextLoadPosition=e.start,this.state=cn.IDLE}checkFragmentChanged(){const e=this.media;let t=null;if(e&&e.readyState>1&&e.seeking===!1){const n=e.currentTime;if(dr.isBuffered(e,n)?t=this.getAppendedFrag(n):dr.isBuffered(e,n+.1)&&(t=this.getAppendedFrag(n+.1)),t){this.backtrackFragment=null;const r=this.fragPlaying,o=t.level;(!r||t.sn!==r.sn||r.level!==o)&&(this.fragPlaying=t,this.hls.trigger(Ee.FRAG_CHANGED,{frag:t}),(!r||r.level!==o)&&this.hls.trigger(Ee.LEVEL_SWITCHED,{level:o}))}}}get nextLevel(){const e=this.nextBufferedFrag;return e?e.level:-1}get currentFrag(){var e;if(this.fragPlaying)return this.fragPlaying;const t=((e=this.media)==null?void 0:e.currentTime)||this.lastCurrentTime;return Mn(t)?this.getAppendedFrag(t):null}get currentProgramDateTime(){var e;const t=((e=this.media)==null?void 0:e.currentTime)||this.lastCurrentTime;if(Mn(t)){const n=this.getLevelDetails(),r=this.currentFrag||(n?Pu(null,n.fragments,t):null);if(r){const o=r.programDateTime;if(o!==null){const u=o+(t-r.start)*1e3;return new Date(u)}}}return null}get currentLevel(){const e=this.currentFrag;return e?e.level:-1}get nextBufferedFrag(){const e=this.currentFrag;return e?this.followingBufferedFrag(e):null}get forceStartLoad(){return this._forceStartLoad}}class vM extends gs{constructor(e,t){super("key-loader",t),this.config=void 0,this.keyIdToKeyInfo={},this.emeController=null,this.config=e}abort(e){for(const n in this.keyIdToKeyInfo){const r=this.keyIdToKeyInfo[n].loader;if(r){var t;if(e&&e!==((t=r.context)==null?void 0:t.frag.type))return;r.abort()}}}detach(){for(const e in this.keyIdToKeyInfo){const t=this.keyIdToKeyInfo[e];(t.mediaKeySessionContext||t.decryptdata.isCommonEncryption)&&delete this.keyIdToKeyInfo[e]}}destroy(){this.detach();for(const e in this.keyIdToKeyInfo){const t=this.keyIdToKeyInfo[e].loader;t&&t.destroy()}this.keyIdToKeyInfo={}}createKeyLoadError(e,t=kt.KEY_LOAD_ERROR,n,r,o){return new Bo({type:Qn.NETWORK_ERROR,details:t,fatal:!1,frag:e,response:o,error:n,networkDetails:r})}loadClear(e,t,n){if(this.emeController&&this.config.emeEnabled&&!this.emeController.getSelectedKeySystemFormats().length){if(t.length)for(let r=0,o=t.length;r<o;r++){const u=t[r];if(e.cc<=u.cc&&(!vi(e)||!vi(u)||e.sn<u.sn)||!n&&r==o-1)return this.emeController.selectKeySystemFormat(u).then(d=>{if(!this.emeController)return;u.setKeyFormat(d);const h=Jm(d);if(h)return this.emeController.getKeySystemAccess([h])})}if(this.config.requireKeySystemAccessOnStart){const r=mh(this.config);if(r.length)return this.emeController.getKeySystemAccess(r)}}return null}load(e){return!e.decryptdata&&e.encrypted&&this.emeController&&this.config.emeEnabled?this.emeController.selectKeySystemFormat(e).then(t=>this.loadInternal(e,t)):this.loadInternal(e)}loadInternal(e,t){var n,r;t&&e.setKeyFormat(t);const o=e.decryptdata;if(!o){const f=new Error(t?`Expected frag.decryptdata to be defined after setting format ${t}`:`Missing decryption data on fragment in onKeyLoading (emeEnabled with controller: ${this.emeController&&this.config.emeEnabled})`);return Promise.reject(this.createKeyLoadError(e,kt.KEY_LOAD_ERROR,f))}const u=o.uri;if(!u)return Promise.reject(this.createKeyLoadError(e,kt.KEY_LOAD_ERROR,new Error(`Invalid key URI: "${u}"`)));const d=Eb(o);let h=this.keyIdToKeyInfo[d];if((n=h)!=null&&n.decryptdata.key)return o.key=h.decryptdata.key,Promise.resolve({frag:e,keyInfo:h});if(this.emeController&&(r=h)!=null&&r.keyLoadPromise)switch(this.emeController.getKeyStatus(h.decryptdata)){case"usable":case"usable-in-future":return h.keyLoadPromise.then(y=>{const{keyInfo:m}=y;return o.key=m.decryptdata.key,{frag:e,keyInfo:m}})}switch(this.log(`${this.keyIdToKeyInfo[d]?"Rel":"L"}oading${o.keyId?" keyId: "+Zi(o.keyId):""} URI: ${o.uri} from ${e.type} ${e.level}`),h=this.keyIdToKeyInfo[d]={decryptdata:o,keyLoadPromise:null,loader:null,mediaKeySessionContext:null},o.method){case"SAMPLE-AES":case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return o.keyFormat==="identity"?this.loadKeyHTTP(h,e):this.loadKeyEME(h,e);case"AES-128":case"AES-256":case"AES-256-CTR":return this.loadKeyHTTP(h,e);default:return Promise.reject(this.createKeyLoadError(e,kt.KEY_LOAD_ERROR,new Error(`Key supplied with unsupported METHOD: "${o.method}"`)))}}loadKeyEME(e,t){const n={frag:t,keyInfo:e};if(this.emeController&&this.config.emeEnabled){var r;if(!e.decryptdata.keyId&&(r=t.initSegment)!=null&&r.data){const u=UD(t.initSegment.data);if(u.length){let d=u[0];d.some(h=>h!==0)?(this.log(`Using keyId found in init segment ${Zi(d)}`),wl.setKeyIdForUri(e.decryptdata.uri,d)):(d=wl.addKeyIdForUri(e.decryptdata.uri),this.log(`Generating keyId to patch media ${Zi(d)}`)),e.decryptdata.keyId=d}}if(!e.decryptdata.keyId&&!vi(t))return Promise.resolve(n);const o=this.emeController.loadKey(n);return(e.keyLoadPromise=o.then(u=>(e.mediaKeySessionContext=u,n))).catch(u=>{throw e.keyLoadPromise=null,"data"in u&&(u.data.frag=t),u})}return Promise.resolve(n)}loadKeyHTTP(e,t){const n=this.config,r=n.loader,o=new r(n);return t.keyLoader=e.loader=o,e.keyLoadPromise=new Promise((u,d)=>{const h={keyInfo:e,frag:t,responseType:"arraybuffer",url:e.decryptdata.uri},f=n.keyLoadPolicy.default,y={loadPolicy:f,timeout:f.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},m={onSuccess:(p,T,v,A)=>{const{frag:k,keyInfo:B}=v,$=Eb(B.decryptdata);if(!k.decryptdata||B!==this.keyIdToKeyInfo[$])return d(this.createKeyLoadError(k,kt.KEY_LOAD_ERROR,new Error("after key load, decryptdata unset or changed"),A));B.decryptdata.key=k.decryptdata.key=new Uint8Array(p.data),k.keyLoader=null,B.loader=null,u({frag:k,keyInfo:B})},onError:(p,T,v,A)=>{this.resetLoader(T),d(this.createKeyLoadError(t,kt.KEY_LOAD_ERROR,new Error(`HTTP Error ${p.code} loading key ${p.text}`),v,qr({url:h.url,data:void 0},p)))},onTimeout:(p,T,v)=>{this.resetLoader(T),d(this.createKeyLoadError(t,kt.KEY_LOAD_TIMEOUT,new Error("key loading timed out"),v))},onAbort:(p,T,v)=>{this.resetLoader(T),d(this.createKeyLoadError(t,kt.INTERNAL_ABORTED,new Error("key loading aborted"),v))}};o.load(h,y,m)})}resetLoader(e){const{frag:t,keyInfo:n,url:r}=e,o=n.loader;t.keyLoader===o&&(t.keyLoader=null,n.loader=null);const u=Eb(n.decryptdata)||r;delete this.keyIdToKeyInfo[u],o&&o.destroy()}}function Eb(i){if(i.keyFormat!==ea.FAIRPLAY){const e=i.keyId;if(e)return Zi(e)}return i.uri}function cS(i){const{type:e}=i;switch(e){case Tr.AUDIO_TRACK:return jn.AUDIO;case Tr.SUBTITLE_TRACK:return jn.SUBTITLE;default:return jn.MAIN}}function vb(i,e){let t=i.url;return(t===void 0||t.indexOf("data:")===0)&&(t=e.url),t}class TM{constructor(e){this.hls=void 0,this.loaders=Object.create(null),this.variableList=null,this.onManifestLoaded=this.checkAutostartLoad,this.hls=e,this.registerListeners()}startLoad(e){}stopLoad(){this.destroyInternalLoaders()}registerListeners(){const{hls:e}=this;e.on(Ee.MANIFEST_LOADING,this.onManifestLoading,this),e.on(Ee.LEVEL_LOADING,this.onLevelLoading,this),e.on(Ee.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.on(Ee.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this),e.on(Ee.LEVELS_UPDATED,this.onLevelsUpdated,this)}unregisterListeners(){const{hls:e}=this;e.off(Ee.MANIFEST_LOADING,this.onManifestLoading,this),e.off(Ee.LEVEL_LOADING,this.onLevelLoading,this),e.off(Ee.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.off(Ee.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this),e.off(Ee.LEVELS_UPDATED,this.onLevelsUpdated,this)}createInternalLoader(e){const t=this.hls.config,n=t.pLoader,r=t.loader,o=n||r,u=new o(t);return this.loaders[e.type]=u,u}getInternalLoader(e){return this.loaders[e.type]}resetInternalLoader(e){this.loaders[e]&&delete this.loaders[e]}destroyInternalLoaders(){for(const e in this.loaders){const t=this.loaders[e];t&&t.destroy(),this.resetInternalLoader(e)}}destroy(){this.variableList=null,this.unregisterListeners(),this.destroyInternalLoaders()}onManifestLoading(e,t){const{url:n}=t;this.variableList=null,this.load({id:null,level:0,responseType:"text",type:Tr.MANIFEST,url:n,deliveryDirectives:null,levelOrTrack:null})}onLevelLoading(e,t){const{id:n,level:r,pathwayId:o,url:u,deliveryDirectives:d,levelInfo:h}=t;this.load({id:n,level:r,pathwayId:o,responseType:"text",type:Tr.LEVEL,url:u,deliveryDirectives:d,levelOrTrack:h})}onAudioTrackLoading(e,t){const{id:n,groupId:r,url:o,deliveryDirectives:u,track:d}=t;this.load({id:n,groupId:r,level:null,responseType:"text",type:Tr.AUDIO_TRACK,url:o,deliveryDirectives:u,levelOrTrack:d})}onSubtitleTrackLoading(e,t){const{id:n,groupId:r,url:o,deliveryDirectives:u,track:d}=t;this.load({id:n,groupId:r,level:null,responseType:"text",type:Tr.SUBTITLE_TRACK,url:o,deliveryDirectives:u,levelOrTrack:d})}onLevelsUpdated(e,t){const n=this.loaders[Tr.LEVEL];if(n){const r=n.context;r&&!t.levels.some(o=>o===r.levelOrTrack)&&(n.abort(),delete this.loaders[Tr.LEVEL])}}load(e){var t;const n=this.hls.config;let r=this.getInternalLoader(e);if(r){const f=this.hls.logger,y=r.context;if(y&&y.levelOrTrack===e.levelOrTrack&&(y.url===e.url||y.deliveryDirectives&&!e.deliveryDirectives)){y.url===e.url?f.log(`[playlist-loader]: ignore ${e.url} ongoing request`):f.log(`[playlist-loader]: ignore ${e.url} in favor of ${y.url}`);return}f.log(`[playlist-loader]: aborting previous loader for type: ${e.type}`),r.abort()}let o;if(e.type===Tr.MANIFEST?o=n.manifestLoadPolicy.default:o=Kr({},n.playlistLoadPolicy.default,{timeoutRetry:null,errorRetry:null}),r=this.createInternalLoader(e),Mn((t=e.deliveryDirectives)==null?void 0:t.part)){let f;if(e.type===Tr.LEVEL&&e.level!==null?f=this.hls.levels[e.level].details:e.type===Tr.AUDIO_TRACK&&e.id!==null?f=this.hls.audioTracks[e.id].details:e.type===Tr.SUBTITLE_TRACK&&e.id!==null&&(f=this.hls.subtitleTracks[e.id].details),f){const y=f.partTarget,m=f.targetduration;if(y&&m){const p=Math.max(y*3,m*.8)*1e3;o=Kr({},o,{maxTimeToFirstByteMs:Math.min(p,o.maxTimeToFirstByteMs),maxLoadTimeMs:Math.min(p,o.maxTimeToFirstByteMs)})}}}const u=o.errorRetry||o.timeoutRetry||{},d={loadPolicy:o,timeout:o.maxLoadTimeMs,maxRetry:u.maxNumRetry||0,retryDelay:u.retryDelayMs||0,maxRetryDelay:u.maxRetryDelayMs||0},h={onSuccess:(f,y,m,p)=>{const T=this.getInternalLoader(m);this.resetInternalLoader(m.type);const v=f.data;y.parsing.start=performance.now(),no.isMediaPlaylist(v)||m.type!==Tr.MANIFEST?this.handleTrackOrLevelPlaylist(f,y,m,p||null,T):this.handleMasterPlaylist(f,y,m,p)},onError:(f,y,m,p)=>{this.handleNetworkError(y,m,!1,f,p)},onTimeout:(f,y,m)=>{this.handleNetworkError(y,m,!0,void 0,f)}};r.load(e,d,h)}checkAutostartLoad(){if(!this.hls)return;const{config:{autoStartLoad:e,startPosition:t},forceStartLoad:n}=this.hls;(e||n)&&(this.hls.logger.log(`${e?"auto":"force"} startLoad with configured startPosition ${t}`),this.hls.startLoad(t))}handleMasterPlaylist(e,t,n,r){const o=this.hls,u=e.data,d=vb(e,n),h=no.parseMasterPlaylist(u,d);if(h.playlistParsingError){t.parsing.end=performance.now(),this.handleManifestParsingError(e,n,h.playlistParsingError,r,t);return}const{contentSteering:f,levels:y,sessionData:m,sessionKeys:p,startTimeOffset:T,variableList:v}=h;this.variableList=v,y.forEach($=>{const{unknownCodecs:K}=$;if(K){const{preferManagedMediaSource:ue}=this.hls.config;let{audioCodec:me,videoCodec:Te}=$;for(let X=K.length;X--;){const Q=K[X];Rh(Q,"audio",ue)?($.audioCodec=me=me?`${me},${Q}`:Q,vd.audio[me.substring(0,4)]=2,K.splice(X,1)):Rh(Q,"video",ue)&&($.videoCodec=Te=Te?`${Te},${Q}`:Q,vd.video[Te.substring(0,4)]=2,K.splice(X,1))}}});const{AUDIO:A=[],SUBTITLES:k,"CLOSED-CAPTIONS":B}=no.parseMasterPlaylistMedia(u,d,h);A.length&&!A.some(K=>!K.url)&&y[0].audioCodec&&!y[0].attrs.AUDIO&&(this.hls.logger.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),A.unshift({type:"main",name:"main",groupId:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new li({}),bitrate:0,url:""})),o.trigger(Ee.MANIFEST_LOADED,{levels:y,audioTracks:A,subtitles:k,captions:B,contentSteering:f,url:d,stats:t,networkDetails:r,sessionData:m,sessionKeys:p,startTimeOffset:T,variableList:v})}handleTrackOrLevelPlaylist(e,t,n,r,o){const u=this.hls,{id:d,level:h,type:f}=n,y=vb(e,n),m=Mn(h)?h:Mn(d)?d:0,p=cS(n),T=no.parseLevelPlaylist(e.data,y,m,p,0,this.variableList);if(f===Tr.MANIFEST){const v={attrs:new li({}),bitrate:0,details:T,name:"",url:y};T.requestScheduled=t.loading.start+hA(T,0),u.trigger(Ee.MANIFEST_LOADED,{levels:[v],audioTracks:[],url:y,stats:t,networkDetails:r,sessionData:null,sessionKeys:null,contentSteering:null,startTimeOffset:null,variableList:null})}t.parsing.end=performance.now(),n.levelDetails=T,this.handlePlaylistLoaded(T,e,t,n,r,o)}handleManifestParsingError(e,t,n,r,o){this.hls.trigger(Ee.ERROR,{type:Qn.NETWORK_ERROR,details:kt.MANIFEST_PARSING_ERROR,fatal:t.type===Tr.MANIFEST,url:e.url,err:n,error:n,reason:n.message,response:e,context:t,networkDetails:r,stats:o})}handleNetworkError(e,t,n=!1,r,o){let u=`A network ${n?"timeout":"error"+(r?" (status "+r.code+")":"")} occurred while loading ${e.type}`;e.type===Tr.LEVEL?u+=`: ${e.level} id: ${e.id}`:(e.type===Tr.AUDIO_TRACK||e.type===Tr.SUBTITLE_TRACK)&&(u+=` id: ${e.id} group-id: "${e.groupId}"`);const d=new Error(u);this.hls.logger.warn(`[playlist-loader]: ${u}`);let h=kt.UNKNOWN,f=!1;const y=this.getInternalLoader(e);switch(e.type){case Tr.MANIFEST:h=n?kt.MANIFEST_LOAD_TIMEOUT:kt.MANIFEST_LOAD_ERROR,f=!0;break;case Tr.LEVEL:h=n?kt.LEVEL_LOAD_TIMEOUT:kt.LEVEL_LOAD_ERROR,f=!1;break;case Tr.AUDIO_TRACK:h=n?kt.AUDIO_TRACK_LOAD_TIMEOUT:kt.AUDIO_TRACK_LOAD_ERROR,f=!1;break;case Tr.SUBTITLE_TRACK:h=n?kt.SUBTITLE_TRACK_LOAD_TIMEOUT:kt.SUBTITLE_LOAD_ERROR,f=!1;break}y&&this.resetInternalLoader(e.type);const m={type:Qn.NETWORK_ERROR,details:h,fatal:f,url:e.url,loader:y,context:e,error:d,networkDetails:t,stats:o};if(r){const p=(t==null?void 0:t.url)||e.url;m.response=qr({url:p,data:void 0},r)}this.hls.trigger(Ee.ERROR,m)}handlePlaylistLoaded(e,t,n,r,o,u){const d=this.hls,{type:h,level:f,levelOrTrack:y,id:m,groupId:p,deliveryDirectives:T}=r,v=vb(t,r),A=cS(r);let k=typeof r.level=="number"&&A===jn.MAIN?f:void 0;const B=e.playlistParsingError;if(B){if(this.hls.logger.warn(`${B} ${e.url}`),!d.config.ignorePlaylistParsingErrors){d.trigger(Ee.ERROR,{type:Qn.NETWORK_ERROR,details:kt.LEVEL_PARSING_ERROR,fatal:!1,url:v,error:B,reason:B.message,response:t,context:r,level:k,parent:A,networkDetails:o,stats:n});return}e.playlistParsingError=null}if(!e.fragments.length){const $=e.playlistParsingError=new Error("No Segments found in Playlist");d.trigger(Ee.ERROR,{type:Qn.NETWORK_ERROR,details:kt.LEVEL_EMPTY_ERROR,fatal:!1,url:v,error:$,reason:$.message,response:t,context:r,level:k,parent:A,networkDetails:o,stats:n});return}switch(e.live&&u&&(u.getCacheAge&&(e.ageHeader=u.getCacheAge()||0),(!u.getCacheAge||isNaN(e.ageHeader))&&(e.ageHeader=0)),h){case Tr.MANIFEST:case Tr.LEVEL:if(k){if(!y)k=0;else if(y!==d.levels[k]){const $=d.levels.indexOf(y);$>-1&&(k=$)}}d.trigger(Ee.LEVEL_LOADED,{details:e,levelInfo:y||d.levels[0],level:k||0,id:m||0,stats:n,networkDetails:o,deliveryDirectives:T,withoutMultiVariant:h===Tr.MANIFEST});break;case Tr.AUDIO_TRACK:d.trigger(Ee.AUDIO_TRACK_LOADED,{details:e,track:y,id:m||0,groupId:p||"",stats:n,networkDetails:o,deliveryDirectives:T});break;case Tr.SUBTITLE_TRACK:d.trigger(Ee.SUBTITLE_TRACK_LOADED,{details:e,track:y,id:m||0,groupId:p||"",stats:n,networkDetails:o,deliveryDirectives:T});break}}}class ws{static get version(){return wh}static isMSESupported(){return fR()}static isSupported(){return pM()}static getMediaSource(){return Ll()}static get Events(){return Ee}static get MetadataSchema(){return Ga}static get ErrorTypes(){return Qn}static get ErrorDetails(){return kt}static get DefaultConfig(){return ws.defaultConfig?ws.defaultConfig:iM}static set DefaultConfig(e){ws.defaultConfig=e}constructor(e={}){this.config=void 0,this.userConfig=void 0,this.logger=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this._emitter=new KE,this._autoLevelCapping=-1,this._maxHdcpLevel=null,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioStreamController=void 0,this.subtititleStreamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.interstitialsController=void 0,this.gapController=void 0,this.emeController=void 0,this.cmcdController=void 0,this._media=null,this._url=null,this._sessionId=void 0,this.triggeringException=void 0,this.started=!1;const t=this.logger=ID(e.debug||!1,"Hls instance",e.assetPlayerId),n=this.config=sM(ws.DefaultConfig,e,t);this.userConfig=e,n.progressive&&oM(n,t);const{abrController:r,bufferController:o,capLevelController:u,errorController:d,fpsController:h}=n,f=new d(this),y=this.abrController=new r(this),m=new S1(this),p=n.interstitialsController,T=p?this.interstitialsController=new p(this,ws):null,v=this.bufferController=new o(this,m),A=this.capLevelController=new u(this),k=new h(this),B=new TM(this),$=n.contentSteeringController,K=$?new $(this):null,ue=this.levelController=new mM(this,K),me=new hM(this),Te=new vM(this.config,this.logger),X=this.streamController=new EM(this,m,Te),Q=this.gapController=new dM(this,m);A.setStreamController(X),k.setStreamController(X);const be=[B,ue,X];T&&be.splice(1,0,T),K&&be.splice(1,0,K),this.networkControllers=be;const F=[y,v,Q,A,k,me,m];this.audioTrackController=this.createController(n.audioTrackController,be);const ke=n.audioStreamController;ke&&be.push(this.audioStreamController=new ke(this,m,Te)),this.subtitleTrackController=this.createController(n.subtitleTrackController,be);const Qe=n.subtitleStreamController;Qe&&be.push(this.subtititleStreamController=new Qe(this,m,Te)),this.createController(n.timelineController,F),Te.emeController=this.emeController=this.createController(n.emeController,F),this.cmcdController=this.createController(n.cmcdController,F),this.latencyController=this.createController(gM,F),this.coreComponents=F,be.push(f);const xe=f.onErrorOut;typeof xe=="function"&&this.on(Ee.ERROR,xe,f),this.on(Ee.MANIFEST_LOADED,B.onManifestLoaded,B)}createController(e,t){if(e){const n=new e(this);return t&&t.push(n),n}return null}on(e,t,n=this){this._emitter.on(e,t,n)}once(e,t,n=this){this._emitter.once(e,t,n)}removeAllListeners(e){this._emitter.removeAllListeners(e)}off(e,t,n=this,r){this._emitter.off(e,t,n,r)}listeners(e){return this._emitter.listeners(e)}emit(e,t,n){return this._emitter.emit(e,t,n)}trigger(e,t){if(this.config.debug)return this.emit(e,e,t);try{return this.emit(e,e,t)}catch(n){if(this.logger.error("An internal error happened while handling event "+e+'. Error message: "'+n.message+'". Here is a stacktrace:',n),!this.triggeringException){this.triggeringException=!0;const r=e===Ee.ERROR;this.trigger(Ee.ERROR,{type:Qn.OTHER_ERROR,details:kt.INTERNAL_EXCEPTION,fatal:r,event:e,error:n}),this.triggeringException=!1}}return!1}listenerCount(e){return this._emitter.listenerCount(e)}destroy(){this.logger.log("destroy"),this.trigger(Ee.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this._url=null,this.networkControllers.forEach(t=>t.destroy()),this.networkControllers.length=0,this.coreComponents.forEach(t=>t.destroy()),this.coreComponents.length=0;const e=this.config;e.xhrSetup=e.fetchSetup=void 0,this.userConfig=null}attachMedia(e){if(!e||"media"in e&&!e.media){const o=new Error(`attachMedia failed: invalid argument (${e})`);this.trigger(Ee.ERROR,{type:Qn.OTHER_ERROR,details:kt.ATTACH_MEDIA_ERROR,fatal:!0,error:o});return}this.logger.log("attachMedia"),this._media&&(this.logger.warn("media must be detached before attaching"),this.detachMedia());const t="media"in e,n=t?e.media:e,r=t?e:{media:n};this._media=n,this.trigger(Ee.MEDIA_ATTACHING,r)}detachMedia(){this.logger.log("detachMedia"),this.trigger(Ee.MEDIA_DETACHING,{}),this._media=null}transferMedia(){this._media=null;const e=this.bufferController.transferMedia();return this.trigger(Ee.MEDIA_DETACHING,{transferMedia:e}),e}loadSource(e){this.stopLoad();const t=this.media,n=this._url,r=this._url=PE.buildAbsoluteURL(self.location.href,e,{alwaysNormalize:!0});this._autoLevelCapping=-1,this._maxHdcpLevel=null,this.logger.log(`loadSource:${r}`),t&&n&&(n!==r||this.bufferController.hasSourceTypes())&&(this.detachMedia(),this.attachMedia(t)),this.trigger(Ee.MANIFEST_LOADING,{url:e})}get url(){return this._url}get hasEnoughToStart(){return this.streamController.hasEnoughToStart}get startPosition(){return this.streamController.startPositionValue}startLoad(e=-1,t){this.logger.log(`startLoad(${e+(t?", <skip seek to start>":"")})`),this.started=!0,this.resumeBuffering();for(let n=0;n<this.networkControllers.length&&(this.networkControllers[n].startLoad(e,t),!(!this.started||!this.networkControllers));n++);}stopLoad(){this.logger.log("stopLoad"),this.started=!1;for(let e=0;e<this.networkControllers.length&&(this.networkControllers[e].stopLoad(),!(this.started||!this.networkControllers));e++);}get loadingEnabled(){return this.started}get bufferingEnabled(){return this.streamController.bufferingEnabled}resumeBuffering(){this.bufferingEnabled||(this.logger.log("resume buffering"),this.networkControllers.forEach(e=>{e.resumeBuffering&&e.resumeBuffering()}))}pauseBuffering(){this.bufferingEnabled&&(this.logger.log("pause buffering"),this.networkControllers.forEach(e=>{e.pauseBuffering&&e.pauseBuffering()}))}get inFlightFragments(){const e={[jn.MAIN]:this.streamController.inFlightFrag};return this.audioStreamController&&(e[jn.AUDIO]=this.audioStreamController.inFlightFrag),this.subtititleStreamController&&(e[jn.SUBTITLE]=this.subtititleStreamController.inFlightFrag),e}swapAudioCodec(){this.logger.log("swapAudioCodec"),this.streamController.swapAudioCodec()}recoverMediaError(){this.logger.log("recoverMediaError");const e=this._media,t=e==null?void 0:e.currentTime;this.detachMedia(),e&&(this.attachMedia(e),t&&this.startLoad(t))}removeLevel(e){this.levelController.removeLevel(e)}get sessionId(){let e=this._sessionId;return e||(e=this._sessionId=dO()),e}get levels(){const e=this.levelController.levels;return e||[]}get latestLevelDetails(){return this.streamController.getLevelDetails()||null}get loadLevelObj(){return this.levelController.loadLevelObj}get currentLevel(){return this.streamController.currentLevel}set currentLevel(e){this.logger.log(`set currentLevel:${e}`),this.levelController.manualLevel=e,this.streamController.immediateLevelSwitch()}get nextLevel(){return this.streamController.nextLevel}set nextLevel(e){this.logger.log(`set nextLevel:${e}`),this.levelController.manualLevel=e,this.streamController.nextLevelSwitch()}get loadLevel(){return this.levelController.level}set loadLevel(e){this.logger.log(`set loadLevel:${e}`),this.levelController.manualLevel=e}get nextLoadLevel(){return this.levelController.nextLoadLevel}set nextLoadLevel(e){this.levelController.nextLoadLevel=e}get firstLevel(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)}set firstLevel(e){this.logger.log(`set firstLevel:${e}`),this.levelController.firstLevel=e}get startLevel(){const e=this.levelController.startLevel;return e===-1&&this.abrController.forcedAutoLevel>-1?this.abrController.forcedAutoLevel:e}set startLevel(e){this.logger.log(`set startLevel:${e}`),e!==-1&&(e=Math.max(e,this.minAutoLevel)),this.levelController.startLevel=e}get capLevelToPlayerSize(){return this.config.capLevelToPlayerSize}set capLevelToPlayerSize(e){const t=!!e;t!==this.config.capLevelToPlayerSize&&(t?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=t)}get autoLevelCapping(){return this._autoLevelCapping}get bandwidthEstimate(){const{bwEstimator:e}=this.abrController;return e?e.getEstimate():NaN}set bandwidthEstimate(e){this.abrController.resetEstimator(e)}get abrEwmaDefaultEstimate(){const{bwEstimator:e}=this.abrController;return e?e.defaultEstimate:NaN}get ttfbEstimate(){const{bwEstimator:e}=this.abrController;return e?e.getEstimateTTFB():NaN}set autoLevelCapping(e){this._autoLevelCapping!==e&&(this.logger.log(`set autoLevelCapping:${e}`),this._autoLevelCapping=e,this.levelController.checkMaxAutoUpdated())}get maxHdcpLevel(){return this._maxHdcpLevel}set maxHdcpLevel(e){s1(e)&&this._maxHdcpLevel!==e&&(this._maxHdcpLevel=e,this.levelController.checkMaxAutoUpdated())}get autoLevelEnabled(){return this.levelController.manualLevel===-1}get manualLevel(){return this.levelController.manualLevel}get minAutoLevel(){const{levels:e,config:{minAutoBitrate:t}}=this;if(!e)return 0;const n=e.length;for(let r=0;r<n;r++)if(e[r].maxBitrate>=t)return r;return 0}get maxAutoLevel(){const{levels:e,autoLevelCapping:t,maxHdcpLevel:n}=this;let r;if(t===-1&&e!=null&&e.length?r=e.length-1:r=t,n)for(let o=r;o--;){const u=e[o].attrs["HDCP-LEVEL"];if(u&&u<=n)return o}return r}get firstAutoLevel(){return this.abrController.firstAutoLevel}get nextAutoLevel(){return this.abrController.nextAutoLevel}set nextAutoLevel(e){this.abrController.nextAutoLevel=e}get playingDate(){return this.streamController.currentProgramDateTime}get mainForwardBufferInfo(){return this.streamController.getMainFwdBufferInfo()}get maxBufferLength(){return this.streamController.maxBufferLength}setAudioOption(e){var t;return((t=this.audioTrackController)==null?void 0:t.setAudioOption(e))||null}setSubtitleOption(e){var t;return((t=this.subtitleTrackController)==null?void 0:t.setSubtitleOption(e))||null}get allAudioTracks(){const e=this.audioTrackController;return e?e.allAudioTracks:[]}get audioTracks(){const e=this.audioTrackController;return e?e.audioTracks:[]}get audioTrack(){const e=this.audioTrackController;return e?e.audioTrack:-1}set audioTrack(e){const t=this.audioTrackController;t&&(t.audioTrack=e)}get allSubtitleTracks(){const e=this.subtitleTrackController;return e?e.allSubtitleTracks:[]}get subtitleTracks(){const e=this.subtitleTrackController;return e?e.subtitleTracks:[]}get subtitleTrack(){const e=this.subtitleTrackController;return e?e.subtitleTrack:-1}get media(){return this._media}set subtitleTrack(e){const t=this.subtitleTrackController;t&&(t.subtitleTrack=e)}get subtitleDisplay(){const e=this.subtitleTrackController;return e?e.subtitleDisplay:!1}set subtitleDisplay(e){const t=this.subtitleTrackController;t&&(t.subtitleDisplay=e)}get lowLatencyMode(){return this.config.lowLatencyMode}set lowLatencyMode(e){this.config.lowLatencyMode=e}get liveSyncPosition(){return this.latencyController.liveSyncPosition}get latency(){return this.latencyController.latency}get maxLatency(){return this.latencyController.maxLatency}get targetLatency(){return this.latencyController.targetLatency}set targetLatency(e){this.latencyController.targetLatency=e}get drift(){return this.latencyController.drift}get forceStartLoad(){return this.streamController.forceStartLoad}get pathways(){return this.levelController.pathways}get pathwayPriority(){return this.levelController.pathwayPriority}set pathwayPriority(e){this.levelController.pathwayPriority=e}get bufferedToEnd(){var e;return!!((e=this.bufferController)!=null&&e.bufferedToEnd)}get interstitialsManager(){var e;return((e=this.interstitialsController)==null?void 0:e.interstitialsManager)||null}getMediaDecodingInfo(e,t=this.allAudioTracks){const n=Z_(t);return X_(e,n,navigator.mediaCapabilities)}}ws.defaultConfig=void 0;/*! For license information please see dash.all.min.js.LICENSE.txt */var SM={7267:function(i,e){e.byteLength=function(f){var y=d(f),m=y[0],p=y[1];return 3*(m+p)/4-p},e.toByteArray=function(f){var y,m,p=d(f),T=p[0],v=p[1],A=new r(function($,K,ue){return 3*(K+ue)/4-ue}(0,T,v)),k=0,B=v>0?T-4:T;for(m=0;m<B;m+=4)y=n[f.charCodeAt(m)]<<18|n[f.charCodeAt(m+1)]<<12|n[f.charCodeAt(m+2)]<<6|n[f.charCodeAt(m+3)],A[k++]=y>>16&255,A[k++]=y>>8&255,A[k++]=255&y;return v===2&&(y=n[f.charCodeAt(m)]<<2|n[f.charCodeAt(m+1)]>>4,A[k++]=255&y),v===1&&(y=n[f.charCodeAt(m)]<<10|n[f.charCodeAt(m+1)]<<4|n[f.charCodeAt(m+2)]>>2,A[k++]=y>>8&255,A[k++]=255&y),A},e.fromByteArray=function(f){for(var y,m=f.length,p=m%3,T=[],v=16383,A=0,k=m-p;A<k;A+=v)T.push(h(f,A,A+v>k?k:A+v));return p===1?(y=f[m-1],T.push(t[y>>2]+t[y<<4&63]+"==")):p===2&&(y=(f[m-2]<<8)+f[m-1],T.push(t[y>>10]+t[y>>4&63]+t[y<<2&63]+"=")),T.join("")};for(var t=[],n=[],r=typeof Uint8Array<"u"?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=0;u<64;++u)t[u]=o[u],n[o.charCodeAt(u)]=u;function d(f){var y=f.length;if(y%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var m=f.indexOf("=");return m===-1&&(m=y),[m,m===y?0:4-m%4]}function h(f,y,m){for(var p,T,v=[],A=y;A<m;A+=3)p=(f[A]<<16&16711680)+(f[A+1]<<8&65280)+(255&f[A+2]),v.push(t[(T=p)>>18&63]+t[T>>12&63]+t[T>>6&63]+t[63&T]);return v.join("")}n[45]=62,n[95]=63},44:function(i,e,t){var n=t(7267),r=t(7986),o=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=h,e.SlowBuffer=function(Z){return+Z!=Z&&(Z=0),h.alloc(+Z)},e.INSPECT_MAX_BYTES=50;var u=2147483647;function d(Z){if(Z>u)throw new RangeError('The value "'+Z+'" is invalid for option "size"');var ne=new Uint8Array(Z);return Object.setPrototypeOf(ne,h.prototype),ne}function h(Z,ne,L){if(typeof Z=="number"){if(typeof ne=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return m(Z)}return f(Z,ne,L)}function f(Z,ne,L){if(typeof Z=="string")return function(ie,He){if(typeof He=="string"&&He!==""||(He="utf8"),!h.isEncoding(He))throw new TypeError("Unknown encoding: "+He);var st=0|A(ie,He),Xe=d(st),Ze=Xe.write(ie,He);return Ze!==st&&(Xe=Xe.slice(0,Ze)),Xe}(Z,ne);if(ArrayBuffer.isView(Z))return function(ie){if(Fe(ie,Uint8Array)){var He=new Uint8Array(ie);return T(He.buffer,He.byteOffset,He.byteLength)}return p(ie)}(Z);if(Z==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Z);if(Fe(Z,ArrayBuffer)||Z&&Fe(Z.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Fe(Z,SharedArrayBuffer)||Z&&Fe(Z.buffer,SharedArrayBuffer)))return T(Z,ne,L);if(typeof Z=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var j=Z.valueOf&&Z.valueOf();if(j!=null&&j!==Z)return h.from(j,ne,L);var pe=function(ie){if(h.isBuffer(ie)){var He=0|v(ie.length),st=d(He);return st.length===0||ie.copy(st,0,0,He),st}return ie.length!==void 0?typeof ie.length!="number"||Ne(ie.length)?d(0):p(ie):ie.type==="Buffer"&&Array.isArray(ie.data)?p(ie.data):void 0}(Z);if(pe)return pe;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Z[Symbol.toPrimitive]=="function")return h.from(Z[Symbol.toPrimitive]("string"),ne,L);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Z)}function y(Z){if(typeof Z!="number")throw new TypeError('"size" argument must be of type number');if(Z<0)throw new RangeError('The value "'+Z+'" is invalid for option "size"')}function m(Z){return y(Z),d(Z<0?0:0|v(Z))}function p(Z){for(var ne=Z.length<0?0:0|v(Z.length),L=d(ne),j=0;j<ne;j+=1)L[j]=255&Z[j];return L}function T(Z,ne,L){if(ne<0||Z.byteLength<ne)throw new RangeError('"offset" is outside of buffer bounds');if(Z.byteLength<ne+(L||0))throw new RangeError('"length" is outside of buffer bounds');var j;return j=ne===void 0&&L===void 0?new Uint8Array(Z):L===void 0?new Uint8Array(Z,ne):new Uint8Array(Z,ne,L),Object.setPrototypeOf(j,h.prototype),j}function v(Z){if(Z>=u)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+u.toString(16)+" bytes");return 0|Z}function A(Z,ne){if(h.isBuffer(Z))return Z.length;if(ArrayBuffer.isView(Z)||Fe(Z,ArrayBuffer))return Z.byteLength;if(typeof Z!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Z);var L=Z.length,j=arguments.length>2&&arguments[2]===!0;if(!j&&L===0)return 0;for(var pe=!1;;)switch(ne){case"ascii":case"latin1":case"binary":return L;case"utf8":case"utf-8":return et(Z).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*L;case"hex":return L>>>1;case"base64":return pt(Z).length;default:if(pe)return j?-1:et(Z).length;ne=(""+ne).toLowerCase(),pe=!0}}function k(Z,ne,L){var j=!1;if((ne===void 0||ne<0)&&(ne=0),ne>this.length||((L===void 0||L>this.length)&&(L=this.length),L<=0)||(L>>>=0)<=(ne>>>=0))return"";for(Z||(Z="utf8");;)switch(Z){case"hex":return Ye(this,ne,L);case"utf8":case"utf-8":return F(this,ne,L);case"ascii":return Qe(this,ne,L);case"latin1":case"binary":return xe(this,ne,L);case"base64":return be(this,ne,L);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ge(this,ne,L);default:if(j)throw new TypeError("Unknown encoding: "+Z);Z=(Z+"").toLowerCase(),j=!0}}function B(Z,ne,L){var j=Z[ne];Z[ne]=Z[L],Z[L]=j}function $(Z,ne,L,j,pe){if(Z.length===0)return-1;if(typeof L=="string"?(j=L,L=0):L>2147483647?L=2147483647:L<-2147483648&&(L=-2147483648),Ne(L=+L)&&(L=pe?0:Z.length-1),L<0&&(L=Z.length+L),L>=Z.length){if(pe)return-1;L=Z.length-1}else if(L<0){if(!pe)return-1;L=0}if(typeof ne=="string"&&(ne=h.from(ne,j)),h.isBuffer(ne))return ne.length===0?-1:K(Z,ne,L,j,pe);if(typeof ne=="number")return ne&=255,typeof Uint8Array.prototype.indexOf=="function"?pe?Uint8Array.prototype.indexOf.call(Z,ne,L):Uint8Array.prototype.lastIndexOf.call(Z,ne,L):K(Z,[ne],L,j,pe);throw new TypeError("val must be string, number or Buffer")}function K(Z,ne,L,j,pe){var ie,He=1,st=Z.length,Xe=ne.length;if(j!==void 0&&((j=String(j).toLowerCase())==="ucs2"||j==="ucs-2"||j==="utf16le"||j==="utf-16le")){if(Z.length<2||ne.length<2)return-1;He=2,st/=2,Xe/=2,L/=2}function Ze(yt,ht){return He===1?yt[ht]:yt.readUInt16BE(ht*He)}if(pe){var We=-1;for(ie=L;ie<st;ie++)if(Ze(Z,ie)===Ze(ne,We===-1?0:ie-We)){if(We===-1&&(We=ie),ie-We+1===Xe)return We*He}else We!==-1&&(ie-=ie-We),We=-1}else for(L+Xe>st&&(L=st-Xe),ie=L;ie>=0;ie--){for(var rt=!0,vt=0;vt<Xe;vt++)if(Ze(Z,ie+vt)!==Ze(ne,vt)){rt=!1;break}if(rt)return ie}return-1}function ue(Z,ne,L,j){L=Number(L)||0;var pe=Z.length-L;j?(j=Number(j))>pe&&(j=pe):j=pe;var ie=ne.length;j>ie/2&&(j=ie/2);for(var He=0;He<j;++He){var st=parseInt(ne.substr(2*He,2),16);if(Ne(st))return He;Z[L+He]=st}return He}function me(Z,ne,L,j){return jt(et(ne,Z.length-L),Z,L,j)}function Te(Z,ne,L,j){return jt(function(pe){for(var ie=[],He=0;He<pe.length;++He)ie.push(255&pe.charCodeAt(He));return ie}(ne),Z,L,j)}function X(Z,ne,L,j){return jt(pt(ne),Z,L,j)}function Q(Z,ne,L,j){return jt(function(pe,ie){for(var He,st,Xe,Ze=[],We=0;We<pe.length&&!((ie-=2)<0);++We)st=(He=pe.charCodeAt(We))>>8,Xe=He%256,Ze.push(Xe),Ze.push(st);return Ze}(ne,Z.length-L),Z,L,j)}function be(Z,ne,L){return ne===0&&L===Z.length?n.fromByteArray(Z):n.fromByteArray(Z.slice(ne,L))}function F(Z,ne,L){L=Math.min(Z.length,L);for(var j=[],pe=ne;pe<L;){var ie,He,st,Xe,Ze=Z[pe],We=null,rt=Ze>239?4:Ze>223?3:Ze>191?2:1;if(pe+rt<=L)switch(rt){case 1:Ze<128&&(We=Ze);break;case 2:(192&(ie=Z[pe+1]))==128&&(Xe=(31&Ze)<<6|63&ie)>127&&(We=Xe);break;case 3:ie=Z[pe+1],He=Z[pe+2],(192&ie)==128&&(192&He)==128&&(Xe=(15&Ze)<<12|(63&ie)<<6|63&He)>2047&&(Xe<55296||Xe>57343)&&(We=Xe);break;case 4:ie=Z[pe+1],He=Z[pe+2],st=Z[pe+3],(192&ie)==128&&(192&He)==128&&(192&st)==128&&(Xe=(15&Ze)<<18|(63&ie)<<12|(63&He)<<6|63&st)>65535&&Xe<1114112&&(We=Xe)}We===null?(We=65533,rt=1):We>65535&&(We-=65536,j.push(We>>>10&1023|55296),We=56320|1023&We),j.push(We),pe+=rt}return function(vt){var yt=vt.length;if(yt<=ke)return String.fromCharCode.apply(String,vt);for(var ht="",Sn=0;Sn<yt;)ht+=String.fromCharCode.apply(String,vt.slice(Sn,Sn+=ke));return ht}(j)}e.kMaxLength=u,h.TYPED_ARRAY_SUPPORT=function(){try{var Z=new Uint8Array(1),ne={foo:function(){return 42}};return Object.setPrototypeOf(ne,Uint8Array.prototype),Object.setPrototypeOf(Z,ne),Z.foo()===42}catch{return!1}}(),h.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(h.prototype,"parent",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.buffer}}),Object.defineProperty(h.prototype,"offset",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.byteOffset}}),h.poolSize=8192,h.from=function(Z,ne,L){return f(Z,ne,L)},Object.setPrototypeOf(h.prototype,Uint8Array.prototype),Object.setPrototypeOf(h,Uint8Array),h.alloc=function(Z,ne,L){return function(j,pe,ie){return y(j),j<=0?d(j):pe!==void 0?typeof ie=="string"?d(j).fill(pe,ie):d(j).fill(pe):d(j)}(Z,ne,L)},h.allocUnsafe=function(Z){return m(Z)},h.allocUnsafeSlow=function(Z){return m(Z)},h.isBuffer=function(Z){return Z!=null&&Z._isBuffer===!0&&Z!==h.prototype},h.compare=function(Z,ne){if(Fe(Z,Uint8Array)&&(Z=h.from(Z,Z.offset,Z.byteLength)),Fe(ne,Uint8Array)&&(ne=h.from(ne,ne.offset,ne.byteLength)),!h.isBuffer(Z)||!h.isBuffer(ne))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(Z===ne)return 0;for(var L=Z.length,j=ne.length,pe=0,ie=Math.min(L,j);pe<ie;++pe)if(Z[pe]!==ne[pe]){L=Z[pe],j=ne[pe];break}return L<j?-1:j<L?1:0},h.isEncoding=function(Z){switch(String(Z).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(Z,ne){if(!Array.isArray(Z))throw new TypeError('"list" argument must be an Array of Buffers');if(Z.length===0)return h.alloc(0);var L;if(ne===void 0)for(ne=0,L=0;L<Z.length;++L)ne+=Z[L].length;var j=h.allocUnsafe(ne),pe=0;for(L=0;L<Z.length;++L){var ie=Z[L];if(Fe(ie,Uint8Array))pe+ie.length>j.length?h.from(ie).copy(j,pe):Uint8Array.prototype.set.call(j,ie,pe);else{if(!h.isBuffer(ie))throw new TypeError('"list" argument must be an Array of Buffers');ie.copy(j,pe)}pe+=ie.length}return j},h.byteLength=A,h.prototype._isBuffer=!0,h.prototype.swap16=function(){var Z=this.length;if(Z%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var ne=0;ne<Z;ne+=2)B(this,ne,ne+1);return this},h.prototype.swap32=function(){var Z=this.length;if(Z%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var ne=0;ne<Z;ne+=4)B(this,ne,ne+3),B(this,ne+1,ne+2);return this},h.prototype.swap64=function(){var Z=this.length;if(Z%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var ne=0;ne<Z;ne+=8)B(this,ne,ne+7),B(this,ne+1,ne+6),B(this,ne+2,ne+5),B(this,ne+3,ne+4);return this},h.prototype.toString=function(){var Z=this.length;return Z===0?"":arguments.length===0?F(this,0,Z):k.apply(this,arguments)},h.prototype.toLocaleString=h.prototype.toString,h.prototype.equals=function(Z){if(!h.isBuffer(Z))throw new TypeError("Argument must be a Buffer");return this===Z||h.compare(this,Z)===0},h.prototype.inspect=function(){var Z="",ne=e.INSPECT_MAX_BYTES;return Z=this.toString("hex",0,ne).replace(/(.{2})/g,"$1 ").trim(),this.length>ne&&(Z+=" ... "),"<Buffer "+Z+">"},o&&(h.prototype[o]=h.prototype.inspect),h.prototype.compare=function(Z,ne,L,j,pe){if(Fe(Z,Uint8Array)&&(Z=h.from(Z,Z.offset,Z.byteLength)),!h.isBuffer(Z))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof Z);if(ne===void 0&&(ne=0),L===void 0&&(L=Z?Z.length:0),j===void 0&&(j=0),pe===void 0&&(pe=this.length),ne<0||L>Z.length||j<0||pe>this.length)throw new RangeError("out of range index");if(j>=pe&&ne>=L)return 0;if(j>=pe)return-1;if(ne>=L)return 1;if(this===Z)return 0;for(var ie=(pe>>>=0)-(j>>>=0),He=(L>>>=0)-(ne>>>=0),st=Math.min(ie,He),Xe=this.slice(j,pe),Ze=Z.slice(ne,L),We=0;We<st;++We)if(Xe[We]!==Ze[We]){ie=Xe[We],He=Ze[We];break}return ie<He?-1:He<ie?1:0},h.prototype.includes=function(Z,ne,L){return this.indexOf(Z,ne,L)!==-1},h.prototype.indexOf=function(Z,ne,L){return $(this,Z,ne,L,!0)},h.prototype.lastIndexOf=function(Z,ne,L){return $(this,Z,ne,L,!1)},h.prototype.write=function(Z,ne,L,j){if(ne===void 0)j="utf8",L=this.length,ne=0;else if(L===void 0&&typeof ne=="string")j=ne,L=this.length,ne=0;else{if(!isFinite(ne))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");ne>>>=0,isFinite(L)?(L>>>=0,j===void 0&&(j="utf8")):(j=L,L=void 0)}var pe=this.length-ne;if((L===void 0||L>pe)&&(L=pe),Z.length>0&&(L<0||ne<0)||ne>this.length)throw new RangeError("Attempt to write outside buffer bounds");j||(j="utf8");for(var ie=!1;;)switch(j){case"hex":return ue(this,Z,ne,L);case"utf8":case"utf-8":return me(this,Z,ne,L);case"ascii":case"latin1":case"binary":return Te(this,Z,ne,L);case"base64":return X(this,Z,ne,L);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Q(this,Z,ne,L);default:if(ie)throw new TypeError("Unknown encoding: "+j);j=(""+j).toLowerCase(),ie=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var ke=4096;function Qe(Z,ne,L){var j="";L=Math.min(Z.length,L);for(var pe=ne;pe<L;++pe)j+=String.fromCharCode(127&Z[pe]);return j}function xe(Z,ne,L){var j="";L=Math.min(Z.length,L);for(var pe=ne;pe<L;++pe)j+=String.fromCharCode(Z[pe]);return j}function Ye(Z,ne,L){var j=Z.length;(!ne||ne<0)&&(ne=0),(!L||L<0||L>j)&&(L=j);for(var pe="",ie=ne;ie<L;++ie)pe+=bt[Z[ie]];return pe}function Ge(Z,ne,L){for(var j=Z.slice(ne,L),pe="",ie=0;ie<j.length-1;ie+=2)pe+=String.fromCharCode(j[ie]+256*j[ie+1]);return pe}function _e(Z,ne,L){if(Z%1!=0||Z<0)throw new RangeError("offset is not uint");if(Z+ne>L)throw new RangeError("Trying to access beyond buffer length")}function $e(Z,ne,L,j,pe,ie){if(!h.isBuffer(Z))throw new TypeError('"buffer" argument must be a Buffer instance');if(ne>pe||ne<ie)throw new RangeError('"value" argument is out of bounds');if(L+j>Z.length)throw new RangeError("Index out of range")}function Je(Z,ne,L,j,pe,ie){if(L+j>Z.length)throw new RangeError("Index out of range");if(L<0)throw new RangeError("Index out of range")}function tt(Z,ne,L,j,pe){return ne=+ne,L>>>=0,pe||Je(Z,0,L,4),r.write(Z,ne,L,j,23,4),L+4}function Pe(Z,ne,L,j,pe){return ne=+ne,L>>>=0,pe||Je(Z,0,L,8),r.write(Z,ne,L,j,52,8),L+8}h.prototype.slice=function(Z,ne){var L=this.length;(Z=~~Z)<0?(Z+=L)<0&&(Z=0):Z>L&&(Z=L),(ne=ne===void 0?L:~~ne)<0?(ne+=L)<0&&(ne=0):ne>L&&(ne=L),ne<Z&&(ne=Z);var j=this.subarray(Z,ne);return Object.setPrototypeOf(j,h.prototype),j},h.prototype.readUintLE=h.prototype.readUIntLE=function(Z,ne,L){Z>>>=0,ne>>>=0,L||_e(Z,ne,this.length);for(var j=this[Z],pe=1,ie=0;++ie<ne&&(pe*=256);)j+=this[Z+ie]*pe;return j},h.prototype.readUintBE=h.prototype.readUIntBE=function(Z,ne,L){Z>>>=0,ne>>>=0,L||_e(Z,ne,this.length);for(var j=this[Z+--ne],pe=1;ne>0&&(pe*=256);)j+=this[Z+--ne]*pe;return j},h.prototype.readUint8=h.prototype.readUInt8=function(Z,ne){return Z>>>=0,ne||_e(Z,1,this.length),this[Z]},h.prototype.readUint16LE=h.prototype.readUInt16LE=function(Z,ne){return Z>>>=0,ne||_e(Z,2,this.length),this[Z]|this[Z+1]<<8},h.prototype.readUint16BE=h.prototype.readUInt16BE=function(Z,ne){return Z>>>=0,ne||_e(Z,2,this.length),this[Z]<<8|this[Z+1]},h.prototype.readUint32LE=h.prototype.readUInt32LE=function(Z,ne){return Z>>>=0,ne||_e(Z,4,this.length),(this[Z]|this[Z+1]<<8|this[Z+2]<<16)+16777216*this[Z+3]},h.prototype.readUint32BE=h.prototype.readUInt32BE=function(Z,ne){return Z>>>=0,ne||_e(Z,4,this.length),16777216*this[Z]+(this[Z+1]<<16|this[Z+2]<<8|this[Z+3])},h.prototype.readIntLE=function(Z,ne,L){Z>>>=0,ne>>>=0,L||_e(Z,ne,this.length);for(var j=this[Z],pe=1,ie=0;++ie<ne&&(pe*=256);)j+=this[Z+ie]*pe;return j>=(pe*=128)&&(j-=Math.pow(2,8*ne)),j},h.prototype.readIntBE=function(Z,ne,L){Z>>>=0,ne>>>=0,L||_e(Z,ne,this.length);for(var j=ne,pe=1,ie=this[Z+--j];j>0&&(pe*=256);)ie+=this[Z+--j]*pe;return ie>=(pe*=128)&&(ie-=Math.pow(2,8*ne)),ie},h.prototype.readInt8=function(Z,ne){return Z>>>=0,ne||_e(Z,1,this.length),128&this[Z]?-1*(255-this[Z]+1):this[Z]},h.prototype.readInt16LE=function(Z,ne){Z>>>=0,ne||_e(Z,2,this.length);var L=this[Z]|this[Z+1]<<8;return 32768&L?4294901760|L:L},h.prototype.readInt16BE=function(Z,ne){Z>>>=0,ne||_e(Z,2,this.length);var L=this[Z+1]|this[Z]<<8;return 32768&L?4294901760|L:L},h.prototype.readInt32LE=function(Z,ne){return Z>>>=0,ne||_e(Z,4,this.length),this[Z]|this[Z+1]<<8|this[Z+2]<<16|this[Z+3]<<24},h.prototype.readInt32BE=function(Z,ne){return Z>>>=0,ne||_e(Z,4,this.length),this[Z]<<24|this[Z+1]<<16|this[Z+2]<<8|this[Z+3]},h.prototype.readFloatLE=function(Z,ne){return Z>>>=0,ne||_e(Z,4,this.length),r.read(this,Z,!0,23,4)},h.prototype.readFloatBE=function(Z,ne){return Z>>>=0,ne||_e(Z,4,this.length),r.read(this,Z,!1,23,4)},h.prototype.readDoubleLE=function(Z,ne){return Z>>>=0,ne||_e(Z,8,this.length),r.read(this,Z,!0,52,8)},h.prototype.readDoubleBE=function(Z,ne){return Z>>>=0,ne||_e(Z,8,this.length),r.read(this,Z,!1,52,8)},h.prototype.writeUintLE=h.prototype.writeUIntLE=function(Z,ne,L,j){Z=+Z,ne>>>=0,L>>>=0,j||$e(this,Z,ne,L,Math.pow(2,8*L)-1,0);var pe=1,ie=0;for(this[ne]=255&Z;++ie<L&&(pe*=256);)this[ne+ie]=Z/pe&255;return ne+L},h.prototype.writeUintBE=h.prototype.writeUIntBE=function(Z,ne,L,j){Z=+Z,ne>>>=0,L>>>=0,j||$e(this,Z,ne,L,Math.pow(2,8*L)-1,0);var pe=L-1,ie=1;for(this[ne+pe]=255&Z;--pe>=0&&(ie*=256);)this[ne+pe]=Z/ie&255;return ne+L},h.prototype.writeUint8=h.prototype.writeUInt8=function(Z,ne,L){return Z=+Z,ne>>>=0,L||$e(this,Z,ne,1,255,0),this[ne]=255&Z,ne+1},h.prototype.writeUint16LE=h.prototype.writeUInt16LE=function(Z,ne,L){return Z=+Z,ne>>>=0,L||$e(this,Z,ne,2,65535,0),this[ne]=255&Z,this[ne+1]=Z>>>8,ne+2},h.prototype.writeUint16BE=h.prototype.writeUInt16BE=function(Z,ne,L){return Z=+Z,ne>>>=0,L||$e(this,Z,ne,2,65535,0),this[ne]=Z>>>8,this[ne+1]=255&Z,ne+2},h.prototype.writeUint32LE=h.prototype.writeUInt32LE=function(Z,ne,L){return Z=+Z,ne>>>=0,L||$e(this,Z,ne,4,4294967295,0),this[ne+3]=Z>>>24,this[ne+2]=Z>>>16,this[ne+1]=Z>>>8,this[ne]=255&Z,ne+4},h.prototype.writeUint32BE=h.prototype.writeUInt32BE=function(Z,ne,L){return Z=+Z,ne>>>=0,L||$e(this,Z,ne,4,4294967295,0),this[ne]=Z>>>24,this[ne+1]=Z>>>16,this[ne+2]=Z>>>8,this[ne+3]=255&Z,ne+4},h.prototype.writeIntLE=function(Z,ne,L,j){if(Z=+Z,ne>>>=0,!j){var pe=Math.pow(2,8*L-1);$e(this,Z,ne,L,pe-1,-pe)}var ie=0,He=1,st=0;for(this[ne]=255&Z;++ie<L&&(He*=256);)Z<0&&st===0&&this[ne+ie-1]!==0&&(st=1),this[ne+ie]=(Z/He|0)-st&255;return ne+L},h.prototype.writeIntBE=function(Z,ne,L,j){if(Z=+Z,ne>>>=0,!j){var pe=Math.pow(2,8*L-1);$e(this,Z,ne,L,pe-1,-pe)}var ie=L-1,He=1,st=0;for(this[ne+ie]=255&Z;--ie>=0&&(He*=256);)Z<0&&st===0&&this[ne+ie+1]!==0&&(st=1),this[ne+ie]=(Z/He|0)-st&255;return ne+L},h.prototype.writeInt8=function(Z,ne,L){return Z=+Z,ne>>>=0,L||$e(this,Z,ne,1,127,-128),Z<0&&(Z=255+Z+1),this[ne]=255&Z,ne+1},h.prototype.writeInt16LE=function(Z,ne,L){return Z=+Z,ne>>>=0,L||$e(this,Z,ne,2,32767,-32768),this[ne]=255&Z,this[ne+1]=Z>>>8,ne+2},h.prototype.writeInt16BE=function(Z,ne,L){return Z=+Z,ne>>>=0,L||$e(this,Z,ne,2,32767,-32768),this[ne]=Z>>>8,this[ne+1]=255&Z,ne+2},h.prototype.writeInt32LE=function(Z,ne,L){return Z=+Z,ne>>>=0,L||$e(this,Z,ne,4,2147483647,-2147483648),this[ne]=255&Z,this[ne+1]=Z>>>8,this[ne+2]=Z>>>16,this[ne+3]=Z>>>24,ne+4},h.prototype.writeInt32BE=function(Z,ne,L){return Z=+Z,ne>>>=0,L||$e(this,Z,ne,4,2147483647,-2147483648),Z<0&&(Z=4294967295+Z+1),this[ne]=Z>>>24,this[ne+1]=Z>>>16,this[ne+2]=Z>>>8,this[ne+3]=255&Z,ne+4},h.prototype.writeFloatLE=function(Z,ne,L){return tt(this,Z,ne,!0,L)},h.prototype.writeFloatBE=function(Z,ne,L){return tt(this,Z,ne,!1,L)},h.prototype.writeDoubleLE=function(Z,ne,L){return Pe(this,Z,ne,!0,L)},h.prototype.writeDoubleBE=function(Z,ne,L){return Pe(this,Z,ne,!1,L)},h.prototype.copy=function(Z,ne,L,j){if(!h.isBuffer(Z))throw new TypeError("argument should be a Buffer");if(L||(L=0),j||j===0||(j=this.length),ne>=Z.length&&(ne=Z.length),ne||(ne=0),j>0&&j<L&&(j=L),j===L||Z.length===0||this.length===0)return 0;if(ne<0)throw new RangeError("targetStart out of bounds");if(L<0||L>=this.length)throw new RangeError("Index out of range");if(j<0)throw new RangeError("sourceEnd out of bounds");j>this.length&&(j=this.length),Z.length-ne<j-L&&(j=Z.length-ne+L);var pe=j-L;return this===Z&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(ne,L,j):Uint8Array.prototype.set.call(Z,this.subarray(L,j),ne),pe},h.prototype.fill=function(Z,ne,L,j){if(typeof Z=="string"){if(typeof ne=="string"?(j=ne,ne=0,L=this.length):typeof L=="string"&&(j=L,L=this.length),j!==void 0&&typeof j!="string")throw new TypeError("encoding must be a string");if(typeof j=="string"&&!h.isEncoding(j))throw new TypeError("Unknown encoding: "+j);if(Z.length===1){var pe=Z.charCodeAt(0);(j==="utf8"&&pe<128||j==="latin1")&&(Z=pe)}}else typeof Z=="number"?Z&=255:typeof Z=="boolean"&&(Z=Number(Z));if(ne<0||this.length<ne||this.length<L)throw new RangeError("Out of range index");if(L<=ne)return this;var ie;if(ne>>>=0,L=L===void 0?this.length:L>>>0,Z||(Z=0),typeof Z=="number")for(ie=ne;ie<L;++ie)this[ie]=Z;else{var He=h.isBuffer(Z)?Z:h.from(Z,j),st=He.length;if(st===0)throw new TypeError('The value "'+Z+'" is invalid for argument "value"');for(ie=0;ie<L-ne;++ie)this[ie+ne]=He[ie%st]}return this};var qe=/[^+/0-9A-Za-z-_]/g;function et(Z,ne){var L;ne=ne||1/0;for(var j=Z.length,pe=null,ie=[],He=0;He<j;++He){if((L=Z.charCodeAt(He))>55295&&L<57344){if(!pe){if(L>56319){(ne-=3)>-1&&ie.push(239,191,189);continue}if(He+1===j){(ne-=3)>-1&&ie.push(239,191,189);continue}pe=L;continue}if(L<56320){(ne-=3)>-1&&ie.push(239,191,189),pe=L;continue}L=65536+(pe-55296<<10|L-56320)}else pe&&(ne-=3)>-1&&ie.push(239,191,189);if(pe=null,L<128){if((ne-=1)<0)break;ie.push(L)}else if(L<2048){if((ne-=2)<0)break;ie.push(L>>6|192,63&L|128)}else if(L<65536){if((ne-=3)<0)break;ie.push(L>>12|224,L>>6&63|128,63&L|128)}else{if(!(L<1114112))throw new Error("Invalid code point");if((ne-=4)<0)break;ie.push(L>>18|240,L>>12&63|128,L>>6&63|128,63&L|128)}}return ie}function pt(Z){return n.toByteArray(function(ne){if((ne=(ne=ne.split("=")[0]).trim().replace(qe,"")).length<2)return"";for(;ne.length%4!=0;)ne+="=";return ne}(Z))}function jt(Z,ne,L,j){for(var pe=0;pe<j&&!(pe+L>=ne.length||pe>=Z.length);++pe)ne[pe+L]=Z[pe];return pe}function Fe(Z,ne){return Z instanceof ne||Z!=null&&Z.constructor!=null&&Z.constructor.name!=null&&Z.constructor.name===ne.name}function Ne(Z){return Z!=Z}var bt=function(){for(var Z="0123456789abcdef",ne=new Array(256),L=0;L<16;++L)for(var j=16*L,pe=0;pe<16;++pe)ne[j+pe]=Z[L]+Z[pe];return ne}()},6877:function(i,e){var t={parseBuffer:function(o){return new n(o).parse()},addBoxProcessor:function(o,u){typeof o=="string"&&typeof u=="function"&&(r.prototype._boxProcessors[o]=u)},createFile:function(){return new n},createBox:function(o,u,d){var h=r.create(o);return u&&u.append(h,d),h},createFullBox:function(o,u,d){var h=t.createBox(o,u,d);return h.version=0,h.flags=0,h},Utils:{}};t.Utils.dataViewToString=function(o,u){var d=u||"utf-8";if(typeof TextDecoder<"u")return new TextDecoder(d).decode(o);var h=[],f=0;if(d==="utf-8")for(;f<o.byteLength;){var y=o.getUint8(f++);y<128||(y<224?(y=(31&y)<<6,y|=63&o.getUint8(f++)):y<240?(y=(15&y)<<12,y|=(63&o.getUint8(f++))<<6,y|=63&o.getUint8(f++)):(y=(7&y)<<18,y|=(63&o.getUint8(f++))<<12,y|=(63&o.getUint8(f++))<<6,y|=63&o.getUint8(f++))),h.push(String.fromCharCode(y))}else for(;f<o.byteLength;)h.push(String.fromCharCode(o.getUint8(f++)));return h.join("")},t.Utils.utf8ToByteArray=function(o){var u,d;if(typeof TextEncoder<"u")u=new TextEncoder().encode(o);else for(u=[],d=0;d<o.length;++d){var h=o.charCodeAt(d);h<128?u.push(h):h<2048?(u.push(192|h>>6),u.push(128|63&h)):h<65536?(u.push(224|h>>12),u.push(128|63&h>>6),u.push(128|63&h)):(u.push(240|h>>18),u.push(128|63&h>>12),u.push(128|63&h>>6),u.push(128|63&h))}return u},t.Utils.appendBox=function(o,u,d){if(u._offset=o._cursor.offset,u._root=o._root?o._root:o,u._raw=o._raw,u._parent=o,d!==-1)if(d!=null){var h,f=-1;if(typeof d=="number")f=d;else{if(typeof d=="string")h=d;else{if(typeof d!="object"||!d.type)return void o.boxes.push(u);h=d.type}for(var y=0;y<o.boxes.length;y++)if(h===o.boxes[y].type){f=y+1;break}}o.boxes.splice(f,0,u)}else o.boxes.push(u)},e.parseBuffer=t.parseBuffer,e.addBoxProcessor=t.addBoxProcessor,e.createFile=t.createFile,e.createBox=t.createBox,e.createFullBox=t.createFullBox,e.Utils=t.Utils,t.Cursor=function(o){this.offset=o===void 0?0:o};var n=function(o){this._cursor=new t.Cursor,this.boxes=[],o&&(this._raw=new DataView(o))};n.prototype.fetch=function(o){var u=this.fetchAll(o,!0);return u.length?u[0]:null},n.prototype.fetchAll=function(o,u){var d=[];return n._sweep.call(this,o,d,u),d},n.prototype.parse=function(){for(this._cursor.offset=0,this.boxes=[];this._cursor.offset<this._raw.byteLength;){var o=r.parse(this);if(o.type===void 0)break;this.boxes.push(o)}return this},n._sweep=function(o,u,d){for(var h in this.type&&this.type==o&&u.push(this),this.boxes){if(u.length&&d)return;n._sweep.call(this.boxes[h],o,u,d)}},n.prototype.write=function(){var o,u=0;for(o=0;o<this.boxes.length;o++)u+=this.boxes[o].getLength(!1);var d=new Uint8Array(u);for(this._rawo=new DataView(d.buffer),this.bytes=d,this._cursor.offset=0,o=0;o<this.boxes.length;o++)this.boxes[o].write();return d.buffer},n.prototype.append=function(o,u){t.Utils.appendBox(this,o,u)};var r=function(){this._cursor=new t.Cursor};r.parse=function(o){var u=new r;return u._offset=o._cursor.offset,u._root=o._root?o._root:o,u._raw=o._raw,u._parent=o,u._parseBox(),o._cursor.offset=u._raw.byteOffset+u._raw.byteLength,u},r.create=function(o){var u=new r;return u.type=o,u.boxes=[],u},r.prototype._boxContainers=["dinf","edts","mdia","meco","mfra","minf","moof","moov","mvex","stbl","strk","traf","trak","tref","udta","vttc","sinf","schi","encv","enca","meta","grpl","prsl"],r.prototype._boxProcessors={},r.prototype._procField=function(o,u,d){this._parsing?this[o]=this._readField(u,d):this._writeField(u,d,this[o])},r.prototype._procFieldArray=function(o,u,d,h){var f;if(this._parsing)for(this[o]=[],f=0;f<u;f++)this[o][f]=this._readField(d,h);else for(f=0;f<this[o].length;f++)this._writeField(d,h,this[o][f])},r.prototype._procFullBox=function(){this._procField("version","uint",8),this._procField("flags","uint",24)},r.prototype._procEntries=function(o,u,d){var h;if(this._parsing)for(this[o]=[],h=0;h<u;h++)this[o].push({}),d.call(this,this[o][h]);else for(h=0;h<u;h++)d.call(this,this[o][h])},r.prototype._procSubEntries=function(o,u,d,h){var f;if(this._parsing)for(o[u]=[],f=0;f<d;f++)o[u].push({}),h.call(this,o[u][f]);else for(f=0;f<d;f++)h.call(this,o[u][f])},r.prototype._procEntryField=function(o,u,d,h){this._parsing?o[u]=this._readField(d,h):this._writeField(d,h,o[u])},r.prototype._procSubBoxes=function(o,u){var d;if(this._parsing)for(this[o]=[],d=0;d<u;d++)this[o].push(r.parse(this));else for(d=0;d<u;d++)this._rawo?this[o][d].write():this.size+=this[o][d].getLength()},r.prototype._readField=function(o,u){switch(o){case"uint":return this._readUint(u);case"int":return this._readInt(u);case"template":return this._readTemplate(u);case"string":return u===-1?this._readTerminatedString():this._readString(u);case"data":return this._readData(u);case"utf8":return this._readUTF8String();case"utf8string":return this._readUTF8TerminatedString();default:return-1}},r.prototype._readInt=function(o){var u=null,d=this._cursor.offset-this._raw.byteOffset;switch(o){case 8:u=this._raw.getInt8(d);break;case 16:u=this._raw.getInt16(d);break;case 32:u=this._raw.getInt32(d);break;case 64:var h=this._raw.getInt32(d),f=this._raw.getInt32(d+4);u=h*Math.pow(2,32)+f}return this._cursor.offset+=o>>3,u},r.prototype._readUint=function(o){var u,d,h=null,f=this._cursor.offset-this._raw.byteOffset;switch(o){case 8:h=this._raw.getUint8(f);break;case 16:h=this._raw.getUint16(f);break;case 24:h=((u=this._raw.getUint16(f))<<8)+(d=this._raw.getUint8(f+2));break;case 32:h=this._raw.getUint32(f);break;case 64:u=this._raw.getUint32(f),d=this._raw.getUint32(f+4),h=u*Math.pow(2,32)+d}return this._cursor.offset+=o>>3,h},r.prototype._readString=function(o){for(var u="",d=0;d<o;d++){var h=this._readUint(8);u+=String.fromCharCode(h)}return u},r.prototype._readTemplate=function(o){return this._readUint(o/2)+this._readUint(o/2)/Math.pow(2,o/2)},r.prototype._readTerminatedString=function(){for(var o="";this._cursor.offset-this._offset<this._raw.byteLength;){var u=this._readUint(8);if(u===0)break;o+=String.fromCharCode(u)}return o},r.prototype._readData=function(o){var u=o>0?o:this._raw.byteLength-(this._cursor.offset-this._offset);if(u>0){var d=new Uint8Array(this._raw.buffer,this._cursor.offset,u);return this._cursor.offset+=u,d}return null},r.prototype._readUTF8String=function(){var o=this._raw.byteLength-(this._cursor.offset-this._offset),u=null;return o>0&&(u=new DataView(this._raw.buffer,this._cursor.offset,o),this._cursor.offset+=o),u&&t.Utils.dataViewToString(u)},r.prototype._readUTF8TerminatedString=function(){var o=this._raw.byteLength-(this._cursor.offset-this._offset),u=null;if(o>0){var d;for(u=new DataView(this._raw.buffer,this._cursor.offset,o),d=0;d<o&&u.getUint8(d)!==0;d++);u=new DataView(this._raw.buffer,this._cursor.offset,d),this._cursor.offset+=Math.min(d+1,o)}return u&&t.Utils.dataViewToString(u)},r.prototype._parseBox=function(){if(this._parsing=!0,this._cursor.offset=this._offset,this._offset+8>this._raw.buffer.byteLength)this._root._incomplete=!0;else{switch(this._procField("size","uint",32),this._procField("type","string",4),this.size===1&&this._procField("largesize","uint",64),this.type==="uuid"&&this._procFieldArray("usertype",16,"uint",8),this.size){case 0:this._raw=new DataView(this._raw.buffer,this._offset);break;case 1:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.largesize);break;default:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.size)}this._incomplete||(this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),this._boxContainers.indexOf(this.type)!==-1?this._parseContainerBox():this._data=this._readData())}},r.prototype._parseFullBox=function(){this.version=this._readUint(8),this.flags=this._readUint(24)},r.prototype._parseContainerBox=function(){for(this.boxes=[];this._cursor.offset-this._raw.byteOffset<this._raw.byteLength;)this.boxes.push(r.parse(this))},r.prototype.append=function(o,u){t.Utils.appendBox(this,o,u)},r.prototype.getLength=function(){if(this._parsing=!1,this._rawo=null,this.size=0,this._procField("size","uint",32),this._procField("type","string",4),this.size===1&&this._procField("largesize","uint",64),this.type==="uuid"&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),this._boxContainers.indexOf(this.type)!==-1)for(var o=0;o<this.boxes.length;o++)this.size+=this.boxes[o].getLength();return this._data&&this._writeData(this._data),this.size},r.prototype.write=function(){switch(this._parsing=!1,this._cursor.offset=this._parent._cursor.offset,this.size){case 0:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.parent._rawo.byteLength-this._cursor.offset);break;case 1:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.largesize);break;default:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.size)}if(this._procField("size","uint",32),this._procField("type","string",4),this.size===1&&this._procField("largesize","uint",64),this.type==="uuid"&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),this._boxContainers.indexOf(this.type)!==-1)for(var o=0;o<this.boxes.length;o++)this.boxes[o].write();return this._data&&this._writeData(this._data),this._parent._cursor.offset+=this.size,this.size},r.prototype._writeInt=function(o,u){if(this._rawo){var d=this._cursor.offset-this._rawo.byteOffset;switch(o){case 8:this._rawo.setInt8(d,u);break;case 16:this._rawo.setInt16(d,u);break;case 32:this._rawo.setInt32(d,u);break;case 64:var h=Math.floor(u/Math.pow(2,32)),f=u-h*Math.pow(2,32);this._rawo.setUint32(d,h),this._rawo.setUint32(d+4,f)}this._cursor.offset+=o>>3}else this.size+=o>>3},r.prototype._writeUint=function(o,u){if(this._rawo){var d,h,f=this._cursor.offset-this._rawo.byteOffset;switch(o){case 8:this._rawo.setUint8(f,u);break;case 16:this._rawo.setUint16(f,u);break;case 24:d=(16776960&u)>>8,h=255&u,this._rawo.setUint16(f,d),this._rawo.setUint8(f+2,h);break;case 32:this._rawo.setUint32(f,u);break;case 64:h=u-(d=Math.floor(u/Math.pow(2,32)))*Math.pow(2,32),this._rawo.setUint32(f,d),this._rawo.setUint32(f+4,h)}this._cursor.offset+=o>>3}else this.size+=o>>3},r.prototype._writeString=function(o,u){for(var d=0;d<o;d++)this._writeUint(8,u.charCodeAt(d))},r.prototype._writeTerminatedString=function(o){if(o.length!==0){for(var u=0;u<o.length;u++)this._writeUint(8,o.charCodeAt(u));this._writeUint(8,0)}},r.prototype._writeTemplate=function(o,u){var d=Math.floor(u),h=(u-d)*Math.pow(2,o/2);this._writeUint(o/2,d),this._writeUint(o/2,h)},r.prototype._writeData=function(o){if(o)if(this._rawo){if(o instanceof Array){for(var u=this._cursor.offset-this._rawo.byteOffset,d=0;d<o.length;d++)this._rawo.setInt8(u+d,o[d]);this._cursor.offset+=o.length}o instanceof Uint8Array&&(this._root.bytes.set(o,this._cursor.offset),this._cursor.offset+=o.length)}else this.size+=o.length},r.prototype._writeUTF8String=function(o){var u=t.Utils.utf8ToByteArray(o);if(this._rawo)for(var d=new DataView(this._rawo.buffer,this._cursor.offset,u.length),h=0;h<u.length;h++)d.setUint8(h,u[h]);else this.size+=u.length},r.prototype._writeField=function(o,u,d){switch(o){case"uint":this._writeUint(u,d);break;case"int":this._writeInt(u,d);break;case"template":this._writeTemplate(u,d);break;case"string":u==-1?this._writeTerminatedString(d):this._writeString(u,d);break;case"data":this._writeData(d);break;case"utf8":this._writeUTF8String(d)}},r.prototype._boxProcessors.ardi=function(){this._procFullBox(),this._procField("audio_rendering_indication","uint",8)},r.prototype._boxProcessors.avc1=r.prototype._boxProcessors.avc2=r.prototype._boxProcessors.avc3=r.prototype._boxProcessors.avc4=r.prototype._boxProcessors.hvc1=r.prototype._boxProcessors.hev1=r.prototype._boxProcessors.encv=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procField("pre_defined1","uint",16),this._procField("reserved2","uint",16),this._procFieldArray("pre_defined2",3,"uint",32),this._procField("width","uint",16),this._procField("height","uint",16),this._procField("horizresolution","template",32),this._procField("vertresolution","template",32),this._procField("reserved3","uint",32),this._procField("frame_count","uint",16),this._procFieldArray("compressorname",32,"uint",8),this._procField("depth","uint",16),this._procField("pre_defined3","int",16),this._procField("config","data",-1)},r.prototype._boxProcessors.ctts=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(o){this._procEntryField(o,"sample_count","uint",32),this._procEntryField(o,"sample_offset",this.version===1?"int":"uint",32)})},r.prototype._boxProcessors.dref=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},r.prototype._boxProcessors.elng=function(){this._procFullBox(),this._procField("extended_language","utf8string")},r.prototype._boxProcessors.elst=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(o){this._procEntryField(o,"segment_duration","uint",this.version===1?64:32),this._procEntryField(o,"media_time","int",this.version===1?64:32),this._procEntryField(o,"media_rate_integer","int",16),this._procEntryField(o,"media_rate_fraction","int",16)})},r.prototype._boxProcessors.emsg=function(){this._procFullBox(),this.version==1?(this._procField("timescale","uint",32),this._procField("presentation_time","uint",64),this._procField("event_duration","uint",32),this._procField("id","uint",32),this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1)):(this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1),this._procField("timescale","uint",32),this._procField("presentation_time_delta","uint",32),this._procField("event_duration","uint",32),this._procField("id","uint",32)),this._procField("message_data","data",-1)},r.prototype._boxProcessors.free=r.prototype._boxProcessors.skip=function(){this._procField("data","data",-1)},r.prototype._boxProcessors.frma=function(){this._procField("data_format","uint",32)},r.prototype._boxProcessors.ftyp=r.prototype._boxProcessors.styp=function(){this._procField("major_brand","string",4),this._procField("minor_version","uint",32);var o=-1;this._parsing&&(o=(this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset))/4),this._procFieldArray("compatible_brands",o,"string",4)},r.prototype._boxProcessors.hdlr=function(){this._procFullBox(),this._procField("pre_defined","uint",32),this._procField("handler_type","string",4),this._procFieldArray("reserved",3,"uint",32),this._procField("name","string",-1)},r.prototype._boxProcessors.imda=function(){this._procField("imda_identifier","uint",32),this._procField("data","data",-1)},r.prototype._boxProcessors.kind=function(){this._procFullBox(),this._procField("schemeURI","utf8string"),this._procField("value","utf8string")},r.prototype._boxProcessors.labl=function(){this._procFullBox(),this.is_group_label=!!(1&this.flags),this._procField("label_id","uint",16),this._procField("language","utf8string"),this._procField("label","utf8string")},r.prototype._boxProcessors.mdat=function(){this._procField("data","data",-1)},r.prototype._boxProcessors.mdhd=function(){this._procFullBox(),this._procField("creation_time","uint",this.version==1?64:32),this._procField("modification_time","uint",this.version==1?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",this.version==1?64:32),this._parsing||typeof this.language!="string"||(this.language=this.language.charCodeAt(0)-96<<10|this.language.charCodeAt(1)-96<<5|this.language.charCodeAt(2)-96),this._procField("language","uint",16),this._parsing&&(this.language=String.fromCharCode(96+(this.language>>10&31),96+(this.language>>5&31),96+(31&this.language))),this._procField("pre_defined","uint",16)},r.prototype._boxProcessors.mehd=function(){this._procFullBox(),this._procField("fragment_duration","uint",this.version==1?64:32)},r.prototype._boxProcessors.meta=function(){this._procFullBox()},r.prototype._boxProcessors.mfhd=function(){this._procFullBox(),this._procField("sequence_number","uint",32)},r.prototype._boxProcessors.mfro=function(){this._procFullBox(),this._procField("mfra_size","uint",32)},r.prototype._boxProcessors.mp4a=r.prototype._boxProcessors.enca=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procField("channelcount","uint",16),this._procField("samplesize","uint",16),this._procField("pre_defined","uint",16),this._procField("reserved3","uint",16),this._procField("samplerate","template",32),this._procField("esds","data",-1)},r.prototype._boxProcessors.mvhd=function(){this._procFullBox(),this._procField("creation_time","uint",this.version==1?64:32),this._procField("modification_time","uint",this.version==1?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",this.version==1?64:32),this._procField("rate","template",32),this._procField("volume","template",16),this._procField("reserved1","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procFieldArray("matrix",9,"template",32),this._procFieldArray("pre_defined",6,"uint",32),this._procField("next_track_ID","uint",32)},r.prototype._boxProcessors.payl=function(){this._procField("cue_text","utf8")},r.prototype._boxProcessors.prft=function(){this._procFullBox(),this._procField("reference_track_ID","uint",32),this._procField("ntp_timestamp_sec","uint",32),this._procField("ntp_timestamp_frac","uint",32),this._procField("media_time","uint",this.version==1?64:32)},r.prototype._boxProcessors.prsl=function(){this._procFullBox(),this._procField("group_id","uint",32),this._procField("num_entities_in_group","uint",32),this._procEntries("entities",this.num_entities_in_group,function(o){this._procEntryField(o,"entity_id","uint",32)}),4096&this.flags&&this._procField("preselection_tag","utf8string"),8192&this.flags&&this._procField("selection_priority","uint",8),16384&this.flags&&this._procField("interleaving_tag","utf8string")},r.prototype._boxProcessors.pssh=function(){this._procFullBox(),this._procFieldArray("SystemID",16,"uint",8),this._procField("DataSize","uint",32),this._procFieldArray("Data",this.DataSize,"uint",8)},r.prototype._boxProcessors.schm=function(){this._procFullBox(),this._procField("scheme_type","uint",32),this._procField("scheme_version","uint",32),1&this.flags&&this._procField("scheme_uri","string",-1)},r.prototype._boxProcessors.sdtp=function(){this._procFullBox();var o=-1;this._parsing&&(o=this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset)),this._procFieldArray("sample_dependency_table",o,"uint",8)},r.prototype._boxProcessors.sidx=function(){this._procFullBox(),this._procField("reference_ID","uint",32),this._procField("timescale","uint",32),this._procField("earliest_presentation_time","uint",this.version==1?64:32),this._procField("first_offset","uint",this.version==1?64:32),this._procField("reserved","uint",16),this._procField("reference_count","uint",16),this._procEntries("references",this.reference_count,function(o){this._parsing||(o.reference=(1&o.reference_type)<<31,o.reference|=2147483647&o.referenced_size,o.sap=(1&o.starts_with_SAP)<<31,o.sap|=(3&o.SAP_type)<<28,o.sap|=268435455&o.SAP_delta_time),this._procEntryField(o,"reference","uint",32),this._procEntryField(o,"subsegment_duration","uint",32),this._procEntryField(o,"sap","uint",32),this._parsing&&(o.reference_type=o.reference>>31&1,o.referenced_size=2147483647&o.reference,o.starts_with_SAP=o.sap>>31&1,o.SAP_type=o.sap>>28&7,o.SAP_delta_time=268435455&o.sap)})},r.prototype._boxProcessors.smhd=function(){this._procFullBox(),this._procField("balance","uint",16),this._procField("reserved","uint",16)},r.prototype._boxProcessors.ssix=function(){this._procFullBox(),this._procField("subsegment_count","uint",32),this._procEntries("subsegments",this.subsegment_count,function(o){this._procEntryField(o,"ranges_count","uint",32),this._procSubEntries(o,"ranges",o.ranges_count,function(u){this._procEntryField(u,"level","uint",8),this._procEntryField(u,"range_size","uint",24)})})},r.prototype._boxProcessors.stsd=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},r.prototype._boxProcessors.sttg=function(){this._procField("settings","utf8")},r.prototype._boxProcessors.stts=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(o){this._procEntryField(o,"sample_count","uint",32),this._procEntryField(o,"sample_delta","uint",32)})},r.prototype._boxProcessors.subs=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(o){this._procEntryField(o,"sample_delta","uint",32),this._procEntryField(o,"subsample_count","uint",16),this._procSubEntries(o,"subsamples",o.subsample_count,function(u){this._procEntryField(u,"subsample_size","uint",this.version===1?32:16),this._procEntryField(u,"subsample_priority","uint",8),this._procEntryField(u,"discardable","uint",8),this._procEntryField(u,"codec_specific_parameters","uint",32)})})},r.prototype._boxProcessors.tenc=function(){this._procFullBox(),this._procField("default_IsEncrypted","uint",24),this._procField("default_IV_size","uint",8),this._procFieldArray("default_KID",16,"uint",8)},r.prototype._boxProcessors.tfdt=function(){this._procFullBox(),this._procField("baseMediaDecodeTime","uint",this.version==1?64:32)},r.prototype._boxProcessors.tfhd=function(){this._procFullBox(),this._procField("track_ID","uint",32),1&this.flags&&this._procField("base_data_offset","uint",64),2&this.flags&&this._procField("sample_description_offset","uint",32),8&this.flags&&this._procField("default_sample_duration","uint",32),16&this.flags&&this._procField("default_sample_size","uint",32),32&this.flags&&this._procField("default_sample_flags","uint",32)},r.prototype._boxProcessors.tfra=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._parsing||(this.reserved=0,this.reserved|=(48&this.length_size_of_traf_num)<<4,this.reserved|=(12&this.length_size_of_trun_num)<<2,this.reserved|=3&this.length_size_of_sample_num),this._procField("reserved","uint",32),this._parsing&&(this.length_size_of_traf_num=(48&this.reserved)>>4,this.length_size_of_trun_num=(12&this.reserved)>>2,this.length_size_of_sample_num=3&this.reserved),this._procField("number_of_entry","uint",32),this._procEntries("entries",this.number_of_entry,function(o){this._procEntryField(o,"time","uint",this.version===1?64:32),this._procEntryField(o,"moof_offset","uint",this.version===1?64:32),this._procEntryField(o,"traf_number","uint",8*(this.length_size_of_traf_num+1)),this._procEntryField(o,"trun_number","uint",8*(this.length_size_of_trun_num+1)),this._procEntryField(o,"sample_number","uint",8*(this.length_size_of_sample_num+1))})},r.prototype._boxProcessors.tkhd=function(){this._procFullBox(),this._procField("creation_time","uint",this.version==1?64:32),this._procField("modification_time","uint",this.version==1?64:32),this._procField("track_ID","uint",32),this._procField("reserved1","uint",32),this._procField("duration","uint",this.version==1?64:32),this._procFieldArray("reserved2",2,"uint",32),this._procField("layer","uint",16),this._procField("alternate_group","uint",16),this._procField("volume","template",16),this._procField("reserved3","uint",16),this._procFieldArray("matrix",9,"template",32),this._procField("width","template",32),this._procField("height","template",32)},r.prototype._boxProcessors.trex=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._procField("default_sample_description_index","uint",32),this._procField("default_sample_duration","uint",32),this._procField("default_sample_size","uint",32),this._procField("default_sample_flags","uint",32)},r.prototype._boxProcessors.trun=function(){this._procFullBox(),this._procField("sample_count","uint",32),1&this.flags&&this._procField("data_offset","int",32),4&this.flags&&this._procField("first_sample_flags","uint",32),this._procEntries("samples",this.sample_count,function(o){256&this.flags&&this._procEntryField(o,"sample_duration","uint",32),512&this.flags&&this._procEntryField(o,"sample_size","uint",32),1024&this.flags&&this._procEntryField(o,"sample_flags","uint",32),2048&this.flags&&this._procEntryField(o,"sample_composition_time_offset",this.version===1?"int":"uint",32)})},r.prototype._boxProcessors["url "]=r.prototype._boxProcessors["urn "]=function(){this._procFullBox(),this.type==="urn "&&this._procField("name","string",-1),this._procField("location","string",-1)},r.prototype._boxProcessors.vlab=function(){this._procField("source_label","utf8")},r.prototype._boxProcessors.vmhd=function(){this._procFullBox(),this._procField("graphicsmode","uint",16),this._procFieldArray("opcolor",3,"uint",16)},r.prototype._boxProcessors.vttC=function(){this._procField("config","utf8")},r.prototype._boxProcessors.vtte=function(){}},9826:function(i){var e,t=typeof Reflect=="object"?Reflect:null,n=t&&typeof t.apply=="function"?t.apply:function(k,B,$){return Function.prototype.apply.call(k,B,$)};e=t&&typeof t.ownKeys=="function"?t.ownKeys:Object.getOwnPropertySymbols?function(k){return Object.getOwnPropertyNames(k).concat(Object.getOwnPropertySymbols(k))}:function(k){return Object.getOwnPropertyNames(k)};var r=Number.isNaN||function(k){return k!=k};function o(){o.init.call(this)}i.exports=o,i.exports.once=function(k,B){return new Promise(function($,K){function ue(Te){k.removeListener(B,me),K(Te)}function me(){typeof k.removeListener=="function"&&k.removeListener("error",ue),$([].slice.call(arguments))}A(k,B,me,{once:!0}),B!=="error"&&function(Te,X){typeof Te.on=="function"&&A(Te,"error",X,{once:!0})}(k,ue)})},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var u=10;function d(k){if(typeof k!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof k)}function h(k){return k._maxListeners===void 0?o.defaultMaxListeners:k._maxListeners}function f(k,B,$,K){var ue,me,Te,X;if(d($),(me=k._events)===void 0?(me=k._events=Object.create(null),k._eventsCount=0):(me.newListener!==void 0&&(k.emit("newListener",B,$.listener?$.listener:$),me=k._events),Te=me[B]),Te===void 0)Te=me[B]=$,++k._eventsCount;else if(typeof Te=="function"?Te=me[B]=K?[$,Te]:[Te,$]:K?Te.unshift($):Te.push($),(ue=h(k))>0&&Te.length>ue&&!Te.warned){Te.warned=!0;var Q=new Error("Possible EventEmitter memory leak detected. "+Te.length+" "+String(B)+" listeners added. Use emitter.setMaxListeners() to increase limit");Q.name="MaxListenersExceededWarning",Q.emitter=k,Q.type=B,Q.count=Te.length,X=Q,console&&console.warn&&console.warn(X)}return k}function y(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function m(k,B,$){var K={fired:!1,wrapFn:void 0,target:k,type:B,listener:$},ue=y.bind(K);return ue.listener=$,K.wrapFn=ue,ue}function p(k,B,$){var K=k._events;if(K===void 0)return[];var ue=K[B];return ue===void 0?[]:typeof ue=="function"?$?[ue.listener||ue]:[ue]:$?function(me){for(var Te=new Array(me.length),X=0;X<Te.length;++X)Te[X]=me[X].listener||me[X];return Te}(ue):v(ue,ue.length)}function T(k){var B=this._events;if(B!==void 0){var $=B[k];if(typeof $=="function")return 1;if($!==void 0)return $.length}return 0}function v(k,B){for(var $=new Array(B),K=0;K<B;++K)$[K]=k[K];return $}function A(k,B,$,K){if(typeof k.on=="function")K.once?k.once(B,$):k.on(B,$);else{if(typeof k.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof k);k.addEventListener(B,function ue(me){K.once&&k.removeEventListener(B,ue),$(me)})}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(k){if(typeof k!="number"||k<0||r(k))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+k+".");u=k}}),o.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(k){if(typeof k!="number"||k<0||r(k))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+k+".");return this._maxListeners=k,this},o.prototype.getMaxListeners=function(){return h(this)},o.prototype.emit=function(k){for(var B=[],$=1;$<arguments.length;$++)B.push(arguments[$]);var K=k==="error",ue=this._events;if(ue!==void 0)K=K&&ue.error===void 0;else if(!K)return!1;if(K){var me;if(B.length>0&&(me=B[0]),me instanceof Error)throw me;var Te=new Error("Unhandled error."+(me?" ("+me.message+")":""));throw Te.context=me,Te}var X=ue[k];if(X===void 0)return!1;if(typeof X=="function")n(X,this,B);else{var Q=X.length,be=v(X,Q);for($=0;$<Q;++$)n(be[$],this,B)}return!0},o.prototype.addListener=function(k,B){return f(this,k,B,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(k,B){return f(this,k,B,!0)},o.prototype.once=function(k,B){return d(B),this.on(k,m(this,k,B)),this},o.prototype.prependOnceListener=function(k,B){return d(B),this.prependListener(k,m(this,k,B)),this},o.prototype.removeListener=function(k,B){var $,K,ue,me,Te;if(d(B),(K=this._events)===void 0)return this;if(($=K[k])===void 0)return this;if($===B||$.listener===B)--this._eventsCount==0?this._events=Object.create(null):(delete K[k],K.removeListener&&this.emit("removeListener",k,$.listener||B));else if(typeof $!="function"){for(ue=-1,me=$.length-1;me>=0;me--)if($[me]===B||$[me].listener===B){Te=$[me].listener,ue=me;break}if(ue<0)return this;ue===0?$.shift():function(X,Q){for(;Q+1<X.length;Q++)X[Q]=X[Q+1];X.pop()}($,ue),$.length===1&&(K[k]=$[0]),K.removeListener!==void 0&&this.emit("removeListener",k,Te||B)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(k){var B,$,K;if(($=this._events)===void 0)return this;if($.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):$[k]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete $[k]),this;if(arguments.length===0){var ue,me=Object.keys($);for(K=0;K<me.length;++K)(ue=me[K])!=="removeListener"&&this.removeAllListeners(ue);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(B=$[k])=="function")this.removeListener(k,B);else if(B!==void 0)for(K=B.length-1;K>=0;K--)this.removeListener(k,B[K]);return this},o.prototype.listeners=function(k){return p(this,k,!0)},o.prototype.rawListeners=function(k){return p(this,k,!1)},o.listenerCount=function(k,B){return typeof k.listenerCount=="function"?k.listenerCount(B):T.call(k,B)},o.prototype.listenerCount=T,o.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]}},7316:function(i){i.exports=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,o,u;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(o=r;o--!=0;)if(!e(t[o],n[o]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(u=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(o=r;o--!=0;)if(!Object.prototype.hasOwnProperty.call(n,u[o]))return!1;for(o=r;o--!=0;){var d=u[o];if(!e(t[d],n[d]))return!1}return!0}return t!=t&&n!=n}},7986:function(i,e){e.read=function(t,n,r,o,u){var d,h,f=8*u-o-1,y=(1<<f)-1,m=y>>1,p=-7,T=r?u-1:0,v=r?-1:1,A=t[n+T];for(T+=v,d=A&(1<<-p)-1,A>>=-p,p+=f;p>0;d=256*d+t[n+T],T+=v,p-=8);for(h=d&(1<<-p)-1,d>>=-p,p+=o;p>0;h=256*h+t[n+T],T+=v,p-=8);if(d===0)d=1-m;else{if(d===y)return h?NaN:1/0*(A?-1:1);h+=Math.pow(2,o),d-=m}return(A?-1:1)*h*Math.pow(2,d-o)},e.write=function(t,n,r,o,u,d){var h,f,y,m=8*d-u-1,p=(1<<m)-1,T=p>>1,v=u===23?Math.pow(2,-24)-Math.pow(2,-77):0,A=o?0:d-1,k=o?1:-1,B=n<0||n===0&&1/n<0?1:0;for(n=Math.abs(n),isNaN(n)||n===1/0?(f=isNaN(n)?1:0,h=p):(h=Math.floor(Math.log(n)/Math.LN2),n*(y=Math.pow(2,-h))<1&&(h--,y*=2),(n+=h+T>=1?v/y:v*Math.pow(2,1-T))*y>=2&&(h++,y/=2),h+T>=p?(f=0,h=p):h+T>=1?(f=(n*y-1)*Math.pow(2,u),h+=T):(f=n*Math.pow(2,T-1)*Math.pow(2,u),h=0));u>=8;t[r+A]=255&f,A+=k,f/=256,u-=8);for(h=h<<u|f,m+=u;m>0;t[r+A]=255&h,A+=k,h/=256,m-=8);t[r+A-k]|=128*B}},5474:function(i,e,t){(function(n){n.parser=function(L,j){return new u(L,j)},n.SAXParser=u,n.SAXStream=h,n.createStream=function(L,j){return new h(L,j)},n.MAX_BUFFER_LENGTH=65536;var r,o=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function u(L,j){if(!(this instanceof u))return new u(L,j);var pe=this;(function(ie){for(var He=0,st=o.length;He<st;He++)ie[o[He]]=""})(pe),pe.q=pe.c="",pe.bufferCheckPosition=n.MAX_BUFFER_LENGTH,pe.opt=j||{},pe.opt.lowercase=pe.opt.lowercase||pe.opt.lowercasetags,pe.looseCase=pe.opt.lowercase?"toLowerCase":"toUpperCase",pe.tags=[],pe.closed=pe.closedRoot=pe.sawRoot=!1,pe.tag=pe.error=null,pe.strict=!!L,pe.noscript=!(!L&&!pe.opt.noscript),pe.state=xe.BEGIN,pe.strictEntities=pe.opt.strictEntities,pe.ENTITIES=pe.strictEntities?Object.create(n.XML_ENTITIES):Object.create(n.ENTITIES),pe.attribList=[],pe.opt.xmlns&&(pe.ns=Object.create($)),pe.trackPosition=pe.opt.position!==!1,pe.trackPosition&&(pe.position=pe.line=pe.column=0),Ge(pe,"onready")}n.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(L){function j(){}return j.prototype=L,new j}),Object.keys||(Object.keys=function(L){var j=[];for(var pe in L)L.hasOwnProperty(pe)&&j.push(pe);return j}),u.prototype={end:function(){Pe(this)},write:function(L){var j=this;if(this.error)throw this.error;if(j.closed)return tt(j,"Cannot write after close. Assign an onready handler.");if(L===null)return Pe(j);typeof L=="object"&&(L=L.toString());for(var pe=0,ie="";ie=ne(L,pe++),j.c=ie,ie;)switch(j.trackPosition&&(j.position++,ie===`
`?(j.line++,j.column=0):j.column++),j.state){case xe.BEGIN:if(j.state=xe.BEGIN_WHITESPACE,ie==="\uFEFF")continue;Z(j,ie);continue;case xe.BEGIN_WHITESPACE:Z(j,ie);continue;case xe.TEXT:if(j.sawRoot&&!j.closedRoot){for(var He=pe-1;ie&&ie!=="<"&&ie!=="&";)(ie=ne(L,pe++))&&j.trackPosition&&(j.position++,ie===`
`?(j.line++,j.column=0):j.column++);j.textNode+=L.substring(He,pe-1)}ie!=="<"||j.sawRoot&&j.closedRoot&&!j.strict?(!be(f,ie)||j.sawRoot&&!j.closedRoot||qe(j,"Text data outside of root node."),ie==="&"?j.state=xe.TEXT_ENTITY:j.textNode+=ie):(j.state=xe.OPEN_WAKA,j.startTagPosition=j.position);continue;case xe.SCRIPT:ie==="<"?j.state=xe.SCRIPT_ENDING:j.script+=ie;continue;case xe.SCRIPT_ENDING:ie==="/"?j.state=xe.CLOSE_TAG:(j.script+="<"+ie,j.state=xe.SCRIPT);continue;case xe.OPEN_WAKA:if(ie==="!")j.state=xe.SGML_DECL,j.sgmlDecl="";else if(!Q(f,ie))if(Q(K,ie))j.state=xe.OPEN_TAG,j.tagName=ie;else if(ie==="/")j.state=xe.CLOSE_TAG,j.tagName="";else if(ie==="?")j.state=xe.PROC_INST,j.procInstName=j.procInstBody="";else{if(qe(j,"Unencoded <"),j.startTagPosition+1<j.position){var st=j.position-j.startTagPosition;ie=new Array(st).join(" ")+ie}j.textNode+="<"+ie,j.state=xe.TEXT}continue;case xe.SGML_DECL:(j.sgmlDecl+ie).toUpperCase()===v?(_e(j,"onopencdata"),j.state=xe.CDATA,j.sgmlDecl="",j.cdata=""):j.sgmlDecl+ie==="--"?(j.state=xe.COMMENT,j.comment="",j.sgmlDecl=""):(j.sgmlDecl+ie).toUpperCase()===A?(j.state=xe.DOCTYPE,(j.doctype||j.sawRoot)&&qe(j,"Inappropriately located doctype declaration"),j.doctype="",j.sgmlDecl=""):ie===">"?(_e(j,"onsgmldeclaration",j.sgmlDecl),j.sgmlDecl="",j.state=xe.TEXT):(Q(p,ie)&&(j.state=xe.SGML_DECL_QUOTED),j.sgmlDecl+=ie);continue;case xe.SGML_DECL_QUOTED:ie===j.q&&(j.state=xe.SGML_DECL,j.q=""),j.sgmlDecl+=ie;continue;case xe.DOCTYPE:ie===">"?(j.state=xe.TEXT,_e(j,"ondoctype",j.doctype),j.doctype=!0):(j.doctype+=ie,ie==="["?j.state=xe.DOCTYPE_DTD:Q(p,ie)&&(j.state=xe.DOCTYPE_QUOTED,j.q=ie));continue;case xe.DOCTYPE_QUOTED:j.doctype+=ie,ie===j.q&&(j.q="",j.state=xe.DOCTYPE);continue;case xe.DOCTYPE_DTD:j.doctype+=ie,ie==="]"?j.state=xe.DOCTYPE:Q(p,ie)&&(j.state=xe.DOCTYPE_DTD_QUOTED,j.q=ie);continue;case xe.DOCTYPE_DTD_QUOTED:j.doctype+=ie,ie===j.q&&(j.state=xe.DOCTYPE_DTD,j.q="");continue;case xe.COMMENT:ie==="-"?j.state=xe.COMMENT_ENDING:j.comment+=ie;continue;case xe.COMMENT_ENDING:ie==="-"?(j.state=xe.COMMENT_ENDED,j.comment=Je(j.opt,j.comment),j.comment&&_e(j,"oncomment",j.comment),j.comment=""):(j.comment+="-"+ie,j.state=xe.COMMENT);continue;case xe.COMMENT_ENDED:ie!==">"?(qe(j,"Malformed comment"),j.comment+="--"+ie,j.state=xe.COMMENT):j.state=xe.TEXT;continue;case xe.CDATA:ie==="]"?j.state=xe.CDATA_ENDING:j.cdata+=ie;continue;case xe.CDATA_ENDING:ie==="]"?j.state=xe.CDATA_ENDING_2:(j.cdata+="]"+ie,j.state=xe.CDATA);continue;case xe.CDATA_ENDING_2:ie===">"?(j.cdata&&_e(j,"oncdata",j.cdata),_e(j,"onclosecdata"),j.cdata="",j.state=xe.TEXT):ie==="]"?j.cdata+="]":(j.cdata+="]]"+ie,j.state=xe.CDATA);continue;case xe.PROC_INST:ie==="?"?j.state=xe.PROC_INST_ENDING:Q(f,ie)?j.state=xe.PROC_INST_BODY:j.procInstName+=ie;continue;case xe.PROC_INST_BODY:if(!j.procInstBody&&Q(f,ie))continue;ie==="?"?j.state=xe.PROC_INST_ENDING:j.procInstBody+=ie;continue;case xe.PROC_INST_ENDING:ie===">"?(_e(j,"onprocessinginstruction",{name:j.procInstName,body:j.procInstBody}),j.procInstName=j.procInstBody="",j.state=xe.TEXT):(j.procInstBody+="?"+ie,j.state=xe.PROC_INST_BODY);continue;case xe.OPEN_TAG:Q(ue,ie)?j.tagName+=ie:(et(j),ie===">"?Fe(j):ie==="/"?j.state=xe.OPEN_TAG_SLASH:(be(f,ie)&&qe(j,"Invalid character in tag name"),j.state=xe.ATTRIB));continue;case xe.OPEN_TAG_SLASH:ie===">"?(Fe(j,!0),Ne(j)):(qe(j,"Forward-slash in opening tag not followed by >"),j.state=xe.ATTRIB);continue;case xe.ATTRIB:if(Q(f,ie))continue;ie===">"?Fe(j):ie==="/"?j.state=xe.OPEN_TAG_SLASH:Q(K,ie)?(j.attribName=ie,j.attribValue="",j.state=xe.ATTRIB_NAME):qe(j,"Invalid attribute name");continue;case xe.ATTRIB_NAME:ie==="="?j.state=xe.ATTRIB_VALUE:ie===">"?(qe(j,"Attribute without value"),j.attribValue=j.attribName,jt(j),Fe(j)):Q(f,ie)?j.state=xe.ATTRIB_NAME_SAW_WHITE:Q(ue,ie)?j.attribName+=ie:qe(j,"Invalid attribute name");continue;case xe.ATTRIB_NAME_SAW_WHITE:if(ie==="=")j.state=xe.ATTRIB_VALUE;else{if(Q(f,ie))continue;qe(j,"Attribute without value"),j.tag.attributes[j.attribName]="",j.attribValue="",_e(j,"onattribute",{name:j.attribName,value:""}),j.attribName="",ie===">"?Fe(j):Q(K,ie)?(j.attribName=ie,j.state=xe.ATTRIB_NAME):(qe(j,"Invalid attribute name"),j.state=xe.ATTRIB)}continue;case xe.ATTRIB_VALUE:if(Q(f,ie))continue;Q(p,ie)?(j.q=ie,j.state=xe.ATTRIB_VALUE_QUOTED):(qe(j,"Unquoted attribute value"),j.state=xe.ATTRIB_VALUE_UNQUOTED,j.attribValue=ie);continue;case xe.ATTRIB_VALUE_QUOTED:if(ie!==j.q){ie==="&"?j.state=xe.ATTRIB_VALUE_ENTITY_Q:j.attribValue+=ie;continue}jt(j),j.q="",j.state=xe.ATTRIB_VALUE_CLOSED;continue;case xe.ATTRIB_VALUE_CLOSED:Q(f,ie)?j.state=xe.ATTRIB:ie===">"?Fe(j):ie==="/"?j.state=xe.OPEN_TAG_SLASH:Q(K,ie)?(qe(j,"No whitespace between attributes"),j.attribName=ie,j.attribValue="",j.state=xe.ATTRIB_NAME):qe(j,"Invalid attribute name");continue;case xe.ATTRIB_VALUE_UNQUOTED:if(be(T,ie)){ie==="&"?j.state=xe.ATTRIB_VALUE_ENTITY_U:j.attribValue+=ie;continue}jt(j),ie===">"?Fe(j):j.state=xe.ATTRIB;continue;case xe.CLOSE_TAG:if(j.tagName)ie===">"?Ne(j):Q(ue,ie)?j.tagName+=ie:j.script?(j.script+="</"+j.tagName,j.tagName="",j.state=xe.SCRIPT):(be(f,ie)&&qe(j,"Invalid tagname in closing tag"),j.state=xe.CLOSE_TAG_SAW_WHITE);else{if(Q(f,ie))continue;be(K,ie)?j.script?(j.script+="</"+ie,j.state=xe.SCRIPT):qe(j,"Invalid tagname in closing tag."):j.tagName=ie}continue;case xe.CLOSE_TAG_SAW_WHITE:if(Q(f,ie))continue;ie===">"?Ne(j):qe(j,"Invalid characters in closing tag");continue;case xe.TEXT_ENTITY:case xe.ATTRIB_VALUE_ENTITY_Q:case xe.ATTRIB_VALUE_ENTITY_U:var Xe,Ze;switch(j.state){case xe.TEXT_ENTITY:Xe=xe.TEXT,Ze="textNode";break;case xe.ATTRIB_VALUE_ENTITY_Q:Xe=xe.ATTRIB_VALUE_QUOTED,Ze="attribValue";break;case xe.ATTRIB_VALUE_ENTITY_U:Xe=xe.ATTRIB_VALUE_UNQUOTED,Ze="attribValue"}ie===";"?(j[Ze]+=bt(j),j.entity="",j.state=Xe):Q(j.entity.length?Te:me,ie)?j.entity+=ie:(qe(j,"Invalid character in entity name"),j[Ze]+="&"+j.entity+ie,j.entity="",j.state=Xe);continue;default:throw new Error(j,"Unknown state: "+j.state)}return j.position>=j.bufferCheckPosition&&function(We){for(var rt=Math.max(n.MAX_BUFFER_LENGTH,10),vt=0,yt=0,ht=o.length;yt<ht;yt++){var Sn=We[o[yt]].length;if(Sn>rt)switch(o[yt]){case"textNode":$e(We);break;case"cdata":_e(We,"oncdata",We.cdata),We.cdata="";break;case"script":_e(We,"onscript",We.script),We.script="";break;default:tt(We,"Max buffer length exceeded: "+o[yt])}vt=Math.max(vt,Sn)}var tn=n.MAX_BUFFER_LENGTH-vt;We.bufferCheckPosition=tn+We.position}(j),j},resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){var L;$e(L=this),L.cdata!==""&&(_e(L,"oncdata",L.cdata),L.cdata=""),L.script!==""&&(_e(L,"onscript",L.script),L.script="")}};try{r=t(3515).Stream}catch{r=function(){}}var d=n.EVENTS.filter(function(L){return L!=="error"&&L!=="end"});function h(L,j){if(!(this instanceof h))return new h(L,j);r.apply(this),this._parser=new u(L,j),this.writable=!0,this.readable=!0;var pe=this;this._parser.onend=function(){pe.emit("end")},this._parser.onerror=function(ie){pe.emit("error",ie),pe._parser.error=null},this._decoder=null,d.forEach(function(ie){Object.defineProperty(pe,"on"+ie,{get:function(){return pe._parser["on"+ie]},set:function(He){if(!He)return pe.removeAllListeners(ie),pe._parser["on"+ie]=He,He;pe.on(ie,He)},enumerable:!0,configurable:!1})})}h.prototype=Object.create(r.prototype,{constructor:{value:h}}),h.prototype.write=function(L){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(L)){if(!this._decoder){var j=t(748).StringDecoder;this._decoder=new j("utf8")}L=this._decoder.write(L)}return this._parser.write(L.toString()),this.emit("data",L),!0},h.prototype.end=function(L){return L&&L.length&&this.write(L),this._parser.end(),!0},h.prototype.on=function(L,j){var pe=this;return pe._parser["on"+L]||d.indexOf(L)===-1||(pe._parser["on"+L]=function(){var ie=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);ie.splice(0,0,L),pe.emit.apply(pe,ie)}),r.prototype.on.call(pe,L,j)};var f=`\r
	 `,y="0124356789",m="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",p=`'"`,T=f+">",v="[CDATA[",A="DOCTYPE",k="http://www.w3.org/XML/1998/namespace",B="http://www.w3.org/2000/xmlns/",$={xml:k,xmlns:B};f=X(f),y=X(y),m=X(m);var K=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,ue=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/,me=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,Te=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;function X(L){return L.split("").reduce(function(j,pe){return j[pe]=!0,j},{})}function Q(L,j){return function(pe){return Object.prototype.toString.call(pe)==="[object RegExp]"}(L)?!!j.match(L):L[j]}function be(L,j){return!Q(L,j)}p=X(p),T=X(T);var F,ke,Qe,xe=0;for(var Ye in n.STATE={BEGIN:xe++,BEGIN_WHITESPACE:xe++,TEXT:xe++,TEXT_ENTITY:xe++,OPEN_WAKA:xe++,SGML_DECL:xe++,SGML_DECL_QUOTED:xe++,DOCTYPE:xe++,DOCTYPE_QUOTED:xe++,DOCTYPE_DTD:xe++,DOCTYPE_DTD_QUOTED:xe++,COMMENT_STARTING:xe++,COMMENT:xe++,COMMENT_ENDING:xe++,COMMENT_ENDED:xe++,CDATA:xe++,CDATA_ENDING:xe++,CDATA_ENDING_2:xe++,PROC_INST:xe++,PROC_INST_BODY:xe++,PROC_INST_ENDING:xe++,OPEN_TAG:xe++,OPEN_TAG_SLASH:xe++,ATTRIB:xe++,ATTRIB_NAME:xe++,ATTRIB_NAME_SAW_WHITE:xe++,ATTRIB_VALUE:xe++,ATTRIB_VALUE_QUOTED:xe++,ATTRIB_VALUE_CLOSED:xe++,ATTRIB_VALUE_UNQUOTED:xe++,ATTRIB_VALUE_ENTITY_Q:xe++,ATTRIB_VALUE_ENTITY_U:xe++,CLOSE_TAG:xe++,CLOSE_TAG_SAW_WHITE:xe++,SCRIPT:xe++,SCRIPT_ENDING:xe++},n.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},n.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(n.ENTITIES).forEach(function(L){var j=n.ENTITIES[L],pe=typeof j=="number"?String.fromCharCode(j):j;n.ENTITIES[L]=pe}),n.STATE)n.STATE[n.STATE[Ye]]=Ye;function Ge(L,j,pe){L[j]&&L[j](pe)}function _e(L,j,pe){L.textNode&&$e(L),Ge(L,j,pe)}function $e(L){L.textNode=Je(L.opt,L.textNode),L.textNode&&Ge(L,"ontext",L.textNode),L.textNode=""}function Je(L,j){return L.trim&&(j=j.trim()),L.normalize&&(j=j.replace(/\s+/g," ")),j}function tt(L,j){return $e(L),L.trackPosition&&(j+=`
Line: `+L.line+`
Column: `+L.column+`
Char: `+L.c),j=new Error(j),L.error=j,Ge(L,"onerror",j),L}function Pe(L){return L.sawRoot&&!L.closedRoot&&qe(L,"Unclosed root tag"),L.state!==xe.BEGIN&&L.state!==xe.BEGIN_WHITESPACE&&L.state!==xe.TEXT&&tt(L,"Unexpected end"),$e(L),L.c="",L.closed=!0,Ge(L,"onend"),u.call(L,L.strict,L.opt),L}function qe(L,j){if(typeof L!="object"||!(L instanceof u))throw new Error("bad call to strictFail");L.strict&&tt(L,j)}function et(L){L.strict||(L.tagName=L.tagName[L.looseCase]());var j=L.tags[L.tags.length-1]||L,pe=L.tag={name:L.tagName,attributes:{}};L.opt.xmlns&&(pe.ns=j.ns),L.attribList.length=0,_e(L,"onopentagstart",pe)}function pt(L,j){var pe=L.indexOf(":")<0?["",L]:L.split(":"),ie=pe[0],He=pe[1];return j&&L==="xmlns"&&(ie="xmlns",He=""),{prefix:ie,local:He}}function jt(L){if(L.strict||(L.attribName=L.attribName[L.looseCase]()),L.attribList.indexOf(L.attribName)!==-1||L.tag.attributes.hasOwnProperty(L.attribName))L.attribName=L.attribValue="";else{if(L.opt.xmlns){var j=pt(L.attribName,!0),pe=j.prefix,ie=j.local;if(pe==="xmlns")if(ie==="xml"&&L.attribValue!==k)qe(L,"xml: prefix must be bound to "+k+`
Actual: `+L.attribValue);else if(ie==="xmlns"&&L.attribValue!==B)qe(L,"xmlns: prefix must be bound to "+B+`
Actual: `+L.attribValue);else{var He=L.tag,st=L.tags[L.tags.length-1]||L;He.ns===st.ns&&(He.ns=Object.create(st.ns)),He.ns[ie]=L.attribValue}L.attribList.push([L.attribName,L.attribValue])}else L.tag.attributes[L.attribName]=L.attribValue,_e(L,"onattribute",{name:L.attribName,value:L.attribValue});L.attribName=L.attribValue=""}}function Fe(L,j){if(L.opt.xmlns){var pe=L.tag,ie=pt(L.tagName);pe.prefix=ie.prefix,pe.local=ie.local,pe.uri=pe.ns[ie.prefix]||"",pe.prefix&&!pe.uri&&(qe(L,"Unbound namespace prefix: "+JSON.stringify(L.tagName)),pe.uri=ie.prefix);var He=L.tags[L.tags.length-1]||L;pe.ns&&He.ns!==pe.ns&&Object.keys(pe.ns).forEach(function(ft){_e(L,"onopennamespace",{prefix:ft,uri:pe.ns[ft]})});for(var st=0,Xe=L.attribList.length;st<Xe;st++){var Ze=L.attribList[st],We=Ze[0],rt=Ze[1],vt=pt(We,!0),yt=vt.prefix,ht=vt.local,Sn=yt===""?"":pe.ns[yt]||"",tn={name:We,value:rt,prefix:yt,local:ht,uri:Sn};yt&&yt!=="xmlns"&&!Sn&&(qe(L,"Unbound namespace prefix: "+JSON.stringify(yt)),tn.uri=yt),L.tag.attributes[We]=tn,_e(L,"onattribute",tn)}L.attribList.length=0}L.tag.isSelfClosing=!!j,L.sawRoot=!0,L.tags.push(L.tag),_e(L,"onopentag",L.tag),j||(L.noscript||L.tagName.toLowerCase()!=="script"?L.state=xe.TEXT:L.state=xe.SCRIPT,L.tag=null,L.tagName=""),L.attribName=L.attribValue="",L.attribList.length=0}function Ne(L){if(!L.tagName)return qe(L,"Weird empty close tag."),L.textNode+="</>",void(L.state=xe.TEXT);if(L.script){if(L.tagName!=="script")return L.script+="</"+L.tagName+">",L.tagName="",void(L.state=xe.SCRIPT);_e(L,"onscript",L.script),L.script=""}var j=L.tags.length,pe=L.tagName;L.strict||(pe=pe[L.looseCase]());for(var ie=pe;j--&&L.tags[j].name!==ie;)qe(L,"Unexpected close tag");if(j<0)return qe(L,"Unmatched closing tag: "+L.tagName),L.textNode+="</"+L.tagName+">",void(L.state=xe.TEXT);L.tagName=pe;for(var He=L.tags.length;He-- >j;){var st=L.tag=L.tags.pop();L.tagName=L.tag.name,_e(L,"onclosetag",L.tagName);var Xe={};for(var Ze in st.ns)Xe[Ze]=st.ns[Ze];var We=L.tags[L.tags.length-1]||L;L.opt.xmlns&&st.ns!==We.ns&&Object.keys(st.ns).forEach(function(rt){var vt=st.ns[rt];_e(L,"onclosenamespace",{prefix:rt,uri:vt})})}j===0&&(L.closedRoot=!0),L.tagName=L.attribValue=L.attribName="",L.attribList.length=0,L.state=xe.TEXT}function bt(L){var j,pe=L.entity,ie=pe.toLowerCase(),He="";return L.ENTITIES[pe]?L.ENTITIES[pe]:L.ENTITIES[ie]?L.ENTITIES[ie]:((pe=ie).charAt(0)==="#"&&(pe.charAt(1)==="x"?(pe=pe.slice(2),He=(j=parseInt(pe,16)).toString(16)):(pe=pe.slice(1),He=(j=parseInt(pe,10)).toString(10))),pe=pe.replace(/^0+/,""),He.toLowerCase()!==pe?(qe(L,"Invalid character entity"),"&"+L.entity+";"):String.fromCodePoint(j))}function Z(L,j){j==="<"?(L.state=xe.OPEN_WAKA,L.startTagPosition=L.position):be(f,j)&&(qe(L,"Non-whitespace before first tag."),L.textNode=j,L.state=xe.TEXT)}function ne(L,j){var pe="";return j<L.length&&(pe=L.charAt(j)),pe}xe=n.STATE,String.fromCodePoint||(F=String.fromCharCode,ke=Math.floor,Qe=function(){var L,j,pe=[],ie=-1,He=arguments.length;if(!He)return"";for(var st="";++ie<He;){var Xe=Number(arguments[ie]);if(!isFinite(Xe)||Xe<0||Xe>1114111||ke(Xe)!==Xe)throw RangeError("Invalid code point: "+Xe);Xe<=65535?pe.push(Xe):(L=55296+((Xe-=65536)>>10),j=Xe%1024+56320,pe.push(L,j)),(ie+1===He||pe.length>16384)&&(st+=F.apply(null,pe),pe.length=0)}return st},Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:Qe,configurable:!0,writable:!0}):String.fromCodePoint=Qe)})(e)},6739:function(i,e,t){(function(n,r,o,u,d){function h(ne){if("contents"in ne)for(var L=("styleAttrs"in ne)?ne.styleAttrs[u.byName.ruby.qname]:null,j=ne.kind==="span"&&(L==="container"||L==="textContainer"||L==="baseContainer"),pe=ne.contents.length-1;pe>=0;pe--)!j||"styleAttrs"in ne.contents[pe]&&u.byName.ruby.qname in ne.contents[pe].styleAttrs?h(ne.contents[pe]):delete ne.contents[pe]}function f(ne,L,j,pe){var ie=pe&&pe.timeContainer==="seq",He=0;pe&&(He=ie&&j?j.end:pe.begin),L.begin=L.explicit_begin?L.explicit_begin+He:He;var st=L.begin,Xe=null;if("sets"in L)for(var Ze=0;Ze<L.sets.length;Ze++)f(ne,L.sets[Ze],Xe,L),st=L.timeContainer==="seq"?L.sets[Ze].end:Math.max(st,L.sets[Ze].end),Xe=L.sets[Ze];if("contents"in L){if("contents"in L)for(var We=0;We<L.contents.length;We++)f(ne,L.contents[We],Xe,L),st=L.timeContainer==="seq"?L.contents[We].end:Math.max(st,L.contents[We].end),Xe=L.contents[We]}else st=ie?L.begin:Number.POSITIVE_INFINITY;L.explicit_end!==null&&L.explicit_dur!==null?L.end=Math.min(L.begin+L.explicit_dur,He+L.explicit_end):L.explicit_end===null&&L.explicit_dur!==null?L.end=L.begin+L.explicit_dur:L.explicit_end!==null&&L.explicit_dur===null?L.end=He+L.explicit_end:L.end=st,delete L.explicit_begin,delete L.explicit_dur,delete L.explicit_end,ne._registerEvent(L)}function y(ne){this.node=ne}function m(){this.events=[],this.head=new p,this.body=null}function p(){this.styling=new T,this.layout=new k}function T(){this.styles={},this.initials={}}function v(){this.id=null,this.styleAttrs=null,this.styleRefs=null}function A(){this.styleAttrs=null}function k(){this.regions={}}function B(ne,L){$.call(this,"image"),this.src=ne,this.type=L}function $(ne){this.kind=ne}function K(ne){this.id=ne}function ue(ne){this.regionID=ne}function me(ne){this.styleAttrs=ne}function Te(ne){this.sets=ne}function X(ne){this.contents=ne}function Q(ne,L,j){this.explicit_begin=ne,this.explicit_end=L,this.explicit_dur=j}function be(){$.call(this,"body")}function F(){$.call(this,"div")}function ke(){$.call(this,"p")}function Qe(){$.call(this,"span")}function xe(){$.call(this,"span")}function Ye(){$.call(this,"br")}function Ge(){}function _e(){}function $e(ne){return ne&&"xml:id"in ne.attributes&&ne.attributes["xml:id"].value||null}function Je(ne){return ne&&"style"in ne.attributes?ne.attributes.style.value.split(" "):[]}function tt(ne,L){var j={};if(ne!==null)for(var pe in ne.attributes){var ie=ne.attributes[pe].uri+" "+ne.attributes[pe].local,He=u.byQName[ie];if(He!==void 0){var st=He.parse(ne.attributes[pe].value);st!==null?(j[ie]=st,He===u.byName.zIndex&&Fe(L,"zIndex attribute present but not used by IMSC1 since regions do not overlap")):Ne(L,"Cannot parse styling attribute "+ie+" --> "+ne.attributes[pe].value)}}return j}function Pe(ne,L,j){for(var pe in ne.attributes)if(ne.attributes[pe].uri===L&&ne.attributes[pe].local===j)return ne.attributes[pe].value;return null}function qe(ne,L,j){var pe,ie=null;return(pe=/^(\d+(?:\.\d+)?)f$/.exec(j))!==null?L!==null&&(ie=parseFloat(pe[1])/L):(pe=/^(\d+(?:\.\d+)?)t$/.exec(j))!==null?ne!==null&&(ie=parseFloat(pe[1])/ne):(pe=/^(\d+(?:\.\d+)?)ms$/.exec(j))!==null?ie=parseFloat(pe[1])/1e3:(pe=/^(\d+(?:\.\d+)?)s$/.exec(j))!==null?ie=parseFloat(pe[1]):(pe=/^(\d+(?:\.\d+)?)h$/.exec(j))!==null?ie=3600*parseFloat(pe[1]):(pe=/^(\d+(?:\.\d+)?)m$/.exec(j))!==null?ie=60*parseFloat(pe[1]):(pe=/^(\d{2,}):(\d\d):(\d\d(?:\.\d+)?)$/.exec(j))!==null?ie=3600*parseInt(pe[1])+60*parseInt(pe[2])+parseFloat(pe[3]):(pe=/^(\d{2,}):(\d\d):(\d\d)\:(\d{2,})$/.exec(j))!==null&&L!==null&&(ie=3600*parseInt(pe[1])+60*parseInt(pe[2])+parseInt(pe[3])+(pe[4]===null?0:parseInt(pe[4])/L)),ie}function et(ne,L,j){for(;L.styleRefs.length>0;){var pe=L.styleRefs.pop();pe in ne.styles?(et(ne,ne.styles[pe],j),jt(ne.styles[pe].styleAttrs,L.styleAttrs)):Ne(j,"Non-existant style id referenced")}}function pt(ne,L,j,pe){for(var ie=L.length-1;ie>=0;ie--){var He=L[ie];He in ne.styles?jt(ne.styles[He].styleAttrs,j):Ne(pe,"Non-existant style id referenced")}}function jt(ne,L){for(var j in ne)ne.hasOwnProperty(j)&&(j in L||(L[j]=ne[j]))}function Fe(ne,L){if(ne&&ne.warn&&ne.warn(L))throw L}function Ne(ne,L){if(ne&&ne.error&&ne.error(L))throw L}function bt(ne,L){throw ne&&ne.fatal&&ne.fatal(L),L}function Z(ne,L){for(var j,pe=0,ie=ne.length-1;pe<=ie;){var He=ne[j=Math.floor((pe+ie)/2)];if(He<L)pe=j+1;else{if(!(He>L))return{found:!0,index:j};ie=j-1}}return{found:!1,index:pe}}n.fromXML=function(ne,L,j){var pe=r.parser(!0,{xmlns:!0}),ie=[],He=[],st=[],Xe=0,Ze=null;pe.onclosetag=function(ht){if(ie[0]instanceof Ge)Ze.head!==null&&Ze.head.styling!==null&&pt(Ze.head.styling,ie[0].styleRefs,ie[0].styleAttrs,L),delete ie[0].styleRefs;else if(ie[0]instanceof T)for(var Sn in ie[0].styles)ie[0].styles.hasOwnProperty(Sn)&&et(ie[0],ie[0].styles[Sn],L);else if(ie[0]instanceof ke||ie[0]instanceof Qe){if(ie[0].contents.length>1){var tn,ft=[ie[0].contents[0]];for(tn=1;tn<ie[0].contents.length;tn++)ie[0].contents[tn]instanceof xe&&ft[ft.length-1]instanceof xe?ft[ft.length-1].text+=ie[0].contents[tn].text:ft.push(ie[0].contents[tn]);ie[0].contents=ft}ie[0]instanceof Qe&&ie[0].contents.length===1&&ie[0].contents[0]instanceof xe&&(ie[0].text=ie[0].contents[0].text,delete ie[0].contents)}else ie[0]instanceof y&&(ie[0].node.uri===o.ns_tt&&ie[0].node.local==="metadata"?Xe--:Xe>0&&j&&"onCloseTag"in j&&j.onCloseTag());st.shift(),He.shift(),ie.shift()},pe.ontext=function(ht){if(ie[0]!==void 0)if(ie[0]instanceof Qe||ie[0]instanceof ke){if(ie[0]instanceof Qe){var Sn=ie[0].styleAttrs[u.byName.ruby.qname];if(Sn==="container"||Sn==="textContainer"||Sn==="baseContainer")return}var tn=new xe;tn.initFromText(Ze,ie[0],ht,He[0],st[0],L),ie[0].contents.push(tn)}else ie[0]instanceof y&&Xe>0&&j&&"onText"in j&&j.onText(ht)},pe.onopentag=function(ht){var Sn=ht.attributes["xml:space"];Sn?st.unshift(Sn.value):st.length===0?st.unshift("default"):st.unshift(st[0]);var tn=ht.attributes["xml:lang"];if(tn?He.unshift(tn.value):He.length===0?He.unshift(""):He.unshift(He[0]),ht.uri===o.ns_tt)if(ht.local==="tt")Ze!==null&&bt(L,"Two <tt> elements at ("+this.line+","+this.column+")"),(Ze=new m).initFromNode(ht,He[0],L),ie.unshift(Ze);else if(ht.local==="head")ie[0]instanceof m||bt(L,"Parent of <head> element is not <tt> at ("+this.line+","+this.column+")"),ie.unshift(Ze.head);else if(ht.local==="styling")ie[0]instanceof p||bt(L,"Parent of <styling> element is not <head> at ("+this.line+","+this.column+")"),ie.unshift(Ze.head.styling);else if(ht.local==="style"){var ft;ie[0]instanceof T?((ft=new v).initFromNode(ht,L),ft.id?Ze.head.styling.styles[ft.id]=ft:Ne(L,"<style> element missing @id attribute"),ie.unshift(ft)):ie[0]instanceof Ge?((ft=new v).initFromNode(ht,L),jt(ft.styleAttrs,ie[0].styleAttrs),ie.unshift(ft)):bt(L,"Parent of <style> element is not <styling> or <region> at ("+this.line+","+this.column+")")}else if(ht.local==="initial"){var dt;if(ie[0]instanceof T){for(var nn in(dt=new A).initFromNode(ht,L),dt.styleAttrs)dt.styleAttrs.hasOwnProperty(nn)&&(Ze.head.styling.initials[nn]=dt.styleAttrs[nn]);ie.unshift(dt)}else bt(L,"Parent of <initial> element is not <styling> at ("+this.line+","+this.column+")")}else if(ht.local==="layout")ie[0]instanceof p||bt(L,"Parent of <layout> element is not <head> at "+this.line+","+this.column+")"),ie.unshift(Ze.head.layout);else if(ht.local==="region"){ie[0]instanceof k||bt(L,"Parent of <region> element is not <layout> at "+this.line+","+this.column+")");var Cn=new Ge;Cn.initFromNode(Ze,ht,He[0],L),!Cn.id||Cn.id in Ze.head.layout.regions?Ne(L,"Ignoring <region> with duplicate or missing @id at "+this.line+","+this.column+")"):Ze.head.layout.regions[Cn.id]=Cn,ie.unshift(Cn)}else if(ht.local==="body"){ie[0]instanceof m||bt(L,"Parent of <body> element is not <tt> at "+this.line+","+this.column+")"),Ze.body!==null&&bt(L,"Second <body> element at "+this.line+","+this.column+")");var Pn=new be;Pn.initFromNode(Ze,ht,He[0],L),Ze.body=Pn,ie.unshift(Pn)}else if(ht.local==="div"){ie[0]instanceof F||ie[0]instanceof be||bt(L,"Parent of <div> element is not <body> or <div> at "+this.line+","+this.column+")");var Dn=new F;Dn.initFromNode(Ze,ie[0],ht,He[0],L);var Kn=Dn.styleAttrs[u.byName.backgroundImage.qname];Kn&&(Dn.contents.push(new B(Kn)),delete Dn.styleAttrs[u.byName.backgroundImage.qname]),ie[0].contents.push(Dn),ie.unshift(Dn)}else if(ht.local==="image"){ie[0]instanceof F||bt(L,"Parent of <image> element is not <div> at "+this.line+","+this.column+")");var cr=new B;cr.initFromNode(Ze,ie[0],ht,He[0],L),ie[0].contents.push(cr),ie.unshift(cr)}else if(ht.local==="p"){ie[0]instanceof F||bt(L,"Parent of <p> element is not <div> at "+this.line+","+this.column+")");var Gt=new ke;Gt.initFromNode(Ze,ie[0],ht,He[0],L),ie[0].contents.push(Gt),ie.unshift(Gt)}else if(ht.local==="span"){ie[0]instanceof Qe||ie[0]instanceof ke||bt(L,"Parent of <span> element is not <span> or <p> at "+this.line+","+this.column+")");var Ht=new Qe;Ht.initFromNode(Ze,ie[0],ht,He[0],st[0],L),ie[0].contents.push(Ht),ie.unshift(Ht)}else if(ht.local==="br"){ie[0]instanceof Qe||ie[0]instanceof ke||bt(L,"Parent of <br> element is not <span> or <p> at "+this.line+","+this.column+")");var Mt=new Ye;Mt.initFromNode(Ze,ie[0],ht,He[0],L),ie[0].contents.push(Mt),ie.unshift(Mt)}else if(ht.local==="set"){ie[0]instanceof Qe||ie[0]instanceof ke||ie[0]instanceof F||ie[0]instanceof be||ie[0]instanceof Ge||ie[0]instanceof Ye||bt(L,"Parent of <set> element is not a content element or a region at "+this.line+","+this.column+")");var Lt=new _e;Lt.initFromNode(Ze,ie[0],ht,L),ie[0].sets.push(Lt),ie.unshift(Lt)}else ie.unshift(new y(ht));else ie.unshift(new y(ht));if(ie[0]instanceof y){if(ht.uri===o.ns_tt&&ht.local==="metadata")Xe++;else if(Xe>0&&j&&"onOpenTag"in j){var on=[];for(var fn in ht.attributes)on[ht.attributes[fn].uri+" "+ht.attributes[fn].local]={uri:ht.attributes[fn].uri,local:ht.attributes[fn].local,value:ht.attributes[fn].value};j.onOpenTag(ht.uri,ht.local,on)}}},pe.write(ne).close(),delete Ze.head.styling.styles;var We=!1;for(var rt in Ze.head.layout.regions)if(Ze.head.layout.regions.hasOwnProperty(rt)){We=!0;break}if(!We){var vt=Ge.prototype.createDefaultRegion(Ze.lang);Ze.head.layout.regions[vt.id]=vt}for(var yt in Ze.head.layout.regions)Ze.head.layout.regions.hasOwnProperty(yt)&&f(Ze,Ze.head.layout.regions[yt],null,null);return Ze.body&&f(Ze,Ze.body,null,null),Ze.body&&h(Ze.body),Ze},m.prototype.initFromNode=function(ne,L,j){var pe=function(Xe,Ze){var We=Pe(Xe,o.ns_ttp,"cellResolution"),rt=15,vt=32;if(We!==null){var yt=/(\d+) (\d+)/.exec(We);yt!==null?(vt=parseInt(yt[1]),rt=parseInt(yt[2])):Fe(Ze,"Malformed cellResolution value (using initial value instead)")}return{w:vt,h:rt}}(ne,j);this.cellLength={h:new d.ComputedLength(0,1/pe.h),w:new d.ComputedLength(1/pe.w,0)};var ie=function(Xe,Ze){var We,rt=Pe(Xe,o.ns_ttp,"frameRate"),vt=30;rt!==null&&((We=/(\d+)/.exec(rt))!==null?vt=parseInt(We[1]):Fe(Ze,"Malformed frame rate attribute (using initial value instead)"));var yt=Pe(Xe,o.ns_ttp,"frameRateMultiplier"),ht=1;yt!==null&&((We=/(\d+) (\d+)/.exec(yt))!==null?ht=parseInt(We[1])/parseInt(We[2]):Fe(Ze,"Malformed frame rate multiplier attribute (using initial value instead)"));var Sn=ht*vt,tn=1,ft=Pe(Xe,o.ns_ttp,"tickRate");return ft===null?rt!==null&&(tn=Sn):(We=/(\d+)/.exec(ft))!==null?tn=parseInt(We[1]):Fe(Ze,"Malformed tick rate attribute (using initial value instead)"),{effectiveFrameRate:Sn,tickRate:tn}}(ne,j);this.effectiveFrameRate=ie.effectiveFrameRate,this.tickRate=ie.tickRate,this.aspectRatio=function(Xe,Ze){var We=Pe(Xe,o.ns_ittp,"aspectRatio");We===null&&(We=Pe(Xe,o.ns_ttp,"displayAspectRatio"));var rt=null;if(We!==null){var vt=/(\d+)\s+(\d+)/.exec(We);if(vt!==null){var yt=parseInt(vt[1]),ht=parseInt(vt[2]);yt!==0&&ht!==0?rt=yt/ht:Ne(Ze,"Illegal aspectRatio values (ignoring)")}else Ne(Ze,"Malformed aspectRatio attribute (ignoring)")}return rt}(ne,j);var He=Pe(ne,o.ns_ttp,"timeBase");He!==null&&He!=="media"&&bt(j,"Unsupported time base");var st=function(Xe,Ze){var We=Pe(Xe,o.ns_tts,"extent");if(We===null)return null;var rt=We.split(" ");if(rt.length!==2)return Fe(Ze,"Malformed extent (ignoring)"),null;var vt=d.parseLength(rt[0]),yt=d.parseLength(rt[1]);return yt&&vt?{h:yt,w:vt}:(Fe(Ze,"Malformed extent values (ignoring)"),null)}(ne,j);st===null?this.pxLength={h:null,w:null}:(st.h.unit==="px"&&st.w.unit==="px"||bt(j,"Extent on TT must be in px or absent"),this.pxLength={h:new d.ComputedLength(0,1/st.h.value),w:new d.ComputedLength(1/st.w.value,0)}),this.dimensions={h:new d.ComputedLength(0,1),w:new d.ComputedLength(1,0)},this.lang=L},m.prototype._registerEvent=function(ne){if(!(ne.end<=ne.begin)){var L=Z(this.events,ne.begin);if(L.found||this.events.splice(L.index,0,ne.begin),ne.end!==Number.POSITIVE_INFINITY){var j=Z(this.events,ne.end);j.found||this.events.splice(j.index,0,ne.end)}}},m.prototype.getMediaTimeRange=function(){return[this.events[0],this.events[this.events.length-1]]},m.prototype.getMediaTimeEvents=function(){return this.events},v.prototype.initFromNode=function(ne,L){this.id=$e(ne),this.styleAttrs=tt(ne,L),this.styleRefs=Je(ne)},A.prototype.initFromNode=function(ne,L){for(var j in this.styleAttrs={},ne.attributes)if(ne.attributes[j].uri===o.ns_itts||ne.attributes[j].uri===o.ns_ebutts||ne.attributes[j].uri===o.ns_tts){var pe=ne.attributes[j].uri+" "+ne.attributes[j].local;this.styleAttrs[pe]=ne.attributes[j].value}},B.prototype.initFromNode=function(ne,L,j,pe,ie){this.src="src"in j.attributes?j.attributes.src.value:null,this.src||Ne(ie,"Invalid image@src attribute"),this.type="type"in j.attributes?j.attributes.type.value:null,this.type||Ne(ie,"Invalid image@type attribute"),me.prototype.initFromNode.call(this,ne,L,j,ie),Q.prototype.initFromNode.call(this,ne,L,j,ie),Te.prototype.initFromNode.call(this,ne,L,j,ie),ue.prototype.initFromNode.call(this,ne,L,j,ie),this.lang=pe},K.prototype.initFromNode=function(ne,L,j,pe){this.id=$e(j)},ue.prototype.initFromNode=function(ne,L,j,pe){this.regionID=function(ie){return ie&&"region"in ie.attributes?ie.attributes.region.value:""}(j)},me.prototype.initFromNode=function(ne,L,j,pe){this.styleAttrs=tt(j,pe),ne.head!==null&&ne.head.styling!==null&&pt(ne.head.styling,Je(j),this.styleAttrs,pe)},Te.prototype.initFromNode=function(ne,L,j,pe){this.sets=[]},X.prototype.initFromNode=function(ne,L,j,pe){this.contents=[]},Q.prototype.initFromNode=function(ne,L,j,pe){var ie=function(He,st,Xe,Ze){var We=null;Xe&&"begin"in Xe.attributes&&(We=qe(He.tickRate,He.effectiveFrameRate,Xe.attributes.begin.value))===null&&Fe(Ze,"Malformed begin value "+Xe.attributes.begin.value+" (using 0)");var rt=null;Xe&&"dur"in Xe.attributes&&(rt=qe(He.tickRate,He.effectiveFrameRate,Xe.attributes.dur.value))===null&&Fe(Ze,"Malformed dur value "+Xe.attributes.dur.value+" (ignoring)");var vt=null;return Xe&&"end"in Xe.attributes&&(vt=qe(He.tickRate,He.effectiveFrameRate,Xe.attributes.end.value))===null&&Fe(Ze,"Malformed end value (ignoring)"),{explicit_begin:We,explicit_end:vt,explicit_dur:rt}}(ne,0,j,pe);this.explicit_begin=ie.explicit_begin,this.explicit_end=ie.explicit_end,this.explicit_dur=ie.explicit_dur,this.timeContainer=function(He,st){var Xe=He&&"timeContainer"in He.attributes?He.attributes.timeContainer.value:null;return Xe&&Xe!=="par"?Xe==="seq"?"seq":(Ne(st,"Illegal value of timeContainer (assuming 'par')"),"par"):"par"}(j,pe)},be.prototype.initFromNode=function(ne,L,j,pe){me.prototype.initFromNode.call(this,ne,null,L,pe),Q.prototype.initFromNode.call(this,ne,null,L,pe),Te.prototype.initFromNode.call(this,ne,null,L,pe),ue.prototype.initFromNode.call(this,ne,null,L,pe),X.prototype.initFromNode.call(this,ne,null,L,pe),this.lang=j},F.prototype.initFromNode=function(ne,L,j,pe,ie){me.prototype.initFromNode.call(this,ne,L,j,ie),Q.prototype.initFromNode.call(this,ne,L,j,ie),Te.prototype.initFromNode.call(this,ne,L,j,ie),ue.prototype.initFromNode.call(this,ne,L,j,ie),X.prototype.initFromNode.call(this,ne,L,j,ie),this.lang=pe},ke.prototype.initFromNode=function(ne,L,j,pe,ie){me.prototype.initFromNode.call(this,ne,L,j,ie),Q.prototype.initFromNode.call(this,ne,L,j,ie),Te.prototype.initFromNode.call(this,ne,L,j,ie),ue.prototype.initFromNode.call(this,ne,L,j,ie),X.prototype.initFromNode.call(this,ne,L,j,ie),this.lang=pe},Qe.prototype.initFromNode=function(ne,L,j,pe,ie,He){me.prototype.initFromNode.call(this,ne,L,j,He),Q.prototype.initFromNode.call(this,ne,L,j,He),Te.prototype.initFromNode.call(this,ne,L,j,He),ue.prototype.initFromNode.call(this,ne,L,j,He),X.prototype.initFromNode.call(this,ne,L,j,He),this.space=ie,this.lang=pe},xe.prototype.initFromText=function(ne,L,j,pe,ie,He){Q.prototype.initFromNode.call(this,ne,L,null,He),this.text=j,this.space=ie,this.lang=pe},Ye.prototype.initFromNode=function(ne,L,j,pe,ie){ue.prototype.initFromNode.call(this,ne,L,j,ie),Q.prototype.initFromNode.call(this,ne,L,j,ie),this.lang=pe},Ge.prototype.createDefaultRegion=function(ne){var L=new Ge;return K.call(L,""),me.call(L,{}),Te.call(L,[]),Q.call(L,0,Number.POSITIVE_INFINITY,null),this.lang=ne,L},Ge.prototype.initFromNode=function(ne,L,j,pe){K.prototype.initFromNode.call(this,ne,null,L,pe),Q.prototype.initFromNode.call(this,ne,null,L,pe),Te.prototype.initFromNode.call(this,ne,null,L,pe),this.styleAttrs=tt(L,pe),this.styleRefs=Je(L),this.lang=j},_e.prototype.initFromNode=function(ne,L,j,pe){Q.prototype.initFromNode.call(this,ne,L,j,pe);var ie=tt(j,pe);for(var He in this.qname=null,this.value=null,ie)if(ie.hasOwnProperty(He)){if(this.qname){Ne(pe,"More than one style specified on set");break}this.qname=He,this.value=ie[He]}}})(e,typeof sax>"u"?t(5474):sax,typeof imscNames>"u"?t(977):imscNames,typeof imscStyles>"u"?t(1219):imscStyles,typeof imscUtils>"u"?t(6404):imscUtils)},1612:function(i,e,t){var n=/firefox/i.test(navigator.userAgent);(function(r,o,u){function d(X,Q,be,F){var ke;if(be.kind==="region")(ke=document.createElement("div")).style.position="absolute";else if(be.kind==="body")ke=document.createElement("div");else if(be.kind==="div")ke=document.createElement("div");else if(be.kind==="image"){if(ke=document.createElement("img"),X.imgResolver!==null&&be.src!==null){var Qe=X.imgResolver(be.src,ke);Qe&&(ke.src=Qe),ke.height=X.regionH,ke.width=X.regionW}}else if(be.kind==="p")ke=document.createElement("p");else if(be.kind==="span")if(be.styleAttrs[u.byName.ruby.qname]==="container")ke=document.createElement("ruby"),X.ruby=!0;else if(be.styleAttrs[u.byName.ruby.qname]==="base")ke=document.createElement("span");else if(be.styleAttrs[u.byName.ruby.qname]==="text")ke=document.createElement("rt");else if(be.styleAttrs[u.byName.ruby.qname]==="baseContainer")ke=document.createElement("rbc");else if(be.styleAttrs[u.byName.ruby.qname]==="textContainer")ke=document.createElement("rtc");else{if(be.styleAttrs[u.byName.ruby.qname]==="delimiter")return;ke=document.createElement("span")}else be.kind==="br"&&(ke=document.createElement("br"));if(ke){if(be.lang&&(be.kind!=="region"&&be.lang===F.lang||(ke.lang=be.lang)),Q.appendChild(ke),ke.style.margin="0",be.kind==="region"){var xe=be.styleAttrs[u.byName.writingMode.qname];xe==="lrtb"||xe==="lr"?(X.ipd="lr",X.bpd="tb"):xe==="rltb"||xe==="rl"?(X.ipd="rl",X.bpd="tb"):xe==="tblr"?(X.ipd="tb",X.bpd="lr"):xe!=="tbrl"&&xe!=="tb"||(X.ipd="tb",X.bpd="rl")}else if(be.kind==="p"&&X.bpd==="tb"){var Ye=be.styleAttrs[u.byName.direction.qname];X.ipd=Ye==="ltr"?"lr":"rl"}for(var Ge=0;Ge<A.length;Ge++){var _e=A[Ge],$e=be.styleAttrs[_e.qname];$e!==void 0&&_e.map!==null&&_e.map(X,ke,be,$e)}var Je=ke,tt=be.styleAttrs[u.byName.linePadding.qname];if(tt&&!tt.isZero()){var Pe=tt.toUsedLength(X.w,X.h);if(Pe>0){var qe=Math.ceil(Pe)+"px";X.bpd==="tb"?(Je.style.paddingLeft=qe,Je.style.paddingRight=qe):(Je.style.paddingTop=qe,Je.style.paddingBottom=qe),X.lp=tt}}var et=be.styleAttrs[u.byName.multiRowAlign.qname];if(et&&et!=="auto"){var pt=document.createElement("span");pt.style.display="inline-block",pt.style.textAlign=et,ke.appendChild(pt),Je=pt,X.mra=et}var jt=be.styleAttrs[u.byName.rubyReserve.qname];if(jt&&jt[0]!=="none"&&(X.rubyReserve=jt),be.styleAttrs[u.byName.fillLineGap.qname]&&(X.flg=!0),be.kind==="span"&&be.text){var Fe=be.styleAttrs[u.byName.textEmphasis.qname];if(Fe&&Fe.style!=="none"&&(X.textEmphasis=!0),u.byName.textCombine.qname in be.styleAttrs&&be.styleAttrs[u.byName.textCombine.qname]==="all")ke.textContent=be.text,ke._isd_element=be,Fe&&T(X,ke,0,Fe);else for(var Ne="",bt=0;bt<be.text.length;bt++){Ne+=be.text.charAt(bt);var Z=be.text.charCodeAt(bt);if(Z<55296||Z>56319||bt===be.text.length-1){var ne=document.createElement("span");ne.textContent=Ne,Fe&&T(X,ne,0,Fe),ke.appendChild(ne),Ne="",ne._isd_element=be}}}if("contents"in be)for(var L=0;L<be.contents.length;L++)d(X,Je,be.contents[L],be);var j=[];if(be.kind==="p"&&(p(X,Je,j,null),X.rubyReserve&&(function(Xe,Ze){for(var We=0;We<Xe.length;We++){var rt,vt,yt=document.createElement("ruby"),ht=document.createElement("span");ht.textContent="",yt.appendChild(ht);var Sn,tn=Ze.rubyReserve[1].toUsedLength(Ze.w,Ze.h)+"px";Ze.rubyReserve[0]==="both"||Ze.rubyReserve[0]==="outside"&&Xe.length==1?((rt=document.createElement("rtc")).style[K]=$?"after":"under",rt.textContent="",rt.style.fontSize=tn,(vt=document.createElement("rtc")).style[K]=$?"before":"over",vt.textContent="",vt.style.fontSize=tn,yt.appendChild(rt),yt.appendChild(vt)):((rt=document.createElement("rtc")).textContent="",rt.style.fontSize=tn,Sn=Ze.rubyReserve[0]==="after"||Ze.rubyReserve[0]==="outside"&&We>0?$?"after":Ze.bpd==="tb"||Ze.bpd==="rl"?"under":"over":$?"before":Ze.bpd==="tb"||Ze.bpd==="rl"?"over":"under",rt.style[K]=Sn,yt.appendChild(rt));for(var ft=null,dt=0;dt<Xe[We].rbc.length;dt++)if(Xe[We].rbc[dt].localName==="ruby"){ft=Xe[We].rbc[dt];for(var nn=0;nn<ft.style.length;nn++)yt.style.setProperty(ft.style.item(nn),ft.style.getPropertyValue(ft.style.item(nn)));break}(ft=ft||Xe[We].elements[0].node).parentElement.insertBefore(yt,ft)}}(j,X),X.rubyReserve=null),(X.ruby||X.rubyReserve)&&(function(Xe,Ze){for(var We=0;We<Xe.length;We++)for(var rt=0;rt<Xe[We].rbc.length;rt++){var vt;Xe[We].rbc[rt].style[K]||(vt=$?We===0?"before":"after":Ze.bpd==="tb"||Ze.bpd==="rl"?We===0?"over":"under":We===0?"under":"over",Xe[We].rbc[rt].style[K]=vt)}}(j,X),X.ruby=null),X.textEmphasis&&(function(Xe,Ze){for(var We=0;We<Xe.length;We++)for(var rt=0;rt<Xe[We].te.length;rt++){var vt;Xe[We].te[rt].style[me]&&Xe[We].te[rt].style[me]!=="none"||(vt=Ze.bpd==="tb"?We===0?"left over":"left under":Ze.bpd==="rl"?We===0?"right under":"left under":We===0?"left under":"right under",Xe[We].te[rt].style[me]=vt)}}(j,X),X.textEmphasis=null),X.mra&&(function(Xe){for(var Ze=0;Ze<Xe.length-1;Ze++){var We=Xe[Ze].elements.length;if(We!==0&&Xe[Ze].br===!1){var rt=document.createElement("br"),vt=Xe[Ze].elements[We-1].node;vt.parentElement.insertBefore(rt,vt.nextSibling)}}}(j),X.mra=null),X.lp&&(function(Xe,Ze,We){if(Xe!==null)for(var rt=0;rt<Xe.length;rt++){var vt=Xe[rt].elements.length,yt=Math.ceil(Ze)+"px",ht="-"+Math.ceil(Ze)+"px";if(vt!==0){var Sn=Xe[rt].elements[Xe[rt].start_elem],tn=Xe[rt].elements[Xe[rt].end_elem];if(Sn===tn){var ft=Sn.node.getBoundingClientRect();if(ft.width==0||ft.height==0)continue}We.ipd==="lr"?(Sn.node.style.marginLeft=ht,Sn.node.style.paddingLeft=yt):We.ipd==="rl"?(Sn.node.style.paddingRight=yt,Sn.node.style.marginRight=ht):We.ipd==="tb"&&(Sn.node.style.paddingTop=yt,Sn.node.style.marginTop=ht),We.ipd==="lr"?(n||(tn.node.style.marginRight=ht),tn.node.style.paddingRight=yt):We.ipd==="rl"?(tn.node.style.paddingLeft=yt,n||(tn.node.style.marginLeft=ht)):We.ipd==="tb"&&(tn.node.style.paddingBottom=yt,tn.node.style.marginBottom=ht)}}}(j,X.lp.toUsedLength(X.w,X.h),X),X.lp=null),function(Xe,Ze){for(var We=0;We<Xe.length;We++)for(var rt=Xe[We],vt=1;vt<rt.elements.length;){var yt=rt.elements[vt-1],ht=rt.elements[vt];f(yt.node,ht.node,Ze)?rt.elements.splice(vt,1):vt++}for(var Sn,tn,ft=[],dt=0;dt<Xe.length;dt++)for(var nn=0;nn<Xe[dt].elements.length;nn++)(tn=h(Sn=Xe[dt].elements[nn].node,ft,!1))&&(Sn.style.backgroundColor=tn);for(var Cn=0;Cn<ft.length;Cn++)ft[Cn].style.backgroundColor=""}(j,X),X.flg)){var pe=m(Je.getBoundingClientRect(),X);(function(Xe,Ze,We,rt){for(var vt=Math.sign(We-Ze),yt=0;yt<=Xe.length;yt++){var ht,Sn,tn,ft;if(ht=yt===0?Math.round(Ze):yt===Xe.length?Math.round(We):Math.round((Xe[yt-1].after+Xe[yt].before)/2),yt>0&&Xe[yt-1])for(tn=0;tn<Xe[yt-1].elements.length;tn++)Sn=vt*(ht-(ft=Xe[yt-1].elements[tn]).after)+"px",rt.bpd==="lr"?ft.node.style.paddingRight=Sn:rt.bpd==="rl"?ft.node.style.paddingLeft=Sn:rt.bpd==="tb"&&(ft.node.style.paddingBottom=Sn);if(yt<Xe.length)for(tn=0;tn<Xe[yt].elements.length;tn++)Sn=vt*((ft=Xe[yt].elements[tn]).before-ht)+"px",rt.bpd==="lr"?ft.node.style.paddingLeft=Sn:rt.bpd==="rl"?ft.node.style.paddingRight=Sn:rt.bpd==="tb"&&(ft.node.style.paddingTop=Sn)}})(j,pe.before,pe.after,X),X.flg=null}if(be.kind==="region"&&X.bpd==="tb"&&X.enableRollUp&&be.contents.length>0&&be.styleAttrs[u.byName.displayAlign.qname]==="after"){p(X,Je,j,null);var ie=new y(be.id===""?"_":be.id,j);if(X.currentISDState[ie.id]=ie,X.previousISDState&&ie.id in X.previousISDState&&X.previousISDState[ie.id].plist.length>0&&ie.plist.length>1&&ie.plist[ie.plist.length-2].text===X.previousISDState[ie.id].plist[X.previousISDState[ie.id].plist.length-1].text){var He=ke.firstElementChild,st=ie.plist[ie.plist.length-1].after-ie.plist[ie.plist.length-1].before;He.style.bottom="-"+st+"px",He.style.transition="transform 0.4s",He.style.position="relative",He.style.transform="translateY(-"+st+"px)"}}}else Te(X.errorHandler,"Error processing ISD element kind: "+be.kind)}function h(X,Q,be){return X.style.backgroundColor?(be&&!Q.includes(X)&&Q.push(X),X.style.backgroundColor):X.parentElement.nodeName==="SPAN"||X.parentElement.nodeName==="RUBY"||X.parentElement.nodeName==="RBC"||X.parentElement.nodeName==="RTC"||X.parentElement.nodeName==="RT"?h(X.parentElement,Q,!0):void 0}function f(X,Q,be){if(X.tagName==="SPAN"&&Q.tagName==="SPAN"&&X._isd_element===Q._isd_element){if(!X._isd_element)return Te(be.errorHandler,"Internal error: HTML span is not linked to a source element; cannot merge spans."),!1;X.textContent+=Q.textContent;for(var F=0;F<Q.style.length;F++){var ke=Q.style[F];(ke.indexOf("border")>=0||ke.indexOf("padding")>=0||ke.indexOf("margin")>=0)&&(X.style[ke]=Q.style[ke])}return Q.parentElement.removeChild(Q),!0}return!1}function y(X,Q){this.id=X,this.plist=Q}function m(X,Q){var be={before:null,after:null,start:null,end:null};return Q.bpd==="tb"?(be.before=X.top,be.after=X.bottom,Q.ipd==="lr"?(be.start=X.left,be.end=X.right):(be.start=X.right,be.end=X.left)):Q.bpd==="lr"?(be.before=X.left,be.after=X.right,be.start=X.top,be.end=X.bottom):Q.bpd==="rl"&&(be.before=X.right,be.after=X.left,be.start=X.top,be.end=X.bottom),be}function p(X,Q,be,F){if(Q.localName!=="rt"&&Q.localName!=="rtc"){var ke,Qe,xe,Ye,Ge=Q.style.backgroundColor||F;if(Q.childElementCount===0)if(Q.localName==="span"||Q.localName==="rb"){var _e=m(Q.getBoundingClientRect(),X);if(be.length!==0&&(ke=_e.before,Qe=_e.after,xe=be[be.length-1].before,Qe<(Ye=be[be.length-1].after)&&ke>xe||Ye<=Qe&&xe>=ke)){var $e=Math.sign(_e.after-_e.before),Je=Math.sign(_e.end-_e.start);$e*(_e.before-be[be.length-1].before)<0&&(be[be.length-1].before=_e.before),$e*(_e.after-be[be.length-1].after)>0&&(be[be.length-1].after=_e.after),Je*(_e.start-be[be.length-1].start)<0&&(be[be.length-1].start=_e.start,be[be.length-1].start_elem=be[be.length-1].elements.length),Je*(_e.end-be[be.length-1].end)>0&&(be[be.length-1].end=_e.end,be[be.length-1].end_elem=be[be.length-1].elements.length)}else be.push({before:_e.before,after:_e.after,start:_e.start,end:_e.end,start_elem:0,end_elem:0,elements:[],rbc:[],te:[],text:"",br:!1});be[be.length-1].text+=Q.textContent,be[be.length-1].elements.push({node:Q,bgcolor:Ge,before:_e.before,after:_e.after})}else Q.localName==="br"&&be.length!==0&&(be[be.length-1].br=!0);else for(var tt=Q.firstChild;tt;)tt.nodeType===Node.ELEMENT_NODE&&(p(X,tt,be,Ge),tt.localName==="ruby"||tt.localName==="rtc"?be.length>0&&be[be.length-1].rbc.push(tt):tt.localName==="span"&&tt.style[ue]&&tt.style[ue]!=="none"&&be.length>0&&be[be.length-1].te.push(tt)),tt=tt.nextSibling}}function T(X,Q,be,F){var ke;F.style!=="none"&&(F.style==="auto"?Q.style[ue]="filled":Q.style[ue]=F.style+" "+F.symbol,(F.position==="before"||F.position==="after")&&(ke=X.bpd==="tb"?F.position==="before"?"left over":"left under":X.bpd==="rl"?F.position==="before"?"right under":"left under":F.position==="before"?"left under":"right under",Q.style[me]=ke))}function v(X,Q){this.qname=X,this.map=Q}r.render=function(X,Q,be,F,ke,Qe,xe,Ye,Ge){var _e=F||Q.clientHeight,$e=ke||Q.clientWidth;if(X.aspectRatio!==null){var Je=_e*X.aspectRatio;Je>$e?_e=Math.round($e/X.aspectRatio):$e=Je}var tt=document.createElement("div");tt.style.position="relative",tt.style.width=$e+"px",tt.style.height=_e+"px",tt.style.margin="auto",tt.style.top=0,tt.style.bottom=0,tt.style.left=0,tt.style.right=0,tt.style.zIndex=0;var Pe={h:_e,w:$e,regionH:null,regionW:null,imgResolver:be,displayForcedOnlyMode:Qe||!1,isd:X,errorHandler:xe,previousISDState:Ye,enableRollUp:Ge||!1,currentISDState:{},flg:null,lp:null,mra:null,ipd:null,bpd:null,ruby:null,textEmphasis:null,rubyReserve:null};if(Q.appendChild(tt),"contents"in X)for(var qe=0;qe<X.contents.length;qe++)d(Pe,tt,X.contents[qe],X);return Pe.currentISDState};for(var A=[new v("http://www.w3.org/ns/ttml#styling backgroundColor",function(X,Q,be,F){F[3]!==0&&(Q.style.backgroundColor="rgba("+F[0].toString()+","+F[1].toString()+","+F[2].toString()+","+(F[3]/255).toString()+")")}),new v("http://www.w3.org/ns/ttml#styling color",function(X,Q,be,F){Q.style.color="rgba("+F[0].toString()+","+F[1].toString()+","+F[2].toString()+","+(F[3]/255).toString()+")"}),new v("http://www.w3.org/ns/ttml#styling direction",function(X,Q,be,F){Q.style.direction=F}),new v("http://www.w3.org/ns/ttml#styling display",function(X,Q,be,F){}),new v("http://www.w3.org/ns/ttml#styling displayAlign",function(X,Q,be,F){Q.style.display="flex",Q.style.flexDirection="column",F==="before"?Q.style.justifyContent="flex-start":F==="center"?Q.style.justifyContent="center":F==="after"&&(Q.style.justifyContent="flex-end")}),new v("http://www.w3.org/ns/ttml#styling extent",function(X,Q,be,F){X.regionH=F.h.toUsedLength(X.w,X.h),X.regionW=F.w.toUsedLength(X.w,X.h);var ke=0,Qe=0,xe=be.styleAttrs["http://www.w3.org/ns/ttml#styling padding"];xe&&(ke=xe[0].toUsedLength(X.w,X.h)+xe[2].toUsedLength(X.w,X.h),Qe=xe[1].toUsedLength(X.w,X.h)+xe[3].toUsedLength(X.w,X.h)),Q.style.height=X.regionH-ke+"px",Q.style.width=X.regionW-Qe+"px"}),new v("http://www.w3.org/ns/ttml#styling fontFamily",function(X,Q,be,F){for(var ke=[],Qe=0;Qe<F.length;Qe++)F[Qe]=F[Qe].trim(),F[Qe]==="monospaceSerif"?(ke.push("Courier New"),ke.push('"Liberation Mono"'),ke.push("Courier"),ke.push("monospace")):F[Qe]==="proportionalSansSerif"?(ke.push("Arial"),ke.push("Helvetica"),ke.push('"Liberation Sans"'),ke.push("sans-serif")):F[Qe]==="monospace"?ke.push("monospace"):F[Qe]==="sansSerif"?ke.push("sans-serif"):F[Qe]==="serif"?ke.push("serif"):F[Qe]==="monospaceSansSerif"?(ke.push("Consolas"),ke.push("monospace")):F[Qe]==="proportionalSerif"?ke.push("serif"):ke.push(F[Qe]);if(ke.length>0){for(var xe=[ke[0]],Ye=1;Ye<ke.length;Ye++)xe.indexOf(ke[Ye])==-1&&xe.push(ke[Ye]);ke=xe}Q.style.fontFamily=ke.join(",")}),new v("http://www.w3.org/ns/ttml#styling shear",function(X,Q,be,F){if(F!==0){var ke=-.9*F;X.bpd==="tb"?Q.style.transform="skewX("+ke+"deg)":Q.style.transform="skewY("+ke+"deg)"}}),new v("http://www.w3.org/ns/ttml#styling fontSize",function(X,Q,be,F){Q.style.fontSize=F.toUsedLength(X.w,X.h)+"px"}),new v("http://www.w3.org/ns/ttml#styling fontStyle",function(X,Q,be,F){Q.style.fontStyle=F}),new v("http://www.w3.org/ns/ttml#styling fontWeight",function(X,Q,be,F){Q.style.fontWeight=F}),new v("http://www.w3.org/ns/ttml#styling lineHeight",function(X,Q,be,F){Q.style.lineHeight=F==="normal"?"normal":F.toUsedLength(X.w,X.h)+"px"}),new v("http://www.w3.org/ns/ttml#styling opacity",function(X,Q,be,F){Q.style.opacity=F}),new v("http://www.w3.org/ns/ttml#styling origin",function(X,Q,be,F){Q.style.top=F.h.toUsedLength(X.w,X.h)+"px",Q.style.left=F.w.toUsedLength(X.w,X.h)+"px"}),new v("http://www.w3.org/ns/ttml#styling overflow",function(X,Q,be,F){Q.style.overflow=F}),new v("http://www.w3.org/ns/ttml#styling padding",function(X,Q,be,F){var ke=[];ke[0]=F[0].toUsedLength(X.w,X.h)+"px",ke[1]=F[3].toUsedLength(X.w,X.h)+"px",ke[2]=F[2].toUsedLength(X.w,X.h)+"px",ke[3]=F[1].toUsedLength(X.w,X.h)+"px",Q.style.padding=ke.join(" ")}),new v("http://www.w3.org/ns/ttml#styling position",function(X,Q,be,F){Q.style.top=F.h.toUsedLength(X.w,X.h)+"px",Q.style.left=F.w.toUsedLength(X.w,X.h)+"px"}),new v("http://www.w3.org/ns/ttml#styling rubyAlign",function(X,Q,be,F){Q.style.rubyAlign=F==="spaceAround"?"space-around":"center"}),new v("http://www.w3.org/ns/ttml#styling rubyPosition",function(X,Q,be,F){var ke;F!=="before"&&F!=="after"||(ke=$?F:X.bpd==="tb"||X.bpd==="rl"?F==="before"?"over":"under":F==="before"?"under":"over",Q.parentElement.style[K]=ke)}),new v("http://www.w3.org/ns/ttml#styling showBackground",null),new v("http://www.w3.org/ns/ttml#styling textAlign",function(X,Q,be,F){var ke;ke=F==="start"?X.ipd==="rl"?"right":"left":F==="end"?X.ipd==="rl"?"left":"right":F,Q.style.textAlign=ke}),new v("http://www.w3.org/ns/ttml#styling textDecoration",function(X,Q,be,F){Q.style.textDecoration=F.join(" ").replace("lineThrough","line-through")}),new v("http://www.w3.org/ns/ttml#styling textOutline",function(X,Q,be,F){}),new v("http://www.w3.org/ns/ttml#styling textShadow",function(X,Q,be,F){var ke=be.styleAttrs[u.byName.textOutline.qname];if(F==="none"&&ke==="none")Q.style.textShadow="";else{var Qe=[];if(ke!=="none"){var xe="rgba("+ke.color[0].toString()+","+ke.color[1].toString()+","+ke.color[2].toString()+","+(ke.color[3]/255).toString()+")";Qe.push("1px 1px 1px "+xe),Qe.push("-1px 1px 1px "+xe),Qe.push("1px -1px 1px "+xe),Qe.push("-1px -1px 1px "+xe)}if(F!=="none")for(var Ye=0;Ye<F.length;Ye++)Qe.push(F[Ye].x_off.toUsedLength(X.w,X.h)+"px "+F[Ye].y_off.toUsedLength(X.w,X.h)+"px "+F[Ye].b_radius.toUsedLength(X.w,X.h)+"px rgba("+F[Ye].color[0].toString()+","+F[Ye].color[1].toString()+","+F[Ye].color[2].toString()+","+(F[Ye].color[3]/255).toString()+")");Q.style.textShadow=Qe.join(",")}}),new v("http://www.w3.org/ns/ttml#styling textCombine",function(X,Q,be,F){Q.style.textCombineUpright=F}),new v("http://www.w3.org/ns/ttml#styling textEmphasis",function(X,Q,be,F){}),new v("http://www.w3.org/ns/ttml#styling unicodeBidi",function(X,Q,be,F){var ke;ke=F==="bidiOverride"?"bidi-override":F,Q.style.unicodeBidi=ke}),new v("http://www.w3.org/ns/ttml#styling visibility",function(X,Q,be,F){Q.style.visibility=F}),new v("http://www.w3.org/ns/ttml#styling wrapOption",function(X,Q,be,F){F==="wrap"?be.space==="preserve"?Q.style.whiteSpace="pre-wrap":Q.style.whiteSpace="normal":be.space==="preserve"?Q.style.whiteSpace="pre":Q.style.whiteSpace="noWrap"}),new v("http://www.w3.org/ns/ttml#styling writingMode",function(X,Q,be,F){F==="lrtb"||F==="lr"||F==="rltb"||F==="rl"?Q.style.writingMode="horizontal-tb":F==="tblr"?Q.style.writingMode="vertical-lr":F!=="tbrl"&&F!=="tb"||(Q.style.writingMode="vertical-rl")}),new v("http://www.w3.org/ns/ttml#styling zIndex",function(X,Q,be,F){Q.style.zIndex=F}),new v("http://www.w3.org/ns/ttml/profile/imsc1#styling forcedDisplay",function(X,Q,be,F){X.displayForcedOnlyMode&&F===!1&&(Q.style.visibility="hidden")})],k={},B=0;B<A.length;B++)k[A[B].qname]=A[B];var $="webkitRubyPosition"in window.getComputedStyle(document.documentElement),K=$?"webkitRubyPosition":"rubyPosition",ue="webkitTextEmphasisStyle"in window.getComputedStyle(document.documentElement)?"webkitTextEmphasisStyle":"textEmphasisStyle",me="webkitTextEmphasisPosition"in window.getComputedStyle(document.documentElement)?"webkitTextEmphasisPosition":"textEmphasisPosition";function Te(X,Q){if(X&&X.error&&X.error(Q))throw Q}})(e,typeof imscNames>"u"?t(977):imscNames,typeof imscStyles>"u"?t(1219):imscStyles,typeof imscUtils>"u"?t(6404):imscUtils)},8905:function(i,e,t){(function(n,r,o,u){n.generateISD=function(v,A,k){var B,$=new m(v),K={},ue={},me=v.head.styling.initials[o.byName.showBackground.qname],Te=v.head.styling.initials[o.byName.backgroundColor.qname];for(var X in v.head.layout.regions)if(v.head.layout.regions.hasOwnProperty(X)){var Q=v.head.layout.regions[X],be=Q.styleAttrs[o.byName.showBackground.qname]||me,F=Q.styleAttrs[o.byName.backgroundColor.qname]||Te;ue[Q.id]=(be==="always"||be===void 0)&&F!==void 0&&!(A<Q.begin||A>=Q.end)}for(var ke in v.body&&v.body.regionID&&(ue[v.body.regionID]=!0),B=v.body!==null?function xe(Ye,Ge){if(Ge.contents){var _e={};for(var $e in Ge)Ge.hasOwnProperty($e)&&(_e[$e]=Ge[$e]);return _e.contents=[],Ge.contents.filter(function(Je){return!(Ye<Je.begin||Ye>=Je.end)}).forEach(function(Je){var tt=xe(Ye,Je);tt.regionID&&(ue[tt.regionID]=!0),tt!==null&&_e.contents.push(tt)}),_e}return Ge}(A,v.body):null,ue[""]!==void 0&&(ue[""]=!0),ue)if(ue[ke]){var Qe=h(v,A,v.head.layout.regions[ke],B,null,"",v.head.layout.regions[ke],k,K);Qe!==null&&$.contents.push(Qe.element)}return $};var d=[o.byName.color.qname,o.byName.textCombine.qname,o.byName.textDecoration.qname,o.byName.textEmphasis.qname,o.byName.textOutline.qname,o.byName.textShadow.qname];function h(v,A,k,B,$,K,ue,me,Te){if(A<ue.begin||A>=ue.end)return null;var X="regionID"in ue&&ue.regionID!==""?ue.regionID:K;if($!==null&&X!==k.id&&(!("contents"in ue)||"contents"in ue&&ue.contents.length===0||X!==""))return null;var Q=new p(ue);if("sets"in ue)for(var be=0;be<ue.sets.length;be++)A<ue.sets[be].begin||A>=ue.sets[be].end||(Q.styleAttrs[ue.sets[be].qname]=ue.sets[be].value);var F={};for(var ke in Q.styleAttrs)if(Q.styleAttrs.hasOwnProperty(ke)&&(F[ke]=!0,Q.kind==="region"&&ke===o.byName.writingMode.qname&&!(o.byName.direction.qname in Q.styleAttrs))){var Qe=Q.styleAttrs[ke];Qe==="lrtb"||Qe==="lr"?Q.styleAttrs[o.byName.direction.qname]="ltr":Qe!=="rltb"&&Qe!=="rl"||(Q.styleAttrs[o.byName.direction.qname]="rtl")}if($!==null)for(var xe=0;xe<o.all.length;xe++){var Ye=o.all[xe];if(Ye.qname===o.byName.textDecoration.qname){var Ge=$.styleAttrs[Ye.qname],_e=Q.styleAttrs[Ye.qname],$e=[];_e===void 0?$e=Ge:_e.indexOf("none")===-1?((_e.indexOf("noUnderline")===-1&&Ge.indexOf("underline")!==-1||_e.indexOf("underline")!==-1)&&$e.push("underline"),(_e.indexOf("noLineThrough")===-1&&Ge.indexOf("lineThrough")!==-1||_e.indexOf("lineThrough")!==-1)&&$e.push("lineThrough"),(_e.indexOf("noOverline")===-1&&Ge.indexOf("overline")!==-1||_e.indexOf("overline")!==-1)&&$e.push("overline")):$e.push("none"),Q.styleAttrs[Ye.qname]=$e}else if(Ye.qname!==o.byName.fontSize.qname||Ye.qname in Q.styleAttrs||Q.kind!=="span"||Q.styleAttrs[o.byName.ruby.qname]!=="textContainer")if(Ye.qname!==o.byName.fontSize.qname||Ye.qname in Q.styleAttrs||Q.kind!=="span"||Q.styleAttrs[o.byName.ruby.qname]!=="text")Ye.inherit&&Ye.qname in $.styleAttrs&&!(Ye.qname in Q.styleAttrs)&&(Q.styleAttrs[Ye.qname]=$.styleAttrs[Ye.qname]);else{var Je=$.styleAttrs[o.byName.fontSize.qname];$.styleAttrs[o.byName.ruby.qname]==="textContainer"?Q.styleAttrs[Ye.qname]=Je:Q.styleAttrs[Ye.qname]=new u.ComputedLength(.5*Je.rw,.5*Je.rh)}else{var tt=$.styleAttrs[o.byName.fontSize.qname];Q.styleAttrs[Ye.qname]=new u.ComputedLength(.5*tt.rw,.5*tt.rh)}}for(var Pe=0;Pe<o.all.length;Pe++){var qe=o.all[Pe];if(!(qe.qname in Q.styleAttrs)&&!(qe.qname===o.byName.position.qname&&o.byName.origin.qname in Q.styleAttrs||qe.qname===o.byName.origin.qname&&o.byName.position.qname in Q.styleAttrs)){var et=v.head.styling.initials[qe.qname]||qe.initial;if(et!==null&&(Q.kind==="region"||qe.inherit===!1&&et!==null)){var pt=qe.parse(et);pt!==null?(Q.styleAttrs[qe.qname]=pt,F[qe.qname]=!0):T(me,"Invalid initial value for '"+qe.qname+"' on element '"+Q.kind)}}}for(var jt=0;jt<o.all.length;jt++){var Fe=o.all[jt];if(Fe.qname in F&&Fe.compute!==null){var Ne=Fe.compute(v,$,Q,Q.styleAttrs[Fe.qname],Te);Ne!==null?Q.styleAttrs[Fe.qname]=Ne:(Q.styleAttrs[Fe.qname]=Fe.compute(v,$,Q,Fe.parse(Fe.initial),Te),T(me,"Style '"+Fe.qname+"' on element '"+Q.kind+"' cannot be computed"))}}if(Q.styleAttrs[o.byName.display.qname]==="none")return null;var bt=null;$===null?bt=B===null?[]:[B]:"contents"in ue&&(bt=ue.contents);for(var Z=0;bt!==null&&Z<bt.length;Z++){var ne=h(v,A,k,B,Q,X,bt[Z],me,Te);ne!==null&&Q.contents.push(ne.element)}for(var L in Q.styleAttrs)if(Q.styleAttrs.hasOwnProperty(L)){var j=!1;if(Q.kind==="span"){var pe=Q.styleAttrs[o.byName.ruby.qname];(j=(pe==="container"||pe==="textContainer"||pe==="baseContainer")&&d.indexOf(L)!==-1)||(j=pe!=="container"&&L===o.byName.rubyAlign.qname),j||(j=!(pe==="textContainer"||pe==="text")&&L===o.byName.rubyPosition.qname)}if(!j){var ie=o.byQName[L];"applies"in ie&&(j=ie.applies.indexOf(Q.kind)===-1)}j&&delete Q.styleAttrs[L]}var He=Q.styleAttrs[o.byName.ruby.qname];if(Q.kind==="p"||Q.kind==="span"&&(He==="textContainer"||He==="text")){var st=[];f(Q,st),function(Xe){for(var Ze,We=0;We<Xe.length;)if((Ze=Xe[We]).kind!=="br"&&Ze.space!=="preserve"){var rt=Ze.text.replace(/[\t\r\n ]+/g," ");/^[ ]/.test(rt)&&(We===0||(vt=Xe[We-1]).kind==="br"||/[\r\n\t ]$/.test(vt.text))&&(rt=rt.substring(1)),Ze.text=rt,rt.length===0?Xe.splice(We,1):We++}else We++;var vt,yt;for(We=0;We<Xe.length;We++)(Ze=Xe[We]).kind!=="br"&&Ze.space!=="preserve"?/[ ]$/.test(Ze.text)&&(We===Xe.length-1||(yt=Xe[We+1]).kind==="br"||yt.space==="preserve"&&/^[\r\n]/.test(yt.text))&&(Ze.text=Ze.text.slice(0,-1)):We++}(st),y(Q)}return Q.kind==="div"&&o.byName.backgroundImage.qname in Q.styleAttrs||Q.kind==="br"||Q.kind==="image"||"contents"in Q&&Q.contents.length>0||Q.kind==="span"&&Q.text!==null||Q.kind==="region"&&Q.styleAttrs[o.byName.showBackground.qname]==="always"?{region_id:X,element:Q}:null}function f(v,A){if("contents"in v)for(var k=0;k<v.contents.length;k++){var B=v.contents[k],$=B.styleAttrs[o.byName.ruby.qname];(B.kind!=="span"||$!=="textContainer"&&$!=="text")&&("contents"in B?f(B,A):(B.kind==="span"&&B.text.length!==0||B.kind==="br")&&A.push(B))}}function y(v){if(v.kind==="br")return!1;if("text"in v)return v.text.length===0;if("contents"in v){for(var A=v.contents.length;A--;)y(v.contents[A])&&v.contents.splice(A,1);return v.contents.length===0}}function m(v){this.contents=[],this.aspectRatio=v.aspectRatio,this.lang=v.lang}function p(v){for(var A in this.kind=v.kind||"region",this.lang=v.lang,v.id&&(this.id=v.id),this.styleAttrs={},v.styleAttrs)v.styleAttrs.hasOwnProperty(A)&&(this.styleAttrs[A]=v.styleAttrs[A]);"src"in v&&(this.src=v.src),"type"in v&&(this.type=v.type),"text"in v?this.text=v.text:(this.kind==="region"||"contents"in v)&&(this.contents=[]),"space"in v&&(this.space=v.space)}function T(v,A){if(v&&v.error&&v.error(A))throw A}})(e,typeof imscNames>"u"?t(977):imscNames,typeof imscStyles>"u"?t(1219):imscStyles,typeof imscUtils>"u"?t(6404):imscUtils)},7640:function(i,e,t){e.generateISD=t(8905).generateISD,e.fromXML=t(6739).fromXML,e.renderHTML=t(1612).render},977:function(i,e){(function(t){t.ns_tt="http://www.w3.org/ns/ttml",t.ns_tts="http://www.w3.org/ns/ttml#styling",t.ns_ttp="http://www.w3.org/ns/ttml#parameter",t.ns_xml="http://www.w3.org/XML/1998/namespace",t.ns_itts="http://www.w3.org/ns/ttml/profile/imsc1#styling",t.ns_ittp="http://www.w3.org/ns/ttml/profile/imsc1#parameter",t.ns_smpte="http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt",t.ns_ebutts="urn:ebu:tt:style"})(e)},1219:function(i,e,t){(function(n,r,o){function u(f,y,m,p,T,v,A,k){this.name=y,this.ns=f,this.qname=f+" "+y,this.inherit=T,this.animatable=v,this.initial=m,this.applies=p,this.parse=A,this.compute=k}for(var d in n.all=[new u(r.ns_tts,"backgroundColor","transparent",["body","div","p","region","span"],!1,!0,o.parseColor,null),new u(r.ns_tts,"color","white",["span"],!0,!0,o.parseColor,null),new u(r.ns_tts,"direction","ltr",["p","span"],!0,!0,function(f){return f},null),new u(r.ns_tts,"display","auto",["body","div","p","region","span"],!1,!0,function(f){return f},null),new u(r.ns_tts,"displayAlign","before",["region"],!1,!0,function(f){return f},null),new u(r.ns_tts,"extent","auto",["tt","region"],!1,!0,function(f){if(f==="auto")return f;var y=f.split(" ");if(y.length!==2)return null;var m=o.parseLength(y[0]),p=o.parseLength(y[1]);return p&&m?{h:p,w:m}:null},function(f,y,m,p,T){var v,A;if(p==="auto")v=new o.ComputedLength(0,1);else if((v=o.toComputedLength(p.h.value,p.h.unit,null,f.dimensions.h,null,f.pxLength.h))===null)return null;if(p==="auto")A=new o.ComputedLength(1,0);else if((A=o.toComputedLength(p.w.value,p.w.unit,null,f.dimensions.w,null,f.pxLength.w))===null)return null;return{h:v,w:A}}),new u(r.ns_tts,"fontFamily","default",["span","p"],!0,!0,function(f){for(var y=f.split(","),m=[],p=0;p<y.length;p++)y[p]=y[p].trim(),y[p].charAt(0)!=="'"&&y[p].charAt(0)!=='"'&&y[p]==="default"?m.push("monospaceSerif"):m.push(y[p]);return m},null),new u(r.ns_tts,"shear","0%",["p"],!0,!0,o.parseLength,function(f,y,m,p){return p.unit!=="%"?null:Math.abs(p.value)>100?100*Math.sign(p.value):p.value}),new u(r.ns_tts,"fontSize","1c",["span","p"],!0,!0,o.parseLength,function(f,y,m,p,T){return o.toComputedLength(p.value,p.unit,y!==null?y.styleAttrs[n.byName.fontSize.qname]:f.cellLength.h,y!==null?y.styleAttrs[n.byName.fontSize.qname]:f.cellLength.h,f.cellLength.h,f.pxLength.h)}),new u(r.ns_tts,"fontStyle","normal",["span","p"],!0,!0,function(f){return f},null),new u(r.ns_tts,"fontWeight","normal",["span","p"],!0,!0,function(f){return f},null),new u(r.ns_tts,"lineHeight","normal",["p"],!0,!0,function(f){return f==="normal"?f:o.parseLength(f)},function(f,y,m,p,T){var v;if(p==="normal")v=p;else if((v=o.toComputedLength(p.value,p.unit,m.styleAttrs[n.byName.fontSize.qname],m.styleAttrs[n.byName.fontSize.qname],f.cellLength.h,f.pxLength.h))===null)return null;return v}),new u(r.ns_tts,"opacity",1,["region"],!1,!0,parseFloat,null),new u(r.ns_tts,"origin","auto",["region"],!1,!0,function(f){if(f==="auto")return f;var y=f.split(" ");if(y.length!==2)return null;var m=o.parseLength(y[0]),p=o.parseLength(y[1]);return p&&m?{h:p,w:m}:null},function(f,y,m,p,T){var v,A;if(p==="auto")v=new o.ComputedLength(0,0);else if((v=o.toComputedLength(p.h.value,p.h.unit,null,f.dimensions.h,null,f.pxLength.h))===null)return null;if(p==="auto")A=new o.ComputedLength(0,0);else if((A=o.toComputedLength(p.w.value,p.w.unit,null,f.dimensions.w,null,f.pxLength.w))===null)return null;return{h:v,w:A}}),new u(r.ns_tts,"overflow","hidden",["region"],!1,!0,function(f){return f},null),new u(r.ns_tts,"padding","0px",["region"],!1,!0,function(f){var y=f.split(" ");if(y.length>4)return null;for(var m=[],p=0;p<y.length;p++){var T=o.parseLength(y[p]);if(!T)return null;m.push(T)}return m},function(f,y,m,p,T){var v;if(p.length===1)v=[p[0],p[0],p[0],p[0]];else if(p.length===2)v=[p[0],p[1],p[0],p[1]];else if(p.length===3)v=[p[0],p[1],p[2],p[1]];else{if(p.length!==4)return null;v=[p[0],p[1],p[2],p[3]]}var A=m.styleAttrs[n.byName.writingMode.qname];if(A==="lrtb"||A==="lr")v=[v[0],v[3],v[2],v[1]];else if(A==="rltb"||A==="rl")v=[v[0],v[1],v[2],v[3]];else if(A==="tblr")v=[v[3],v[0],v[1],v[2]];else{if(A!=="tbrl"&&A!=="tb")return null;v=[v[3],v[2],v[1],v[0]]}for(var k=[],B=0;B<v.length;B++)if(v[B].value===0)k[B]=new o.ComputedLength(0,0);else if(k[B]=o.toComputedLength(v[B].value,v[B].unit,m.styleAttrs[n.byName.fontSize.qname],B===0||B===2?m.styleAttrs[n.byName.extent.qname].h:m.styleAttrs[n.byName.extent.qname].w,B===0||B===2?f.cellLength.h:f.cellLength.w,B===0||B===2?f.pxLength.h:f.pxLength.w),k[B]===null)return null;return k}),new u(r.ns_tts,"position","top left",["region"],!1,!0,function(f){return o.parsePosition(f)},function(f,y,m,p){var T,v;return(T=o.toComputedLength(p.v.offset.value,p.v.offset.unit,null,new o.ComputedLength(-m.styleAttrs[n.byName.extent.qname].h.rw,f.dimensions.h.rh-m.styleAttrs[n.byName.extent.qname].h.rh),null,f.pxLength.h))===null?null:(p.v.edge==="bottom"&&(T=new o.ComputedLength(-T.rw-m.styleAttrs[n.byName.extent.qname].h.rw,f.dimensions.h.rh-T.rh-m.styleAttrs[n.byName.extent.qname].h.rh)),v=o.toComputedLength(p.h.offset.value,p.h.offset.unit,null,new o.ComputedLength(f.dimensions.w.rw-m.styleAttrs[n.byName.extent.qname].w.rw,-m.styleAttrs[n.byName.extent.qname].w.rh),null,f.pxLength.w),T===null?null:(p.h.edge==="right"&&(v=new o.ComputedLength(f.dimensions.w.rw-v.rw-m.styleAttrs[n.byName.extent.qname].w.rw,-v.rh-m.styleAttrs[n.byName.extent.qname].w.rh)),{h:T,w:v}))}),new u(r.ns_tts,"ruby","none",["span"],!1,!0,function(f){return f},null),new u(r.ns_tts,"rubyAlign","center",["span"],!0,!0,function(f){return f!=="center"&&f!=="spaceAround"?null:f},null),new u(r.ns_tts,"rubyPosition","outside",["span"],!0,!0,function(f){return f},null),new u(r.ns_tts,"rubyReserve","none",["p"],!0,!0,function(f){var y=f.split(" "),m=[null,null];if(y.length===0||y.length>2||y[0]!=="none"&&y[0]!=="both"&&y[0]!=="after"&&y[0]!=="before"&&y[0]!=="outside")return null;if(m[0]=y[0],y.length===2&&y[0]!=="none"){var p=o.parseLength(y[1]);if(!p)return null;m[1]=p}return m},function(f,y,m,p,T){if(p[0]==="none")return p;var v;return(v=p[1]===null?new o.ComputedLength(.5*m.styleAttrs[n.byName.fontSize.qname].rw,.5*m.styleAttrs[n.byName.fontSize.qname].rh):o.toComputedLength(p[1].value,p[1].unit,m.styleAttrs[n.byName.fontSize.qname],m.styleAttrs[n.byName.fontSize.qname],f.cellLength.h,f.pxLength.h))===null?null:[p[0],v]}),new u(r.ns_tts,"showBackground","always",["region"],!1,!0,function(f){return f},null),new u(r.ns_tts,"textAlign","start",["p"],!0,!0,function(f){return f},function(f,y,m,p,T){return p==="left"?"start":p==="right"?"end":p}),new u(r.ns_tts,"textCombine","none",["span"],!0,!0,function(f){return f==="none"||f==="all"?f:null},null),new u(r.ns_tts,"textDecoration","none",["span"],!0,!0,function(f){return f.split(" ")},null),new u(r.ns_tts,"textEmphasis","none",["span"],!0,!0,function(f){for(var y=f.split(" "),m={style:null,symbol:null,color:null,position:null},p=0;p<y.length;p++)if(y[p]==="none"||y[p]==="auto")m.style=y[p];else if(y[p]==="filled"||y[p]==="open")m.style=y[p];else if(y[p]==="circle"||y[p]==="dot"||y[p]==="sesame")m.symbol=y[p];else if(y[p]==="current")m.color=y[p];else if(y[p]==="outside"||y[p]==="before"||y[p]==="after")m.position=y[p];else if(m.color=o.parseColor(y[p]),m.color===null)return null;return m.style==null&&m.symbol==null?m.style="auto":(m.symbol=m.symbol||"circle",m.style=m.style||"filled"),m.position=m.position||"outside",m.color=m.color||"current",m},null),new u(r.ns_tts,"textOutline","none",["span"],!0,!0,function(f){if(f==="none")return f;var y={},m=f.split(" ");if(m.length===0||m.length>2)return null;var p=o.parseColor(m[0]);if(y.color=p,p!==null&&m.shift(),m.length!==1)return null;var T=o.parseLength(m[0]);return T?(y.thickness=T,y):null},function(f,y,m,p,T){if(p==="none")return p;var v={};return p.color===null?v.color=m.styleAttrs[n.byName.color.qname]:v.color=p.color,v.thickness=o.toComputedLength(p.thickness.value,p.thickness.unit,m.styleAttrs[n.byName.fontSize.qname],m.styleAttrs[n.byName.fontSize.qname],f.cellLength.h,f.pxLength.h),v.thickness===null?null:v}),new u(r.ns_tts,"textShadow","none",["span"],!0,!0,o.parseTextShadow,function(f,y,m,p){if(p==="none")return p;for(var T=[],v=0;v<p.length;v++){var A={};if(A.x_off=o.toComputedLength(p[v][0].value,p[v][0].unit,null,m.styleAttrs[n.byName.fontSize.qname],null,f.pxLength.w),A.x_off===null||(A.y_off=o.toComputedLength(p[v][1].value,p[v][1].unit,null,m.styleAttrs[n.byName.fontSize.qname],null,f.pxLength.h),A.y_off===null))return null;if(p[v][2]===null)A.b_radius=0;else if(A.b_radius=o.toComputedLength(p[v][2].value,p[v][2].unit,null,m.styleAttrs[n.byName.fontSize.qname],null,f.pxLength.h),A.b_radius===null)return null;p[v][3]===null?A.color=m.styleAttrs[n.byName.color.qname]:A.color=p[v][3],T.push(A)}return T}),new u(r.ns_tts,"unicodeBidi","normal",["span","p"],!1,!0,function(f){return f},null),new u(r.ns_tts,"visibility","visible",["body","div","p","region","span"],!0,!0,function(f){return f},null),new u(r.ns_tts,"wrapOption","wrap",["span"],!0,!0,function(f){return f},null),new u(r.ns_tts,"writingMode","lrtb",["region"],!1,!0,function(f){return f},null),new u(r.ns_tts,"zIndex","auto",["region"],!1,!0,function(f){var y;return f==="auto"?y=f:(y=parseInt(f),isNaN(y)&&(y=null)),y},null),new u(r.ns_ebutts,"linePadding","0c",["p"],!0,!1,o.parseLength,function(f,y,m,p,T){return o.toComputedLength(p.value,p.unit,null,null,f.cellLength.w,null)}),new u(r.ns_ebutts,"multiRowAlign","auto",["p"],!0,!1,function(f){return f},null),new u(r.ns_smpte,"backgroundImage",null,["div"],!1,!1,function(f){return f},null),new u(r.ns_itts,"forcedDisplay","false",["body","div","p","region","span"],!0,!0,function(f){return f==="true"},null),new u(r.ns_itts,"fillLineGap","false",["p"],!0,!0,function(f){return f==="true"},null)],n.byQName={},n.all)n.byQName[n.all[d].qname]=n.all[d];for(var h in n.byName={},n.all)n.byName[n.all[h].name]=n.all[h]})(e,typeof imscNames>"u"?t(977):imscNames,typeof imscUtils>"u"?t(6404):imscUtils)},6404:function(i,e){(function(t){var n=/#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})?/,r=/rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,o=/rgba\(\s*(\d+),\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,u={transparent:[0,0,0,0],black:[0,0,0,255],silver:[192,192,192,255],gray:[128,128,128,255],white:[255,255,255,255],maroon:[128,0,0,255],red:[255,0,0,255],purple:[128,0,128,255],fuchsia:[255,0,255,255],magenta:[255,0,255,255],green:[0,128,0,255],lime:[0,255,0,255],olive:[128,128,0,255],yellow:[255,255,0,255],navy:[0,0,128,255],blue:[0,0,255,255],teal:[0,128,128,255],aqua:[0,255,255,255],cyan:[0,255,255,255]};t.parseColor=function(h){var f,y=null,m=u[h.toLowerCase()];return m!==void 0?y=m:(f=n.exec(h))!==null?y=[parseInt(f[1],16),parseInt(f[2],16),parseInt(f[3],16),f[4]!==void 0?parseInt(f[4],16):255]:(f=r.exec(h))!==null?y=[parseInt(f[1]),parseInt(f[2]),parseInt(f[3]),255]:(f=o.exec(h))!==null&&(y=[parseInt(f[1]),parseInt(f[2]),parseInt(f[3]),parseInt(f[4])]),y};var d=/^((?:\+|\-)?\d*(?:\.\d+)?)(px|em|c|%|rh|rw)$/;t.parseLength=function(h){var f,y=null;return(f=d.exec(h))!==null&&(y={value:parseFloat(f[1]),unit:f[2]}),y},t.parseTextShadow=function(h){for(var f=h.match(/([^\(,\)]|\([^\)]+\))+/g),y=[],m=0;m<f.length;m++){var p=f[m].split(" ");if(p.length===1&&p[0]==="none")return"none";if(p.length>1&&p.length<5){var T=[null,null,null,null],v=t.parseLength(p.shift());if(v===null||(T[0]=v,(v=t.parseLength(p.shift()))===null))return null;if(T[1]=v,p.length===0){y.push(T);continue}if((v=t.parseLength(p[0]))!==null&&(T[2]=v,p.shift()),p.length===0){y.push(T);continue}var A=t.parseColor(p[0]);if(A===null)return null;T[3]=A,y.push(T)}}return y},t.parsePosition=function(h){var f=h.split(" "),y=function(B){return B==="center"||B==="left"||B==="top"||B==="bottom"||B==="right"};if(f.length>4)return null;for(var m=0;m<f.length;m++)if(!y(f[m])){var p=t.parseLength(f[m]);if(p===null)return null;f[m]=p}for(var T={h:{edge:"left",offset:{value:50,unit:"%"}},v:{edge:"top",offset:{value:50,unit:"%"}}},v=0;v<f.length;){var A=f[v++];if(y(A)){var k={value:0,unit:"%"};f.length!==2&&v<f.length&&!y(f[v])&&(k=f[v++]),A==="right"?(T.h.edge=A,T.h.offset=k):A==="bottom"?(T.v.edge=A,T.v.offset=k):A==="left"?T.h.offset=k:A==="top"&&(T.v.offset=k)}else{if(f.length!==1&&f.length!==2)return null;v===1?T.h.offset=A:T.v.offset=A}}return T},t.ComputedLength=function(h,f){this.rw=h,this.rh=f},t.ComputedLength.prototype.toUsedLength=function(h,f){return h*this.rw+f*this.rh},t.ComputedLength.prototype.isZero=function(){return this.rw===0&&this.rh===0},t.toComputedLength=function(h,f,y,m,p,T){return f==="%"&&m?new t.ComputedLength(m.rw*h/100,m.rh*h/100):f==="em"&&y?new t.ComputedLength(y.rw*h,y.rh*h):f==="c"&&p?new t.ComputedLength(h*p.rw,h*p.rh):f==="px"&&T?new t.ComputedLength(h*T.rw,h*T.rh):f==="rh"?new t.ComputedLength(0,h/100):f==="rw"?new t.ComputedLength(h/100,0):null}})(e)},7523:function(i){typeof Object.create=="function"?i.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:i.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},3282:function(i){function e(r){if(typeof r!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(r))}function t(r,o){for(var u,d="",h=0,f=-1,y=0,m=0;m<=r.length;++m){if(m<r.length)u=r.charCodeAt(m);else{if(u===47)break;u=47}if(u===47){if(!(f===m-1||y===1))if(f!==m-1&&y===2){if(d.length<2||h!==2||d.charCodeAt(d.length-1)!==46||d.charCodeAt(d.length-2)!==46){if(d.length>2){var p=d.lastIndexOf("/");if(p!==d.length-1){p===-1?(d="",h=0):h=(d=d.slice(0,p)).length-1-d.lastIndexOf("/"),f=m,y=0;continue}}else if(d.length===2||d.length===1){d="",h=0,f=m,y=0;continue}}o&&(d.length>0?d+="/..":d="..",h=2)}else d.length>0?d+="/"+r.slice(f+1,m):d=r.slice(f+1,m),h=m-f-1;f=m,y=0}else u===46&&y!==-1?++y:y=-1}return d}var n={resolve:function(){for(var r,o="",u=!1,d=arguments.length-1;d>=-1&&!u;d--){var h;d>=0?h=arguments[d]:(r===void 0&&(r=process.cwd()),h=r),e(h),h.length!==0&&(o=h+"/"+o,u=h.charCodeAt(0)===47)}return o=t(o,!u),u?o.length>0?"/"+o:"/":o.length>0?o:"."},normalize:function(r){if(e(r),r.length===0)return".";var o=r.charCodeAt(0)===47,u=r.charCodeAt(r.length-1)===47;return(r=t(r,!o)).length!==0||o||(r="."),r.length>0&&u&&(r+="/"),o?"/"+r:r},isAbsolute:function(r){return e(r),r.length>0&&r.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var r,o=0;o<arguments.length;++o){var u=arguments[o];e(u),u.length>0&&(r===void 0?r=u:r+="/"+u)}return r===void 0?".":n.normalize(r)},relative:function(r,o){if(e(r),e(o),r===o||(r=n.resolve(r))===(o=n.resolve(o)))return"";for(var u=1;u<r.length&&r.charCodeAt(u)===47;++u);for(var d=r.length,h=d-u,f=1;f<o.length&&o.charCodeAt(f)===47;++f);for(var y=o.length-f,m=h<y?h:y,p=-1,T=0;T<=m;++T){if(T===m){if(y>m){if(o.charCodeAt(f+T)===47)return o.slice(f+T+1);if(T===0)return o.slice(f+T)}else h>m&&(r.charCodeAt(u+T)===47?p=T:T===0&&(p=0));break}var v=r.charCodeAt(u+T);if(v!==o.charCodeAt(f+T))break;v===47&&(p=T)}var A="";for(T=u+p+1;T<=d;++T)T!==d&&r.charCodeAt(T)!==47||(A.length===0?A+="..":A+="/..");return A.length>0?A+o.slice(f+p):(f+=p,o.charCodeAt(f)===47&&++f,o.slice(f))},_makeLong:function(r){return r},dirname:function(r){if(e(r),r.length===0)return".";for(var o=r.charCodeAt(0),u=o===47,d=-1,h=!0,f=r.length-1;f>=1;--f)if((o=r.charCodeAt(f))===47){if(!h){d=f;break}}else h=!1;return d===-1?u?"/":".":u&&d===1?"//":r.slice(0,d)},basename:function(r,o){if(o!==void 0&&typeof o!="string")throw new TypeError('"ext" argument must be a string');e(r);var u,d=0,h=-1,f=!0;if(o!==void 0&&o.length>0&&o.length<=r.length){if(o.length===r.length&&o===r)return"";var y=o.length-1,m=-1;for(u=r.length-1;u>=0;--u){var p=r.charCodeAt(u);if(p===47){if(!f){d=u+1;break}}else m===-1&&(f=!1,m=u+1),y>=0&&(p===o.charCodeAt(y)?--y==-1&&(h=u):(y=-1,h=m))}return d===h?h=m:h===-1&&(h=r.length),r.slice(d,h)}for(u=r.length-1;u>=0;--u)if(r.charCodeAt(u)===47){if(!f){d=u+1;break}}else h===-1&&(f=!1,h=u+1);return h===-1?"":r.slice(d,h)},extname:function(r){e(r);for(var o=-1,u=0,d=-1,h=!0,f=0,y=r.length-1;y>=0;--y){var m=r.charCodeAt(y);if(m!==47)d===-1&&(h=!1,d=y+1),m===46?o===-1?o=y:f!==1&&(f=1):o!==-1&&(f=-1);else if(!h){u=y+1;break}}return o===-1||d===-1||f===0||f===1&&o===d-1&&o===u+1?"":r.slice(o,d)},format:function(r){if(r===null||typeof r!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof r);return function(o,u){var d=u.dir||u.root,h=u.base||(u.name||"")+(u.ext||"");return d?d===u.root?d+h:d+"/"+h:h}(0,r)},parse:function(r){e(r);var o={root:"",dir:"",base:"",ext:"",name:""};if(r.length===0)return o;var u,d=r.charCodeAt(0),h=d===47;h?(o.root="/",u=1):u=0;for(var f=-1,y=0,m=-1,p=!0,T=r.length-1,v=0;T>=u;--T)if((d=r.charCodeAt(T))!==47)m===-1&&(p=!1,m=T+1),d===46?f===-1?f=T:v!==1&&(v=1):f!==-1&&(v=-1);else if(!p){y=T+1;break}return f===-1||m===-1||v===0||v===1&&f===m-1&&f===y+1?m!==-1&&(o.base=o.name=y===0&&h?r.slice(1,m):r.slice(y,m)):(y===0&&h?(o.name=r.slice(1,f),o.base=r.slice(1,m)):(o.name=r.slice(y,f),o.base=r.slice(y,m)),o.ext=r.slice(f,m)),y>0?o.dir=r.slice(0,y-1):h&&(o.dir="/"),o},sep:"/",delimiter:":",win32:null,posix:null};n.posix=n,i.exports=n},3515:function(i,e,t){i.exports=r;var n=t(9826).EventEmitter;function r(){n.call(this)}t(7523)(r,n),r.Readable=t(2762),r.Writable=t(3726),r.Duplex=t(884),r.Transform=t(6756),r.PassThrough=t(1390),r.finished=t(2896),r.pipeline=t(8460),r.Stream=r,r.prototype.pipe=function(o,u){var d=this;function h(A){o.writable&&o.write(A)===!1&&d.pause&&d.pause()}function f(){d.readable&&d.resume&&d.resume()}d.on("data",h),o.on("drain",f),o._isStdio||u&&u.end===!1||(d.on("end",m),d.on("close",p));var y=!1;function m(){y||(y=!0,o.end())}function p(){y||(y=!0,typeof o.destroy=="function"&&o.destroy())}function T(A){if(v(),n.listenerCount(this,"error")===0)throw A}function v(){d.removeListener("data",h),o.removeListener("drain",f),d.removeListener("end",m),d.removeListener("close",p),d.removeListener("error",T),o.removeListener("error",T),d.removeListener("end",v),d.removeListener("close",v),o.removeListener("close",v)}return d.on("error",T),o.on("error",T),d.on("end",v),d.on("close",v),o.on("close",v),o.emit("pipe",d),o}},1602:function(i){var e={};function t(r,o,u){u||(u=Error);var d=function(h){var f,y;function m(p,T,v){return h.call(this,function(A,k,B){return typeof o=="string"?o:o(A,k,B)}(p,T,v))||this}return y=h,(f=m).prototype=Object.create(y.prototype),f.prototype.constructor=f,f.__proto__=y,m}(u);d.prototype.name=u.name,d.prototype.code=r,e[r]=d}function n(r,o){if(Array.isArray(r)){var u=r.length;return r=r.map(function(d){return String(d)}),u>2?"one of ".concat(o," ").concat(r.slice(0,u-1).join(", "),", or ")+r[u-1]:u===2?"one of ".concat(o," ").concat(r[0]," or ").concat(r[1]):"of ".concat(o," ").concat(r[0])}return"of ".concat(o," ").concat(String(r))}t("ERR_INVALID_OPT_VALUE",function(r,o){return'The value "'+o+'" is invalid for option "'+r+'"'},TypeError),t("ERR_INVALID_ARG_TYPE",function(r,o,u){var d,h,f,y,m;if(typeof o=="string"&&(h="not ",o.substr(0,4)===h)?(d="must not be",o=o.replace(/^not /,"")):d="must be",function(T,v,A){return(A===void 0||A>T.length)&&(A=T.length),T.substring(A-9,A)===v}(r," argument"))f="The ".concat(r," ").concat(d," ").concat(n(o,"type"));else{var p=(typeof m!="number"&&(m=0),m+1>(y=r).length||y.indexOf(".",m)===-1?"argument":"property");f='The "'.concat(r,'" ').concat(p," ").concat(d," ").concat(n(o,"type"))}return f+". Received type ".concat(typeof u)},TypeError),t("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),t("ERR_METHOD_NOT_IMPLEMENTED",function(r){return"The "+r+" method is not implemented"}),t("ERR_STREAM_PREMATURE_CLOSE","Premature close"),t("ERR_STREAM_DESTROYED",function(r){return"Cannot call "+r+" after a stream was destroyed"}),t("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),t("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),t("ERR_STREAM_WRITE_AFTER_END","write after end"),t("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),t("ERR_UNKNOWN_ENCODING",function(r){return"Unknown encoding: "+r},TypeError),t("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),i.exports.codes=e},884:function(i,e,t){var n=Object.keys||function(p){var T=[];for(var v in p)T.push(v);return T};i.exports=f;var r=t(2762),o=t(3726);t(7523)(f,r);for(var u=n(o.prototype),d=0;d<u.length;d++){var h=u[d];f.prototype[h]||(f.prototype[h]=o.prototype[h])}function f(p){if(!(this instanceof f))return new f(p);r.call(this,p),o.call(this,p),this.allowHalfOpen=!0,p&&(p.readable===!1&&(this.readable=!1),p.writable===!1&&(this.writable=!1),p.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",y)))}function y(){this._writableState.ended||process.nextTick(m,this)}function m(p){p.end()}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(f.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(f.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(p){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=p,this._writableState.destroyed=p)}})},1390:function(i,e,t){i.exports=r;var n=t(6756);function r(o){if(!(this instanceof r))return new r(o);n.call(this,o)}t(7523)(r,n),r.prototype._transform=function(o,u,d){d(null,o)}},2762:function(i,e,t){var n;i.exports=Q,Q.ReadableState=X,t(9826).EventEmitter;var r,o=function(Fe,Ne){return Fe.listeners(Ne).length},u=t(2611),d=t(44).Buffer,h=(t.g!==void 0?t.g:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},f=t(7199);r=f&&f.debuglog?f.debuglog("stream"):function(){};var y,m,p,T=t(3791),v=t(2410),A=t(1749).getHighWaterMark,k=t(1602).codes,B=k.ERR_INVALID_ARG_TYPE,$=k.ERR_STREAM_PUSH_AFTER_EOF,K=k.ERR_METHOD_NOT_IMPLEMENTED,ue=k.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;t(7523)(Q,u);var me=v.errorOrDestroy,Te=["error","close","destroy","pause","resume"];function X(Fe,Ne,bt){n=n||t(884),Fe=Fe||{},typeof bt!="boolean"&&(bt=Ne instanceof n),this.objectMode=!!Fe.objectMode,bt&&(this.objectMode=this.objectMode||!!Fe.readableObjectMode),this.highWaterMark=A(this,Fe,"readableHighWaterMark",bt),this.buffer=new T,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=Fe.emitClose!==!1,this.autoDestroy=!!Fe.autoDestroy,this.destroyed=!1,this.defaultEncoding=Fe.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Fe.encoding&&(y||(y=t(748).StringDecoder),this.decoder=new y(Fe.encoding),this.encoding=Fe.encoding)}function Q(Fe){if(n=n||t(884),!(this instanceof Q))return new Q(Fe);var Ne=this instanceof n;this._readableState=new X(Fe,this,Ne),this.readable=!0,Fe&&(typeof Fe.read=="function"&&(this._read=Fe.read),typeof Fe.destroy=="function"&&(this._destroy=Fe.destroy)),u.call(this)}function be(Fe,Ne,bt,Z,ne){r("readableAddChunk",Ne);var L,j=Fe._readableState;if(Ne===null)j.reading=!1,function(pe,ie){if(r("onEofChunk"),!ie.ended){if(ie.decoder){var He=ie.decoder.end();He&&He.length&&(ie.buffer.push(He),ie.length+=ie.objectMode?1:He.length)}ie.ended=!0,ie.sync?xe(pe):(ie.needReadable=!1,ie.emittedReadable||(ie.emittedReadable=!0,Ye(pe)))}}(Fe,j);else if(ne||(L=function(pe,ie){var He,st;return st=ie,d.isBuffer(st)||st instanceof h||typeof ie=="string"||ie===void 0||pe.objectMode||(He=new B("chunk",["string","Buffer","Uint8Array"],ie)),He}(j,Ne)),L)me(Fe,L);else if(j.objectMode||Ne&&Ne.length>0)if(typeof Ne=="string"||j.objectMode||Object.getPrototypeOf(Ne)===d.prototype||(Ne=function(pe){return d.from(pe)}(Ne)),Z)j.endEmitted?me(Fe,new ue):F(Fe,j,Ne,!0);else if(j.ended)me(Fe,new $);else{if(j.destroyed)return!1;j.reading=!1,j.decoder&&!bt?(Ne=j.decoder.write(Ne),j.objectMode||Ne.length!==0?F(Fe,j,Ne,!1):Ge(Fe,j)):F(Fe,j,Ne,!1)}else Z||(j.reading=!1,Ge(Fe,j));return!j.ended&&(j.length<j.highWaterMark||j.length===0)}function F(Fe,Ne,bt,Z){Ne.flowing&&Ne.length===0&&!Ne.sync?(Ne.awaitDrain=0,Fe.emit("data",bt)):(Ne.length+=Ne.objectMode?1:bt.length,Z?Ne.buffer.unshift(bt):Ne.buffer.push(bt),Ne.needReadable&&xe(Fe)),Ge(Fe,Ne)}Object.defineProperty(Q.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(Fe){this._readableState&&(this._readableState.destroyed=Fe)}}),Q.prototype.destroy=v.destroy,Q.prototype._undestroy=v.undestroy,Q.prototype._destroy=function(Fe,Ne){Ne(Fe)},Q.prototype.push=function(Fe,Ne){var bt,Z=this._readableState;return Z.objectMode?bt=!0:typeof Fe=="string"&&((Ne=Ne||Z.defaultEncoding)!==Z.encoding&&(Fe=d.from(Fe,Ne),Ne=""),bt=!0),be(this,Fe,Ne,!1,bt)},Q.prototype.unshift=function(Fe){return be(this,Fe,null,!0,!1)},Q.prototype.isPaused=function(){return this._readableState.flowing===!1},Q.prototype.setEncoding=function(Fe){y||(y=t(748).StringDecoder);var Ne=new y(Fe);this._readableState.decoder=Ne,this._readableState.encoding=this._readableState.decoder.encoding;for(var bt=this._readableState.buffer.head,Z="";bt!==null;)Z+=Ne.write(bt.data),bt=bt.next;return this._readableState.buffer.clear(),Z!==""&&this._readableState.buffer.push(Z),this._readableState.length=Z.length,this};var ke=1073741824;function Qe(Fe,Ne){return Fe<=0||Ne.length===0&&Ne.ended?0:Ne.objectMode?1:Fe!=Fe?Ne.flowing&&Ne.length?Ne.buffer.head.data.length:Ne.length:(Fe>Ne.highWaterMark&&(Ne.highWaterMark=function(bt){return bt>=ke?bt=ke:(bt--,bt|=bt>>>1,bt|=bt>>>2,bt|=bt>>>4,bt|=bt>>>8,bt|=bt>>>16,bt++),bt}(Fe)),Fe<=Ne.length?Fe:Ne.ended?Ne.length:(Ne.needReadable=!0,0))}function xe(Fe){var Ne=Fe._readableState;r("emitReadable",Ne.needReadable,Ne.emittedReadable),Ne.needReadable=!1,Ne.emittedReadable||(r("emitReadable",Ne.flowing),Ne.emittedReadable=!0,process.nextTick(Ye,Fe))}function Ye(Fe){var Ne=Fe._readableState;r("emitReadable_",Ne.destroyed,Ne.length,Ne.ended),Ne.destroyed||!Ne.length&&!Ne.ended||(Fe.emit("readable"),Ne.emittedReadable=!1),Ne.needReadable=!Ne.flowing&&!Ne.ended&&Ne.length<=Ne.highWaterMark,Pe(Fe)}function Ge(Fe,Ne){Ne.readingMore||(Ne.readingMore=!0,process.nextTick(_e,Fe,Ne))}function _e(Fe,Ne){for(;!Ne.reading&&!Ne.ended&&(Ne.length<Ne.highWaterMark||Ne.flowing&&Ne.length===0);){var bt=Ne.length;if(r("maybeReadMore read 0"),Fe.read(0),bt===Ne.length)break}Ne.readingMore=!1}function $e(Fe){var Ne=Fe._readableState;Ne.readableListening=Fe.listenerCount("readable")>0,Ne.resumeScheduled&&!Ne.paused?Ne.flowing=!0:Fe.listenerCount("data")>0&&Fe.resume()}function Je(Fe){r("readable nexttick read 0"),Fe.read(0)}function tt(Fe,Ne){r("resume",Ne.reading),Ne.reading||Fe.read(0),Ne.resumeScheduled=!1,Fe.emit("resume"),Pe(Fe),Ne.flowing&&!Ne.reading&&Fe.read(0)}function Pe(Fe){var Ne=Fe._readableState;for(r("flow",Ne.flowing);Ne.flowing&&Fe.read()!==null;);}function qe(Fe,Ne){return Ne.length===0?null:(Ne.objectMode?bt=Ne.buffer.shift():!Fe||Fe>=Ne.length?(bt=Ne.decoder?Ne.buffer.join(""):Ne.buffer.length===1?Ne.buffer.first():Ne.buffer.concat(Ne.length),Ne.buffer.clear()):bt=Ne.buffer.consume(Fe,Ne.decoder),bt);var bt}function et(Fe){var Ne=Fe._readableState;r("endReadable",Ne.endEmitted),Ne.endEmitted||(Ne.ended=!0,process.nextTick(pt,Ne,Fe))}function pt(Fe,Ne){if(r("endReadableNT",Fe.endEmitted,Fe.length),!Fe.endEmitted&&Fe.length===0&&(Fe.endEmitted=!0,Ne.readable=!1,Ne.emit("end"),Fe.autoDestroy)){var bt=Ne._writableState;(!bt||bt.autoDestroy&&bt.finished)&&Ne.destroy()}}function jt(Fe,Ne){for(var bt=0,Z=Fe.length;bt<Z;bt++)if(Fe[bt]===Ne)return bt;return-1}Q.prototype.read=function(Fe){r("read",Fe),Fe=parseInt(Fe,10);var Ne=this._readableState,bt=Fe;if(Fe!==0&&(Ne.emittedReadable=!1),Fe===0&&Ne.needReadable&&((Ne.highWaterMark!==0?Ne.length>=Ne.highWaterMark:Ne.length>0)||Ne.ended))return r("read: emitReadable",Ne.length,Ne.ended),Ne.length===0&&Ne.ended?et(this):xe(this),null;if((Fe=Qe(Fe,Ne))===0&&Ne.ended)return Ne.length===0&&et(this),null;var Z,ne=Ne.needReadable;return r("need readable",ne),(Ne.length===0||Ne.length-Fe<Ne.highWaterMark)&&r("length less than watermark",ne=!0),Ne.ended||Ne.reading?r("reading or ended",ne=!1):ne&&(r("do read"),Ne.reading=!0,Ne.sync=!0,Ne.length===0&&(Ne.needReadable=!0),this._read(Ne.highWaterMark),Ne.sync=!1,Ne.reading||(Fe=Qe(bt,Ne))),(Z=Fe>0?qe(Fe,Ne):null)===null?(Ne.needReadable=Ne.length<=Ne.highWaterMark,Fe=0):(Ne.length-=Fe,Ne.awaitDrain=0),Ne.length===0&&(Ne.ended||(Ne.needReadable=!0),bt!==Fe&&Ne.ended&&et(this)),Z!==null&&this.emit("data",Z),Z},Q.prototype._read=function(Fe){me(this,new K("_read()"))},Q.prototype.pipe=function(Fe,Ne){var bt=this,Z=this._readableState;switch(Z.pipesCount){case 0:Z.pipes=Fe;break;case 1:Z.pipes=[Z.pipes,Fe];break;default:Z.pipes.push(Fe)}Z.pipesCount+=1,r("pipe count=%d opts=%j",Z.pipesCount,Ne);var ne=Ne&&Ne.end===!1||Fe===process.stdout||Fe===process.stderr?Ze:L;function L(){r("onend"),Fe.end()}Z.endEmitted?process.nextTick(ne):bt.once("end",ne),Fe.on("unpipe",function We(rt,vt){r("onunpipe"),rt===bt&&vt&&vt.hasUnpiped===!1&&(vt.hasUnpiped=!0,r("cleanup"),Fe.removeListener("close",st),Fe.removeListener("finish",Xe),Fe.removeListener("drain",j),Fe.removeListener("error",He),Fe.removeListener("unpipe",We),bt.removeListener("end",L),bt.removeListener("end",Ze),bt.removeListener("data",ie),pe=!0,!Z.awaitDrain||Fe._writableState&&!Fe._writableState.needDrain||j())});var j=function(We){return function(){var rt=We._readableState;r("pipeOnDrain",rt.awaitDrain),rt.awaitDrain&&rt.awaitDrain--,rt.awaitDrain===0&&o(We,"data")&&(rt.flowing=!0,Pe(We))}}(bt);Fe.on("drain",j);var pe=!1;function ie(We){r("ondata");var rt=Fe.write(We);r("dest.write",rt),rt===!1&&((Z.pipesCount===1&&Z.pipes===Fe||Z.pipesCount>1&&jt(Z.pipes,Fe)!==-1)&&!pe&&(r("false write response, pause",Z.awaitDrain),Z.awaitDrain++),bt.pause())}function He(We){r("onerror",We),Ze(),Fe.removeListener("error",He),o(Fe,"error")===0&&me(Fe,We)}function st(){Fe.removeListener("finish",Xe),Ze()}function Xe(){r("onfinish"),Fe.removeListener("close",st),Ze()}function Ze(){r("unpipe"),bt.unpipe(Fe)}return bt.on("data",ie),function(We,rt,vt){if(typeof We.prependListener=="function")return We.prependListener(rt,vt);We._events&&We._events[rt]?Array.isArray(We._events[rt])?We._events[rt].unshift(vt):We._events[rt]=[vt,We._events[rt]]:We.on(rt,vt)}(Fe,"error",He),Fe.once("close",st),Fe.once("finish",Xe),Fe.emit("pipe",bt),Z.flowing||(r("pipe resume"),bt.resume()),Fe},Q.prototype.unpipe=function(Fe){var Ne=this._readableState,bt={hasUnpiped:!1};if(Ne.pipesCount===0)return this;if(Ne.pipesCount===1)return Fe&&Fe!==Ne.pipes||(Fe||(Fe=Ne.pipes),Ne.pipes=null,Ne.pipesCount=0,Ne.flowing=!1,Fe&&Fe.emit("unpipe",this,bt)),this;if(!Fe){var Z=Ne.pipes,ne=Ne.pipesCount;Ne.pipes=null,Ne.pipesCount=0,Ne.flowing=!1;for(var L=0;L<ne;L++)Z[L].emit("unpipe",this,{hasUnpiped:!1});return this}var j=jt(Ne.pipes,Fe);return j===-1||(Ne.pipes.splice(j,1),Ne.pipesCount-=1,Ne.pipesCount===1&&(Ne.pipes=Ne.pipes[0]),Fe.emit("unpipe",this,bt)),this},Q.prototype.on=function(Fe,Ne){var bt=u.prototype.on.call(this,Fe,Ne),Z=this._readableState;return Fe==="data"?(Z.readableListening=this.listenerCount("readable")>0,Z.flowing!==!1&&this.resume()):Fe==="readable"&&(Z.endEmitted||Z.readableListening||(Z.readableListening=Z.needReadable=!0,Z.flowing=!1,Z.emittedReadable=!1,r("on readable",Z.length,Z.reading),Z.length?xe(this):Z.reading||process.nextTick(Je,this))),bt},Q.prototype.addListener=Q.prototype.on,Q.prototype.removeListener=function(Fe,Ne){var bt=u.prototype.removeListener.call(this,Fe,Ne);return Fe==="readable"&&process.nextTick($e,this),bt},Q.prototype.removeAllListeners=function(Fe){var Ne=u.prototype.removeAllListeners.apply(this,arguments);return Fe!=="readable"&&Fe!==void 0||process.nextTick($e,this),Ne},Q.prototype.resume=function(){var Fe=this._readableState;return Fe.flowing||(r("resume"),Fe.flowing=!Fe.readableListening,function(Ne,bt){bt.resumeScheduled||(bt.resumeScheduled=!0,process.nextTick(tt,Ne,bt))}(this,Fe)),Fe.paused=!1,this},Q.prototype.pause=function(){return r("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(r("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},Q.prototype.wrap=function(Fe){var Ne=this,bt=this._readableState,Z=!1;for(var ne in Fe.on("end",function(){if(r("wrapped end"),bt.decoder&&!bt.ended){var j=bt.decoder.end();j&&j.length&&Ne.push(j)}Ne.push(null)}),Fe.on("data",function(j){r("wrapped data"),bt.decoder&&(j=bt.decoder.write(j)),bt.objectMode&&j==null||(bt.objectMode||j&&j.length)&&(Ne.push(j)||(Z=!0,Fe.pause()))}),Fe)this[ne]===void 0&&typeof Fe[ne]=="function"&&(this[ne]=function(j){return function(){return Fe[j].apply(Fe,arguments)}}(ne));for(var L=0;L<Te.length;L++)Fe.on(Te[L],this.emit.bind(this,Te[L]));return this._read=function(j){r("wrapped _read",j),Z&&(Z=!1,Fe.resume())},this},typeof Symbol=="function"&&(Q.prototype[Symbol.asyncIterator]=function(){return m===void 0&&(m=t(5857)),m(this)}),Object.defineProperty(Q.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(Q.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(Q.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(Fe){this._readableState&&(this._readableState.flowing=Fe)}}),Q._fromList=qe,Object.defineProperty(Q.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(Q.from=function(Fe,Ne){return p===void 0&&(p=t(3411)),p(Q,Fe,Ne)})},6756:function(i,e,t){i.exports=y;var n=t(1602).codes,r=n.ERR_METHOD_NOT_IMPLEMENTED,o=n.ERR_MULTIPLE_CALLBACK,u=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,d=n.ERR_TRANSFORM_WITH_LENGTH_0,h=t(884);function f(T,v){var A=this._transformState;A.transforming=!1;var k=A.writecb;if(k===null)return this.emit("error",new o);A.writechunk=null,A.writecb=null,v!=null&&this.push(v),k(T);var B=this._readableState;B.reading=!1,(B.needReadable||B.length<B.highWaterMark)&&this._read(B.highWaterMark)}function y(T){if(!(this instanceof y))return new y(T);h.call(this,T),this._transformState={afterTransform:f.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,T&&(typeof T.transform=="function"&&(this._transform=T.transform),typeof T.flush=="function"&&(this._flush=T.flush)),this.on("prefinish",m)}function m(){var T=this;typeof this._flush!="function"||this._readableState.destroyed?p(this,null,null):this._flush(function(v,A){p(T,v,A)})}function p(T,v,A){if(v)return T.emit("error",v);if(A!=null&&T.push(A),T._writableState.length)throw new d;if(T._transformState.transforming)throw new u;return T.push(null)}t(7523)(y,h),y.prototype.push=function(T,v){return this._transformState.needTransform=!1,h.prototype.push.call(this,T,v)},y.prototype._transform=function(T,v,A){A(new r("_transform()"))},y.prototype._write=function(T,v,A){var k=this._transformState;if(k.writecb=A,k.writechunk=T,k.writeencoding=v,!k.transforming){var B=this._readableState;(k.needTransform||B.needReadable||B.length<B.highWaterMark)&&this._read(B.highWaterMark)}},y.prototype._read=function(T){var v=this._transformState;v.writechunk===null||v.transforming?v.needTransform=!0:(v.transforming=!0,this._transform(v.writechunk,v.writeencoding,v.afterTransform))},y.prototype._destroy=function(T,v){h.prototype._destroy.call(this,T,function(A){v(A)})}},3726:function(i,e,t){function n(Ge){var _e=this;this.next=null,this.entry=null,this.finish=function(){(function($e,Je){var tt=$e.entry;for($e.entry=null;tt;){var Pe=tt.callback;Je.pendingcb--,Pe(void 0),tt=tt.next}Je.corkedRequestsFree.next=$e})(_e,Ge)}}var r;i.exports=Q,Q.WritableState=X;var o,u={deprecate:t(9e3)},d=t(2611),h=t(44).Buffer,f=(t.g!==void 0?t.g:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},y=t(2410),m=t(1749).getHighWaterMark,p=t(1602).codes,T=p.ERR_INVALID_ARG_TYPE,v=p.ERR_METHOD_NOT_IMPLEMENTED,A=p.ERR_MULTIPLE_CALLBACK,k=p.ERR_STREAM_CANNOT_PIPE,B=p.ERR_STREAM_DESTROYED,$=p.ERR_STREAM_NULL_VALUES,K=p.ERR_STREAM_WRITE_AFTER_END,ue=p.ERR_UNKNOWN_ENCODING,me=y.errorOrDestroy;function Te(){}function X(Ge,_e,$e){r=r||t(884),Ge=Ge||{},typeof $e!="boolean"&&($e=_e instanceof r),this.objectMode=!!Ge.objectMode,$e&&(this.objectMode=this.objectMode||!!Ge.writableObjectMode),this.highWaterMark=m(this,Ge,"writableHighWaterMark",$e),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Je=Ge.decodeStrings===!1;this.decodeStrings=!Je,this.defaultEncoding=Ge.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(tt){(function(Pe,qe){var et=Pe._writableState,pt=et.sync,jt=et.writecb;if(typeof jt!="function")throw new A;if(function(Ne){Ne.writing=!1,Ne.writecb=null,Ne.length-=Ne.writelen,Ne.writelen=0}(et),qe)(function(Ne,bt,Z,ne,L){--bt.pendingcb,Z?(process.nextTick(L,ne),process.nextTick(Ye,Ne,bt),Ne._writableState.errorEmitted=!0,me(Ne,ne)):(L(ne),Ne._writableState.errorEmitted=!0,me(Ne,ne),Ye(Ne,bt))})(Pe,et,pt,qe,jt);else{var Fe=Qe(et)||Pe.destroyed;Fe||et.corked||et.bufferProcessing||!et.bufferedRequest||ke(Pe,et),pt?process.nextTick(F,Pe,et,Fe,jt):F(Pe,et,Fe,jt)}})(_e,tt)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=Ge.emitClose!==!1,this.autoDestroy=!!Ge.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new n(this)}function Q(Ge){var _e=this instanceof(r=r||t(884));if(!_e&&!o.call(Q,this))return new Q(Ge);this._writableState=new X(Ge,this,_e),this.writable=!0,Ge&&(typeof Ge.write=="function"&&(this._write=Ge.write),typeof Ge.writev=="function"&&(this._writev=Ge.writev),typeof Ge.destroy=="function"&&(this._destroy=Ge.destroy),typeof Ge.final=="function"&&(this._final=Ge.final)),d.call(this)}function be(Ge,_e,$e,Je,tt,Pe,qe){_e.writelen=Je,_e.writecb=qe,_e.writing=!0,_e.sync=!0,_e.destroyed?_e.onwrite(new B("write")):$e?Ge._writev(tt,_e.onwrite):Ge._write(tt,Pe,_e.onwrite),_e.sync=!1}function F(Ge,_e,$e,Je){$e||function(tt,Pe){Pe.length===0&&Pe.needDrain&&(Pe.needDrain=!1,tt.emit("drain"))}(Ge,_e),_e.pendingcb--,Je(),Ye(Ge,_e)}function ke(Ge,_e){_e.bufferProcessing=!0;var $e=_e.bufferedRequest;if(Ge._writev&&$e&&$e.next){var Je=_e.bufferedRequestCount,tt=new Array(Je),Pe=_e.corkedRequestsFree;Pe.entry=$e;for(var qe=0,et=!0;$e;)tt[qe]=$e,$e.isBuf||(et=!1),$e=$e.next,qe+=1;tt.allBuffers=et,be(Ge,_e,!0,_e.length,tt,"",Pe.finish),_e.pendingcb++,_e.lastBufferedRequest=null,Pe.next?(_e.corkedRequestsFree=Pe.next,Pe.next=null):_e.corkedRequestsFree=new n(_e),_e.bufferedRequestCount=0}else{for(;$e;){var pt=$e.chunk,jt=$e.encoding,Fe=$e.callback;if(be(Ge,_e,!1,_e.objectMode?1:pt.length,pt,jt,Fe),$e=$e.next,_e.bufferedRequestCount--,_e.writing)break}$e===null&&(_e.lastBufferedRequest=null)}_e.bufferedRequest=$e,_e.bufferProcessing=!1}function Qe(Ge){return Ge.ending&&Ge.length===0&&Ge.bufferedRequest===null&&!Ge.finished&&!Ge.writing}function xe(Ge,_e){Ge._final(function($e){_e.pendingcb--,$e&&me(Ge,$e),_e.prefinished=!0,Ge.emit("prefinish"),Ye(Ge,_e)})}function Ye(Ge,_e){var $e=Qe(_e);if($e&&(function(tt,Pe){Pe.prefinished||Pe.finalCalled||(typeof tt._final!="function"||Pe.destroyed?(Pe.prefinished=!0,tt.emit("prefinish")):(Pe.pendingcb++,Pe.finalCalled=!0,process.nextTick(xe,tt,Pe)))}(Ge,_e),_e.pendingcb===0&&(_e.finished=!0,Ge.emit("finish"),_e.autoDestroy))){var Je=Ge._readableState;(!Je||Je.autoDestroy&&Je.endEmitted)&&Ge.destroy()}return $e}t(7523)(Q,d),X.prototype.getBuffer=function(){for(var Ge=this.bufferedRequest,_e=[];Ge;)_e.push(Ge),Ge=Ge.next;return _e},function(){try{Object.defineProperty(X.prototype,"buffer",{get:u.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(o=Function.prototype[Symbol.hasInstance],Object.defineProperty(Q,Symbol.hasInstance,{value:function(Ge){return!!o.call(this,Ge)||this===Q&&Ge&&Ge._writableState instanceof X}})):o=function(Ge){return Ge instanceof this},Q.prototype.pipe=function(){me(this,new k)},Q.prototype.write=function(Ge,_e,$e){var Je,tt=this._writableState,Pe=!1,qe=!tt.objectMode&&(Je=Ge,h.isBuffer(Je)||Je instanceof f);return qe&&!h.isBuffer(Ge)&&(Ge=function(et){return h.from(et)}(Ge)),typeof _e=="function"&&($e=_e,_e=null),qe?_e="buffer":_e||(_e=tt.defaultEncoding),typeof $e!="function"&&($e=Te),tt.ending?function(et,pt){var jt=new K;me(et,jt),process.nextTick(pt,jt)}(this,$e):(qe||function(et,pt,jt,Fe){var Ne;return jt===null?Ne=new $:typeof jt=="string"||pt.objectMode||(Ne=new T("chunk",["string","Buffer"],jt)),!Ne||(me(et,Ne),process.nextTick(Fe,Ne),!1)}(this,tt,Ge,$e))&&(tt.pendingcb++,Pe=function(et,pt,jt,Fe,Ne,bt){if(!jt){var Z=function(pe,ie,He){return pe.objectMode||pe.decodeStrings===!1||typeof ie!="string"||(ie=h.from(ie,He)),ie}(pt,Fe,Ne);Fe!==Z&&(jt=!0,Ne="buffer",Fe=Z)}var ne=pt.objectMode?1:Fe.length;pt.length+=ne;var L=pt.length<pt.highWaterMark;if(L||(pt.needDrain=!0),pt.writing||pt.corked){var j=pt.lastBufferedRequest;pt.lastBufferedRequest={chunk:Fe,encoding:Ne,isBuf:jt,callback:bt,next:null},j?j.next=pt.lastBufferedRequest:pt.bufferedRequest=pt.lastBufferedRequest,pt.bufferedRequestCount+=1}else be(et,pt,!1,ne,Fe,Ne,bt);return L}(this,tt,qe,Ge,_e,$e)),Pe},Q.prototype.cork=function(){this._writableState.corked++},Q.prototype.uncork=function(){var Ge=this._writableState;Ge.corked&&(Ge.corked--,Ge.writing||Ge.corked||Ge.bufferProcessing||!Ge.bufferedRequest||ke(this,Ge))},Q.prototype.setDefaultEncoding=function(Ge){if(typeof Ge=="string"&&(Ge=Ge.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Ge+"").toLowerCase())>-1))throw new ue(Ge);return this._writableState.defaultEncoding=Ge,this},Object.defineProperty(Q.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(Q.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Q.prototype._write=function(Ge,_e,$e){$e(new v("_write()"))},Q.prototype._writev=null,Q.prototype.end=function(Ge,_e,$e){var Je=this._writableState;return typeof Ge=="function"?($e=Ge,Ge=null,_e=null):typeof _e=="function"&&($e=_e,_e=null),Ge!=null&&this.write(Ge,_e),Je.corked&&(Je.corked=1,this.uncork()),Je.ending||function(tt,Pe,qe){Pe.ending=!0,Ye(tt,Pe),qe&&(Pe.finished?process.nextTick(qe):tt.once("finish",qe)),Pe.ended=!0,tt.writable=!1}(this,Je,$e),this},Object.defineProperty(Q.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(Q.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(Ge){this._writableState&&(this._writableState.destroyed=Ge)}}),Q.prototype.destroy=y.destroy,Q.prototype._undestroy=y.undestroy,Q.prototype._destroy=function(Ge,_e){_e(Ge)}},5857:function(i,e,t){var n;function r($,K,ue){return(K=function(me){var Te=function(X){if(typeof X!="object"||X===null)return X;var Q=X[Symbol.toPrimitive];if(Q!==void 0){var be=Q.call(X,"string");if(typeof be!="object")return be;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(X)}(me);return typeof Te=="symbol"?Te:String(Te)}(K))in $?Object.defineProperty($,K,{value:ue,enumerable:!0,configurable:!0,writable:!0}):$[K]=ue,$}var o=t(2896),u=Symbol("lastResolve"),d=Symbol("lastReject"),h=Symbol("error"),f=Symbol("ended"),y=Symbol("lastPromise"),m=Symbol("handlePromise"),p=Symbol("stream");function T($,K){return{value:$,done:K}}function v($){var K=$[u];if(K!==null){var ue=$[p].read();ue!==null&&($[y]=null,$[u]=null,$[d]=null,K(T(ue,!1)))}}function A($){process.nextTick(v,$)}var k=Object.getPrototypeOf(function(){}),B=Object.setPrototypeOf((r(n={get stream(){return this[p]},next:function(){var $=this,K=this[h];if(K!==null)return Promise.reject(K);if(this[f])return Promise.resolve(T(void 0,!0));if(this[p].destroyed)return new Promise(function(X,Q){process.nextTick(function(){$[h]?Q($[h]):X(T(void 0,!0))})});var ue,me=this[y];if(me)ue=new Promise(function(X,Q){return function(be,F){X.then(function(){Q[f]?be(T(void 0,!0)):Q[m](be,F)},F)}}(me,this));else{var Te=this[p].read();if(Te!==null)return Promise.resolve(T(Te,!1));ue=new Promise(this[m])}return this[y]=ue,ue}},Symbol.asyncIterator,function(){return this}),r(n,"return",function(){var $=this;return new Promise(function(K,ue){$[p].destroy(null,function(me){me?ue(me):K(T(void 0,!0))})})}),n),k);i.exports=function($){var K,ue=Object.create(B,(r(K={},p,{value:$,writable:!0}),r(K,u,{value:null,writable:!0}),r(K,d,{value:null,writable:!0}),r(K,h,{value:null,writable:!0}),r(K,f,{value:$._readableState.endEmitted,writable:!0}),r(K,m,{value:function(me,Te){var X=ue[p].read();X?(ue[y]=null,ue[u]=null,ue[d]=null,me(T(X,!1))):(ue[u]=me,ue[d]=Te)},writable:!0}),K));return ue[y]=null,o($,function(me){if(me&&me.code!=="ERR_STREAM_PREMATURE_CLOSE"){var Te=ue[d];return Te!==null&&(ue[y]=null,ue[u]=null,ue[d]=null,Te(me)),void(ue[h]=me)}var X=ue[u];X!==null&&(ue[y]=null,ue[u]=null,ue[d]=null,X(T(void 0,!0))),ue[f]=!0}),$.on("readable",A.bind(null,ue)),ue}},3791:function(i,e,t){function n(m,p){var T=Object.keys(m);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(m);p&&(v=v.filter(function(A){return Object.getOwnPropertyDescriptor(m,A).enumerable})),T.push.apply(T,v)}return T}function r(m){for(var p=1;p<arguments.length;p++){var T=arguments[p]!=null?arguments[p]:{};p%2?n(Object(T),!0).forEach(function(v){o(m,v,T[v])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(T)):n(Object(T)).forEach(function(v){Object.defineProperty(m,v,Object.getOwnPropertyDescriptor(T,v))})}return m}function o(m,p,T){return(p=d(p))in m?Object.defineProperty(m,p,{value:T,enumerable:!0,configurable:!0,writable:!0}):m[p]=T,m}function u(m,p){for(var T=0;T<p.length;T++){var v=p[T];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,d(v.key),v)}}function d(m){var p=function(T){if(typeof T!="object"||T===null)return T;var v=T[Symbol.toPrimitive];if(v!==void 0){var A=v.call(T,"string");if(typeof A!="object")return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(T)}(m);return typeof p=="symbol"?p:String(p)}var h=t(44).Buffer,f=t(3779).inspect,y=f&&f.custom||"inspect";i.exports=function(){function m(){(function(v,A){if(!(v instanceof A))throw new TypeError("Cannot call a class as a function")})(this,m),this.head=null,this.tail=null,this.length=0}var p,T;return p=m,(T=[{key:"push",value:function(v){var A={data:v,next:null};this.length>0?this.tail.next=A:this.head=A,this.tail=A,++this.length}},{key:"unshift",value:function(v){var A={data:v,next:this.head};this.length===0&&(this.tail=A),this.head=A,++this.length}},{key:"shift",value:function(){if(this.length!==0){var v=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,v}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(v){if(this.length===0)return"";for(var A=this.head,k=""+A.data;A=A.next;)k+=v+A.data;return k}},{key:"concat",value:function(v){if(this.length===0)return h.alloc(0);for(var A,k,B,$=h.allocUnsafe(v>>>0),K=this.head,ue=0;K;)A=K.data,k=$,B=ue,h.prototype.copy.call(A,k,B),ue+=K.data.length,K=K.next;return $}},{key:"consume",value:function(v,A){var k;return v<this.head.data.length?(k=this.head.data.slice(0,v),this.head.data=this.head.data.slice(v)):k=v===this.head.data.length?this.shift():A?this._getString(v):this._getBuffer(v),k}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(v){var A=this.head,k=1,B=A.data;for(v-=B.length;A=A.next;){var $=A.data,K=v>$.length?$.length:v;if(K===$.length?B+=$:B+=$.slice(0,v),(v-=K)==0){K===$.length?(++k,A.next?this.head=A.next:this.head=this.tail=null):(this.head=A,A.data=$.slice(K));break}++k}return this.length-=k,B}},{key:"_getBuffer",value:function(v){var A=h.allocUnsafe(v),k=this.head,B=1;for(k.data.copy(A),v-=k.data.length;k=k.next;){var $=k.data,K=v>$.length?$.length:v;if($.copy(A,A.length-v,0,K),(v-=K)==0){K===$.length?(++B,k.next?this.head=k.next:this.head=this.tail=null):(this.head=k,k.data=$.slice(K));break}++B}return this.length-=B,A}},{key:y,value:function(v,A){return f(this,r(r({},A),{},{depth:0,customInspect:!1}))}}])&&u(p.prototype,T),Object.defineProperty(p,"prototype",{writable:!1}),m}()},2410:function(i){function e(r,o){n(r,o),t(r)}function t(r){r._writableState&&!r._writableState.emitClose||r._readableState&&!r._readableState.emitClose||r.emit("close")}function n(r,o){r.emit("error",o)}i.exports={destroy:function(r,o){var u=this,d=this._readableState&&this._readableState.destroyed,h=this._writableState&&this._writableState.destroyed;return d||h?(o?o(r):r&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(n,this,r)):process.nextTick(n,this,r)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(r||null,function(f){!o&&f?u._writableState?u._writableState.errorEmitted?process.nextTick(t,u):(u._writableState.errorEmitted=!0,process.nextTick(e,u,f)):process.nextTick(e,u,f):o?(process.nextTick(t,u),o(f)):process.nextTick(t,u)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(r,o){var u=r._readableState,d=r._writableState;u&&u.autoDestroy||d&&d.autoDestroy?r.destroy(o):r.emit("error",o)}}},2896:function(i,e,t){var n=t(1602).codes.ERR_STREAM_PREMATURE_CLOSE;function r(){}i.exports=function o(u,d,h){if(typeof d=="function")return o(u,null,d);d||(d={}),h=function(K){var ue=!1;return function(){if(!ue){ue=!0;for(var me=arguments.length,Te=new Array(me),X=0;X<me;X++)Te[X]=arguments[X];K.apply(this,Te)}}}(h||r);var f=d.readable||d.readable!==!1&&u.readable,y=d.writable||d.writable!==!1&&u.writable,m=function(){u.writable||T()},p=u._writableState&&u._writableState.finished,T=function(){y=!1,p=!0,f||h.call(u)},v=u._readableState&&u._readableState.endEmitted,A=function(){f=!1,v=!0,y||h.call(u)},k=function(K){h.call(u,K)},B=function(){var K;return f&&!v?(u._readableState&&u._readableState.ended||(K=new n),h.call(u,K)):y&&!p?(u._writableState&&u._writableState.ended||(K=new n),h.call(u,K)):void 0},$=function(){u.req.on("finish",T)};return function(K){return K.setHeader&&typeof K.abort=="function"}(u)?(u.on("complete",T),u.on("abort",B),u.req?$():u.on("request",$)):y&&!u._writableState&&(u.on("end",m),u.on("close",m)),u.on("end",A),u.on("finish",T),d.error!==!1&&u.on("error",k),u.on("close",B),function(){u.removeListener("complete",T),u.removeListener("abort",B),u.removeListener("request",$),u.req&&u.req.removeListener("finish",T),u.removeListener("end",m),u.removeListener("close",m),u.removeListener("finish",T),u.removeListener("end",A),u.removeListener("error",k),u.removeListener("close",B)}}},3411:function(i){i.exports=function(){throw new Error("Readable.from is not available in the browser")}},8460:function(i,e,t){var n,r=t(1602).codes,o=r.ERR_MISSING_ARGS,u=r.ERR_STREAM_DESTROYED;function d(y){if(y)throw y}function h(y){y()}function f(y,m){return y.pipe(m)}i.exports=function(){for(var y=arguments.length,m=new Array(y),p=0;p<y;p++)m[p]=arguments[p];var T,v=function(k){return k.length?typeof k[k.length-1]!="function"?d:k.pop():d}(m);if(Array.isArray(m[0])&&(m=m[0]),m.length<2)throw new o("streams");var A=m.map(function(k,B){var $=B<m.length-1;return function(K,ue,me,Te){Te=function(be){var F=!1;return function(){F||(F=!0,be.apply(void 0,arguments))}}(Te);var X=!1;K.on("close",function(){X=!0}),n===void 0&&(n=t(2896)),n(K,{readable:ue,writable:me},function(be){if(be)return Te(be);X=!0,Te()});var Q=!1;return function(be){if(!X&&!Q)return Q=!0,function(F){return F.setHeader&&typeof F.abort=="function"}(K)?K.abort():typeof K.destroy=="function"?K.destroy():void Te(be||new u("pipe"))}}(k,$,B>0,function(K){T||(T=K),K&&A.forEach(h),$||(A.forEach(h),v(T))})});return m.reduce(f)}},1749:function(i,e,t){var n=t(1602).codes.ERR_INVALID_OPT_VALUE;i.exports={getHighWaterMark:function(r,o,u,d){var h=function(f,y,m){return f.highWaterMark!=null?f.highWaterMark:y?f[m]:null}(o,d,u);if(h!=null){if(!isFinite(h)||Math.floor(h)!==h||h<0)throw new n(d?u:"highWaterMark",h);return Math.floor(h)}return r.objectMode?16:16384}}},2611:function(i,e,t){i.exports=t(9826).EventEmitter},748:function(i,e,t){var n=t(4598).Buffer,r=n.isEncoding||function(v){switch((v=""+v)&&v.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(v){var A;switch(this.encoding=function(k){var B=function($){if(!$)return"utf8";for(var K;;)switch($){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return $;default:if(K)return;$=(""+$).toLowerCase(),K=!0}}(k);if(typeof B!="string"&&(n.isEncoding===r||!r(k)))throw new Error("Unknown encoding: "+k);return B||k}(v),this.encoding){case"utf16le":this.text=h,this.end=f,A=4;break;case"utf8":this.fillLast=d,A=4;break;case"base64":this.text=y,this.end=m,A=3;break;default:return this.write=p,void(this.end=T)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(A)}function u(v){return v<=127?0:v>>5==6?2:v>>4==14?3:v>>3==30?4:v>>6==2?-1:-2}function d(v){var A=this.lastTotal-this.lastNeed,k=function(B,$){if((192&$[0])!=128)return B.lastNeed=0,"";if(B.lastNeed>1&&$.length>1){if((192&$[1])!=128)return B.lastNeed=1,"";if(B.lastNeed>2&&$.length>2&&(192&$[2])!=128)return B.lastNeed=2,""}}(this,v);return k!==void 0?k:this.lastNeed<=v.length?(v.copy(this.lastChar,A,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(v.copy(this.lastChar,A,0,v.length),void(this.lastNeed-=v.length))}function h(v,A){if((v.length-A)%2==0){var k=v.toString("utf16le",A);if(k){var B=k.charCodeAt(k.length-1);if(B>=55296&&B<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=v[v.length-2],this.lastChar[1]=v[v.length-1],k.slice(0,-1)}return k}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=v[v.length-1],v.toString("utf16le",A,v.length-1)}function f(v){var A=v&&v.length?this.write(v):"";if(this.lastNeed){var k=this.lastTotal-this.lastNeed;return A+this.lastChar.toString("utf16le",0,k)}return A}function y(v,A){var k=(v.length-A)%3;return k===0?v.toString("base64",A):(this.lastNeed=3-k,this.lastTotal=3,k===1?this.lastChar[0]=v[v.length-1]:(this.lastChar[0]=v[v.length-2],this.lastChar[1]=v[v.length-1]),v.toString("base64",A,v.length-k))}function m(v){var A=v&&v.length?this.write(v):"";return this.lastNeed?A+this.lastChar.toString("base64",0,3-this.lastNeed):A}function p(v){return v.toString(this.encoding)}function T(v){return v&&v.length?this.write(v):""}e.StringDecoder=o,o.prototype.write=function(v){if(v.length===0)return"";var A,k;if(this.lastNeed){if((A=this.fillLast(v))===void 0)return"";k=this.lastNeed,this.lastNeed=0}else k=0;return k<v.length?A?A+this.text(v,k):this.text(v,k):A||""},o.prototype.end=function(v){var A=v&&v.length?this.write(v):"";return this.lastNeed?A+"":A},o.prototype.text=function(v,A){var k=function($,K,ue){var me=K.length-1;if(me<ue)return 0;var Te=u(K[me]);return Te>=0?(Te>0&&($.lastNeed=Te-1),Te):--me<ue||Te===-2?0:(Te=u(K[me]))>=0?(Te>0&&($.lastNeed=Te-2),Te):--me<ue||Te===-2?0:(Te=u(K[me]))>=0?(Te>0&&(Te===2?Te=0:$.lastNeed=Te-3),Te):0}(this,v,A);if(!this.lastNeed)return v.toString("utf8",A);this.lastTotal=k;var B=v.length-(k-this.lastNeed);return v.copy(this.lastChar,0,B),v.toString("utf8",A,B)},o.prototype.fillLast=function(v){if(this.lastNeed<=v.length)return v.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);v.copy(this.lastChar,this.lastTotal-this.lastNeed,0,v.length),this.lastNeed-=v.length}},4598:function(i,e,t){var n=t(44),r=n.Buffer;function o(d,h){for(var f in d)h[f]=d[f]}function u(d,h,f){return r(d,h,f)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?i.exports=n:(o(n,e),e.Buffer=u),o(r,u),u.from=function(d,h,f){if(typeof d=="number")throw new TypeError("Argument must not be a number");return r(d,h,f)},u.alloc=function(d,h,f){if(typeof d!="number")throw new TypeError("Argument must be a number");var y=r(d);return h!==void 0?typeof f=="string"?y.fill(h,f):y.fill(h):y.fill(0),y},u.allocUnsafe=function(d){if(typeof d!="number")throw new TypeError("Argument must be a number");return r(d)},u.allocUnsafeSlow=function(d){if(typeof d!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(d)}},8571:function(i,e,t){var n;(function(r,o){var u="function",d="undefined",h="object",f="string",y="major",m="model",p="name",T="type",v="vendor",A="version",k="architecture",B="console",$="mobile",K="tablet",ue="smarttv",me="wearable",Te="embedded",X="Amazon",Q="Apple",be="ASUS",F="BlackBerry",ke="Browser",Qe="Chrome",xe="Firefox",Ye="Google",Ge="Huawei",_e="LG",$e="Microsoft",Je="Motorola",tt="Opera",Pe="Samsung",qe="Sharp",et="Sony",pt="Xiaomi",jt="Zebra",Fe="Facebook",Ne="Chromium OS",bt="Mac OS",Z=function(rt){for(var vt={},yt=0;yt<rt.length;yt++)vt[rt[yt].toUpperCase()]=rt[yt];return vt},ne=function(rt,vt){return typeof rt===f&&L(vt).indexOf(L(rt))!==-1},L=function(rt){return rt.toLowerCase()},j=function(rt,vt){if(typeof rt===f)return rt=rt.replace(/^\s\s*/,""),typeof vt===d?rt:rt.substring(0,500)},pe=function(rt,vt){for(var yt,ht,Sn,tn,ft,dt,nn=0;nn<vt.length&&!ft;){var Cn=vt[nn],Pn=vt[nn+1];for(yt=ht=0;yt<Cn.length&&!ft&&Cn[yt];)if(ft=Cn[yt++].exec(rt))for(Sn=0;Sn<Pn.length;Sn++)dt=ft[++ht],typeof(tn=Pn[Sn])===h&&tn.length>0?tn.length===2?typeof tn[1]==u?this[tn[0]]=tn[1].call(this,dt):this[tn[0]]=tn[1]:tn.length===3?typeof tn[1]!==u||tn[1].exec&&tn[1].test?this[tn[0]]=dt?dt.replace(tn[1],tn[2]):o:this[tn[0]]=dt?tn[1].call(this,dt,tn[2]):o:tn.length===4&&(this[tn[0]]=dt?tn[3].call(this,dt.replace(tn[1],tn[2])):o):this[tn]=dt||o;nn+=2}},ie=function(rt,vt){for(var yt in vt)if(typeof vt[yt]===h&&vt[yt].length>0){for(var ht=0;ht<vt[yt].length;ht++)if(ne(vt[yt][ht],rt))return yt==="?"?o:yt}else if(ne(vt[yt],rt))return yt==="?"?o:yt;return rt},He={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},st={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[A,[p,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[A,[p,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[p,A],[/opios[\/ ]+([\w\.]+)/i],[A,[p,tt+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[A,[p,tt+" GX"]],[/\bopr\/([\w\.]+)/i],[A,[p,tt]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[A,[p,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[p,A],[/\bddg\/([\w\.]+)/i],[A,[p,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[A,[p,"UC"+ke]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[A,[p,"WeChat"]],[/konqueror\/([\w\.]+)/i],[A,[p,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[A,[p,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[A,[p,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[A,[p,"Smart Lenovo "+ke]],[/(avast|avg)\/([\w\.]+)/i],[[p,/(.+)/,"$1 Secure "+ke],A],[/\bfocus\/([\w\.]+)/i],[A,[p,xe+" Focus"]],[/\bopt\/([\w\.]+)/i],[A,[p,tt+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[A,[p,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[A,[p,"Dolphin"]],[/coast\/([\w\.]+)/i],[A,[p,tt+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[A,[p,"MIUI "+ke]],[/fxios\/([-\w\.]+)/i],[A,[p,xe]],[/\bqihu|(qi?ho?o?|360)browser/i],[[p,"360 "+ke]],[/(oculus|sailfish|huawei|vivo)browser\/([\w\.]+)/i],[[p,/(.+)/,"$1 "+ke],A],[/samsungbrowser\/([\w\.]+)/i],[A,[p,Pe+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[p,/_/g," "],A],[/metasr[\/ ]?([\d\.]+)/i],[A,[p,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[p,"Sogou Mobile"],A],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[p,A],[/(lbbrowser)/i,/\[(linkedin)app\]/i],[p],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[p,Fe],A],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[p,A],[/\bgsa\/([\w\.]+) .*safari\//i],[A,[p,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[A,[p,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[A,[p,Qe+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[p,Qe+" WebView"],A],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[A,[p,"Android "+ke]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[p,A],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[A,[p,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[A,p],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[p,[A,ie,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[p,A],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[p,"Netscape"],A],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[A,[p,xe+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[p,A],[/(cobalt)\/([\w\.]+)/i],[p,[A,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[k,"amd64"]],[/(ia32(?=;))/i],[[k,L]],[/((?:i[346]|x)86)[;\)]/i],[[k,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[k,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[k,"armhf"]],[/windows (ce|mobile); ppc;/i],[[k,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[k,/ower/,"",L]],[/(sun4\w)[;\)]/i],[[k,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[k,L]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[m,[v,Pe],[T,K]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[m,[v,Pe],[T,$]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[m,[v,Q],[T,$]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[m,[v,Q],[T,K]],[/(macintosh);/i],[m,[v,Q]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[m,[v,qe],[T,$]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[m,[v,Ge],[T,K]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[m,[v,Ge],[T,$]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[m,/_/g," "],[v,pt],[T,$]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[m,/_/g," "],[v,pt],[T,K]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[m,[v,"OPPO"],[T,$]],[/\b(opd2\d{3}a?) bui/i],[m,[v,"OPPO"],[T,K]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[m,[v,"Vivo"],[T,$]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[m,[v,"Realme"],[T,$]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[m,[v,Je],[T,$]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[m,[v,Je],[T,K]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[m,[v,_e],[T,K]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[m,[v,_e],[T,$]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[m,[v,"Lenovo"],[T,K]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[m,/_/g," "],[v,"Nokia"],[T,$]],[/(pixel c)\b/i],[m,[v,Ye],[T,K]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[m,[v,Ye],[T,$]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[m,[v,et],[T,$]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[m,"Xperia Tablet"],[v,et],[T,K]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[m,[v,"OnePlus"],[T,$]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[m,[v,X],[T,K]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[m,/(.+)/g,"Fire Phone $1"],[v,X],[T,$]],[/(playbook);[-\w\),; ]+(rim)/i],[m,v,[T,K]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[m,[v,F],[T,$]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[m,[v,be],[T,K]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[m,[v,be],[T,$]],[/(nexus 9)/i],[m,[v,"HTC"],[T,K]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[v,[m,/_/g," "],[T,$]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[m,[v,"Acer"],[T,K]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[m,[v,"Meizu"],[T,$]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[m,[v,"Ulefone"],[T,$]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[v,m,[T,$]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[v,m,[T,K]],[/(surface duo)/i],[m,[v,$e],[T,K]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[m,[v,"Fairphone"],[T,$]],[/(u304aa)/i],[m,[v,"AT&T"],[T,$]],[/\bsie-(\w*)/i],[m,[v,"Siemens"],[T,$]],[/\b(rct\w+) b/i],[m,[v,"RCA"],[T,K]],[/\b(venue[\d ]{2,7}) b/i],[m,[v,"Dell"],[T,K]],[/\b(q(?:mv|ta)\w+) b/i],[m,[v,"Verizon"],[T,K]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[m,[v,"Barnes & Noble"],[T,K]],[/\b(tm\d{3}\w+) b/i],[m,[v,"NuVision"],[T,K]],[/\b(k88) b/i],[m,[v,"ZTE"],[T,K]],[/\b(nx\d{3}j) b/i],[m,[v,"ZTE"],[T,$]],[/\b(gen\d{3}) b.+49h/i],[m,[v,"Swiss"],[T,$]],[/\b(zur\d{3}) b/i],[m,[v,"Swiss"],[T,K]],[/\b((zeki)?tb.*\b) b/i],[m,[v,"Zeki"],[T,K]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[v,"Dragon Touch"],m,[T,K]],[/\b(ns-?\w{0,9}) b/i],[m,[v,"Insignia"],[T,K]],[/\b((nxa|next)-?\w{0,9}) b/i],[m,[v,"NextBook"],[T,K]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[v,"Voice"],m,[T,$]],[/\b(lvtel\-)?(v1[12]) b/i],[[v,"LvTel"],m,[T,$]],[/\b(ph-1) /i],[m,[v,"Essential"],[T,$]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[m,[v,"Envizen"],[T,K]],[/\b(trio[-\w\. ]+) b/i],[m,[v,"MachSpeed"],[T,K]],[/\btu_(1491) b/i],[m,[v,"Rotor"],[T,K]],[/(shield[\w ]+) b/i],[m,[v,"Nvidia"],[T,K]],[/(sprint) (\w+)/i],[v,m,[T,$]],[/(kin\.[onetw]{3})/i],[[m,/\./g," "],[v,$e],[T,$]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[m,[v,jt],[T,K]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[m,[v,jt],[T,$]],[/smart-tv.+(samsung)/i],[v,[T,ue]],[/hbbtv.+maple;(\d+)/i],[[m,/^/,"SmartTV"],[v,Pe],[T,ue]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[v,_e],[T,ue]],[/(apple) ?tv/i],[v,[m,Q+" TV"],[T,ue]],[/crkey/i],[[m,Qe+"cast"],[v,Ye],[T,ue]],[/droid.+aft(\w+)( bui|\))/i],[m,[v,X],[T,ue]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[m,[v,qe],[T,ue]],[/(bravia[\w ]+)( bui|\))/i],[m,[v,et],[T,ue]],[/(mitv-\w{5}) bui/i],[m,[v,pt],[T,ue]],[/Hbbtv.*(technisat) (.*);/i],[v,m,[T,ue]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[v,j],[m,j],[T,ue]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[T,ue]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[v,m,[T,B]],[/droid.+; (shield) bui/i],[m,[v,"Nvidia"],[T,B]],[/(playstation [345portablevi]+)/i],[m,[v,et],[T,B]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[m,[v,$e],[T,B]],[/((pebble))app/i],[v,m,[T,me]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[m,[v,Q],[T,me]],[/droid.+; (glass) \d/i],[m,[v,Ye],[T,me]],[/droid.+; (wt63?0{2,3})\)/i],[m,[v,jt],[T,me]],[/(quest( \d| pro)?)/i],[m,[v,Fe],[T,me]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[v,[T,Te]],[/(aeobc)\b/i],[m,[v,X],[T,Te]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[m,[T,$]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[m,[T,K]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[T,K]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[T,$]],[/(android[-\w\. ]{0,9});.+buil/i],[m,[v,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[A,[p,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[A,[p,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[p,A],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[A,p]],os:[[/microsoft (windows) (vista|xp)/i],[p,A],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[p,[A,ie,He]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[A,ie,He],[p,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[A,/_/g,"."],[p,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[p,bt],[A,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[A,p],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[p,A],[/\(bb(10);/i],[A,[p,F]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[A,[p,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[A,[p,xe+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[A,[p,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[A,[p,"watchOS"]],[/crkey\/([\d\.]+)/i],[A,[p,Qe+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[p,Ne],A],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[p,A],[/(sunos) ?([\w\.\d]*)/i],[[p,"Solaris"],A],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[p,A]]},Xe=function(rt,vt){if(typeof rt===h&&(vt=rt,rt=o),!(this instanceof Xe))return new Xe(rt,vt).getResult();var yt=typeof r!==d&&r.navigator?r.navigator:o,ht=rt||(yt&&yt.userAgent?yt.userAgent:""),Sn=yt&&yt.userAgentData?yt.userAgentData:o,tn=vt?function(dt,nn){var Cn={};for(var Pn in dt)nn[Pn]&&nn[Pn].length%2==0?Cn[Pn]=nn[Pn].concat(dt[Pn]):Cn[Pn]=dt[Pn];return Cn}(st,vt):st,ft=yt&&yt.userAgent==ht;return this.getBrowser=function(){var dt,nn={};return nn[p]=o,nn[A]=o,pe.call(nn,ht,tn.browser),nn[y]=typeof(dt=nn[A])===f?dt.replace(/[^\d\.]/g,"").split(".")[0]:o,ft&&yt&&yt.brave&&typeof yt.brave.isBrave==u&&(nn[p]="Brave"),nn},this.getCPU=function(){var dt={};return dt[k]=o,pe.call(dt,ht,tn.cpu),dt},this.getDevice=function(){var dt={};return dt[v]=o,dt[m]=o,dt[T]=o,pe.call(dt,ht,tn.device),ft&&!dt[T]&&Sn&&Sn.mobile&&(dt[T]=$),ft&&dt[m]=="Macintosh"&&yt&&typeof yt.standalone!==d&&yt.maxTouchPoints&&yt.maxTouchPoints>2&&(dt[m]="iPad",dt[T]=K),dt},this.getEngine=function(){var dt={};return dt[p]=o,dt[A]=o,pe.call(dt,ht,tn.engine),dt},this.getOS=function(){var dt={};return dt[p]=o,dt[A]=o,pe.call(dt,ht,tn.os),ft&&!dt[p]&&Sn&&Sn.platform&&Sn.platform!="Unknown"&&(dt[p]=Sn.platform.replace(/chrome os/i,Ne).replace(/macos/i,bt)),dt},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return ht},this.setUA=function(dt){return ht=typeof dt===f&&dt.length>500?j(dt,500):dt,this},this.setUA(ht),this};Xe.VERSION="1.0.38",Xe.BROWSER=Z([p,A,y]),Xe.CPU=Z([k]),Xe.DEVICE=Z([m,v,T,B,$,ue,K,me,Te]),Xe.ENGINE=Xe.OS=Z([p,A]),typeof e!==d?(i.exports&&(e=i.exports=Xe),e.UAParser=Xe):t.amdO?(n=(function(){return Xe}).call(e,t,e,i))===o||(i.exports=n):typeof r!==d&&(r.UAParser=Xe);var Ze=typeof r!==d&&(r.jQuery||r.Zepto);if(Ze&&!Ze.ua){var We=new Xe;Ze.ua=We.getResult(),Ze.ua.get=function(){return We.getUA()},Ze.ua.set=function(rt){We.setUA(rt);var vt=We.getResult();for(var yt in vt)Ze.ua[yt]=vt[yt]}}})(typeof window=="object"?window:this)},9e3:function(i,e,t){function n(r){try{if(!t.g.localStorage)return!1}catch{return!1}var o=t.g.localStorage[r];return o!=null&&String(o).toLowerCase()==="true"}i.exports=function(r,o){if(n("noDeprecation"))return r;var u=!1;return function(){if(!u){if(n("throwDeprecation"))throw new Error(o);n("traceDeprecation")?console.trace(o):console.warn(o),u=!0}return r.apply(this,arguments)}}},3779:function(){},7199:function(){},5393:function(i,e,t){t.r(e),t.d(e,{Debug:function(){return o.default},FactoryMaker:function(){return r.default},MediaPlayer:function(){return n.default}});var n=t(1152),r=t(138),o=t(649),u=t(8986),d=typeof window<"u"&&window||global,h=d.dashjs;h||(h=d.dashjs={}),h.MediaPlayer=n.default,h.FactoryMaker=r.default,h.Debug=o.default,h.Version=(0,u.getVersionString)(),e.default=h},649:function(i,e,t){t.r(e);var n=t(8850),r=t(3621),o=t(138);function u(h){h=h||{};const f=this.context,y=(0,n.default)(f).getInstance(),m=h.settings,p=[];let T,v,A,k;function B(Q){return Q&&Q.bind?Q.bind(window.console):window.console.log.bind(window.console)}function $(...Q){X(1,this,...Q)}function K(...Q){X(2,this,...Q)}function ue(...Q){X(3,this,...Q)}function me(...Q){X(4,this,...Q)}function Te(...Q){X(5,this,...Q)}function X(Q,be,...F){let ke="",Qe=null;v&&(Qe=new Date().getTime(),ke+="["+(Qe-k)+"]"),A&&be&&be.getClassName&&(ke+="["+be.getClassName()+"]",be.getType&&(ke+="["+be.getType()+"]")),ke.length>0&&(ke+=" "),Array.apply(null,F).forEach(function(xe){ke+=xe+" "}),p[Q]&&m&&m.get().debug.logLevel>=Q&&p[Q](ke),m&&m.get().debug.dispatchEvent&&y.trigger(r.default.LOG,{message:ke,level:Q})}return T={getLogger:function(Q){return{fatal:$.bind(Q),error:K.bind(Q),warn:ue.bind(Q),info:me.bind(Q),debug:Te.bind(Q)}},setLogTimestampVisible:function(Q){v=Q},setCalleeNameVisible:function(Q){A=Q}},v=!0,A=!0,k=new Date().getTime(),typeof window<"u"&&window.console&&(p[1]=B(window.console.error),p[2]=B(window.console.error),p[3]=B(window.console.warn),p[4]=B(window.console.info),p[5]=B(window.console.debug)),T}u.__dashjs_factory_name="Debug";const d=o.default.getSingletonFactory(u);d.LOG_LEVEL_NONE=0,d.LOG_LEVEL_FATAL=1,d.LOG_LEVEL_ERROR=2,d.LOG_LEVEL_WARNING=3,d.LOG_LEVEL_INFO=4,d.LOG_LEVEL_DEBUG=5,o.default.updateSingletonFactory(u.__dashjs_factory_name,d),e.default=d},8850:function(i,e,t){t.r(e);var n=t(138),r=t(1191);function o(){let d={};function h(m,p,T,v={},A=!1){if(!m)throw new Error("event type cannot be null or undefined");if(!p||typeof p!="function")throw new Error("listener must be a function: "+p);let k=v.priority||0;if(y(m,p,T)>=0)return;d[m]=d[m]||[];const B={callback:p,scope:T,priority:k,executeOnlyOnce:A};T&&T.getStreamId&&(B.streamId=T.getStreamId()),T&&T.getType&&(B.mediaType=T.getType()),v&&v.mode&&(B.mode=v.mode),d[m].some(($,K)=>{if($&&k>$.priority)return d[m].splice(K,0,B),!0})||d[m].push(B)}function f(m,p,T){if(!m||!p||!d[m])return;const v=y(m,p,T);v<0||(d[m][v]=null)}function y(m,p,T){let v=-1;return d[m]&&d[m].some((A,k)=>{if(A&&A.callback===p&&(!T||T===A.scope))return v=k,!0}),v}return{on:function(m,p,T,v={}){h(m,p,T,v)},once:function(m,p,T,v={}){h(m,p,T,v,!0)},off:f,trigger:function(m,p={},T={}){if(!m||!d[m])return;if((p=p||{}).hasOwnProperty("type"))throw new Error("'type' is a reserved word for event dispatching");p.type=m,T.streamId&&(p.streamId=T.streamId),T.mediaType&&(p.mediaType=T.mediaType);const v=[];d[m].filter(A=>!(!A||T.streamId&&A.streamId&&A.streamId!==T.streamId||T.mediaType&&A.mediaType&&A.mediaType!==T.mediaType||T.mode&&A.mode&&A.mode!==T.mode||!A.mode&&T.mode&&T.mode===r.default.EVENT_MODE_ON_RECEIVE)).forEach(A=>{A&&A.callback.call(A.scope,p),A.executeOnlyOnce&&v.push(A)}),v.forEach(A=>{f(m,A.callback,A.scope)})},reset:function(){d={}}}}o.__dashjs_factory_name="EventBus";const u=n.default.getSingletonFactory(o);u.EVENT_PRIORITY_LOW=0,u.EVENT_PRIORITY_HIGH=5e3,n.default.updateSingletonFactory(o.__dashjs_factory_name,u),e.default=u},138:function(i,e,t){t.r(e);const n=function(){let r,o=[];const u={},d={};function h(p,T){for(const v in o){const A=o[v];if(A.context===p&&A.name===T)return A.instance}return null}function f(p,T){return T[p]}function y(p,T,v){p in v&&(v[p]=T)}function m(p,T,v){let A;const k=p.__dashjs_factory_name,B=T[k];if(B){let $=B.instance;if(!B.override)return $.apply({context:T,factory:r},v);A=p.apply({context:T},v),$=$.apply({context:T,factory:r,parent:A},v);for(const K in $)A.hasOwnProperty(K)&&(A[K]=$[K])}else A=p.apply({context:T},v);return A.getClassName=function(){return k},A}return r={deleteSingletonInstances:function(p){o=o.filter(T=>T.context!==p)},extend:function(p,T,v,A){!A[p]&&T&&(A[p]={instance:T,override:v})},getClassFactory:function(p){let T=f(p.__dashjs_factory_name,d);return T||(T=function(v){return v===void 0&&(v={}),{create:function(){return m(p,v,arguments)}}},d[p.__dashjs_factory_name]=T),T},getClassFactoryByName:function(p){return f(p,d)},getSingletonFactory:function(p){let T=f(p.__dashjs_factory_name,u);return T||(T=function(v){let A;return v===void 0&&(v={}),{getInstance:function(){return A||(A=h(v,p.__dashjs_factory_name)),A||(A=m(p,v,arguments),o.push({name:p.__dashjs_factory_name,context:v,instance:A})),A}}},u[p.__dashjs_factory_name]=T),T},getSingletonFactoryByName:function(p){return f(p,u)},getSingletonInstance:h,setSingletonInstance:function(p,T,v){for(const A in o){const k=o[A];if(k.context===p&&k.name===T)return void(o[A].instance=v)}o.push({name:T,context:p,instance:v})},updateClassFactory:function(p,T){y(p,T,d)},updateSingletonFactory:function(p,T){y(p,T,u)}},r}();e.default=n},8261:function(i,e,t){t.r(e);var n=t(138),r=t(7263),o=t(649),u=t(5212),d=t(7568),h=t(8850),f=t(3621),y=t(4246);function m(){let T;const v=this.context,A=(0,h.default)(v).getInstance(),k={"streaming.delay.liveDelay":f.default.SETTING_UPDATED_LIVE_DELAY,"streaming.delay.liveDelayFragmentCount":f.default.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,"streaming.liveCatchup.enabled":f.default.SETTING_UPDATED_CATCHUP_ENABLED,"streaming.liveCatchup.playbackRate.min":f.default.SETTING_UPDATED_PLAYBACK_RATE_MIN,"streaming.liveCatchup.playbackRate.max":f.default.SETTING_UPDATED_PLAYBACK_RATE_MAX,"streaming.abr.rules.throughputRule.active":f.default.SETTING_UPDATED_ABR_ACTIVE_RULES,"streaming.abr.rules.bolaRule.active":f.default.SETTING_UPDATED_ABR_ACTIVE_RULES,"streaming.abr.rules.insufficientBufferRule.active":f.default.SETTING_UPDATED_ABR_ACTIVE_RULES,"streaming.abr.rules.switchHistoryRule.active":f.default.SETTING_UPDATED_ABR_ACTIVE_RULES,"streaming.abr.rules.droppedFramesRule.active":f.default.SETTING_UPDATED_ABR_ACTIVE_RULES,"streaming.abr.rules.abandonRequestsRule.active":f.default.SETTING_UPDATED_ABR_ACTIVE_RULES,"streaming.abr.rules.l2ARule.active":f.default.SETTING_UPDATED_ABR_ACTIVE_RULES,"streaming.abr.rules.loLPRule.active":f.default.SETTING_UPDATED_ABR_ACTIVE_RULES,"streaming.abr.maxBitrate.video":f.default.SETTING_UPDATED_MAX_BITRATE,"streaming.abr.maxBitrate.audio":f.default.SETTING_UPDATED_MAX_BITRATE,"streaming.abr.minBitrate.video":f.default.SETTING_UPDATED_MIN_BITRATE,"streaming.abr.minBitrate.audio":f.default.SETTING_UPDATED_MIN_BITRATE},B={debug:{logLevel:o.default.LOG_LEVEL_WARNING,dispatchEvent:!1},streaming:{abandonLoadTimeout:1e4,wallclockTimeUpdateInterval:100,manifestUpdateRetryInterval:100,liveUpdateTimeThresholdInMilliseconds:0,cacheInitSegments:!1,applyServiceDescription:!0,applyProducerReferenceTime:!0,applyContentSteering:!0,enableManifestDurationMismatchFix:!0,parseInbandPrft:!1,enableManifestTimescaleMismatchFix:!1,capabilities:{filterUnsupportedEssentialProperties:!0,supportedEssentialProperties:[{schemeIdUri:u.default.FONT_DOWNLOAD_DVB_SCHEME},{schemeIdUri:u.default.COLOUR_PRIMARIES_SCHEME_ID_URI,value:/1|5|6|7/},{schemeIdUri:u.default.URL_QUERY_INFO_SCHEME},{schemeIdUri:u.default.EXT_URL_QUERY_INFO_SCHEME},{schemeIdUri:u.default.MATRIX_COEFFICIENTS_SCHEME_ID_URI,value:/0|1|5|6/},{schemeIdUri:u.default.TRANSFER_CHARACTERISTICS_SCHEME_ID_URI,value:/1|6|13|14|15/},{schemeIdUri:u.default.SEGMENT_SEQUENCE_REPRESENTATION_SCHEME_ID_URI},...u.default.THUMBNAILS_SCHEME_ID_URIS.map(ue=>({schemeIdUri:ue}))],useMediaCapabilitiesApi:!0,filterVideoColorimetryEssentialProperties:!1,filterHDRMetadataFormatEssentialProperties:!1},events:{eventControllerRefreshDelay:100,deleteEventMessageDataTimeout:1e4},timeShiftBuffer:{calcFromSegmentTimeline:!1,fallbackToSegmentTimeline:!0},metrics:{maxListDepth:100},delay:{liveDelayFragmentCount:NaN,liveDelay:NaN,useSuggestedPresentationDelay:!0},protection:{keepProtectionMediaKeys:!1,keepProtectionMediaKeysMaximumOpenSessions:-1,ignoreEmeEncryptedEvent:!1,detectPlayreadyMessageFormat:!0,ignoreKeyStatuses:!1},buffer:{enableSeekDecorrelationFix:!1,fastSwitchEnabled:null,flushBufferAtTrackSwitch:!1,reuseExistingSourceBuffers:!0,bufferPruningInterval:10,bufferToKeep:20,bufferTimeAtTopQuality:30,bufferTimeAtTopQualityLongForm:60,initialBufferLevel:NaN,bufferTimeDefault:18,longFormContentDurationThreshold:600,stallThreshold:.3,lowLatencyStallThreshold:.3,useAppendWindow:!0,setStallState:!0,avoidCurrentTimeRangePruning:!1,useChangeType:!0,mediaSourceDurationInfinity:!0,resetSourceBuffersForTrackSwitch:!1,syntheticStallEvents:{enabled:!1,ignoreReadyState:!1}},gaps:{jumpGaps:!0,jumpLargeGaps:!0,smallGapLimit:1.5,threshold:.3,enableSeekFix:!0,enableStallFix:!1,stallSeek:.1},utcSynchronization:{enabled:!0,useManifestDateHeaderTimeSource:!0,backgroundAttempts:2,timeBetweenSyncAttempts:30,maximumTimeBetweenSyncAttempts:600,minimumTimeBetweenSyncAttempts:2,timeBetweenSyncAttemptsAdjustmentFactor:2,maximumAllowedDrift:100,enableBackgroundSyncAfterSegmentDownloadError:!0,defaultTimingSource:{scheme:"urn:mpeg:dash:utc:http-xsdate:2014",value:"https://time.akamai.com/?iso&ms"},artificialTimeOffsetToApply:0},scheduling:{defaultTimeout:500,lowLatencyTimeout:0,scheduleWhilePaused:!0},text:{defaultEnabled:!0,dispatchForManualRendering:!1,extendSegmentedCues:!0,imsc:{displayForcedOnlyMode:!1,enableRollUp:!0},webvtt:{customRenderingEnabled:!1}},liveCatchup:{maxDrift:NaN,playbackRate:{min:NaN,max:NaN},playbackBufferMin:.5,enabled:null,mode:u.default.LIVE_CATCHUP_MODE_DEFAULT},lastBitrateCachingInfo:{enabled:!0,ttl:36e4},lastMediaSettingsCachingInfo:{enabled:!0,ttl:36e4},saveLastMediaSettingsForCurrentStreamingSession:!0,cacheLoadThresholds:{video:10,audio:5},trackSwitchMode:{audio:u.default.TRACK_SWITCH_MODE_ALWAYS_REPLACE,video:u.default.TRACK_SWITCH_MODE_NEVER_REPLACE},includePreselectionsInMediainfoArray:!0,includePreselectionsForInitialTrackSelection:!1,ignoreSelectionPriority:!1,prioritizeRoleMain:!0,assumeDefaultRoleAsMain:!0,selectionModeForInitialTrack:u.default.TRACK_SELECTION_MODE_LOWEST_STARTUP_DELAY,fragmentRequestTimeout:2e4,fragmentRequestProgressTimeout:-1,manifestRequestTimeout:1e4,retryIntervals:{[d.HTTPRequest.MPD_TYPE]:500,[d.HTTPRequest.XLINK_EXPANSION_TYPE]:500,[d.HTTPRequest.MEDIA_SEGMENT_TYPE]:1e3,[d.HTTPRequest.INIT_SEGMENT_TYPE]:1e3,[d.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE]:1e3,[d.HTTPRequest.INDEX_SEGMENT_TYPE]:1e3,[d.HTTPRequest.MSS_FRAGMENT_INFO_SEGMENT_TYPE]:1e3,[d.HTTPRequest.LICENSE]:1e3,[d.HTTPRequest.OTHER_TYPE]:1e3,lowLatencyReductionFactor:10},retryAttempts:{[d.HTTPRequest.MPD_TYPE]:3,[d.HTTPRequest.XLINK_EXPANSION_TYPE]:1,[d.HTTPRequest.MEDIA_SEGMENT_TYPE]:3,[d.HTTPRequest.INIT_SEGMENT_TYPE]:3,[d.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE]:3,[d.HTTPRequest.INDEX_SEGMENT_TYPE]:3,[d.HTTPRequest.MSS_FRAGMENT_INFO_SEGMENT_TYPE]:3,[d.HTTPRequest.LICENSE]:3,[d.HTTPRequest.OTHER_TYPE]:3,lowLatencyMultiplyFactor:5},abr:{limitBitrateByPortal:!1,usePixelRatioInLimitBitrateByPortal:!1,enableSupplementalPropertyAdaptationSetSwitching:!0,rules:{throughputRule:{active:!0,priority:y.default.PRIORITY.DEFAULT},bolaRule:{active:!0,priority:y.default.PRIORITY.DEFAULT},insufficientBufferRule:{active:!0,priority:y.default.PRIORITY.DEFAULT,parameters:{throughputSafetyFactor:.7,segmentIgnoreCount:2}},switchHistoryRule:{active:!0,priority:y.default.PRIORITY.DEFAULT,parameters:{sampleSize:8,switchPercentageThreshold:.075}},droppedFramesRule:{active:!1,priority:y.default.PRIORITY.DEFAULT,parameters:{minimumSampleSize:375,droppedFramesPercentageThreshold:.15}},abandonRequestsRule:{active:!0,priority:y.default.PRIORITY.DEFAULT,parameters:{abandonDurationMultiplier:1.8,minSegmentDownloadTimeThresholdInMs:500,minThroughputSamplesThreshold:6}},l2ARule:{active:!1,priority:y.default.PRIORITY.DEFAULT},loLPRule:{active:!1,priority:y.default.PRIORITY.DEFAULT}},throughput:{averageCalculationMode:u.default.THROUGHPUT_CALCULATION_MODES.EWMA,lowLatencyDownloadTimeCalculationMode:u.default.LOW_LATENCY_DOWNLOAD_TIME_CALCULATION_MODE.MOOF_PARSING,useResourceTimingApi:!0,useNetworkInformationApi:{xhr:!1,fetch:!1},useDeadTimeLatency:!0,bandwidthSafetyFactor:.9,sampleSettings:{live:3,vod:4,enableSampleSizeAdjustment:!0,decreaseScale:.7,increaseScale:1.3,maxMeasurementsToKeep:20,averageLatencySampleAmount:4},ewma:{throughputSlowHalfLifeSeconds:8,throughputFastHalfLifeSeconds:3,latencySlowHalfLifeCount:2,latencyFastHalfLifeCount:1,weightDownloadTimeMultiplicationFactor:.0015}},maxBitrate:{audio:-1,video:-1},minBitrate:{audio:-1,video:-1},initialBitrate:{audio:-1,video:-1},autoSwitchBitrate:{audio:!0,video:!0}},cmcd:{applyParametersFromMpd:!0,enabled:!1,sid:null,cid:null,rtp:null,rtpSafetyFactor:5,mode:u.default.CMCD_MODE_QUERY,enabledKeys:u.default.CMCD_AVAILABLE_KEYS,includeInRequests:["segment","mpd"],version:1},cmsd:{enabled:!1,abr:{applyMb:!1,etpWeightRatio:0}},enhancement:{enabled:!1,codecs:["lvc1"]},defaultSchemeIdUri:{viewpoint:"",audioChannelConfiguration:"urn:mpeg:mpegB:cicp:ChannelConfiguration",role:"urn:mpeg:dash:role:2011",accessibility:"urn:mpeg:dash:role:2011"}},errors:{recoverAttempts:{mediaErrorDecode:5}}};let $=r.default.clone(B);function K(ue,me,Te){for(let X in ue)ue.hasOwnProperty(X)&&(me.hasOwnProperty(X)?typeof ue[X]!="object"||ue[X]instanceof RegExp||ue[X]instanceof Array||ue[X]===null?(me[X]=r.default.clone(ue[X]),k[Te+X]&&A.trigger(k[Te+X])):K(ue[X],me[X],Te.slice()+X+"."):console.error("Settings parameter "+Te+X+" is not supported"))}return T={get:function(){return $},update:function(ue){typeof ue=="object"&&K(ue,$,"")},reset:function(){$=r.default.clone(B)}},T}m.__dashjs_factory_name="Settings";let p=n.default.getSingletonFactory(m);e.default=p},7263:function(i,e,t){t.r(e);var n=t(3282),r=t(8571),o=t(5212);class u{static mixin(h,f,y){let m,p={};if(h)for(let T in f)f.hasOwnProperty(T)&&(m=f[T],T in h&&(h[T]===m||T in p&&p[T]===m)||(typeof h[T]=="object"&&h[T]!==null?h[T]=u.mixin(h[T],m,y):h[T]=y(m)));return h}static clone(h){if(!h||typeof h!="object")return h;if(h instanceof RegExp)return new RegExp(h);let f;if(h instanceof Array){f=[];for(let y=0,m=h.length;y<m;++y)y in h&&f.push(u.clone(h[y]))}else f={};return u.mixin(f,h,u.clone)}static addAdditionalQueryParameterToUrl(h,f){try{if(!f||f.length===0)return h;let y=h;return f.forEach(({key:m,value:p})=>{const T=y.includes("?")?"&":"?";y+=`${T}${encodeURIComponent(m)}=${encodeURIComponent(p)}`}),y}catch{return h}}static removeQueryParameterFromUrl(h,f){if(!h||!f)return h;const y=new URL(h),m=new URLSearchParams(y.search);if(!m||m.size===0||!m.has(f))return h;m.delete(f);const p=Array.from(m.entries()).map(([v,A])=>`${v}=${A}`).join("&"),T=`${y.origin}${y.pathname}`;return p?`${T}?${p}`:T}static parseHttpHeaders(h){let f={};if(!h)return f;let y=h.trim().split(`\r
`);for(let m=0,p=y.length;m<p;m++){let T=y[m],v=T.indexOf(": ");v>0&&(f[T.substring(0,v)]=T.substring(v+2))}return f}static parseQueryParams(h){const f=[],y=new URLSearchParams(h);for(const[m,p]of y.entries())f.push({key:decodeURIComponent(m),value:decodeURIComponent(p)});return f}static generateUuid(){let h=new Date().getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(f){const y=(h+16*Math.random())%16|0;return h=Math.floor(h/16),(f=="x"?y:3&y|8).toString(16)})}static generateHashCode(h){let f=0;if(h.length===0)return f;for(let y=0;y<h.length;y++)f=(f<<5)-f+h.charCodeAt(y),f|=0;return f}static getRelativeUrl(h,f){try{const y=new URL(h),m=new URL(f);if(y.protocol=m.protocol,y.origin!==m.origin)return f;let p=n.relative(y.pathname.substr(0,y.pathname.lastIndexOf("/")),m.pathname.substr(0,m.pathname.lastIndexOf("/")));const T=p.length===0?1:0;return p+=m.pathname.substr(m.pathname.lastIndexOf("/")+T,m.pathname.length-1),m.pathname.length<p.length?m.pathname:p}catch{return f}}static getHostFromUrl(h){try{return new URL(h).host}catch{return null}}static parseUserAgent(h=null){try{const f=h===null&&typeof navigator<"u"?navigator.userAgent.toLowerCase():"";return(0,r.UAParser)(f)}catch{return{}}}static stringHasProtocol(h){return/(http(s?)):\/\//i.test(h)}static bufferSourceToDataView(h){return u.toDataView(h,DataView)}static bufferSourceToInt8(h){return u.toDataView(h,Uint8Array)}static uint8ArrayToString(h){return new TextDecoder("utf-8").decode(h)}static bufferSourceToHex(h){const f=u.bufferSourceToInt8(h);let y="";for(let m of f)m=m.toString(16),m.length===1&&(m="0"+m),y+=m;return y}static toDataView(h,f){const y=u.getArrayBuffer(h);let m=1;"BYTES_PER_ELEMENT"in DataView&&(m=DataView.BYTES_PER_ELEMENT);const p=((h.byteOffset||0)+h.byteLength)/m,T=(h.byteOffset||0)/m,v=Math.floor(Math.max(0,Math.min(T,p)));return new f(y,v,Math.floor(Math.min(v+Math.max(1/0,0),p))-v)}static getArrayBuffer(h){return h instanceof ArrayBuffer?h:h.buffer}static getCodecFamily(h){const{base:f,profile:y}=u._getCodecParts(h);switch(f){case"mp4a":switch(y){case"69":case"6b":case"40.34":return o.default.CODEC_FAMILIES.MP3;case"66":case"67":case"68":case"40.2":case"40.02":case"40.5":case"40.05":case"40.29":case"40.42":return o.default.CODEC_FAMILIES.AAC;case"a5":return o.default.CODEC_FAMILIES.AC3;case"e6":return o.default.CODEC_FAMILIES.EC3;case"b2":return o.default.CODEC_FAMILIES.DTSX;case"a9":return o.default.CODEC_FAMILIES.DTSC}break;case"avc1":case"avc3":return o.default.CODEC_FAMILIES.AVC;case"hvc1":case"hvc3":return o.default.CODEC_FAMILIES.HEVC;default:return f}return f}static _getCodecParts(h){const[f,...y]=h.split(".");return{base:f,profile:y.join(".")}}}e.default=u},8986:function(i,e,t){t.r(e),t.d(e,{getVersionString:function(){return r}});const n="5.1.0";function r(){return n}},8748:function(i,e,t){t.r(e),e.default=class{extend(n,r){if(!n)return;let o=!!r&&r.override,u=!!r&&r.publicOnly;for(const d in n)!n.hasOwnProperty(d)||this[d]&&!o||u&&n[d].indexOf("public_")===-1||(this[d]=n[d])}}},5734:function(i,e,t){t.r(e);var n=t(7252);class r extends n.default{constructor(){super(),this.ATTEMPT_BACKGROUND_SYNC="attemptBackgroundSync",this.BUFFERING_COMPLETED="bufferingCompleted",this.BUFFER_CLEARED="bufferCleared",this.BYTES_APPENDED_END_FRAGMENT="bytesAppendedEndFragment",this.BUFFER_REPLACEMENT_STARTED="bufferReplacementStarted",this.CHECK_FOR_EXISTENCE_COMPLETED="checkForExistenceCompleted",this.CMSD_STATIC_HEADER="cmsdStaticHeader",this.CURRENT_TRACK_CHANGED="currentTrackChanged",this.DATA_UPDATE_COMPLETED="dataUpdateCompleted",this.INBAND_EVENTS="inbandEvents",this.INITIAL_STREAM_SWITCH="initialStreamSwitch",this.INIT_FRAGMENT_LOADED="initFragmentLoaded",this.INIT_FRAGMENT_NEEDED="initFragmentNeeded",this.INTERNAL_MANIFEST_LOADED="internalManifestLoaded",this.ORIGINAL_MANIFEST_LOADED="originalManifestLoaded",this.LOADING_COMPLETED="loadingCompleted",this.LOADING_PROGRESS="loadingProgress",this.LOADING_DATA_PROGRESS="loadingDataProgress",this.LOADING_ABANDONED="loadingAborted",this.MANIFEST_UPDATED="manifestUpdated",this.MEDIA_FRAGMENT_LOADED="mediaFragmentLoaded",this.MEDIA_FRAGMENT_NEEDED="mediaFragmentNeeded",this.MEDIAINFO_UPDATED="mediaInfoUpdated",this.QUOTA_EXCEEDED="quotaExceeded",this.SEGMENT_LOCATION_BLACKLIST_ADD="segmentLocationBlacklistAdd",this.SEGMENT_LOCATION_BLACKLIST_CHANGED="segmentLocationBlacklistChanged",this.SERVICE_LOCATION_BASE_URL_BLACKLIST_ADD="serviceLocationBlacklistAdd",this.SERVICE_LOCATION_BASE_URL_BLACKLIST_CHANGED="serviceLocationBlacklistChanged",this.SERVICE_LOCATION_LOCATION_BLACKLIST_ADD="serviceLocationLocationBlacklistAdd",this.SERVICE_LOCATION_LOCATION_BLACKLIST_CHANGED="serviceLocationLocationBlacklistChanged",this.SET_FRAGMENTED_TEXT_AFTER_DISABLED="setFragmentedTextAfterDisabled",this.SET_NON_FRAGMENTED_TEXT="setNonFragmentedText",this.SOURCE_BUFFER_ERROR="sourceBufferError",this.STREAMS_COMPOSED="streamsComposed",this.STREAM_BUFFERING_COMPLETED="streamBufferingCompleted",this.STREAM_REQUESTING_COMPLETED="streamRequestingCompleted",this.TEXT_TRACKS_QUEUE_INITIALIZED="textTracksQueueInitialized",this.TIME_SYNCHRONIZATION_COMPLETED="timeSynchronizationComplete",this.UPDATE_TIME_SYNC_OFFSET="updateTimeSyncOffset",this.URL_RESOLUTION_FAILED="urlResolutionFailed",this.VIDEO_CHUNK_RECEIVED="videoChunkReceived",this.WALLCLOCK_TIME_UPDATED="wallclockTimeUpdated",this.XLINK_ELEMENT_LOADED="xlinkElementLoaded",this.XLINK_READY="xlinkReady",this.SEEK_TARGET="seekTarget",this.SETTING_UPDATED_LIVE_DELAY="settingUpdatedLiveDelay",this.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT="settingUpdatedLiveDelayFragmentCount",this.SETTING_UPDATED_CATCHUP_ENABLED="settingUpdatedCatchupEnabled",this.SETTING_UPDATED_PLAYBACK_RATE_MIN="settingUpdatedPlaybackRateMin",this.SETTING_UPDATED_PLAYBACK_RATE_MAX="settingUpdatedPlaybackRateMax",this.SETTING_UPDATED_ABR_ACTIVE_RULES="settingUpdatedAbrActiveRules",this.SETTING_UPDATED_MAX_BITRATE="settingUpdatedMaxBitrate",this.SETTING_UPDATED_MIN_BITRATE="settingUpdatedMinBitrate"}}e.default=r},3621:function(i,e,t){t.r(e);var n=t(5734);class r extends n.default{}let o=new r;e.default=o},7252:function(i,e,t){t.r(e),e.default=class{extend(n,r){if(!n)return;let o=!!r&&r.override,u=!!r&&r.publicOnly;for(const d in n)!n.hasOwnProperty(d)||this[d]&&!o||u&&n[d].indexOf("public_")===-1||(this[d]=n[d])}}},8854:function(i,e,t){t.r(e),e.default={ACCESSIBILITY:"Accessibility",ADAPTATION_SET:"AdaptationSet",ADAPTATION_SETS:"adaptationSets",ADAPTATION_SET_SWITCHING_SCHEME_ID_URI:"urn:mpeg:dash:adaptation-set-switching:2016",ADD:"add",ASSET_IDENTIFIER:"AssetIdentifier",AUDIO_CHANNEL_CONFIGURATION:"AudioChannelConfiguration",AUDIO_SAMPLING_RATE:"audioSamplingRate",AVAILABILITY_END_TIME:"availabilityEndTime",AVAILABILITY_START_TIME:"availabilityStartTime",AVAILABILITY_TIME_COMPLETE:"availabilityTimeComplete",AVAILABILITY_TIME_OFFSET:"availabilityTimeOffset",BANDWITH:"bandwidth",BASE_URL:"BaseURL",BITSTREAM_SWITCHING:"BitstreamSwitching",BITSTREAM_SWITCHING_MINUS:"bitstreamSwitching",BYTE_RANGE:"byteRange",CAPTION:"caption",CENC_DEFAULT_KID:"cenc:default_KID",CLIENT_DATA_REPORTING:"ClientDataReporting",CLIENT_REQUIREMENT:"clientRequirement",CMCD_PARAMETERS:"CMCDParameters",CODECS:"codecs",CODEC_PRIVATE_DATA:"codecPrivateData",CODING_DEPENDENCY:"codingDependency",CONTENT_COMPONENT:"ContentComponent",CONTENT_PROTECTION:"ContentProtection",CONTENT_STEERING:"ContentSteering",CONTENT_STEERING_RESPONSE:{VERSION:"VERSION",TTL:"TTL",RELOAD_URI:"RELOAD-URI",PATHWAY_PRIORITY:"PATHWAY-PRIORITY",PATHWAY_CLONES:"PATHWAY-CLONES",BASE_ID:"BASE-ID",ID:"ID",URI_REPLACEMENT:"URI-REPLACEMENT",HOST:"HOST",PARAMS:"PARAMS"},CONTENT_TYPE:"contentType",DEFAULT_SERVICE_LOCATION:"defaultServiceLocation",DEPENDENCY_ID:"dependencyId",DURATION:"duration",DVB_PRIORITY:"dvb:priority",DVB_WEIGHT:"dvb:weight",DVB_URL:"dvb:url",DVB_MIMETYPE:"dvb:mimeType",DVB_FONTFAMILY:"dvb:fontFamily",DYNAMIC:"dynamic",END_NUMBER:"endNumber",ESSENTIAL_PROPERTY:"EssentialProperty",EVENT:"Event",EVENT_STREAM:"EventStream",FORCED_SUBTITLE:"forced-subtitle",FRAMERATE:"frameRate",FRAME_PACKING:"FramePacking",GROUP_LABEL:"GroupLabel",HEIGHT:"height",ID:"id",INBAND:"inband",INBAND_EVENT_STREAM:"InbandEventStream",INDEX:"index",INDEX_RANGE:"indexRange",INITIALIZATION:"Initialization",INITIALIZATION_MINUS:"initialization",LA_URL:"Laurl",LA_URL_LOWER_CASE:"laurl",LABEL:"Label",LANG:"lang",LOCATION:"Location",MAIN:"main",MAXIMUM_SAP_PERIOD:"maximumSAPPeriod",MAX_PLAYOUT_RATE:"maxPlayoutRate",MAX_SEGMENT_DURATION:"maxSegmentDuration",MAX_SUBSEGMENT_DURATION:"maxSubsegmentDuration",MEDIA:"media",MEDIA_PRESENTATION_DURATION:"mediaPresentationDuration",MEDIA_RANGE:"mediaRange",MEDIA_STREAM_STRUCTURE_ID:"mediaStreamStructureId",METRICS:"Metrics",METRICS_MINUS:"metrics",MIME_TYPE:"mimeType",MINIMUM_UPDATE_PERIOD:"minimumUpdatePeriod",MIN_BUFFER_TIME:"minBufferTime",MP4_PROTECTION_SCHEME:"urn:mpeg:dash:mp4protection:2011",MPD:"MPD",MPD_TYPE:"mpd",MPD_PATCH_TYPE:"mpdpatch",ORDER:"order",ORIGINAL_MPD_ID:"mpdId",ORIGINAL_PUBLISH_TIME:"originalPublishTime",PATCH_LOCATION:"PatchLocation",PERIOD:"Period",PRESELECTION:"Preselection",PRESELECTION_COMPONENTS:"preselectionComponents",PRESENTATION_TIME:"presentationTime",PRESENTATION_TIME_OFFSET:"presentationTimeOffset",PRO:"pro",PRODUCER_REFERENCE_TIME:"ProducerReferenceTime",PRODUCER_REFERENCE_TIME_TYPE:{ENCODER:"encoder",CAPTURED:"captured",APPLICATION:"application"},PROFILES:"profiles",PSSH:"pssh",PUBLISH_TIME:"publishTime",QUALITY_RANKING:"qualityRanking",QUERY_BEFORE_START:"queryBeforeStart",QUERY_PART:"$querypart$",RANGE:"range",RATING:"Rating",REF:"ref",REF_ID:"refId",REMOVE:"remove",REPLACE:"replace",REPORTING:"Reporting",REPRESENTATION:"Representation",REPRESENTATION_INDEX:"RepresentationIndex",ROBUSTNESS:"robustness",ROLE:"Role",S:"S",SAR:"sar",SCAN_TYPE:"scanType",SEGMENT_ALIGNMENT:"segmentAlignment",SEGMENT_BASE:"SegmentBase",SEGMENT_LIST:"SegmentList",SEGMENT_PROFILES:"segmentProfiles",SEGMENT_SEQUENCE_PROPERTIES:"SegmentSequenceProperties",SEGMENT_TEMPLATE:"SegmentTemplate",SEGMENT_TIMELINE:"SegmentTimeline",SEGMENT_TYPE:"segment",SEGMENT_URL:"SegmentURL",SERVICE_DESCRIPTION:"ServiceDescription",SERVICE_DESCRIPTION_LATENCY:"Latency",SERVICE_DESCRIPTION_OPERATING_BANDWIDTH:"OperatingBandwidth",SERVICE_DESCRIPTION_OPERATING_QUALITY:"OperatingQuality",SERVICE_DESCRIPTION_PLAYBACK_RATE:"PlaybackRate",SERVICE_DESCRIPTION_SCOPE:"Scope",SERVICE_LOCATION:"serviceLocation",SERVICE_LOCATIONS:"serviceLocations",SOURCE_URL:"sourceURL",START:"start",START_NUMBER:"startNumber",START_WITH_SAP:"startWithSAP",STATIC:"static",STEERING_TYPE:"steering",SUBSET:"Subset",SUBTITLE:"subtitle",SUB_REPRESENTATION:"SubRepresentation",SUB_SEGMENT_ALIGNMENT:"subsegmentAlignment",SUGGESTED_PRESENTATION_DELAY:"suggestedPresentationDelay",SUPPLEMENTAL_PROPERTY:"SupplementalProperty",SUPPLEMENTAL_CODECS:"scte214:supplementalCodecs",TAG:"tag",TIMESCALE:"timescale",TIMESHIFT_BUFFER_DEPTH:"timeShiftBufferDepth",TTL:"ttl",TYPE:"type",UTC_TIMING:"UTCTiming",VALUE:"value",VIEWPOINT:"Viewpoint",WALL_CLOCK_TIME:"wallClockTime",WIDTH:"width"}},5717:function(i,e,t){t.r(e),e.default=class{constructor(){this.schemeIdUri="",this.value=""}}},1152:function(i,e,t){t.r(e),t.d(e,{default:function(){return As}});var n=t(138),r=t(4246),o={TCP_CONNECTION:"TcpList",HTTP_REQUEST:"HttpList",TRACK_SWITCH:"RepSwitchList",BUFFER_LEVEL:"BufferLevel",BUFFER_LOADED:"bufferLoaded",ABANDON_LOAD:"abandonload",ALLOW_LOAD:"allowload",BUFFER_EMPTY:"bufferStalled",BUFFER_STATE:"BufferState",DVR_INFO:"DVRInfo",DROPPED_FRAMES:"DroppedFrames",SCHEDULING_INFO:"SchedulingInfo",REQUESTS_QUEUE:"RequestsQueue",MANIFEST_UPDATE:"ManifestUpdate",MANIFEST_UPDATE_STREAM_INFO:"ManifestUpdatePeriodInfo",MANIFEST_UPDATE_TRACK_INFO:"ManifestUpdateRepresentationInfo",PLAY_LIST:"PlayList",DVB_ERRORS:"DVBErrors",HTTP_REQUEST_DVB_REPORTING_TYPE:"DVBReporting"},u=t(649),d=t(8261);function h(S){S=S||{};const b=this.context,_=S.dashMetrics;let R,I,w;return R={getSwitchRequest:function(z){try{const O=(0,r.default)(b).create();O.rule=this.getClassName();const M=z.getMediaInfo(),q=z.getMediaType(),G=_.getCurrentBufferState(q),C=z.getScheduleController(),P=z.getAbrController(),U=z.getStreamInfo(),H=U?U.id:null,J=U&&U.manifestInfo?U.manifestInfo.isDynamic:null,re=z.getThroughputController(),ae=re.getSafeAverageThroughput(q),fe=re.getAverageLatency(q);return isNaN(ae)||!G||P.getAbandonmentStateFor(H,q)===o.ALLOW_LOAD&&(G.state===o.BUFFER_LOADED||J)&&(O.representation=P.getOptimalRepresentationForBitrate(M,ae,!0),O.priority=I.get().streaming.abr.rules.throughputRule.priority,O.reason={throughput:ae,latency:fe,message:`[ThroughputRule]: Switching to Representation with bitrate ${O.representation?O.representation.bitrateInKbit:"n/a"} kbit/s. Throughput: ${ae}`},C.setTimeToLoadDelay(0)),O}catch(O){return w.error(O),(0,r.default)(b).create()}},reset:function(){}},w=(0,u.default)(b).getInstance().getLogger(R),I=(0,d.default)(b).getInstance(),R}h.__dashjs_factory_name="ThroughputRule";var f=n.default.getClassFactory(h),y=t(8850),m=t(3621),p=t(5212),T=t(1191);function v(S){S=S||{};const b=this.context,_=(0,y.default)(b).getInstance(),R=S.dashMetrics,I=(0,d.default)(b).getInstance();let w,z,O;function M(){const C=I.get().streaming.abr.rules.insufficientBufferRule.parameters.segmentIgnoreCount;O={},O[p.default.VIDEO]={ignoreCount:C},O[p.default.AUDIO]={ignoreCount:C},O[p.default.ENHANCEMENT]={ignoreCount:C}}function q(){M()}function G(C){isNaN(C.startTime)||C.mediaType!==p.default.AUDIO&&C.mediaType!==p.default.VIDEO||O[C.mediaType].ignoreCount>0&&O[C.mediaType].ignoreCount--}return w={getSwitchRequest:function(C){const P=(0,r.default)(b).create();if(P.rule=this.getClassName(),!C||!C.hasOwnProperty("getMediaType"))return P;const U=C.getMediaType(),H=R.getCurrentBufferState(U),J=C.getRepresentation().fragmentDuration;if(!function(fe,he,ge){return!fe.getLowLatencyModeEnabled()&&O[he].ignoreCount<=0&&ge}(C.getScheduleController().getPlaybackController(),U,J))return P;const re=C.getMediaInfo(),ae=C.getAbrController();if(H&&H.state===o.BUFFER_EMPTY)z.debug("["+U+"] Switch to index 0; buffer is empty."),P.representation=ae.getOptimalRepresentationForBitrate(re,0,!0),P.reason={message:"[InsufficientBufferRule]: Switching to lowest Representation because buffer is empty"};else{const fe=C.getThroughputController(),he=R.getCurrentBufferLevel(U),ge=fe.getAverageThroughput(U,null,NaN)*I.get().streaming.abr.rules.insufficientBufferRule.parameters.throughputSafetyFactor*he/J;if(isNaN(ge)||ge<=0)return P;P.representation=ae.getOptimalRepresentationForBitrate(re,ge,!0),P.priority=I.get().streaming.abr.rules.insufficientBufferRule.priority,P.reason={message:"[InsufficientBufferRule]: Limiting maximum bitrate to avoid a buffer underrun.",bitrate:ge}}return P},reset:function(){M(),_.off(T.default.PLAYBACK_SEEKING,q,w),_.off(m.default.BYTES_APPENDED_END_FRAGMENT,G,w)}},z=(0,u.default)(b).getInstance().getLogger(w),M(),_.on(T.default.PLAYBACK_SEEKING,q,w),_.on(m.default.BYTES_APPENDED_END_FRAGMENT,G,w),w}v.__dashjs_factory_name="InsufficientBufferRule";var A=n.default.getClassFactory(v);function k(S){const b=(S=S||{}).mediaPlayerModel,_=S.dashMetrics,R=this.context,I=(0,d.default)(R).getInstance();let w,z,O;function M(){O={}}return w={shouldAbandon:function(q){const G=(0,r.default)(R).create();G.rule=this.getClassName();try{if(!q)return G;const C=q.getCurrentRequest();if(!isNaN(C.index)){if(C.firstByteDate===null||O.hasOwnProperty(C.index))return G;const P=b.getBufferTimeDefault(),U=q.getMediaType();if(_.getCurrentBufferLevel(U)>P)return G;const H=Date.now()-C.firstByteDate.getTime();if(C.traces.length>=I.get().streaming.abr.rules.abandonRequestsRule.parameters.minThroughputSamplesThreshold&&H>I.get().streaming.abr.rules.abandonRequestsRule.parameters.minSegmentDownloadTimeThresholdInMs&&C.bytesLoaded<C.bytesTotal)return function(J,re,ae){const fe=J.getMediaInfo(),he=J.getMediaType(),ge=re.traces.reduce((ye,le)=>ye+le.b[0],0)-re.traces[0].b[0],Se=Math.max(re.traces.reduce((ye,le)=>ye+le.d,0)-re.traces[0].d,1),ee=Math.round(8*ge/Se),Y=Number(8*re.bytesTotal/ee/1e3).toFixed(2),D=J.getRepresentation(),te=J.getAbrController();if(Y<re.duration*I.get().streaming.abr.rules.abandonRequestsRule.parameters.abandonDurationMultiplier||te.isPlayingAtLowestQuality(D))return ae;if(!O.hasOwnProperty(re.index)){const ye=J.getAbrController(),le=re.bytesTotal-re.bytesLoaded,we=ye.getOptimalRepresentationForBitrate(fe,ee,!0),Ce=re.representation;le>re.bytesTotal*we.bitrateInKbit/Ce.bitrateInKbit&&(ae.representation=we,ae.priority=I.get().streaming.abr.rules.abandonRequestsRule.priority,ae.reason={throughputInKbit:ee,message:`[AbandonRequestRule][${he} is asking to abandon and switch to quality to ${we.absoluteIndex}. The measured bandwidth was ${ee} kbit/s`},O[re.index]=!0)}return ae}(q,C,G)}return G}catch(C){return z.error(C),G}},reset:M},z=(0,u.default)(R).getInstance().getLogger(w),M(),w}k.__dashjs_factory_name="AbandonRequestsRule";var B=n.default.getClassFactory(k);function $(){const S=this.context,b=(0,d.default)(S).getInstance();let _;return _={getSwitchRequest:function(R){const I=(0,r.default)(S).create();if(I.rule=this.getClassName(),!R||!R.hasOwnProperty("getDroppedFramesHistory"))return I;const w=R.getDroppedFramesHistory();if(!w)return I;const z=R.getStreamInfo().id,O=R.getMediaInfo(),M=R.getAbrController(),q=w.getFrameHistory(z);if(!q||Object.keys(q).length===0)return I;let G=0,C=0;const P=M.getPossibleVoRepresentationsFilteredBySettings(O,!0);let U=null;for(let H=1;H<P.length;H++){const J=P[H];if(J&&q[J.id]&&(G=q[J.id].droppedVideoFrames,C=q[J.id].totalVideoFrames,C>b.get().streaming.abr.rules.droppedFramesRule.parameters.minimumSampleSize&&G/C>b.get().streaming.abr.rules.droppedFramesRule.parameters.droppedFramesPercentageThreshold)){U=P[H-1];break}}return U&&(I.representation=U,I.priority=b.get().streaming.abr.rules.droppedFramesRule.priority,I.reason={droppedFrames:G,message:`[DroppedFramesRule]: Switching to index ${U.absoluteIndex}. Dropped Frames: ${G}, Total Frames: ${C}`}),I}},_}$.__dashjs_factory_name="DroppedFramesRule";var K=n.default.getClassFactory($);function ue(){const S=this.context,b=(0,d.default)(S).getInstance();let _;return _={getSwitchRequest:function(R){const I=(0,r.default)(S).create();if(I.rule=this.getClassName(),!R)return I;const w=R.getStreamInfo().id,z=R.getMediaType(),O=R?R.getSwitchRequestHistory():null,M=O?O.getSwitchRequests(w,z):{},q=R.getAbrController(),G=R.getMediaInfo(),C=q.getPossibleVoRepresentationsFilteredBySettings(G,!0);let P=0,U=0;for(let H=0;H<C.length;H++){const J=C[H];if(J&&M[J.id]&&(P+=M[J.id].drops,U+=M[J.id].noDrops,P+U>=b.get().streaming.abr.rules.switchHistoryRule.parameters.sampleSize&&P/U>b.get().streaming.abr.rules.switchHistoryRule.parameters.switchPercentageThreshold)){I.representation=H>0&&M[J.id].drops>0?C[H-1]:J,I.priority=b.get().streaming.abr.rules.switchHistoryRule.priority,I.reason={drops:P,noDrops:U,message:`[SwitchHistoryRule]: Switch to index: ${I.representation.absoluteIndex} samples: ${P+U} drops:  ${P}`};break}}return I}},_}ue.__dashjs_factory_name="SwitchHistoryRule";var me=n.default.getClassFactory(ue),Te=t(7568);const X="BOLA_STATE_ONE_BITRATE",Q="BOLA_STATE_STARTUP",be="BOLA_STATE_STEADY",F=10;function ke(S){S=S||{};const b=this.context,_=S.dashMetrics,R=S.mediaPlayerModel,I=(0,y.default)(b).getInstance(),w=cr(b).getInstance();let z,O,M,q;function G(D){const te=D.mediaType,ye=D.streamId,le=te===p.default.AUDIO?[p.default.AUDIO]:q[ye];for(const we in le)q[ye]&&q[ye].hasOwnProperty(we)&&q[ye][we].state===be&&(q[ye][we].placeholderBuffer=0)}function C(D){const te=D.streamId;for(const ye in q[te])if(q[te].hasOwnProperty(ye)){const le=q[te][ye];le.state!==X&&(le.state=Q,P(le))}}function P(D){D.placeholderBuffer=0,D.mostAdvancedSegmentStart=NaN,D.lastSegmentWasReplacement=!1,D.lastSegmentStart=NaN,D.lastSegmentDurationS=NaN,D.lastSegmentRequestTimeMs=NaN,D.lastSegmentFinishTimeMs=NaN}function U(D){try{if(D&&D.metric===o.HTTP_REQUEST&&D.value&&D.value.type===Te.HTTPRequest.MEDIA_SEGMENT_TYPE&&D.value.trace&&D.value.trace.length){const te=q[D.value._streamId]&&q[D.value._streamId][D.mediaType]?q[D.value._streamId][D.mediaType]:null;te&&te.state!==X&&(te.lastSegmentRequestTimeMs=D.value.trequest.getTime(),te.lastSegmentFinishTimeMs=D.value._tfinish.getTime(),H(te,D.mediaType))}}catch(te){O.error(te)}}function H(D,te){if(!isNaN(D.lastSegmentStart)&&!isNaN(D.lastSegmentRequestTimeMs)&&!isNaN(D.placeholderBuffer)){if(D.placeholderBuffer*=.99,!isNaN(D.lastSegmentFinishTimeMs)){const ye=_.getCurrentBufferLevel(te)+.001*(D.lastSegmentFinishTimeMs-D.lastSegmentRequestTimeMs),le=fe(D,D.currentRepresentation),we=Math.max(0,le-ye);D.placeholderBuffer=Math.min(we,D.placeholderBuffer)}D.lastSegmentWasReplacement&&!isNaN(D.lastSegmentDurationS)&&(D.placeholderBuffer+=D.lastSegmentDurationS),D.lastSegmentStart=NaN,D.lastSegmentRequestTimeMs=NaN}}function J(D){if(D&&q[D.streamId]&&q[D.streamId][D.mediaType]){const te=q[D.streamId][D.mediaType];te&&te.state!==X&&(te.currentRepresentation=D.newRepresentation)}}function re(D,te,ye){const le=ye.reduce((Me,Ke,Oe)=>Ke>ye[Me]?Oe:Me,0);if(le===0)return null;const we=Math.max(D,F+2*te.length),Ce=(ye[le]-1)/(we/F-1);return{gp:Ce,Vp:F/Ce}}function ae(D,te){const ye=R.getBufferTimeDefault();if(D.bufferTimeDefault!==ye){const le=re(ye,D.representations,D.utilities);if(le.Vp!==D.Vp||le.gp!==D.gp){const we=_.getCurrentBufferLevel(te);let Ce=we+D.placeholderBuffer;Ce-=F,Ce*=le.Vp/D.Vp,Ce+=F,D.bufferTimeDefault=ye,D.Vp=le.Vp,D.gp=le.gp,D.placeholderBuffer=Math.max(0,Ce-we)}}}function fe(D,te){return D.Vp*(D.utilities[te.absoluteIndex]+D.gp)}function he(D){if(D&&D.chunk&&D.chunk.representation.mediaInfo&&q[D.streamId]){const te=q[D.streamId][D.chunk.representation.mediaInfo.type];if(te&&te.state!==X){const ye=D.chunk.start;isNaN(te.mostAdvancedSegmentStart)||ye>te.mostAdvancedSegmentStart?(te.mostAdvancedSegmentStart=ye,te.lastSegmentWasReplacement=!1):te.lastSegmentWasReplacement=!0,te.lastSegmentStart=ye,te.lastSegmentDurationS=D.chunk.duration,te.currentRepresentation=D.chunk.representation,H(te,D.chunk.representation.mediaInfo.type)}}}function ge(){Y()}function Se(D,te){const ye=te.absoluteIndex,le=te.bandwidth,we=D.utilities[ye];let Ce=0;for(let Me=ye-1;Me>=0;--Me)if(D.utilities[Me]<D.utilities[ye]){const Ke=D.representations[Me].bandwidth,Oe=D.utilities[Me],W=D.Vp*(D.gp+(le*Oe-Ke*we)/(le-Ke));Ce=Math.max(Ce,W)}return Ce}function ee(D){if(D&&q[D.streamId]){const te=q[D.streamId][D.mediaType];if(te&&te.state!==X){const ye=_.getCurrentBufferLevel(D.mediaType);let le;le=te.currentRepresentation.absoluteIndex>0?Se(te,te.currentRepresentation):F;const we=Math.max(0,le-ye);te.placeholderBuffer=Math.min(te.placeholderBuffer,we)}}}function Y(){q={}}return z={getSwitchRequest:function(D){try{const te=(0,r.default)(b).create();D.getScheduleController().setTimeToLoadDelay(0),te.rule=this.getClassName(),te.reason=te.reason||{};const ye=function(le){const we=le.getMediaType(),Ce=le.getStreamInfo().id;q[Ce]||(q={},q[Ce]={});let Me=q[Ce][we];return Me?Me.state!==X&&ae(Me,we):(Me=function(Ke){const Oe={},W=Ke.getMediaInfo(),oe=w.getPossibleVoRepresentationsFilteredBySettings(W,!0);let ve=oe.map(ce=>ce.bandwidth).map(ce=>Math.log(ce));ve=ve.map(ce=>ce-ve[0]+1);const de=R.getBufferTimeDefault(),V=re(de,oe,ve);return V?(Oe.state=Q,Oe.representations=oe,Oe.utilities=ve,Oe.bufferTimeDefault=de,Oe.Vp=V.Vp,Oe.gp=V.gp,Oe.currentRepresentation=null,P(Oe)):Oe.state=X,Oe}(le),q[Ce][we]=Me),Me}(D);switch(te.reason.state=ye.state,ye.state){case X:break;case Q:(function(le,we,Ce){const Me=we.getMediaType(),Ke=we.getThroughputController().getSafeAverageThroughput(Me);if(isNaN(Ke))return;const Oe=we.getMediaInfo(),W=w.getOptimalRepresentationForBitrate(Oe,Ke,!0),oe=_.getCurrentBufferLevel(Me);le.representation=W,le.reason.throughput=Ke,Ce.placeholderBuffer=Math.max(0,Se(Ce,W)-oe),Ce.currentRepresentation=W,!isNaN(Ce.lastSegmentDurationS)&&oe>=Ce.lastSegmentDurationS&&(Ce.state=be)})(te,D,ye);break;case be:(function(le,we,Ce){const Me=we.getMediaType(),Ke=we.getThroughputController(),Oe=we.getMediaInfo(),W=Ke.getSafeAverageThroughput(Me),oe=we.getScheduleController();(function(se,Ae){const Re=Date.now();if(isNaN(se.lastSegmentFinishTimeMs)){if(!isNaN(se.lastCallTimeMs)){const Le=.001*(Re-se.lastCallTimeMs);se.placeholderBuffer+=Math.max(0,Le)}}else{const Le=.001*(Re-se.lastSegmentFinishTimeMs);se.placeholderBuffer+=Math.max(0,Le)}se.lastCallTimeMs=Re,se.lastSegmentStart=NaN,se.lastSegmentRequestTimeMs=NaN,se.lastSegmentFinishTimeMs=NaN,ae(se,Ae)})(Ce,Me);const ve=_.getCurrentBufferLevel(Me);let de=function(se,Ae){const Re=se.representations.length;let Le=NaN,je=NaN;for(let Ue=0;Ue<Re;++Ue){let at=(se.Vp*(se.utilities[Ue]-1+se.gp)-Ae)/se.representations[Ue].bandwidth;(isNaN(je)||at>=je)&&(je=at,Le=Ue)}return se.representations[Le]}(Ce,ve+Ce.placeholderBuffer);const V=w.getOptimalRepresentationForBitrate(Oe,W,!0);de.absoluteIndex>Ce.currentRepresentation.absoluteIndex&&de.absoluteIndex>V.absoluteIndex&&(de=V.absoluteIndex>Ce.currentRepresentation.absoluteIndex?V:Ce.currentRepresentation);let ce=Math.max(0,ve+Ce.placeholderBuffer-fe(Ce,de));ce<=Ce.placeholderBuffer?(Ce.placeholderBuffer-=ce,ce=0):(ce-=Ce.placeholderBuffer,Ce.placeholderBuffer=0,w.isPlayingAtTopQuality(de)?ce=0:oe.setTimeToLoadDelay(1e3*ce)),le.representation=de,le.reason.throughput=W,le.reason.bufferLevel=ve,le.reason.placeholderBuffer=Ce.placeholderBuffer,le.reason.delay=ce,Ce.currentRepresentation=de})(te,D,ye);break;default:(function(le,we,Ce){O.debug("BOLA ABR rule invoked in bad state.");const Me=we.getMediaInfo(),Ke=we.getMediaType(),Oe=we.getThroughputController().getSafeAverageThroughput(Ke);le.representation=w.getOptimalRepresentationForBitrate(Me,Oe,!0),le.reason.state=Ce.state,le.reason.throughput=Oe,Ce.state=Q,P(Ce)})(te,D,ye)}return te.priority=M.get().streaming.abr.rules.bolaRule.priority,te}catch(te){return O.error(te),(0,r.default)(b).create()}},handleNewMediaInfo:function(D){D&&D.streamInfo&&D.type&&q[D.streamInfo.id]&&q[D.streamInfo.id][D.type]&&delete q[D.streamInfo.id][D.type]},reset:function(){Y(),I.off(T.default.BUFFER_EMPTY,G,z),I.off(T.default.PLAYBACK_SEEKING,C,z),I.off(T.default.METRIC_ADDED,U,z),I.off(T.default.QUALITY_CHANGE_REQUESTED,J,z),I.off(T.default.FRAGMENT_LOADING_ABANDONED,ee,z),I.off(m.default.MEDIA_FRAGMENT_LOADED,he,z),I.off(m.default.SETTING_UPDATED_MAX_BITRATE,ge,z),I.off(m.default.SETTING_UPDATED_MIN_BITRATE,ge,z)}},O=(0,u.default)(b).getInstance().getLogger(z),M=(0,d.default)(b).getInstance(),Y(),I.on(T.default.BUFFER_EMPTY,G,z),I.on(T.default.PLAYBACK_SEEKING,C,z),I.on(T.default.METRIC_ADDED,U,z),I.on(T.default.QUALITY_CHANGE_REQUESTED,J,z),I.on(T.default.FRAGMENT_LOADING_ABANDONED,ee,z),I.on(m.default.MEDIA_FRAGMENT_LOADED,he,z),I.on(m.default.SETTING_UPDATED_MAX_BITRATE,ge,z),I.on(m.default.SETTING_UPDATED_MIN_BITRATE,ge,z),z}ke.__dashjs_factory_name="BolaRule";var Qe=n.default.getClassFactory(ke);const xe="L2A_STATE_ONE_BITRATE",Ye="L2A_STATE_STARTUP",Ge="L2A_STATE_STEADY",_e=Math.pow(4,.99);function $e(S){S=S||{};const b=this.context,_=S.dashMetrics,R=(0,y.default)(b).getInstance(),I=(0,d.default)(b).getInstance();let w,z,O,M;function q(re){re.placeholderBuffer=0,re.mostAdvancedSegmentStart=NaN,re.lastSegmentWasReplacement=!1,re.lastSegmentStart=NaN,re.lastSegmentDurationS=NaN,re.lastSegmentRequestTimeMs=NaN,re.lastSegmentFinishTimeMs=NaN,re.lastSegmentUrl=""}function G(){for(const re in z)if(z.hasOwnProperty(re)){const ae=z[re];ae.state!==xe&&(ae.state=Ye,q(ae))}}function C(re){if(re&&re.chunk&&re.chunk.representation&&re.chunk.representation.mediaInfo){const ae=z[re.chunk.representation.mediaInfo.type],fe=O[re.chunk.representation.mediaInfo.type];if(ae&&ae.state!==xe){const he=re.chunk.start;isNaN(ae.mostAdvancedSegmentStart)||he>ae.mostAdvancedSegmentStart?(ae.mostAdvancedSegmentStart=he,ae.lastSegmentWasReplacement=!1):ae.lastSegmentWasReplacement=!0,ae.lastSegmentStart=he,ae.lastSegmentDurationS=re.chunk.duration,ae.currentRepresentation=re.chunk.representation,U(ae,fe)}}}function P(re){if(re&&re.metric===o.HTTP_REQUEST&&re.value&&re.value.type===Te.HTTPRequest.MEDIA_SEGMENT_TYPE&&re.value.trace&&re.value.trace.length){const ae=z[re.mediaType],fe=O[re.mediaType];ae&&ae.state!==xe&&(ae.lastSegmentRequestTimeMs=re.value.trequest.getTime(),ae.lastSegmentFinishTimeMs=re.value._tfinish.getTime(),U(ae,fe))}}function U(re,ae){isNaN(re.lastSegmentStart)||isNaN(re.lastSegmentRequestTimeMs)||(ae.segment_request_start_s=.001*re.lastSegmentRequestTimeMs,ae.segment_download_finish_s=.001*re.lastSegmentFinishTimeMs,re.lastSegmentStart=NaN,re.lastSegmentRequestTimeMs=NaN)}function H(re,ae){if(re.length!==ae.length)return-1;let fe=0;for(let he=0;he<re.length;he++)fe+=re[he]*ae[he];return fe}function J(){z={},O={}}return w={getSwitchRequest:function(re){try{const ae=(0,r.default)(b).create();ae.rule=this.getClassName();const fe=re.getMediaType(),he=re.getScheduleController();if(ae.reason=ae.reason||{},fe===p.default.AUDIO)return ae;he.setTimeToLoadDelay(0);const ge=function(Se){const ee=Se.getMediaType();let Y=z[ee];return Y||(Y=function(D){const te={},ye=D.getMediaInfo();return te.state=Ye,te.currentRepresentation=null,function(le){le&&le.type&&(O[le.type]={},O[le.type].w=[],O[le.type].prev_w=[],O[le.type].Q=0,O[le.type].segment_request_start_s=0,O[le.type].segment_download_finish_s=0,O[le.type].B_target=1.5)}(ye),q(te),te}(Se),z[ee]=Y),Y}(re);if(!O[fe])return ae;switch(ae.reason.state=ge.state,ge.state){case xe:break;case Ye:(function(Se,ee,Y){const D=Se.getMediaInfo(),te=Se.getMediaType(),ye=Se.getThroughputController().getSafeAverageThroughput(te);if(isNaN(ye))return ee;const le=Se.getAbrController(),we=le.getOptimalRepresentationForBitrate(D,ye,!0),Ce=_.getCurrentBufferLevel(te,!0),Me=O[te],Ke=le.getPossibleVoRepresentationsFilteredBySettings(D,!0);if(ee.representation=we,ee.reason.throughput=ye,Y.currentRepresentation=we,!isNaN(Y.lastSegmentDurationS)&&Ce>=Me.B_target){Y.state=Ge,Me.Q=_e;for(let Oe=0;Oe<Ke.length;++Oe)Ke[Oe].id===Y.currentRepresentation.id?Me.prev_w[Oe]=1:Me.prev_w[Oe]=0}})(re,ae,ge);break;case Ge:(function(Se,ee,Y){let D=[];const te=Se.getThroughputController(),ye=Se.getMediaType();let le=te.getAverageThroughput(ye,p.default.THROUGHPUT_CALCULATION_MODES.ARITHMETIC_MEAN,1),we=_.getCurrentHttpRequest(ye),Ce=null;const Me=O[ye];if(le<1&&(le=1),we.url===Y.lastSegmentUrl||we.type===Te.HTTPRequest.INIT_SEGMENT_TYPE)Ce=Y.currentRepresentation;else{let Ke=Y.lastSegmentDurationS,Oe=1;const W=Se.getAbrController(),oe=Se.getMediaInfo(),ve=W.getPossibleVoRepresentationsFilteredBySettings(oe,!0);let de=Se.getVideoModel().getPlaybackRate();const V=Math.max(Math.pow(4,1),_e*Math.sqrt(4));for(let Re=0;Re<ve.length;++Re){const Le=ve[Re];de*Le.bitrateInKbit>le&&(Oe=-1),Me.w[Re]=Me.prev_w[Re]+Oe*(Ke/(2*V))*((Me.Q+_e)*(de*Le.bitrateInKbit/le))}Me.w=function(Re){const Le=Re.length;let je=!1,Ue=[];for(let pn=0;pn<Le;++pn)Ue[pn]=Re[pn];let at=Re.sort(function(pn,Ut){return Ut-pn}),Tt=0,zt=0,Yt=[];for(let pn=0;pn<Le-1;++pn)if(Tt+=at[pn],zt=(Tt-1)/(pn+1),zt>=at[pn+1]){je=!0;break}je||(zt=(Tt+at[Le-1]-1)/Le);for(let pn=0;pn<Le;++pn)Yt[pn]=Math.max(Ue[pn]-zt,0);return Yt}(Me.w);for(let Re=0;Re<ve.length;++Re)D[Re]=Me.w[Re]-Me.prev_w[Re],Me.prev_w[Re]=Me.w[Re];const ce=ve.map(Re=>Re.bandwidth);Me.Q=Math.max(0,Me.Q-Ke+Ke*de*((H(ce,Me.prev_w)+H(ce,D))/le));let se=[];for(let Re=0;Re<ce.length;++Re)se[Re]=Math.abs(ce[Re]-H(Me.w,ce));const Ae=se.indexOf(Math.min(...se));Ce=W.getRepresentationByAbsoluteIndex(Ae,oe,!0),Ce.absoluteIndex>Y.currentRepresentation.absoluteIndex&&ce[Y.currentRepresentation.absoluteIndex+1]<=le&&(Ce=W.getRepresentationByAbsoluteIndex(Y.currentRepresentation.absoluteIndex+1,oe,!0)),Ce.bitrateInKbit>=le&&(Me.Q=2*Math.max(_e,Me.Q)),Y.lastSegmentUrl=we.url}ee.representation=Ce,Y.currentRepresentation=ee.representation})(re,ae,ge);break;default:(function(Se,ee,Y){const D=Se.getAbrController(),te=Se.getMediaInfo(),ye=Se.getMediaType(),le=Se.getThroughputController().getSafeAverageThroughput(ye);ee.representation=D.getOptimalRepresentationForBitrate(te,le,!0),ee.reason.throughput=le,Y.state=Ye,q(Y)})(re,ae,ge)}return ae.priority=I.get().streaming.abr.rules.l2ARule.priority,ae}catch(ae){return M.error(ae),(0,r.default)(b).create()}},reset:function(){J(),R.off(m.default.PLAYBACK_SEEKING,G,w),R.off(m.default.MEDIA_FRAGMENT_LOADED,C,w),R.off(m.default.METRIC_ADDED,P,w)}},M=(0,u.default)(b).getInstance().getLogger(w),J(),R.on(m.default.PLAYBACK_SEEKING,G,w),R.on(m.default.MEDIA_FRAGMENT_LOADED,C,w),R.on(m.default.METRIC_ADDED,P,w),w}$e.__dashjs_factory_name="L2ARule";var Je=n.default.getClassFactory($e);function tt(){const S=this.context;let b,_,R,I,w,z,O,M,q;function G(){R=null,I=1,w=100,z=0,O=null,M=null,q="dynamic_weight_selection"}function C(){let re=0;if(R)for(let ae=0;ae<R.length;ae++){let fe=R[ae];fe.state.throughput>re&&(re=fe.state.throughput)}return re}function P(re,ae,fe){let he=re.map((ge,Se)=>fe[Se]*Math.pow(ge-ae[Se],2)).reduce((ge,Se)=>ge+Se);return(he<0?-1:1)*Math.sqrt(Math.abs(he))}function U(re,ae){return P([re.state.throughput,re.state.latency,re.state.rebuffer,re.state.switch],[ae.state.throughput,ae.state.latency,ae.state.rebuffer,ae.state.switch],[1,1,1,1])}function H(re,ae){for(let fe=0;fe<R.length;fe++){let he=R[fe],ge=.1;const Se=U(he,re);J(he,ae,Math.exp(-1*Math.pow(Se,2)/(2*Math.pow(ge,2))))}}function J(re,ae,fe){let he=re.state,ge=[.01,.01,.01,.01];he.throughput=he.throughput+(ae[0]-he.throughput)*ge[0]*fe,he.latency=he.latency+(ae[1]-he.latency)*ge[1]*fe,he.rebuffer=he.rebuffer+(ae[2]-he.rebuffer)*ge[2]*fe,he.switch=he.switch+(ae[3]-he.switch)*ge[3]*fe}return b={getNextQuality:function(re,ae,fe,he,ge,Se,ee,Y){let D=he,te=fe;(function(oe,ve){if(!R){R=[];const de=ve.getPossibleVoRepresentationsFilteredBySettings(oe,!0),V=de.map(ce=>ce.bandwidth);z=Math.min(...V),I=function(ce){const se=ce.map(Ae=>Math.pow(Ae,2)).reduce((Ae,Re)=>Ae+Re);return Math.sqrt(se)}(V),de.forEach(ce=>{let se={representation:ce,state:{throughput:ce.bandwidth/I,latency:0,rebuffer:0,switch:0}};R.push(se)}),M=function(ce){let se=[],Ae=function(at){let Tt=[];for(let zt=0;zt<at;zt++){let Yt=[Math.random()*C(),Math.random(),Math.random(),Math.random()];Tt.push(Yt)}return Tt}(Math.pow(ce.length,2));se.push(Ae[0]);let Re=[1,1,1,1];for(let at=1;at<ce.length;at++){let Tt=null,zt=null;for(let Yt=0;Yt<Ae.length;Yt++){let pn=Ae[Yt],Ut=null;for(let dn=0;dn<se.length;dn++){let An=P(pn,se[dn],Re);(Ut===null||An<Ut)&&(Ut=An)}(zt===null||Ut>zt)&&(Tt=pn,zt=Ut)}se.push(Tt)}let Le=null,je=null;for(let at=0;at<se.length;at++){let Tt=0;for(let zt=0;zt<se.length;zt++)at!==zt&&(Tt+=P(se[at],se[zt],Re));(Le===null||Tt>Le)&&(Le=Tt,je=at)}let Ue=[];for(Ue.push(se[je]),se.splice(je,1);se.length>0;){let at=null,Tt=null;for(let zt=0;zt<se.length;zt++){let Yt=P(Ue[0],se[zt],Re);(at===null||Yt<at)&&(at=Yt,Tt=zt)}Ue.push(se[Tt]),se.splice(Tt,1)}return Ue}(R)}})(ae,re);let ye=fe/I;ye>1&&(ye=C()),he/=w;let le=R.find(oe=>oe.representation.id===ee.id),we=le.representation.bandwidth*Y.getSegmentDuration()/te,Ce=Math.max(0,we-ge);if(ge-we<Y.getMinBuffer())return _.debug(`Buffer is low for bitrate= ${le.representation.bandwidth} downloadTime=${we} currentBuffer=${ge} rebuffer=${Ce}`),function(oe,ve){let de=0,V=oe;if(R)for(let ce=0;ce<R.length;ce++){let se=R[ce];se.representation.bandwidth<oe.representation.bandwidth&&se.representation.bandwidth>de&&ve>se.representation.bandwidth&&(de=se.representation.bandwidth,V=se)}return V}(le,te).representation;switch(q){case"manual_weight_selection":O=[.4,.4,.4,.4];break;case"random_weight_selection":O=function(oe){let ve=[],de=Math.sqrt(2/oe);for(let V=0;V<4;V++)ve.push(Math.random()*de);return O=ve,O}(R.length);break;default:(function(oe,ve,de,V,ce,se){O||(O=M[M.length-1]);let Ae=oe.findWeightVector(R,ve,de,V,ce,se);Ae!==null&&Ae!==-1&&(O=Ae)})(Y,D,ge,Ce,te,Se)}let Me=null,Ke=null,Oe=null;for(let oe=0;oe<R.length;oe++){let ve=R[oe],de=ve.state,V=[de.throughput,de.latency,de.rebuffer,de.switch],ce=O.slice(),se=Y.getNextBufferWithBitrate(ve.representation.bandwidth,ge,te),Ae=se<Y.getMinBuffer();Ae&&_.debug(`Buffer is low for bitrate=${ve.representation.bandwidth} downloadTime=${we} currentBuffer=${ge} nextBuffer=${se}`),(ve.representation.bandwidth>fe-1e4||Ae)&&ve.representation.bandwidth!==z&&(ce[0]=100);let Re=P(V,[ye,0,0,0],ce);(Me===null||Re<Me)&&(Me=Re,Ke=ve.representation,Oe=ve)}let W=Math.abs(le.representation.bandwidth-Oe.representation.bandwidth)/I;return H(le,[ye,he,Ce,W]),H(Oe,[ye,0,0,W]),Ke},reset:function(){G()}},_=(0,u.default)(S).getInstance().getLogger(b),G(),b}tt.__dashjs_factory_name="LearningAbrController";var Pe=n.default.getClassFactory(tt),qe=class{constructor(){this.type=null,this.lastBitrate=null,this.weights={},this.weights.bitrateReward=null,this.weights.bitrateSwitchPenalty=null,this.weights.rebufferPenalty=null,this.weights.latencyPenalty=null,this.weights.playbackSpeedPenalty=null,this.bitrateWSum=0,this.bitrateSwitchWSum=0,this.rebufferWSum=0,this.latencyWSum=0,this.playbackSpeedWSum=0,this.totalQoe=0}};function et(){let S,b,_,R,I;function w(){b=null,_=null,R=null,I=null}function z(M,q,G,C){let P=new qe;return P.type=M,P.weights.bitrateReward=q||1,P.weights.bitrateSwitchPenalty=1,P.weights.rebufferPenalty=G||1e3,P.weights.latencyPenalty=[],P.weights.latencyPenalty.push({threshold:1.1,penalty:.05*C}),P.weights.latencyPenalty.push({threshold:1e8,penalty:.1*G}),P.weights.playbackSpeedPenalty=C||200,P}function O(M,q,G,C,P){P.bitrateWSum+=P.weights.bitrateReward*M,P.lastBitrate&&(P.bitrateSwitchWSum+=P.weights.bitrateSwitchPenalty*Math.abs(M-P.lastBitrate)),P.lastBitrate=M,P.rebufferWSum+=P.weights.rebufferPenalty*q;for(let U=0;U<P.weights.latencyPenalty.length;U++){let H=P.weights.latencyPenalty[U];if(G<=H.threshold){P.latencyWSum+=H.penalty*G;break}}P.playbackSpeedWSum+=P.weights.playbackSpeedPenalty*Math.abs(1-C),P.totalQoe=P.bitrateWSum-P.bitrateSwitchWSum-P.rebufferWSum-P.latencyWSum-P.playbackSpeedWSum}return S={setupPerSegmentQoe:function(M,q,G){b=z("segment",M,q,G),_=M,R=q,I=G},logSegmentMetrics:function(M,q,G,C){b&&O(M,q,G,C,b)},getPerSegmentQoe:function(){return b},calculateSingleUseQoe:function(M,q,G,C){let P=null;return _&&R&&I&&(P=z("segment",_,R,I)),P?(O(M,q,G,C,P),P.totalQoe):0},reset:function(){w()}},w(),S}et.__dashjs_factory_name="LoLpQoeEvaluator";var pt=n.default.getClassFactory(et);function jt(S){let b,_,R,I,w=S.targetLatency,z=S.bufferMin,O=S.segmentDuration,M=S.qoeEvaluator;function q(){return O}function G(C,P){const U=q();let H;return H=P>U?C-U:C+U-P,H}return b={getMinBuffer:function(){return z},getSegmentDuration:q,getNextBufferWithBitrate:function(C,P,U){return G(P,C*O/U)},getNextBuffer:G,findWeightVector:function(C,P,U,H,J,re){let ae=null,fe=null,he=null,ge=Math.abs(P-I);return C.forEach(Se=>{R.forEach(ee=>{ee[0];let Y,D=ee[1],te=ee[2],ye=(ee[3],Se.representation.bandwidth*O/J),le=G(U,ye);Y=te===0?10:1/te;let we=Y*Math.max(1e-5,ye-le);Y=D===0?10:1/D;let Ce=Y*Se.state.latency,Me=M.calculateSingleUseQoe(Se.representation.bandwidth,we,Ce,re);(ae===null||Me>ae)&&function(Ke,Oe,W){return!(Ke>w+W)&&Oe>=z}(P,le,ge)&&(ae=Me,fe=ee,he=Se.representation.bandwidth)})}),fe===null&&he===null&&(fe=-1),I=P,fe}},_=[.2,.4,.6,.8,1],R=function(C){let P=C.map(function(H){return[H]}),U=function(H,J,re){if(re===J)return H;let ae=H.length;for(let fe=0;fe<ae;fe++){let he=H.shift();for(let ge=0;ge<C.length;ge++)H.push(he.concat(C[ge]))}return U(H,J,re+1)};return U(P,4,1)}(_),I=0,b}jt.__dashjs_factory_name="LoLpWeightSelector";var Fe=n.default.getClassFactory(jt);function Ne(S){let b,_,R,I,w,z=(S=S||{}).dashMetrics,O=this.context;return R={getSwitchRequest:function(M){try{let q=(0,r.default)(O).create();q.rule=this.getClassName();let G=M.getMediaInfo().type,C=M.getAbrController();const P=M.getStreamInfo();let U=M.getRepresentation();const H=M.getMediaInfo(),J=z.getCurrentBufferState(G),re=M.getScheduleController(),ae=z.getCurrentBufferLevel(G,!0),fe=re.getPlaybackController();let he=fe.getCurrentLiveLatency();if(G===p.default.AUDIO)return q;he||(he=0);const ge=fe.getPlaybackRate(),Se=M.getThroughputController().getSafeAverageThroughput(G);if(b.debug(`Throughput ${Math.round(Se)} kbps`),isNaN(Se)||!J||C.getAbandonmentStateFor(P.id,G)===o.ABANDON_LOAD)return q;let ee=C.getPossibleVoRepresentationsFilteredBySettings(H,!0).map(Ke=>Ke.bandwidth),Y=M.getRepresentation().fragmentDuration,D=Math.min(...ee)/1e3,te=Math.max(...ee)/1e3,ye=U.bandwidth/1e3,le=z.getCurrentHttpRequest(G,!0),we=(le.tresponse.getTime()-le.trequest.getTime())/1e3,Ce=we>Y?we-Y:0;w.setupPerSegmentQoe(Y,te,D),w.logSegmentMetrics(ye,Ce,he,ge);let Me=Fe(O).create({targetLatency:1.5,bufferMin:.3,segmentDuration:Y,qoeEvaluator:w});return q.representation=I.getNextQuality(C,H,1e3*Se,he,ae,ge,U,Me),q.reason={throughput:Se,latency:he},q.priority=_.get().streaming.abr.rules.loLPRule.priority,re.setTimeToLoadDelay(0),q}catch(q){throw q}},reset:function(){I.reset(),w.reset()}},b=(0,u.default)(O).getInstance().getLogger(R),I=Pe(O).create(),w=pt(O).create(),_=(0,d.default)(O).getInstance(),R}Ne.__dashjs_factory_name="LoLPRule";var bt=n.default.getClassFactory(Ne);function Z(S){S=S||{};const b=this.context,_=S.mediaPlayerModel,R=S.customParametersModel,I=S.dashMetrics,w=S.settings,z=(0,y.default)(b).getInstance();let O,M,q,G;function C(){Object.values(p.default.QUALITY_SWITCH_RULES).forEach(re=>{M=P(re,M)}),Object.values(p.default.ABANDON_FRAGMENT_RULES).forEach(re=>{q=P(re,q)}),R.getAbrCustomRules().forEach(function(re){re.type===p.default.RULES_TYPES.QUALITY_SWITCH_RULES&&M.push(re.rule(b).create()),re.type===p.default.RULES_TYPES.ABANDON_FRAGMENT_RULES&&q.push(re.rule(b).create())}),M.length===0&&(M.push(Qe(b).create({dashMetrics:I,mediaPlayerModel:_,settings:w})),M.push(f(b).create({dashMetrics:I})))}function P(re,ae){const fe=re.charAt(0).toLowerCase()+re.slice(1);return w.get().streaming.abr.rules[fe].active&&!function(he,ge){return he.filter(Se=>Se.getClassName()===ge).length>0}(ae,re)?(ae.push(function(he){switch(he){case p.default.QUALITY_SWITCH_RULES.BOLA_RULE:return Qe(b).create({dashMetrics:I,mediaPlayerModel:_,settings:w});case p.default.QUALITY_SWITCH_RULES.THROUGHPUT_RULE:return f(b).create({dashMetrics:I});case p.default.QUALITY_SWITCH_RULES.INSUFFICIENT_BUFFER_RULE:return A(b).create({dashMetrics:I,settings:w});case p.default.QUALITY_SWITCH_RULES.SWITCH_HISTORY_RULE:return me(b).create();case p.default.QUALITY_SWITCH_RULES.DROPPED_FRAMES_RULE:return K(b).create();case p.default.QUALITY_SWITCH_RULES.LEARN_TO_ADAPT_RULE:return Je(b).create({dashMetrics:I,settings:w});case p.default.QUALITY_SWITCH_RULES.LOL_PLUS_RULE:return bt(b).create({dashMetrics:I});case p.default.ABANDON_FRAGMENT_RULES.ABANDON_REQUEST_RULE:return B(b).create({dashMetrics:I,mediaPlayerModel:_,settings:w})}}(re)),ae):w.get().streaming.abr.rules[fe].active?ae:function(he,ge){return he.filter(Se=>Se.getClassName()!==ge)}(ae,re)}function U(re){return re.filter(ae=>ae.representation!==r.default.NO_CHANGE)}function H(re){const ae={};let fe,he,ge,Se=null;if(re.length!==0){for(ae[r.default.PRIORITY.STRONG]=null,ae[r.default.PRIORITY.WEAK]=null,ae[r.default.PRIORITY.DEFAULT]=null,fe=0,he=re.length;fe<he;fe+=1)ge=re[fe],ge.representation!==r.default.NO_CHANGE&&(ae[ge.priority]===null||ae[ge.priority].representation!==r.default.NO_CHANGE&&ge.representation.bitrateInKbit<ae[ge.priority].representation.bitrateInKbit)&&(ae[ge.priority]=ge);return ae[r.default.PRIORITY.WEAK]&&ae[r.default.PRIORITY.WEAK].representation!==r.default.NO_CHANGE&&(Se=ae[r.default.PRIORITY.WEAK]),ae[r.default.PRIORITY.DEFAULT]&&ae[r.default.PRIORITY.DEFAULT].representation!==r.default.NO_CHANGE&&(Se=ae[r.default.PRIORITY.DEFAULT]),ae[r.default.PRIORITY.STRONG]&&ae[r.default.PRIORITY.STRONG].representation!==r.default.NO_CHANGE&&(Se=ae[r.default.PRIORITY.STRONG]),Se}}function J(){C()}return O={clearDataForStream:function(re){[M,q].forEach(ae=>{ae&&ae.length&&ae.forEach(fe=>fe.clearDataForStream&&typeof fe.clearDataForStream=="function"&&fe.clearDataForStream(re))})},getAbandonFragmentRules:function(){return q},getBestPossibleSwitchRequest:function(re){return re&&H(U(M.filter(ae=>{const fe=ae.getClassName();if(fe!==p.default.QUALITY_SWITCH_RULES.BOLA_RULE&&fe!==p.default.QUALITY_SWITCH_RULES.THROUGHPUT_RULE)return!0;const he=re.getMediaType();return G[he]&&fe===p.default.QUALITY_SWITCH_RULES.BOLA_RULE||!G[he]&&fe===p.default.QUALITY_SWITCH_RULES.THROUGHPUT_RULE}).map(ae=>ae.getSwitchRequest(re))))||(0,r.default)(b).create()},getBolaState:function(re){return G[re]},getMinSwitchRequest:H,getQualitySwitchRules:function(){return M},handleNewMediaInfo:function(re){M.forEach(ae=>ae.handleNewMediaInfo&&ae.handleNewMediaInfo(re)),q.forEach(ae=>ae.handleNewMediaInfo&&ae.handleNewMediaInfo(re))},initialize:function(){M=[],q=[],G={},C(),z.on(m.default.SETTING_UPDATED_ABR_ACTIVE_RULES,J,O)},reset:function(){[M,q].forEach(re=>{re&&re.length&&re.forEach(ae=>ae.reset&&ae.reset())}),M=[],q=[],G={},z.off(m.default.SETTING_UPDATED_ABR_ACTIVE_RULES,J,O)},setBolaState:function(re,ae){G[re]=ae},shouldAbandonFragment:function(re){if(!re)return(0,r.default)(b).create();const ae=H(U(q.map(fe=>fe.shouldAbandon(re))));return ae&&ae.reason&&(ae.reason.forceAbandon=!0),ae||(0,r.default)(b).create()}},O}Z.__dashjs_factory_name="ABRRulesCollection";const ne=n.default.getClassFactory(Z);n.default.updateSingletonFactory(Z.__dashjs_factory_name,ne);var L=ne;class j{constructor(b){this.action=j.ACTION_DOWNLOAD,this.availabilityEndTime=null,this.availabilityStartTime=null,this.bandwidth=NaN,this.bytesLoaded=NaN,this.bytesTotal=NaN,this.delayLoadingTime=NaN,this.duration=NaN,this.endDate=null,this.firstByteDate=null,this.index=NaN,this.isPartialSegmentRequest=!1,this.mediaStartTime=NaN,this.mediaType=null,this.presentationStartTime=NaN,this.range=null,this.representation=null,this.responseType="arraybuffer",this.retryAttempts=0,this.serviceLocation=null,this.startDate=null,this.startTime=NaN,this.timescale=NaN,this.type=null,this.url=b||null,this.wallStartTime=null}isInitializationRequest(){return this.type&&this.type===Te.HTTPRequest.INIT_SEGMENT_TYPE}setInfo(b){this.type=b&&b.init?Te.HTTPRequest.INIT_SEGMENT_TYPE:Te.HTTPRequest.MEDIA_SEGMENT_TYPE,this.url=b&&b.url?b.url:null,this.range=b&&b.range?b.range.start+"-"+b.range.end:null,this.mediaType=b&&b.mediaType?b.mediaType:null,this.representation=b&&b.representation?b.representation:null}}j.ACTION_DOWNLOAD="download",j.ACTION_COMPLETE="complete";var pe=j;const ie="loading",He="executed",st="failed";function Xe(S){const b=(S=S||{}).eventBus,_=S.events,R=S.dashMetrics,I=S.fragmentLoader,w=S.debug,z=S.streamInfo,O=S.type;let M,q,G,C;function P(ee){return!!ee&&function(Y){let D=!1;return Y.some(te=>{if(ye=ee,le=te,!isNaN(ye.index)&&ye.startTime===le.startTime&&ye.adaptationIndex===le.adaptationIndex&&ye.type===le.type||function(we,Ce){return we.representation.id===Ce.representation.id}(ee,te)||function(we,Ce){return we.action===pe.ACTION_COMPLETE&&we.action===Ce.action}(ee,te))return D=!0,D;var ye,le}),D}(G)}function U(ee){return isNaN(ee.duration)?.25:Math.min(ee.duration/8,.5)}function H(ee){G=G.filter(Y=>{const D=U(Y);return isNaN(Y.startTime)||ee!==void 0&&Y.startTime>=ee-D})}function J(ee,Y){Y<=ee+.5||(G=G.filter(D=>{const te=U(D);return isNaN(D.startTime)||D.startTime>=Y-te||isNaN(D.duration)||D.startTime+D.duration<=ee+te}))}function re(ee,Y,D){for(let te=ee.length-1;te>=0;te--){const ye=ee[te],le=ye.startTime,we=le+ye.duration;if(D=isNaN(D)?U(ye):D,!isNaN(le)&&!isNaN(we)&&Y+D>=le&&Y-D<we||isNaN(le)&&isNaN(Y))return ye}return null}function ae(ee,Y){R.addSchedulingInfo(ee,Y),R.addRequestsQueue(ee.mediaType,C,G)}function fe(ee){ee.sender===I&&(C.splice(C.indexOf(ee.request),1),ee.response&&!ee.error&&G.push(ee.request),ae(ee.request,ee.error?st:He),b.trigger(_.FRAGMENT_LOADING_COMPLETED,{request:ee.request,response:ee.response,error:ee.error,sender:this},{streamId:z.id,mediaType:O}))}function he(ee){ee.sender===I&&b.trigger(_.FRAGMENT_LOADING_PROGRESS,{request:ee.request,response:ee.response,error:ee.error,sender:this},{streamId:z.id,mediaType:O})}function ge(ee){ee.sender===I&&b.trigger(_.FRAGMENT_LOADING_ABANDONED,{request:ee.request},{streamId:z.id,mediaType:O})}function Se(){G=[],C=[],I&&I.resetInitialSettings()}return M={abortRequests:function(){q.debug("abort requests"),I.abort(),C=[]},executeRequest:function(ee){ee.action===pe.ACTION_DOWNLOAD?(ae(ee,ie),C.push(ee),function(Y){b.trigger(_.FRAGMENT_LOADING_STARTED,{request:Y},{streamId:z.id,mediaType:O}),I.load(Y)}(ee)):q.warn("Unknown request action.")},getRequests:function(ee){const Y=ee?ee.state instanceof Array?ee.state:[ee.state]:[];let D=[];return Y.forEach(te=>{const ye=function(le){let we;switch(le){case ie:we=C;break;case He:we=G;break;default:we=[]}return we}(te);D=D.concat(function(le,we){return we.hasOwnProperty("time")?[re(le,we.time,we.threshold)]:le.filter(Ce=>{for(const Me in we)if(Me!=="state"&&we.hasOwnProperty(Me)&&Ce[Me]!=we[Me])return!1;return!0})}(ye,ee))}),D},getStreamId:function(){return z.id},getType:function(){return O},isFragmentLoaded:P,isFragmentLoadedOrPending:function(ee){let Y,D=!1,te=0;if(D=P(ee),!D)for(te=0;te<C.length;te++)Y=C[te],ee.url===Y.url&&ee.startTime===Y.startTime&&(D=!0);return D},removeExecutedRequestsAfterTime:function(ee){G=G.filter(Y=>isNaN(Y.startTime)||ee!==void 0&&Y.startTime<ee)},removeExecutedRequestsBeforeTime:H,reset:function(){b.off(_.LOADING_COMPLETED,fe,this),b.off(_.LOADING_DATA_PROGRESS,he,this),b.off(_.LOADING_ABANDONED,ge,this),I&&I.reset(),Se()},resetInitialSettings:Se,syncExecutedRequestsWithBufferedRange:function(ee,Y){if(!ee||ee.length===0)return void H();let D=0;for(let te=0,ye=ee.length;te<ye;te++)J(D,ee.start(te)),D=ee.end(te);Y>0&&J(D,Y)}},q=w.getLogger(M),Se(),b.on(_.LOADING_COMPLETED,fe,M),b.on(_.LOADING_DATA_PROGRESS,he,M),b.on(_.LOADING_ABANDONED,ge,M),M}Xe.__dashjs_factory_name="FragmentModel";const Ze=n.default.getClassFactory(Xe);Ze.FRAGMENT_MODEL_LOADING=ie,Ze.FRAGMENT_MODEL_EXECUTED=He,Ze.FRAGMENT_MODEL_CANCELED="canceled",Ze.FRAGMENT_MODEL_FAILED=st,n.default.updateClassFactory(Xe.__dashjs_factory_name,Ze);var We=Ze;function rt(S){let b;const _=(S=S||{}).abrController,R=S.throughputController,I=S.switchRequestHistory,w=S.droppedFramesHistory,z=S.currentRequest,O=S.streamProcessor?S.streamProcessor.getScheduleController():null,M=S.streamProcessor?S.streamProcessor.getRepresentation():null,q=S.videoModel?S.videoModel:null;function G(){return M?M.mediaInfo:null}return b={getAbrController:function(){return _},getCurrentRequest:function(){return z},getDroppedFramesHistory:function(){return w},getMediaInfo:G,getMediaType:function(){const C=G();return C?C.type:null},getRepresentation:function(){return M},getScheduleController:function(){return O},getStreamInfo:function(){const C=G();return C?C.streamInfo:null},getSwitchRequestHistory:function(){return I},getThroughputController:function(){return R},getVideoModel:function(){return q}},b}rt.__dashjs_factory_name="RulesContext";var vt=n.default.getClassFactory(rt);function yt(){let S={},b={};const _=this.context,R=(0,d.default)(_).getInstance();return{clearForStream:function(I){delete S[I],delete b[I]},getSwitchRequests:function(I,w){return I!=null&&w!=null&&S[I]&&S[I][w]?S[I][w]:{}},push:function(I){const w=I.currentRepresentation,z=I.newRepresentation;if(w.mediaInfo.streamInfo.id!==z.mediaInfo.streamInfo.id||z.mediaInfo.id!==w.mediaInfo.id)return;const O=w.mediaInfo.streamInfo.id;S[O]||function(J){S[J]={},b[J]={}}(O);const M=w.mediaInfo.type;S[O][M]||function(J,re){S[J][re]={},b[J][re]=[]}(O,M);const q=I.currentRepresentation.id;S[O][M][q]||function(J,re,ae){S[J][re][ae]={noDrops:0,drops:0,dropSize:0}}(O,M,q);let G=I.newRepresentation.absoluteIndex-I.currentRepresentation.absoluteIndex,C=G<0?1:0,P=C?-G:0,U=C?0:1;S[O][M][I.currentRepresentation.id].drops+=C,S[O][M][I.currentRepresentation.id].dropSize+=P,S[O][M][I.currentRepresentation.id].noDrops+=U,b[O][M].push({id:I.currentRepresentation.id,noDrop:U,drop:C,dropSize:P});const H=function(J,re){return b[J][re].length>R.get().streaming.abr.rules.switchHistoryRule.parameters.sampleSize?b[J][re].shift():null}(O,M);H&&function(J,re,ae){S[J][re][ae.id].drops-=ae.drop,S[J][re][ae.id].dropSize-=ae.dropSize,S[J][re][ae.id].noDrops-=ae.noDrop}(O,M,H)},reset:function(){S={},b={}}}}yt.__dashjs_factory_name="SwitchRequestHistory";var ht=n.default.getClassFactory(yt);function Sn(){let S={},b={},_={};return{clearForStream:function(R){delete S[R],delete b[R],delete _[R]},getFrameHistory:function(R){return S[R]},push:function(R,I,w){if(!I)return;S[R]||function(C){S[C]=[],b[C]=0,_[C]=0}(R);let z=w&&w.droppedVideoFrames?w.droppedVideoFrames:0,O=w&&w.totalVideoFrames?w.totalVideoFrames:0,M=z-b[R];b[R]=z;let q=O-_[R];_[R]=O;const G=S[R];G[I]?(G[I].droppedVideoFrames+=M,G[I].totalVideoFrames+=q):G[I]={droppedVideoFrames:M,totalVideoFrames:q}},reset:function(){S={},b={},_={}}}}Sn.__dashjs_factory_name="DroppedFramesHistory";var tn=n.default.getClassFactory(Sn);function ft(){const S=this.context,b=(0,u.default)(S).getInstance(),_=(0,y.default)(S).getInstance();let R,I,w,z,O,M,q,G,C,P,U,H,J,re,ae,fe,he,ge,Se,ee,Y;function D(){R={},ge={},ae=new Map,U&&U.reset(),Se&&Se.reset(),q=void 0,U=void 0,Se=void 0,clearTimeout(I),I=null}function te(V,ce=!0){let se=ye(V,ce);return se=function(Ae){try{return function(Re){try{if(!fe.get().streaming.cmsd.enabled||!fe.get().streaming.cmsd.abr.applyMb)return Re;const Le=Re.filter(je=>{const Ue=je.mediaInfo.type;let at=M.getMaxBitrate(Ue);if(Ue!==p.default.VIDEO||at<0)return!0;const Tt=je.mediaInfo.streamInfo.id;return at-=ge[Tt][p.default.AUDIO].getRepresentation().bitrateInKbit||0,je.bitrateInKbit<=at});return Le.length>0?Le:Re}catch(Le){return J.error(Le),Re}}(Ae=function(Re){try{if(!fe.get().streaming.abr.limitBitrateByPortal)return Re;const{elementWidth:Le}=Y.getVideoElementSize(),je=Re.filter(Ue=>Ue.mediaInfo.type!==p.default.VIDEO||Ue.width<=Le);return je.length>0?je:Re}catch(Le){return J.error(Le),Re}}(Ae=function(Re){try{const Le=Re.filter(je=>{const Ue=je.mediaInfo.type,at=je.bitrateInKbit,Tt=re.getAbrBitrateParameter("maxBitrate",Ue),zt=re.getAbrBitrateParameter("minBitrate",Ue);return!(Tt>-1&&at>Tt||zt>-1&&at<zt)});return Le.length>0?Le:Re}catch(Le){return J.error(Le),Re}}(Ae)))}catch(Re){return J.error(Re),Ae}}(se),se}function ye(V,ce){let se=[];return V&&(function(Re){try{const Le=[];if(Re&&Le.push(Re),!fe.get().streaming.abr.enableSupplementalPropertyAdaptationSetSwitching||!Re.adaptationSetSwitchingCompatibleIds||Re.adaptationSetSwitchingCompatibleIds.length===0)return Le;const je=ge[Re.streamInfo.id][Re.type].getAllMediaInfos().filter(Ue=>Re.adaptationSetSwitchingCompatibleIds.includes(Ue.id));return Le.concat(je)}catch{return[Re]}}(V).forEach(Re=>{let Le=z.getVoRepresentations(Re);Le&&Le.length>0&&(se=se.concat(Le))}),se=function(Re){return Re.forEach(Le=>{if(Le.dependentRepresentation&&Le.dependentRepresentation.mediaInfo===null){let je=Le.dependentRepresentation.id,Ue=Re.find(at=>at.id===je);Ue&&(Le.dependentRepresentation=Ue)}}),Re}(se),se=function(Re){return Re=function(Le){let je=null;return Le.filter(Ue=>(je||(je=Ue.mediaInfo),!isNaN(Ue.qualityRanking)&&z.areMediaInfosEqual(je,Ue.mediaInfo))).length===Le.length}(Re)?function(Le){return Le.sort((je,Ue)=>Ue.qualityRanking-je.qualityRanking),Le}(Re):function(Le){return Le.sort((je,Ue)=>z.areMediaInfosEqual(je.mediaInfo,Ue.mediaInfo)?isNaN(je.pixelsPerSecond)||isNaN(Ue.pixelsPerSecond)||je.pixelsPerSecond===Ue.pixelsPerSecond?je.bandwidth-Ue.bandwidth:je.pixelsPerSecond-Ue.pixelsPerSecond:isNaN(je.pixelsPerSecond)||isNaN(Ue.pixelsPerSecond)||je.pixelsPerSecond===Ue.pixelsPerSecond?isNaN(je.bitsPerPixel)||isNaN(Ue.bitsPerPixel)?je.bandwidth-Ue.bandwidth:Ue.bitsPerPixel-je.bitsPerPixel:je.pixelsPerSecond-Ue.pixelsPerSecond),Le}(Re)}(se),se.forEach((Re,Le)=>{Re.absoluteIndex=Le}),se=se.filter(Re=>{const Le=!!ce||z.areMediaInfosEqual(Re.mediaInfo,V),je=!Re||!Re.mediaInfo||O.areKeyIdsUsable(Re.mediaInfo);return Le&&je})),se}function le(V){const ce=V.request.mediaType,se=V.streamId;if(!(ce&&se&&ge[se]&&fe.get().streaming.abr.autoSwitchBitrate[ce]))return;const Ae=ge[se][ce];if(!Ae)return;var Re;if(!(!((Re=Ae.getLastSegment())&&Re.isPartialSegment&&!isNaN(Re.totalNumberOfPartialSegments)&&!isNaN(Re.replacementSubNumber))||Re.replacementSubNumber===0))return;const Le=we(Ae,V.request),je=w.shouldAbandonFragment(Le);je&&je.representation!==r.default.NO_CHANGE&&function(Ue,at,Tt,zt,Yt){if(zt.getFragmentModel().getRequests({state:We.FRAGMENT_MODEL_LOADING,index:Ue.request.index})[0]){const pn=function(Ut,dn){return R[Ut]&&R[Ut][dn]?R[Ut][dn]:null}(at,Tt);pn&&(pn.state=o.ABANDON_LOAD),Se.reset(),W(Tt,he.getActiveStreamInfo(),Yt.representation,Yt.reason),clearTimeout(I),I=setTimeout(()=>{pn&&(R[at][Tt].state=o.ALLOW_LOAD),I=null},fe.get().streaming.abandonLoadTimeout)}}(V,se,ce,Ae,je)}function we(V,ce){return vt(S).create({abrController:H,adapter:z,currentRequest:ce,droppedFramesHistory:U,streamProcessor:V,switchRequestHistory:Se,throughputController:ee,videoModel:Y})}function Ce(V){V.mediaType===p.default.VIDEO&&(Oe(V.streamId),q=V.newRepresentation.id)}function Me(V){!de()||V.metric!==o.BUFFER_LEVEL||V.mediaType!==p.default.AUDIO&&V.mediaType!==p.default.VIDEO||function(ce,se){try{const Ae=re.getBufferTimeDefault(),Re=Ae,Le=.5*Ae,je=w.getBolaState(ce),Ue=se>=(je?Le:Re);w.setBolaState(ce,Ue),Ue!==je&&(Ue?J.info("["+ce+"] switching from throughput to buffer occupancy ABR rule (buffer: "+se.toFixed(3)+")."):J.info("["+ce+"] switching from buffer occupancy to throughput ABR rule (buffer: "+se.toFixed(3)+")."))}catch(Ae){J.error(Ae)}}(V.mediaType,.001*V.value.level)}function Ke(V,ce){return!(V&&V.isPartialSegment&&!isNaN(V.totalNumberOfPartialSegments)&&!isNaN(V.replacementSubNumber))||V.replacementSubNumber===V.totalNumberOfPartialSegments-1||function(se,Ae){if(!Ae||!Ae.segmentSequenceProperties||Ae.segmentSequenceProperties.length<=0||Ae&&Ae.mediaInfo&&Ae.mediaInfo.adaptationSetSwitchingCompatibleIds&&Ae.mediaInfo.adaptationSetSwitchingCompatibleIds.length>0)return!1;const Re=Ae.segmentSequenceProperties.filter(je=>!isNaN(je.sapType)&&je.sapType<=1);if(Re.length===0)return!1;let Le=(se.replacementSubNumber+1)%se.totalNumberOfPartialSegments;return Re.some(je=>Le%je.cadence==0)}(V,ce)}function Oe(V){if(U){const ce=Y.getPlaybackQuality();ce&&U.push(V,q,ce)}}function W(V,ce,se,Ae={}){var je;if(!(ce&&ce.id&&V&&ge&&ge[ce.id]&&ge[ce.id][V]&&se))return!1;const Re=ge[ce.id][V],Le=(je=Re.getRepresentationController())==null?void 0:je.getCurrentCompositeRepresentation();return(!Le||se.id!==Le.id)&&ve(V,Le,se,Ae)}function oe(V,ce){return`${V}-${ce}`}function ve(V,ce,se,Ae){const Re=se.mediaInfo.streamInfo.id;if(!V||!ge[Re]||!ge[Re][V])return!1;const Le=ge[Re][V].getStreamInfo(),je=C.getCurrentBufferLevel(V),Ue=ce!==null&&!z.areMediaInfosEqual(ce.mediaInfo,se.mediaInfo),at=ce?ce.bitrateInKbit:0;return J.info(`[AbrController]: Switching quality in period ${Re} for media type ${V}. Switch from bitrate ${at} to bitrate ${se.bitrateInKbit}. Current buffer level: ${je}. Reason:`+(Ae?JSON.stringify(Ae):"/")),_.trigger(T.default.QUALITY_CHANGE_REQUESTED,{isAdaptationSetSwitch:Ue,mediaType:V,newRepresentation:se,oldRepresentation:ce,reason:Ae,streamInfo:Le},{streamId:Le.id,mediaType:V}),function(Tt){const zt=ee.getAverageThroughput(Tt);isNaN(zt)||P.setSavedBitrateSettings(Tt,zt)}(V),!0}function de(){return fe.get().streaming.abr.rules.bolaRule.active&&fe.get().streaming.abr.rules.throughputRule.active}return H={canPerformQualitySwitch:Ke,checkPlaybackQuality:function(V,ce){var se;try{if(!(V&&ge&&ge[ce]&&ge[ce][V]))return!1;Oe(ce);const Ae=ge[ce][V],Re=Ae.getLastSegment(),Le=(se=Ae.getRepresentationController())==null?void 0:se.getCurrentCompositeRepresentation(),je=Ke(Re,Le);if(!fe.get().streaming.abr.autoSwitchBitrate[V]||!je)return!1;const Ue=we(Ae),at=w.getBestPossibleSwitchRequest(Ue);if(!at||!at.representation)return!1;let Tt=at.representation;return function(zt,Yt){Se.push({currentRepresentation:zt,newRepresentation:Yt})}(Le,Tt),Tt.id!==Le.id&&(R[ce][V].state===o.ALLOW_LOAD||Tt.absoluteIndex<Le.absoluteIndex)&&(ve(V,Le,Tt,at.reason),!0)}catch(Ae){return J.error(Ae),!1}},clearDataForStream:function(V){U&&U.clearForStream(V),ge[V]&&delete ge[V],Se&&Se.clearForStream(V),R[V]&&delete R[V],w.clearDataForStream(V)},getAbandonmentStateFor:function(V,ce){return R[V]&&R[V][ce]?R[V][ce].state:null},getInitialBitrateFor:function(V){if(V===p.default.TEXT)return NaN;let ce=re.getAbrBitrateParameter("initialBitrate",V);if(ce>0)return ce;let se=NaN;if(P&&P.hasOwnProperty("getSavedBitrateSettings")&&(se=P.getSavedBitrateSettings(V)),!isNaN(se))return se;const Ae=ee.getAverageThroughput(V);return!isNaN(Ae)&&Ae>0?Ae:V===p.default.VIDEO?1e3:100},getOptimalRepresentationForBitrate:function(V,ce,se=!0){const Ae=te(V,se);if(!Ae||Ae.length===0)return null;const Re=Ae.reduce((je,Ue)=>je.bandwidth<Ue.bandwidth?je:Ue);if(ce<=0)return Re;const Le=Ae.filter(je=>je.bitrateInKbit<=ce);return Le&&Le.length!==0?Le.reduce((je,Ue)=>Ue.absoluteIndex>je.absoluteIndex?Ue:je):Re},getPossibleVoRepresentations:function(V,ce=!0){return ye(V,ce)},getPossibleVoRepresentationsFilteredBySettings:te,getRepresentationByAbsoluteIndex:function(V,ce,se=!0){return isNaN(V)||V<0?null:te(ce,se).find(Ae=>Ae.absoluteIndex===V)},handleNewMediaInfo:function(V){w.handleNewMediaInfo(V)},handlePendingManualQualitySwitch:function(V,ce){try{const se=oe(V,ce);let Ae=null;if(ae.has(se)&&(Ae=ae.get(se)),!Ae)return!1;const Re=ge[V][ce],Le=Re.getLastSegment();if(!Ke(Le,Re.getRepresentation()))return!1;const{type:je,streamInfo:Ue,representation:at,reason:Tt}=Ae;return ae.delete(se),W(je,Ue,at,Tt),!0}catch(se){J.error(`Can not handle pending manual quality switch: ${se}`)}},initialize:function(){U=tn(S).create(),Se=ht(S).create(),w=L(S).create({dashMetrics:C,customParametersModel:G,mediaPlayerModel:re,settings:fe}),w.initialize(),_.on(T.default.QUALITY_CHANGE_RENDERED,Ce,H),_.on(T.default.METRIC_ADDED,Me,H),_.on(m.default.LOADING_PROGRESS,le,H)},isPlayingAtLowestQuality:function(V){return te(V.mediaInfo,!0)[0].id===V.id},isPlayingAtTopQuality:function(V){if(!V)return!0;const ce=te(V.mediaInfo,!0);return ce[ce.length-1].id===V.id},manuallySetPlaybackQuality:function(V,ce,se,Ae={}){const Re=ge[ce.id][V];if(Ke(Re.getLastSegment(),Re.getRepresentation()))return W(V,ce,se,Ae);(function(Le,je,Ue,at){try{J.debug(`[AbrController] Queuing manual quality switch for stream ${je.id} and type ${Le} to representation ${Ue.id}`);const Tt=oe(je.id,Le);ae.set(Tt,{type:Le,streamInfo:je,representation:Ue,reason:at})}catch(Tt){J.error(`Can not queue manual quality switch: ${Tt}`)}})(V,ce,se,Ae)},registerStreamType:function(V,ce){const se=ce.getStreamInfo().id;ge[se]||(ge[se]={}),ge[se][V]=ce,R[se]||(R[se]={}),R[se][V]={},R[se][V].state=o.ALLOW_LOAD,w.getBolaState(V)===void 0&&w.setBolaState(V,fe.get().streaming.abr.rules.bolaRule.active&&!de())},reset:function(){D(),_.off(T.default.QUALITY_CHANGE_RENDERED,Ce,H),_.off(T.default.METRIC_ADDED,Me,H),_.off(m.default.LOADING_PROGRESS,le,H),w&&w.reset()},setConfig:function(V){V&&(V.streamController&&(he=V.streamController),V.throughputController&&(ee=V.throughputController),V.domStorage&&(P=V.domStorage),V.mediaPlayerModel&&(re=V.mediaPlayerModel),V.customParametersModel&&(G=V.customParametersModel),V.cmsdModel&&(M=V.cmsdModel),V.dashMetrics&&(C=V.dashMetrics),V.adapter&&(z=V.adapter),V.videoModel&&(Y=V.videoModel),V.settings&&(fe=V.settings),V.capabilities&&(O=V.capabilities))},setPlaybackQuality:W,setWindowResizeEventCalled:function(V){},unRegisterStreamType:function(V,ce){try{ge[V]&&ge[V][ce]&&delete ge[V][ce],R[V]&&R[V][ce]&&delete R[V][ce]}catch{}}},J=b.getLogger(H),D(),H}ft.__dashjs_factory_name="AbrController";const dt=n.default.getSingletonFactory(ft);n.default.updateSingletonFactory(ft.__dashjs_factory_name,dt);var nn,Cn,Pn,Dn,Kn,cr=dt,Gt=function(S){for(var b=[],_=0;_<S.length;++_){var R=S.charCodeAt(_);R<128?b.push(R):R<2048?(b.push(192|R>>6),b.push(128|63&R)):R<65536?(b.push(224|R>>12),b.push(128|63&R>>6),b.push(128|63&R)):(b.push(240|R>>18),b.push(128|63&R>>12),b.push(128|63&R>>6),b.push(128|63&R))}return b},Ht=function(S){for(var b=[],_=0;_<S.length;){var R=S[_++];R<128||(R<224?(R=(31&R)<<6,R|=63&S[_++]):R<240?(R=(15&R)<<12,R|=(63&S[_++])<<6,R|=63&S[_++]):(R=(7&R)<<18,R|=(63&S[_++])<<12,R|=(63&S[_++])<<6,R|=63&S[_++])),b.push(String.fromCharCode(R))}return b.join("")},Mt={};nn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Cn=function(S){for(var b=0,_=[],R=0|S.length/3;0<R--;){var I=(S[b]<<16)+(S[b+1]<<8)+S[b+2];b+=3,_.push(nn.charAt(63&I>>18)),_.push(nn.charAt(63&I>>12)),_.push(nn.charAt(63&I>>6)),_.push(nn.charAt(63&I))}return S.length-b==2?(I=(S[b]<<16)+(S[b+1]<<8),_.push(nn.charAt(63&I>>18)),_.push(nn.charAt(63&I>>12)),_.push(nn.charAt(63&I>>6)),_.push("=")):S.length-b==1&&(I=S[b]<<16,_.push(nn.charAt(63&I>>18)),_.push(nn.charAt(63&I>>12)),_.push("==")),_.join("")},Pn=function(){for(var S=[],b=0;b<64;++b)S[nn.charCodeAt(b)]=b;return S[61]=0,S}(),Dn=function(S){for(var b=0,_=[],R=0|S.length/4;0<R--;){var I=(Pn[S.charCodeAt(b)]<<18)+(Pn[S.charCodeAt(b+1)]<<12)+(Pn[S.charCodeAt(b+2)]<<6)+Pn[S.charCodeAt(b+3)];_.push(255&I>>16),_.push(255&I>>8),_.push(255&I),b+=4}return _&&(S.charAt(b-2)=="="?(_.pop(),_.pop()):S.charAt(b-1)=="="&&_.pop()),_},Kn={encode:function(S){for(var b=[],_=0;_<S.length;++_)b.push(S.charCodeAt(_));return b},decode:function(S){for(var b=0;b<s.length;++b)a[b]=String.fromCharCode(a[b]);return a.join("")}},Mt.decodeArray=function(S){var b=Dn(S);return new Uint8Array(b)},Mt.encodeASCII=function(S){var b=Kn.encode(S);return Cn(b)},Mt.decodeASCII=function(S){var b=Dn(S);return Kn.decode(b)},Mt.encode=function(S){var b=Gt(S);return Cn(b)},Mt.decode=function(S){var b=Dn(S);return Ht(b)},typeof cd<"u"&&(cd.decode=Mt.decode,cd.decodeArray=Mt.decodeArray,cd.encode=Mt.encode,cd.encodeASCII=Mt.encodeASCII);var Lt=Mt,on=t(7393);const fn=NaN;class mn{constructor(b,_){this.data={baseUrls:b||null,selectedIdx:_||fn},this.children=[]}}function _n(){let S,b,_,R;const I=this.context,w=(0,on.default)(I).getInstance();function z(G,C,P){const U=O(P);G[C]?w.areEqual(U,G[C].data.baseUrls)||(G[C].data.baseUrls=U,G[C].data.selectedIdx=fn):G[C]=new mn(U)}function O(G){let C=_.getBaseURLsFromElement(G);const P=R.getSynthesizedBaseUrlElements(C);return P&&P.length>0&&P.forEach(U=>{const H=C.findIndex(J=>J.serviceLocation===U.serviceLocation);H!==-1?C[H]=U:C.push(U)}),C}function M(G,C){const P=C||b;G(P.data),P.children&&P.children.forEach(U=>M(G,U))}function q(){b=new mn}return S={reset:q,update:function(G){(function(C){(function(){if(!_||!_.hasOwnProperty("getBaseURLsFromElement")||!_.hasOwnProperty("getRepresentationSortFunction"))throw new Error("setConfig function has to be called previously")})();const P=O(C);w.areEqual(P,b.data.baseUrls)||(b.data.baseUrls=P,b.data.selectedIdx=fn),C&&C.Period&&C.Period.forEach((U,H)=>{z(b.children,H,U),U.AdaptationSet&&U.AdaptationSet.forEach((J,re)=>{z(b.children[H].children,re,J),J.Representation&&J.Representation.sort(_.getRepresentationSortFunction()).forEach((ae,fe)=>{z(b.children[H].children[re].children,fe,ae)})})})})(G)},getForPath:function(G){let C=b;const P=[C.data];return G&&G.forEach(U=>{C=C.children[U],C&&P.push(C.data)}),P.filter(U=>U.baseUrls.length)},invalidateSelectedIndexes:function(G){M(C=>{isNaN(C.selectedIdx)||G===C.baseUrls[C.selectedIdx].serviceLocation&&(C.selectedIdx=fn)})},setConfig:function(G){G.adapter&&(_=G.adapter),G.contentSteeringController&&(R=G.contentSteeringController)},getBaseUrls:function(G){return O(G)}},q(),S}_n.__dashjs_factory_name="BaseURLTreeModel";var Xt=n.default.getClassFactory(_n),Ft=t(8748);class en extends Ft.default{constructor(){super(),this.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE=10,this.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE=11,this.XLINK_LOADER_LOADING_FAILURE_ERROR_CODE=12,this.SEGMENT_BASE_LOADER_ERROR_CODE=15,this.TIME_SYNC_FAILED_ERROR_CODE=16,this.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE=17,this.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE=18,this.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE=19,this.APPEND_ERROR_CODE=20,this.REMOVE_ERROR_CODE=21,this.DATA_UPDATE_FAILED_ERROR_CODE=22,this.CAPABILITY_MEDIASOURCE_ERROR_CODE=23,this.CAPABILITY_MEDIAKEYS_ERROR_CODE=24,this.DOWNLOAD_ERROR_ID_MANIFEST_CODE=25,this.DOWNLOAD_ERROR_ID_SIDX_CODE=26,this.DOWNLOAD_ERROR_ID_CONTENT_CODE=27,this.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE=28,this.DOWNLOAD_ERROR_ID_XLINK_CODE=29,this.MANIFEST_ERROR_ID_PARSE_CODE=31,this.MANIFEST_ERROR_ID_NOSTREAMS_CODE=32,this.TIMED_TEXT_ERROR_ID_PARSE_CODE=33,this.MANIFEST_ERROR_ID_MULTIPLEXED_CODE=34,this.MEDIASOURCE_TYPE_UNSUPPORTED_CODE=35,this.NO_SUPPORTED_KEY_IDS=36,this.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE="parsing failed for ",this.MANIFEST_LOADER_LOADING_FAILURE_ERROR_MESSAGE="Failed loading manifest: ",this.XLINK_LOADER_LOADING_FAILURE_ERROR_MESSAGE="Failed loading Xlink element: ",this.SEGMENTS_UPDATE_FAILED_ERROR_MESSAGE="Segments update failed",this.SEGMENTS_UNAVAILABLE_ERROR_MESSAGE="no segments are available yet",this.SEGMENT_BASE_LOADER_ERROR_MESSAGE="error loading segment ranges from sidx",this.TIME_SYNC_FAILED_ERROR_MESSAGE="Failed to synchronize client and server time",this.FRAGMENT_LOADER_NULL_REQUEST_ERROR_MESSAGE="request is null",this.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE="Failed to resolve a valid URL",this.APPEND_ERROR_MESSAGE="chunk is not defined",this.REMOVE_ERROR_MESSAGE="Removing data from the SourceBuffer",this.DATA_UPDATE_FAILED_ERROR_MESSAGE="Data update failed",this.CAPABILITY_MEDIASOURCE_ERROR_MESSAGE="mediasource is not supported",this.CAPABILITY_MEDIAKEYS_ERROR_MESSAGE="mediakeys is not supported",this.TIMED_TEXT_ERROR_MESSAGE_PARSE="parsing error :",this.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE="Error creating source buffer of type : ",this.NO_SUPPORTED_KEY_IDS_MESSAGE="All possible Adaptation Sets have an invalid key status"}}var Tn=new en;function Jt(S){let b;S=S||{};let _=[];const R=(0,y.default)(this.context).getInstance(),I=S.updateEventName,w=S.addBlacklistEventName;function z(M){_.indexOf(M)===-1&&(_.push(M),R.trigger(I,{entry:M}))}function O(M){z(M.entry)}return b={add:z,remove:function(M){const q=_.indexOf(M);q!==-1&&_.splice(q,1)},contains:function(M){return!!(_.length&&M&&M.length)&&_.indexOf(M)!==-1},reset:function(){w&&R.off(w,O,b),_=[]}},w&&R.on(w,O,b),b}Jt.__dashjs_factory_name="BlackListController";var wn=n.default.getClassFactory(Jt);function Wn(S){let b;const _=(S=S||{}).blacklistController;return b={select:function(R){return R&&function(I){let w,z,O=0,M=[],q=0;if(z=I.sort(function(G,C){let P=G.dvbPriority-C.dvbPriority;return isNaN(P)?0:P}).filter(function(G,C,P){return!C||P[0].dvbPriority&&G.dvbPriority&&P[0].dvbPriority===G.dvbPriority}),z.length)return z.length>1&&(z.forEach(G=>{O+=G.dvbWeight,M.push(O)}),w=Math.floor(Math.random()*(O-1)),M.every((G,C)=>(q=C,!(w<G)))),z[q]}(function(I){let w=[];return I.filter(function(z){return!_.contains(z.serviceLocation)||(z.dvbPriority&&w.push(z.dvbPriority),!1)}).filter(function(z){return!w.length||!z.dvbPriority||w.indexOf(z.dvbPriority)===-1})}(R))}},b}Wn.__dashjs_factory_name="DVBSelector";var Un=n.default.getClassFactory(Wn);function qn(S){let b;const _=(S=S||{}).blacklistController;return b={select:function(R){let I,w=0;return R&&R.some((z,O)=>(w=O,!_.contains(z.serviceLocation)))&&(I=R[w]),I}},b}qn.__dashjs_factory_name="BasicSelector";var rr=n.default.getClassFactory(qn),ln=t(1944),Rt=t(656),gt=t(7263);function yn(){let S,b;function _(){b&&(b.onloadend=b.onerror=b.onprogress=b.onload=null,b.abort(),b=null)}return S={load:function(R,I){if(b=null,b=new XMLHttpRequest,b.open(R.method,R.url,!0),R.responseType&&(b.responseType=R.responseType),R.headers)for(let w in R.headers){let z=R.headers[w];z&&b.setRequestHeader(w,z)}return b.withCredentials=R.credentials==="include",b.timeout=R.timeout,b.onload=function(){I.url=this.responseURL,I.status=this.status,I.statusText=this.statusText,I.headers=gt.default.parseHttpHeaders(this.getAllResponseHeaders()),I.data=this.response},R.customData&&(b.onloadend=R.customData.onloadend,b.onprogress=R.customData.onprogress,b.onabort=R.customData.onabort,b.ontimeout=R.customData.ontimeout),b.send(),R.customData.abort=_.bind(this),!0},abort:_,getXhr:function(){return b},reset:function(){_(),S=null},resetInitialSettings:function(){_()}},S}yn.__dashjs_factory_name="XHRLoader";var Rn=n.default.getClassFactory(yn);function Hn(){const S=this.context,b=(0,d.default)(S).getInstance();let _,R,I;function w(C,P,U){C.customData.reader.read().then(U).catch(function(){z(C)})}function z(C){C.customData.onloadend&&C.customData.onloadend()}function O(){return typeof performance<"u"&&typeof performance.now=="function"?performance.now():Date.now()}function M(){if(this.customData.abortController)this.customData.abortController.abort();else if(this.customData.reader)try{this.customData.reader.cancel(),this.onabort()}catch{}}function q(C,P){try{if((C=C.filter(U=>U.bytes>P/4/C.length)).length>1){let U=0;const H=(C[C.length-1].timestamp-C[0].timestamp)/C.length;return C.forEach((J,re)=>{const ae=C[re+1];if(ae){const fe=ae.timestamp-J.timestamp;U+=fe<H?fe:0}}),U}return null}catch{return null}}function G(C,P){return 8*C/P}return I=(0,u.default)(S).getInstance().getLogger(_),_={abort:M,calculateDownloadedTime:q,load:function(C,P){const U=function(re){const ae=new Headers;if(re.headers)for(let fe in re.headers){let he=re.headers[fe];he&&ae.append(fe,he)}return ae}(C),H=function(re){let ae;return typeof window.AbortController=="function"&&(ae=new AbortController,re.customData.abortController=ae,ae.signal.onabort=re.customData.onabort),re.customData.abort=M.bind(re),ae}(C),J=function(re,ae,fe){return new Request(re.url,{method:re.method,headers:ae,credentials:re.credentials,signal:fe?fe.signal:void 0})}(C,U,H);fetch(J).then(re=>{(function(ae,fe,he){(function(Me,Ke){Me.status=Ke.status,Me.statusText=Ke.statusText,Me.url=Ke.url;const Oe={};for(const W of Ke.headers.keys())Oe[W]=Ke.headers.get(W);Me.headers=Oe})(he,ae),ae.ok||fe.customData.onloadend();let ge=0,Se=!1,ee=new Uint8Array,Y=0;fe.customData.reader=ae.body.getReader();let D=[],te=[],ye=[],le=!0;const we=b.get().streaming.abr.throughput.lowLatencyDownloadTimeCalculationMode,Ce=({value:Me,done:Ke})=>{Ke?function(){if(ee){const Oe=function(){let W=null;return we===p.default.LOW_LATENCY_DOWNLOAD_TIME_CALCULATION_MODE.MOOF_PARSING?W=function(){const oe=function(ve,de){try{let V,ce;if(V=ve.slice(0,-1),ce=de.slice(0,-1),V.length!==ce.length&&I.warn(`[FetchLoader] Moof and Mdat data arrays have different lengths. Moof: ${V.length}, Mdat: ${ce.length}`),V.length<=1)return null;let se=[],Ae=0,Re=0;for(let Le=0;Le<V.length;Le++)if(V[Le]&&ce[Le]){let je=ce[Le].timestamp-V[Le].timestamp;if(je>1){const Ue=G(ce[Le].bytes,je);se.push(Ue),Re=0}else{Re===0&&(Re=V[Le].timestamp,Ae=0);let Ue=ce[Le].timestamp-Re;if(Ue>1){Ae+=ce[Le].bytes;const at=G(Ae,Ue);se.push(at),Re=0}else Ae+=ce[Le].bytes}}return se.length>0?se.reduce((Le,je)=>Le+je,0)/se.length:null}catch{return null}}(te,ye);return oe?8*ge/oe:null}():we===p.default.LOW_LATENCY_DOWNLOAD_TIME_CALCULATION_MODE.DOWNLOADED_DATA&&(W=q(D,ge)),W}();fe.customData.onprogress({loaded:ge,total:ge,lengthComputable:!0,time:Oe}),he.data=ee.buffer}fe.customData.onloadend()}():(Me&&Me.length>0&&function(Oe){ee=function(oe,ve){if(oe.length===0)return ve;const de=new Uint8Array(oe.length+ve.length);return de.set(oe),de.set(ve,oe.length),de}(ee,Oe),ge+=Oe.length,D.push({timestamp:O(),bytes:Oe.length}),we===p.default.LOW_LATENCY_DOWNLOAD_TIME_CALCULATION_MODE.MOOF_PARSING&&le&&R.findLastTopIsoBoxCompleted(["moof"],ee,Y).found&&(le=!1,te.push({timestamp:O()}));const W=R.findLastTopIsoBoxCompleted(["moov","mdat"],ee,Y);W.found?function(oe){const ve=function(de){let V;return de===ee.length?(V=ee,ee=new Uint8Array):(V=new Uint8Array(ee.subarray(0,de)),ee=ee.subarray(de)),V}(oe.startOffsetOfLastFoundTargetBox+oe.sizeOfLastFoundTargetBox);we!==p.default.LOW_LATENCY_DOWNLOAD_TIME_CALCULATION_MODE.MOOF_PARSING||le||(le=!0,ye.push({timestamp:O(),bytes:ve.length})),fe.customData.onprogress({data:ve.buffer,lengthComputable:!1,noTrace:!0}),Y=0}(W):function(oe){Y=oe.startOffsetOfLastCompletedBox+oe.sizeOfLastCompletedBox,Se||(fe.customData.onprogress({lengthComputable:!1,noTrace:!0}),Se=!0)}(W)}(Me),w(fe,0,Ce))};w(fe,0,Ce)})(re,C,P)}).catch(()=>{z(C)})},reset:function(){},setConfig:function(C){R=C.boxParser}},_}Hn.__dashjs_factory_name="FetchLoader";var fr=n.default.getClassFactory(Hn),br=t(913),ti=class{constructor(){this.period=null,this.index=-1,this.id=null,this.type=null}};class Sr{constructor(b,_,R,I){this.url=b||"",this.serviceLocation=_||b||"",this.dvbPriority=R||1,this.dvbWeight=I||1,this.availabilityTimeOffset=0,this.availabilityTimeComplete=!0,this.queryParams={}}}Sr.DEFAULT_DVB_PRIORITY=1,Sr.DEFAULT_DVB_WEIGHT=1;var Pr=Sr,De=t(8854),Yr=class{constructor(){this.schemeIdUri=null,this.value=null,this.id=null}init(S){S&&(this.schemeIdUri=S.schemeIdUri?S.schemeIdUri:null,this.value=S.value!==null&&S.value!==void 0?S.value.toString():null,this.id=S.id?S.id:null,S[De.default.DVB_URL]&&(this.dvbUrl=S[De.default.DVB_URL]),S[De.default.DVB_MIMETYPE]&&(this.dvbMimeType=S[De.default.DVB_MIMETYPE]),S[De.default.DVB_FONTFAMILY]&&(this.dvbFontFamily=S[De.default.DVB_FONTFAMILY]))}inArray(S){return!!S&&S.some(b=>this.schemeIdUri===b.schemeIdUri&&(this.value?this.value.toString().match(b.value):"".match(b.value)))}},Lr=class extends Yr{constructor(){super(),this.version=null,this.sessionID=null,this.contentID=null,this.mode=null,this.keys=null,this.includeInRequests=null}init(S){super.init(S),S&&(this.version=S.version,this.sessionID=S.sessionID,this.contentID=S.contentID,this.mode=S.mode??"query",this.keys=S.keys?S.keys.split(" "):null,this.includeInRequests=S.includeInRequests?S.includeInRequests.split(" "):["segment"],this.schemeIdUri=S.schemeIdUri)}},Wa=class{constructor(){this.adaptationSets=null,this.adaptationSetsArray=[],this.cmcdParameters=null,this.serviceLocations=null,this.serviceLocationsArray=[]}},Ii=class extends Yr{constructor(){super(),this.ref=null,this.refId=null,this.robustness=null,this.keyId=null,this.cencDefaultKid=null,this.pssh=null,this.pro=null,this.laUrl=null}init(S){super.init(S),S&&(this.ref=S.hasOwnProperty(De.default.REF)?S[De.default.REF]:null,this.refId=S.hasOwnProperty(De.default.REF_ID)?S[De.default.REF_ID]:null,this.robustness=S.hasOwnProperty(De.default.ROBUSTNESS)?S[De.default.ROBUSTNESS]:null,this.cencDefaultKid=S.hasOwnProperty(De.default.CENC_DEFAULT_KID)?S[De.default.CENC_DEFAULT_KID]:null,this.pssh=S.hasOwnProperty(De.default.PSSH)?S[De.default.PSSH]:null,this.pro=S.hasOwnProperty(De.default.PRO)?S[De.default.PRO]:null,this.laUrl=S.hasOwnProperty(De.default.LA_URL)?S[De.default.LA_URL]:S.hasOwnProperty(De.default.LA_URL_LOWER_CASE)?S[De.default.LA_URL_LOWER_CASE]:null)}mergeAttributesFromReference(S){["schemeIdUri","value","id","robustness","cencDefaultKid","pro","pssh","laUrl"].forEach(b=>{this[b]===null&&(this[b]=S[b])})}},da=class{constructor(){this.defaultServiceLocation=null,this.defaultServiceLocationArray=[],this.queryBeforeStart=!1,this.serverUrl=null,this.clientRequirement=!0}},si=class{constructor(){this.type="",this.duration=NaN,this.presentationTime=NaN,this.id=NaN,this.messageData="",this.eventStream=null,this.presentationTimeDelta=NaN,this.parsedMessageData=null}},Ol=class{constructor(){this.adaptionSet=null,this.representation=null,this.period=null,this.timescale=1,this.value="",this.schemeIdUri="",this.presentationTimeOffset=0}},Ml=class{constructor(){this.availabilityEndTime=Number.POSITIVE_INFINITY,this.availabilityStartTime=null,this.manifest=null,this.maxSegmentDuration=Number.POSITIVE_INFINITY,this.mediaPresentationDuration=NaN,this.minimumUpdatePeriod=NaN,this.publishTime=null,this.suggestedPresentationDelay=0,this.timeShiftBufferDepth=Number.POSITIVE_INFINITY}},qo=class{constructor(S,b){this.url=S||"",this.serviceLocation=b||null,this.queryParams={}}},zu=class{constructor(S,b,_){this.url=S||"",this.serviceLocation=b||null,this.ttl=_||NaN,this.queryParams={}}};class Cs{constructor(){this.id=null,this.index=-1,this.duration=NaN,this.start=NaN,this.mpd=null,this.nextPeriodId=null,this.isEncrypted=!1}}Cs.DEFAULT_ID="defaultId";var Ma=Cs,Ta=class{constructor(){this.period=null,this.index=-1,this.id=1,this.type=null,this.tag=null,this.order="undefined",this.preselectionComponents=[]}},rn=class{constructor(){this.id=null,this.inband=!1,this.type="encoder",this.applicationScheme=null,this.wallClockTime=null,this.presentationTime=NaN,this.UTCTiming=null}},xn=class{constructor(){this.absoluteIndex=NaN,this.adaptation=null,this.availabilityTimeComplete=!0,this.availabilityTimeOffset=0,this.bandwidth=NaN,this.bitrateInKbit=NaN,this.bitsPerPixel=NaN,this.codecFamily=null,this.codecPrivateData=null,this.codecs=null,this.dependencyId=null,this.dependentRepresentation=null,this.endNumber=null,this.essentialProperties=[],this.fragmentDuration=null,this.frameRate=null,this.height=NaN,this.id=null,this.indexRange=null,this.initialization=null,this.maxPlayoutRate=NaN,this.mediaFinishedInformation={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN},this.mediaInfo=null,this.mimeType=null,this.mseTimeOffset=NaN,this.pixelsPerSecond=NaN,this.presentationTimeOffset=0,this.qualityRanking=NaN,this.range=null,this.scanType=null,this.segments=null,this.segmentDuration=NaN,this.segmentInfoType=null,this.segmentSequenceProperties=[],this.supplementalProperties=[],this.startNumber=1,this.timescale=1,this.width=NaN}hasInitialization(){return this.initialization!==null||this.range!==null}hasSegments(){return this.segmentInfoType!==De.default.BASE_URL&&this.segmentInfoType!==De.default.SEGMENT_BASE&&!this.indexRange}};function zn(){let S;const b=/^[a-z][a-z0-9+\-_.]*:/i,_=/^https?:\/\//i,R=/^https:\/\//i,I=/^([a-z][a-z0-9+\-_.]*:\/\/[^\/]+)\/?/i,w=(U,H)=>{try{return new window.URL(U,H).toString()}catch{return U}},z=(U,H)=>{let J=O;if(!H||!G(U))return U;C(U)&&(J=M),P(U)&&(J=q);const re=J(H),ae=re.charAt(re.length-1)!=="/"&&U.charAt(0)!=="/"?"/":"";return[re,U].join(ae)};function O(U){const H=U.indexOf("/"),J=U.lastIndexOf("/");return H!==-1?J===H+1?U:(U.indexOf("?")!==-1&&(U=U.substring(0,U.indexOf("?"))),U.substring(0,J+1)):""}function M(U){const H=U.match(I);return H?H[1]:""}function q(U){const H=U.match(b);return H?H[0]:""}function G(U){return!b.test(U)}function C(U){return G(U)&&U.charAt(0)==="/"}function P(U){return U.indexOf("//")===0}return function(){try{new window.URL("x","http://y"),S=w}catch{}finally{S=S||z}}(),{parseBaseUrl:O,parseOrigin:M,parseScheme:q,isRelative:G,isPathAbsolute:C,isSchemeRelative:P,isHTTPURL:function(U){return _.test(U)},isHTTPS:function(U){return R.test(U)},removeHostname:function(U){return/^(?:\w+\:\/\/)?([^\/]+)(.*)$/.exec(U)[2].substring(1)},resolve:function(U,H){return S(U,H)}}}zn.__dashjs_factory_name="DefaultURLUtils";var or=n.default.getSingletonFactory(zn);function ir(){let S,b,_=[];const R=this.context;function I(w,z,O){let M=function(q){let G;for(G=0;G<_.length;G++)if(_[G].regex.test(q))return _[G].utils;return b}(O||z);return M&&typeof M[w]=="function"?M[w](z,O):b[w](z,O)}return b=or(R).getInstance(),S={registerUrlRegex:function(w,z){_.push({regex:w,utils:z})},parseBaseUrl:function(w){return I("parseBaseUrl",w)},parseOrigin:function(w){return I("parseOrigin",w)},parseScheme:function(w){return I("parseScheme",w)},isRelative:function(w){return I("isRelative",w)},isPathAbsolute:function(w){return I("isPathAbsolute",w)},isSchemeRelative:function(w){return I("isSchemeRelative",w)},isHTTPURL:function(w){return I("isHTTPURL",w)},isHTTPS:function(w){return I("isHTTPS",w)},removeHostname:function(w){return I("removeHostname",w)},resolve:function(w,z){return I("resolve",w,z)}},S}ir.__dashjs_factory_name="URLUtils";var Rr=n.default.getSingletonFactory(ir),Nr=t(5717),ar=class{constructor(){this.cadence=1,this.sapType=0,this.event=!0,this.alignment=null}init(S){S&&(this.cadence=S.cadence===void 0||isNaN(S.cadence)?1:S.cadence,this.sapType=S.sapType===void 0||isNaN(S.sapType)?0:S.sapType,this.event=S.event===void 0||S.event,this.alignment=S.alignment!==void 0?S.alignment:null)}};function mr(){let S,b,_,R;const I=this.context,w=Rr(I).getInstance(),z=Number.isInteger||function(W){return typeof W=="number"&&isFinite(W)&&Math.floor(W)===W};function O(W,oe){if(!W)throw new Error("adaptation is not defined");if(!oe)throw new Error("type is not defined");if(W.Representation&&W.Representation.length){const de=Se(W.Representation[0]);if(de&&de.some(V=>p.default.THUMBNAILS_SCHEME_ID_URIS.indexOf(V.schemeIdUri)>=0))return oe===p.default.IMAGE}if(W.ContentComponent&&W.ContentComponent.length>0){if(W.ContentComponent.length>1)return oe===p.default.MUXED;if(W.ContentComponent[0].contentType===oe)return!0}const ve=oe===p.default.TEXT?new RegExp("(ttml|vtt|wvtt|stpp)"):new RegExp(oe);if(W.Representation&&W.Representation.length){const de=W.Representation[0].codecs;if(ve.test(de))return!0}if(W.hasOwnProperty(De.default.MIME_TYPE))return ve.test(W.mimeType);if(W.Representation){let de;for(let V=0;V<W.Representation.length;V++)if(de=W.Representation[V],de.hasOwnProperty(De.default.MIME_TYPE))return ve.test(de.mimeType)}return!1}function M(W){if(!W)throw new Error("adaptation is not defined");if(W.hasOwnProperty(De.default.SEGMENT_TEMPLATE)||W.hasOwnProperty(De.default.SEGMENT_TIMELINE)||W.hasOwnProperty(De.default.SEGMENT_LIST)||W.hasOwnProperty(De.default.SEGMENT_BASE))return!0;if(W.Representation&&W.Representation.length>0){const oe=W.Representation[0];if(oe.hasOwnProperty(De.default.SEGMENT_TEMPLATE)||oe.hasOwnProperty(De.default.SEGMENT_TIMELINE)||oe.hasOwnProperty(De.default.SEGMENT_LIST)||oe.hasOwnProperty(De.default.SEGMENT_BASE))return!0}return!1}function q(W){return O(W,p.default.TEXT)}function G(W){return W&&W.Representation&&W.Representation.sort((oe,ve)=>oe.bandwidth-ve.bandwidth),W}function C(W,oe){return W&&W.Period&&z(oe)&&W.Period[oe]?W.Period[oe].AdaptationSet:[]}function P(W){return W&&W.Period?W.Period:[]}function U(W,oe,ve){let de=null;if(W&&W.Representation&&W.Representation.length>0){const V=z(oe)&&oe>=0&&oe<W.Representation.length?W.Representation[oe]:W.Representation[0];V&&(de=V.mimeType+';codecs="'+V.codecs+'"',ve&&V.width!==void 0&&(de+=';width="'+V.width+'";height="'+V.height+'"'))}return de&&(de=de.replace(/\sprofiles=[^;]*/g,"")),de}function H(W){const oe=J(W);return oe&&oe.length>0}function J(W){let oe=[];if(!W)return oe;const ve=re(W);return oe=oe.concat(ve),W.hasOwnProperty(De.default.ADAPTATION_SET)&&W[De.default.ADAPTATION_SET].length>0&&W[De.default.ADAPTATION_SET].forEach(de=>{const V=re(de);oe=oe.concat(V)}),oe}function re(W){return W&&W.hasOwnProperty(De.default.CONTENT_PROTECTION)&&W.ContentProtection.length!==0?W[De.default.CONTENT_PROTECTION].map(oe=>{const ve=new Ii;return ve.init(oe),ve}):[]}function ae(W){let oe=!1;return W&&W.hasOwnProperty("type")&&(oe=W.type===De.default.DYNAMIC),oe}function fe(W){if(!W)return null;const oe=W[De.default.FRAMERATE];if(!oe)return null;if(typeof oe=="string"&&oe.includes("/")){const[ve,de]=oe.split("/").map(V=>parseInt(V,10));if(!isNaN(ve)&&!isNaN(de)&&de!==0)return ve/de}return parseInt(oe)}function he(W,oe){return oe&&oe.hasOwnProperty(W)&&oe[W].length?oe[W].map(ve=>{const de=new Yr;return de.init(ve),de}):[]}function ge(W,oe){if(!oe)return[];let ve=function(de,V){if(!V||!V.length)return[];let ce=V[0][de]||[];return ce.length===0?[]:V.length===1?ce:ce.filter(se=>V.slice(1).every(Ae=>Ae.hasOwnProperty(de)&&Ae[de].some(Re=>Re.schemeIdUri===se.schemeIdUri&&Re.value===se.value)))}(W,oe[De.default.REPRESENTATION]);return oe.hasOwnProperty(W)&&oe[W].length&&ve.push(...oe[W]),ve.map(de=>{const V=new Yr;return V.init(de),V})}function Se(W){return he(De.default.ESSENTIAL_PROPERTY,W)}function ee(W){return he(De.default.SUPPLEMENTAL_PROPERTY,W)}function Y(W){return W&&W.hasOwnProperty(De.default.SEGMENT_SEQUENCE_PROPERTIES)&&W[De.default.SEGMENT_SEQUENCE_PROPERTIES].length?W[De.default.SEGMENT_SEQUENCE_PROPERTIES].map(oe=>{const ve=new ar(oe);return ve.init(oe),ve}):[]}function D(W,oe,ve,de,V,ce){const se=new xn;(function(Le,je,Ue,at,Tt){if(Le.index=Tt,Le.adaptation=Ue,Le.mediaInfo=at,je.hasOwnProperty(De.default.ID)&&(Le.id=je.id),je.hasOwnProperty(De.default.CODECS)&&(Le.codecs=je.codecs,Le.codecFamily=gt.default.getCodecFamily(Le.codecs)),je.hasOwnProperty(De.default.DEPENDENCY_ID)){const zt=je[De.default.DEPENDENCY_ID].toString().split(" ")[0];Le.dependencyId=zt,Le.dependentRepresentation=new xn,Le.dependentRepresentation.id=zt}je.hasOwnProperty(De.default.MIME_TYPE)&&(Le.mimeType=je[De.default.MIME_TYPE]),je.hasOwnProperty(De.default.CODEC_PRIVATE_DATA)&&(Le.codecPrivateData=je.codecPrivateData),je.hasOwnProperty(De.default.BANDWITH)&&(Le.bandwidth=je.bandwidth,Le.bitrateInKbit=je.bandwidth/1e3),je.hasOwnProperty(De.default.WIDTH)&&(Le.width=je.width),je.hasOwnProperty(De.default.HEIGHT)&&(Le.height=je.height),je.hasOwnProperty(De.default.SCAN_TYPE)&&(Le.scanType=je.scanType),je.hasOwnProperty(De.default.FRAMERATE)&&(Le.frameRate=fe(je)),je.hasOwnProperty(De.default.QUALITY_RANKING)&&(Le.qualityRanking=je[De.default.QUALITY_RANKING]),je.hasOwnProperty(De.default.MAX_PLAYOUT_RATE)&&(Le.maxPlayoutRate=je.maxPlayoutRate),Le.essentialProperties=Se(je),Le.supplementalProperties=ee(je),Le.segmentSequenceProperties=Y(je),Le.path=[Ue.period.index,Ue.index,Tt]})(se,oe,ve,W,ce);const{segmentInfo:Ae,segmentInfoType:Re}=function(Le){let je,Ue;return Le.hasOwnProperty(De.default.SEGMENT_BASE)?(je=Le.SegmentBase,Ue=De.default.SEGMENT_BASE):Le.hasOwnProperty(De.default.SEGMENT_LIST)?(je=Le.SegmentList,Ue=je.hasOwnProperty(De.default.SEGMENT_TIMELINE)?De.default.SEGMENT_TIMELINE:De.default.SEGMENT_LIST):Le.hasOwnProperty(De.default.SEGMENT_TEMPLATE)?(je=Le.SegmentTemplate,Ue=je.hasOwnProperty(De.default.SEGMENT_TIMELINE)?De.default.SEGMENT_TIMELINE:De.default.SEGMENT_TEMPLATE):Ue=De.default.BASE_URL,{segmentInfo:je,segmentInfoType:Ue}}(oe);return se.segmentInfoType=Re,function(Le,je,Ue,at,Tt,zt){if(Le){if(Le.hasOwnProperty(De.default.INITIALIZATION_MINUS)&&(Ue.initialization=Le.initialization.split("$Bandwidth$").join(Tt.bandwidth).split("$RepresentationID$").join(Tt.id)),Le.hasOwnProperty(De.default.INITIALIZATION)){const Yt=Le.Initialization;Yt.hasOwnProperty(De.default.SOURCE_URL)&&(Ue.initialization=Yt.sourceURL),Yt.hasOwnProperty(De.default.RANGE)&&(Ue.range=Yt.range)}else q(at)&&M(at)&&at.mimeType&&at.mimeType.indexOf("application/mp4")===-1&&(Ue.range=0);Le.hasOwnProperty(De.default.TIMESCALE)&&(Ue.timescale=Le.timescale),Le.hasOwnProperty(De.default.DURATION)?Ue.segmentDuration=Le.duration/Ue.timescale:je===De.default.SEGMENT_TIMELINE&&(Ue.segmentDuration=function(Yt){if(!Yt||!Yt.S)return NaN;let pn=Yt.S[0],Ut=Yt.S[1];return pn.hasOwnProperty("d")?pn.d:Ut.t-pn.t}(Le.SegmentTimeline)/Ue.timescale),Le.hasOwnProperty(De.default.MEDIA)&&(Ue.media=Le.media),Le.hasOwnProperty(De.default.START_NUMBER)&&(Ue.startNumber=parseInt(Le.startNumber)),Le.hasOwnProperty(De.default.INDEX_RANGE)&&(Ue.indexRange=Le.indexRange),Le.hasOwnProperty(De.default.PRESENTATION_TIME_OFFSET)&&(Ue.presentationTimeOffset=Le.presentationTimeOffset/Ue.timescale),Le.hasOwnProperty(De.default.AVAILABILITY_TIME_OFFSET)?Ue.availabilityTimeOffset=Le.availabilityTimeOffset:zt&&zt.availabilityTimeOffset!==void 0&&(Ue.availabilityTimeOffset=zt.availabilityTimeOffset),Le.hasOwnProperty(De.default.AVAILABILITY_TIME_COMPLETE)?Ue.availabilityTimeComplete=Le.availabilityTimeComplete!=="false":zt&&zt.availabilityTimeComplete!==void 0&&(Ue.availabilityTimeComplete=zt.availabilityTimeComplete),Le.hasOwnProperty(De.default.END_NUMBER)&&(Ue.endNumber=Le[De.default.END_NUMBER]),Ue.mseTimeOffset=function(Yt){const pn=Yt.presentationTimeOffset;return Yt.adaptation.period.start-pn}(Ue)}}(Ae,Re,se,de,oe,V),function(Le){isNaN(Le.width)||isNaN(Le.height)||isNaN(Le.frameRate)||(Le.pixelsPerSecond=Math.max(1,Le.width*Le.height*Le.frameRate),isNaN(Le.bandwidth)||(Le.bitsPerPixel=Le.bandwidth/Le.pixelsPerSecond))}(se),se}function te(W){return O(W,p.default.MUXED)?p.default.MUXED:O(W,p.default.AUDIO)?p.default.AUDIO:function(oe){return O(oe,p.default.VIDEO)}(W)?p.default.VIDEO:q(W)?p.default.TEXT:function(oe){return O(oe,p.default.IMAGE)}(W)?p.default.IMAGE:(b.warn("Unknown Preselection stream type"),null)}function ye(W,oe){if(W&&W.hasOwnProperty(De.default.PRESELECTION_COMPONENTS)&&Array.isArray(oe))return String(W.preselectionComponents).split(" ").map(ve=>oe.find(de=>de.id===ve))}function le(W,oe){if(!W||!W.hasOwnProperty(De.default.PRESELECTION_COMPONENTS)||!Array.isArray(oe))return;const ve=String(W.preselectionComponents).split(" ");return oe.find(de=>de.id===ve[0])}function we(W,oe){if(!W)throw new Error("Period cannot be null or undefined");let ve=Ma.DEFAULT_ID+"_"+oe;return W.hasOwnProperty(De.default.ID)&&W.id.toString().length>0&&W.id!=="__proto__"&&(ve=W.id.toString()),ve}function Ce(W,oe,ve){const de=[];let V;if(!W)return de;for(V=0;V<W.length;V++){const ce=new Ol;if(ce.timescale=1,ce.representation=oe,!W[V].hasOwnProperty(p.default.SCHEME_ID_URI))throw new Error("Invalid EventStream. SchemeIdUri has to be set");ce.schemeIdUri=W[V].schemeIdUri,W[V].hasOwnProperty(De.default.TIMESCALE)&&(ce.timescale=W[V].timescale),W[V].hasOwnProperty(De.default.VALUE)&&(ce.value=W[V].value),de.push(ce),ce.period=ve}return de}function Me(W){const oe=[],ve=W.BaseURL||[W.baseUri];let de=!1;return ve.some(V=>{if(V){const ce=new Pr;let se=V.__text||V;return w.isRelative(se)&&(de=!0,W.baseUri&&(se=w.resolve(se,W.baseUri))),ce.url=se,V.hasOwnProperty(De.default.SERVICE_LOCATION)&&V.serviceLocation.length?ce.serviceLocation=V.serviceLocation:ce.serviceLocation=se,V.hasOwnProperty(De.default.DVB_PRIORITY)&&(ce.dvbPriority=V[De.default.DVB_PRIORITY]),V.hasOwnProperty(De.default.DVB_WEIGHT)&&(ce.dvbWeight=V[De.default.DVB_WEIGHT]),V.hasOwnProperty(De.default.AVAILABILITY_TIME_OFFSET)&&(ce.availabilityTimeOffset=V[De.default.AVAILABILITY_TIME_OFFSET]),V.hasOwnProperty(De.default.AVAILABILITY_TIME_COMPLETE)&&(ce.availabilityTimeComplete=V[De.default.AVAILABILITY_TIME_COMPLETE]!=="false"),oe.push(ce),de}}),oe}function Ke(W){const oe=new da;return oe.serverUrl=W.__text,W.hasOwnProperty(De.default.DEFAULT_SERVICE_LOCATION)&&(oe.defaultServiceLocation=W[De.default.DEFAULT_SERVICE_LOCATION],oe.defaultServiceLocationArray=oe.defaultServiceLocation.split(" ")),W.hasOwnProperty(De.default.QUERY_BEFORE_START)&&(oe.queryBeforeStart=W[De.default.QUERY_BEFORE_START].toLowerCase()==="true"),W.hasOwnProperty(De.default.CLIENT_REQUIREMENT)&&(oe.clientRequirement=W[De.default.CLIENT_REQUIREMENT].toLowerCase()!=="false"),oe}function Oe(W){const oe=new Wa;return W.hasOwnProperty(De.default.CMCD_PARAMETERS)&&W[De.default.CMCD_PARAMETERS].schemeIdUri===p.default.CTA_5004_2023_SCHEME&&(oe.cmcdParameters=new Lr,oe.cmcdParameters.init(W[De.default.CMCD_PARAMETERS])),W.hasOwnProperty(De.default.SERVICE_LOCATIONS)&&W[De.default.SERVICE_LOCATIONS]!==""&&(oe.serviceLocations=W[De.default.SERVICE_LOCATIONS],oe.serviceLocationsArray=oe.serviceLocations.toString().split(" ")),W.hasOwnProperty(De.default.ADAPTATION_SETS)&&W[De.default.ADAPTATION_SETS]!==""&&(oe.adaptationSets=W[De.default.ADAPTATION_SETS],oe.adaptationSetsArray=oe.adaptationSets.toString().split(" ")),oe}return S={getAccessibilityForAdaptation:function(W){return W&&W.hasOwnProperty(De.default.ACCESSIBILITY)&&W[De.default.ACCESSIBILITY].length?W[De.default.ACCESSIBILITY].map(oe=>{const ve=new Yr;return ve.init(oe),ve}):[]},getAdaptationForId:function(W,oe,ve){const de=C(oe,ve);let V,ce;for(V=0,ce=de.length;V<ce;V++)if(de[V].hasOwnProperty(De.default.ID)&&de[V].id===W)return de[V];return null},getAdaptationForIndex:function(W,oe,ve){const de=C(oe,ve);return de.length>0&&z(W)?de[W]:null},getAdaptationsForPeriod:function(W){const oe=W&&z(W.index)?W.mpd.manifest.Period[W.index]:null,ve=[];let de,V,ce;if(oe&&oe.AdaptationSet)for(ce=0;ce<oe.AdaptationSet.length;ce++)V=oe.AdaptationSet[ce],de=new ti,V.hasOwnProperty(De.default.ID)&&(de.id=V.id),de.index=ce,de.period=W,de.type=te(V),ve.push(de);return ve},getAdaptationsForType:function(W,oe,ve){const de=C(W,oe);let V,ce;const se=[];for(V=0,ce=de.length;V<ce;V++)O(de[V],ve)&&se.push(G(de[V]));return se},getAudioChannelConfigurationForAdaptation:function(W){return W&&W.hasOwnProperty(De.default.AUDIO_CHANNEL_CONFIGURATION)&&W[De.default.AUDIO_CHANNEL_CONFIGURATION].length?W[De.default.AUDIO_CHANNEL_CONFIGURATION].map(oe=>{const ve=new Yr;return ve.init(oe),ve}):[]},getAudioChannelConfigurationForRepresentation:function(W){return W&&W.hasOwnProperty(De.default.AUDIO_CHANNEL_CONFIGURATION)&&W[De.default.AUDIO_CHANNEL_CONFIGURATION].length?W[De.default.AUDIO_CHANNEL_CONFIGURATION].map(oe=>{const ve=new Yr;return ve.init(oe),ve}):[]},getAvailabilityStartTime:function(W){return W&&W.hasOwnProperty(De.default.AVAILABILITY_START_TIME)&&W.availabilityStartTime!==null?W.availabilityStartTime.getTime():null},getBandwidth:function(W){return W&&W.bandwidth?W.bandwidth:NaN},getBaseURLsFromElement:Me,getBitrateListForAdaptation:function(W){const oe=G(W);return(oe&&oe.Representation?oe.Representation:[]).map(ve=>({bandwidth:ve.bandwidth,width:ve.width||0,height:ve.height||0,scanType:ve.scanType||null,id:ve.id||null}))},getCodec:U,getCodecForPreselection:function(W,oe,ve){let de=null;if(W&&oe){let V=U(le(W,oe),0,ve);if(W.hasOwnProperty(De.default.CODECS)){let ce=W.codecs;de=V.replace(/(codecs=")[^"]*(")/,`$1${ce}$2`),b.info("Preselection has own codecs-attribute: replacing in MainAdaptationSet (was: "+V+"), new Preselection codec is: "+de)}else de=V}return de},getCombinedEssentialPropertiesForAdaptationSet:function(W){return ge(De.default.ESSENTIAL_PROPERTY,W)},getCombinedSupplementalPropertiesForAdaptationSet:function(W){return ge(De.default.SUPPLEMENTAL_PROPERTY,W)},getContentProtectionByAdaptation:function(W){return re(W)},getContentProtectionByManifest:function(W){let oe=[];if(!W)return oe;const ve=re(W);return oe=oe.concat(ve),W.hasOwnProperty(De.default.PERIOD)&&W[De.default.PERIOD].length>0&&W[De.default.PERIOD].forEach(de=>{const V=J(de);oe=oe.concat(V)}),oe},getContentProtectionByPeriod:J,getContentSteering:function(W){if(W&&W.hasOwnProperty(De.default.CONTENT_STEERING))return Ke(W[De.default.CONTENT_STEERING][0])},getDuration:function(W){let oe;return oe=W&&W.hasOwnProperty(De.default.MEDIA_PRESENTATION_DURATION)?W.mediaPresentationDuration:W&&W.type==="dynamic"?Number.POSITIVE_INFINITY:Number.MAX_SAFE_INTEGER||Number.MAX_VALUE,oe},getEssentialProperties:Se,getEventStreamForAdaptationSet:function(W,oe,ve){let de,V,ce;return W&&W.Period&&oe&&oe.period&&z(oe.period.index)&&(V=W.Period[oe.period.index],V&&V.AdaptationSet&&z(oe.index)&&(ce=V.AdaptationSet[oe.index],ce&&(de=ce.InbandEventStream))),Ce(de,null,ve)},getEventStreamForRepresentation:function(W,oe,ve){let de,V,ce,se;return W&&W.Period&&oe&&oe.adaptation&&oe.adaptation.period&&z(oe.adaptation.period.index)&&(V=W.Period[oe.adaptation.period.index],V&&V.AdaptationSet&&z(oe.adaptation.index)&&(ce=V.AdaptationSet[oe.adaptation.index],ce&&ce.Representation&&z(oe.index)&&(se=ce.Representation[oe.index],se&&(de=se.InbandEventStream)))),Ce(de,oe,ve)},getEventsForPeriod:function(W){const oe=W&&W.mpd&&W.mpd.manifest?W.mpd.manifest:null,ve=oe?oe.Period:null,de=ve&&W&&z(W.index)?ve[W.index].EventStream:null,V=[];let ce,se;if(de)for(ce=0;ce<de.length;ce++){const Ae=new Ol;if(Ae.period=W,Ae.timescale=1,!de[ce].hasOwnProperty(p.default.SCHEME_ID_URI))throw new Error("Invalid EventStream. SchemeIdUri has to be set");for(Ae.schemeIdUri=de[ce][p.default.SCHEME_ID_URI],de[ce].hasOwnProperty(De.default.TIMESCALE)&&(Ae.timescale=de[ce][De.default.TIMESCALE]),de[ce].hasOwnProperty(De.default.VALUE)&&(Ae.value=de[ce][De.default.VALUE]),de[ce].hasOwnProperty(De.default.PRESENTATION_TIME_OFFSET)&&(Ae.presentationTimeOffset=de[ce][De.default.PRESENTATION_TIME_OFFSET]),se=0;de[ce].Event&&se<de[ce].Event.length;se++){const Re=de[ce].Event[se],Le=new si;Le.presentationTime=0,Le.eventStream=Ae,Re.hasOwnProperty(De.default.PRESENTATION_TIME)&&(Le.presentationTime=Re.presentationTime);const je=Ae.presentationTimeOffset?Ae.presentationTimeOffset/Ae.timescale:0;Le.calculatedPresentationTime=Le.presentationTime/Ae.timescale+W.start-je,Re.hasOwnProperty(De.default.DURATION)&&(Le.duration=Re.duration/Ae.timescale),Re.hasOwnProperty(De.default.ID)?Le.id=parseInt(Re.id):Le.id=null,Re.Signal&&Re.Signal.Binary?Le.messageData=R.decodeArray(Re.Signal.Binary.toString()):Le.messageData=Re.messageData||Re.__cdata||Re.__text,V.push(Le)}}return V},getFramerate:fe,getId:function(W){return W&&W[De.default.ID]||null},getIndexForAdaptation:function(W,oe,ve){if(!W)return-1;const de=C(oe,ve);for(let V=0;V<de.length;V++)if((0,on.default)(I).getInstance().areEqual(de[V],W))return V;return-1},getIsDynamic:ae,getIsFragmented:M,getIsText:q,getIsTypeOf:O,getLabelsForAdaptation:function(W){if(!W||!W.Label)return[];const oe=[];for(let ve=0;ve<W.Label.length;ve++)oe.push({lang:W.Label[ve].lang,text:W.Label[ve].__text||W.Label[ve]});return oe},getLanguageForAdaptation:function(W){let oe="";return W&&W.hasOwnProperty(De.default.LANG)&&(oe=W.lang),oe},getLocation:function(W){return W&&W.hasOwnProperty(De.default.LOCATION)?W[De.default.LOCATION].map(oe=>{const ve=oe.__text||oe,de=oe.hasOwnProperty(De.default.SERVICE_LOCATION)?oe[De.default.SERVICE_LOCATION]:null;return new qo(ve,de)}):[]},getMainAdaptationSetForPreselection:le,getCommonRepresentationForPreselection:function(W,oe){if(W&&Array.isArray(oe))return le(W,oe).Representation[0]},getManifestUpdatePeriod:function(W,oe=0){let ve=NaN;return W&&W.hasOwnProperty(De.default.MINIMUM_UPDATE_PERIOD)&&(ve=W.minimumUpdatePeriod),isNaN(ve)?ve:Math.max(ve-oe,1)},getMimeType:function(W){return W&&W.Representation&&W.Representation.length>0?W.Representation[0].mimeType:null},getMpd:function(W){const oe=new Ml;return W&&(oe.manifest=W,W.hasOwnProperty(De.default.AVAILABILITY_START_TIME)?oe.availabilityStartTime=new Date(W.availabilityStartTime.getTime()):W.loadedTime&&(oe.availabilityStartTime=new Date(W.loadedTime.getTime())),W.hasOwnProperty(De.default.AVAILABILITY_END_TIME)&&(oe.availabilityEndTime=new Date(W.availabilityEndTime.getTime())),W.hasOwnProperty(De.default.MINIMUM_UPDATE_PERIOD)&&(oe.minimumUpdatePeriod=W.minimumUpdatePeriod),W.hasOwnProperty(De.default.MEDIA_PRESENTATION_DURATION)&&(oe.mediaPresentationDuration=W.mediaPresentationDuration),W.hasOwnProperty(De.default.SUGGESTED_PRESENTATION_DELAY)&&(oe.suggestedPresentationDelay=W.suggestedPresentationDelay),W.hasOwnProperty(De.default.TIMESHIFT_BUFFER_DEPTH)&&(oe.timeShiftBufferDepth=W.timeShiftBufferDepth),W.hasOwnProperty(De.default.MAX_SEGMENT_DURATION)&&(oe.maxSegmentDuration=W.maxSegmentDuration),W.hasOwnProperty(De.default.PUBLISH_TIME)&&(oe.publishTime=new Date(W.publishTime))),oe},getPatchLocation:function(W){return W&&W.hasOwnProperty(De.default.PATCH_LOCATION)?W[De.default.PATCH_LOCATION].map(oe=>{const ve=oe.__text||oe,de=oe.hasOwnProperty(De.default.SERVICE_LOCATION)?oe[De.default.SERVICE_LOCATION]:null;let V=oe.hasOwnProperty(De.default.TTL)?1e3*parseFloat(oe[De.default.TTL]):NaN;return new zu(ve,de,V)}):[]},getPreselectionIsTypeOf:function(W,oe,ve){if(!W)throw new Error("preselection is not defined");if(!oe)throw new Error("adaptations is not defined");if(!ve)throw new Error("type is not defined");const de=le(W,oe);return!!de&&O(de,ve)},getPreselectionsForPeriod:function(W){const oe=W&&z(W.index)?W.mpd.manifest.Period[W.index]:null,ve=[];let de,V,ce;if(oe&&oe.Preselection)for(ce=0;ce<oe.Preselection.length;ce++){V=oe.Preselection[ce],de=new Ta;const se=ye(V,oe.AdaptationSet);se.every(Ae=>!!Ae)&&se.length===1?(V.hasOwnProperty(De.default.ID)&&(de.id=V.id),de.index=ce,de.period=W,V.hasOwnProperty(De.default.TAG)&&(de.tag=V.tag),V.hasOwnProperty(De.default.PRESELECTION_COMPONENTS)?de.preselectionComponents=se:b.warn("Preselection (index: "+de.index+") missing component(s)"),V.hasOwnProperty(De.default.ORDER)&&(de.order=V.order),de.type=te(se[0]),ve.push(de)):b.warn("Preselection removed because we don't support multi-representation preselections or not all components available.")}return ve},getProducerReferenceTimesForAdaptation:function(W){const oe=W&&W.hasOwnProperty(De.default.PRODUCER_REFERENCE_TIME)?W[De.default.PRODUCER_REFERENCE_TIME]:[];(W&&W.hasOwnProperty(De.default.REPRESENTATION)?W[De.default.REPRESENTATION]:[]).forEach(de=>{de.hasOwnProperty(De.default.PRODUCER_REFERENCE_TIME)&&oe.push(...de[De.default.PRODUCER_REFERENCE_TIME])});const ve=[];return oe.forEach(de=>{const V=new rn;de.hasOwnProperty(De.default.ID)&&(V[De.default.ID]=parseInt(de[De.default.ID]),de.hasOwnProperty(De.default.WALL_CLOCK_TIME)&&(V[De.default.WALL_CLOCK_TIME]=de[De.default.WALL_CLOCK_TIME],de.hasOwnProperty(De.default.PRESENTATION_TIME)&&(V[De.default.PRESENTATION_TIME]=de[De.default.PRESENTATION_TIME],de.hasOwnProperty(De.default.INBAND)&&(V[De.default.INBAND]=de[De.default.INBAND]!=="false"),de.hasOwnProperty(De.default.TYPE)&&(V[De.default.TYPE]=de[De.default.TYPE]),ve.push(V))))}),ve},getPublishTime:function(W){return W&&W.hasOwnProperty(De.default.PUBLISH_TIME)?new Date(W[De.default.PUBLISH_TIME]):null},getRealPeriodForIndex:function(W,oe){const ve=P(oe);return ve.length>0&&z(W)?ve[W]:null},getRealPeriods:P,getRegularPeriods:function(W){const oe=!!W&&ae(W.manifest),ve=[];let de,V,ce=null,se=null,Ae=null,Re=null;for(V=0,de=W&&W.manifest&&W.manifest.Period?W.manifest.Period.length:0;V<de;V++)se=W.manifest.Period[V],se.hasOwnProperty(De.default.START)?(Re=new Ma,Re.start=se.start):ce!==null&&ce.hasOwnProperty(De.default.DURATION)&&Ae!==null?(Re=new Ma,Re.start=parseFloat((Ae.start+Ae.duration).toFixed(5))):V!==0||oe||(Re=new Ma,Re.start=0),Ae!==null&&isNaN(Ae.duration)&&(Re!==null?Ae.duration=parseFloat((Re.start-Ae.start).toFixed(5)):b.warn("First period duration could not be calculated because lack of start and duration period properties. This will cause timing issues during playback")),Re!==null&&(Re.id=we(se,V),Re.index=V,Re.mpd=W,Re.isEncrypted=H(se),se.hasOwnProperty(De.default.DURATION)&&(Re.duration=se.duration),Ae&&(Ae.nextPeriodId=Re.id),ve.push(Re),ce=se,Ae=Re),se=null,Re=null;return ve.length===0||Ae!==null&&isNaN(Ae.duration)&&(Ae.duration=parseFloat((function(Le){(function(){if(!_||!_.hasOwnProperty("error"))throw new Error(p.default.MISSING_CONFIG_ERROR)})();const je=ae(Le.mpd.manifest);let Ue;return Le.mpd.manifest.mediaPresentationDuration?Ue=Le.mpd.manifest.mediaPresentationDuration:Le.duration?Ue=Le.duration:je?Ue=Number.POSITIVE_INFINITY:_.error(new ln.default(Tn.MANIFEST_ERROR_ID_PARSE_CODE,"Must have @mediaPresentationDuration on MPD or an explicit @duration on the last period.",Le)),Ue}(Ae)-Ae.start).toFixed(5))),ve},getRepresentationCount:function(W){return W&&W.Representation?W.Representation.length:0},getRepresentationFor:function(W,oe){return oe&&oe.Representation&&oe.Representation.length>0&&z(W)?oe.Representation[W]:null},getRepresentationSortFunction:function(){return(W,oe)=>W.bandwidth-oe.bandwidth},getRepresentationsForAdaptation:function(W,oe){const ve=[],de=function(ce){if(ce&&ce.period&&z(ce.period.index)){const se=ce.period.mpd.manifest.Period[ce.period.index];if(se&&se.AdaptationSet&&z(ce.index))return G(se.AdaptationSet[ce.index])}}(W);let V;if(de&&de.Representation){if(W&&W.period&&z(W.period.index)){const ce=Me(W.period.mpd.manifest);ce&&(V=ce[0])}for(let ce=0,se=de.Representation.length;ce<se;++ce){const Ae=D(oe,de.Representation[ce],W,de,V,ce);ve.push(Ae)}}return ve},getRolesForAdaptation:function(W){return W&&W.hasOwnProperty(De.default.ROLE)&&W[De.default.ROLE].length?W[De.default.ROLE].map(oe=>{oe.schemeIdUri===p.default.DASH_ROLE_SCHEME_ID&&oe.value==="Main"&&(oe.value=De.default.MAIN);const ve=new Yr;return ve.init(oe),ve}):[]},getSegmentAlignment:function(W){return!(!W||!W.hasOwnProperty(De.default.SEGMENT_ALIGNMENT))&&W[De.default.SEGMENT_ALIGNMENT]==="true"},getSegmentSequencePropertiesForAdaptationSet:function(W){const oe=[];return W&&(oe.push(...Y(W)),W.Representation&&W.Representation.length&&W.Representation.forEach(ve=>{oe.push(...Y(ve))})),oe},getSelectionPriority:function(W){try{const oe=W&&W.selectionPriority!==void 0?parseInt(W.selectionPriority):1;return isNaN(oe)?1:oe}catch{return 1}},getServiceDescriptions:function(W){const oe=[];if(W&&W.hasOwnProperty(De.default.SERVICE_DESCRIPTION))for(const ve of W.ServiceDescription){let de=null,V=null,ce=null,se=null,Ae=null,Re=null,Le=null,je=null;for(const Ue in ve)if(ve.hasOwnProperty(Ue))if(Ue===De.default.ID)de=ve[Ue];else if(Ue===De.default.SERVICE_DESCRIPTION_SCOPE)V=ve[Ue].schemeIdUri;else if(Ue===De.default.SERVICE_DESCRIPTION_LATENCY)ce={target:parseInt(ve[Ue].target),max:parseInt(ve[Ue].max),min:parseInt(ve[Ue].min),referenceId:parseInt(ve[Ue].referenceId)};else if(Ue===De.default.SERVICE_DESCRIPTION_PLAYBACK_RATE)se={max:parseFloat(ve[Ue].max),min:parseFloat(ve[Ue].min)};else if(Ue===De.default.SERVICE_DESCRIPTION_OPERATING_QUALITY)Ae={mediaType:ve[Ue].mediaType,max:parseInt(ve[Ue].max),min:parseInt(ve[Ue].min),target:parseInt(ve[Ue].target),type:ve[Ue].type,maxQualityDifference:parseInt(ve[Ue].maxQualityDifference)};else if(Ue===De.default.SERVICE_DESCRIPTION_OPERATING_BANDWIDTH)Re={mediaType:ve[Ue].mediaType,max:parseInt(ve[Ue].max),min:parseInt(ve[Ue].min),target:parseInt(ve[Ue].target)};else if(Ue===De.default.CONTENT_STEERING){let at=ve[Ue];at=Array.isArray(at)?at.at(at.length-1):at,Le=Ke(at)}else Ue===De.default.CLIENT_DATA_REPORTING&&(je=Oe(ve[Ue]));oe.push({id:de,schemeIdUri:V,latency:ce,playbackRate:se,operatingQuality:Ae,operatingBandwidth:Re,contentSteering:Le,clientDataReporting:je})}return oe},getSubSegmentAlignment:function(W){return!(!W||!W.hasOwnProperty(De.default.SUB_SEGMENT_ALIGNMENT))&&W[De.default.SUB_SEGMENT_ALIGNMENT]==="true"},getSuggestedPresentationDelay:function(W){return W&&W.hasOwnProperty(De.default.SUGGESTED_PRESENTATION_DELAY)?W.suggestedPresentationDelay:null},getSupplementalProperties:ee,getUTCTimingSources:function(W){const oe=ae(W),ve=!!W&&W.hasOwnProperty(De.default.AVAILABILITY_START_TIME),de=W?W.UTCTiming:null,V=[];return(oe||ve)&&de&&de.forEach(function(ce){const se=new Nr.default;ce.hasOwnProperty(p.default.SCHEME_ID_URI)&&(se.schemeIdUri=ce.schemeIdUri,ce.hasOwnProperty(De.default.VALUE)&&(se.value=ce.value.toString(),V.push(se)))}),V},getViewpointForAdaptation:function(W){return W&&W.hasOwnProperty(De.default.VIEWPOINT)&&W[De.default.VIEWPOINT].length?W[De.default.VIEWPOINT].map(oe=>{const ve=new Yr;return ve.init(oe),ve}):[]},hasProfile:function(W,oe){let ve=!1;return W&&W.profiles&&W.profiles.length>0&&(ve=W.profiles.indexOf(oe)!==-1),ve},isPeriodEncrypted:H,setConfig:function(W){W&&(W.errHandler&&(_=W.errHandler),W.BASE64&&(R=W.BASE64))}},b=(0,u.default)(I).getInstance().getLogger(S),S}mr.__dashjs_factory_name="DashManifestModel";var pr=n.default.getSingletonFactory(mr);const Ar={MANIFEST:"m",AUDIO:"a",VIDEO:"v",MUXED:"av",INIT:"i",CAPTION:"c",TIMED_TEXT:"tt",KEY:"k",OTHER:"o"},gi=Ar,fa="v",Ds="l",mi="d",Go="s";class pi{constructor(b,_){Array.isArray(b)&&(b=b.map(R=>R instanceof pi?R:new pi(R))),this.value=b,this.params=_}}const Pa="Dict";function Xa(S,b,_,R){return new Error(`failed to ${S} "${I=b,Array.isArray(I)?JSON.stringify(I):I instanceof Map?"Map{}":I instanceof Set?"Set{}":typeof I=="object"?JSON.stringify(I):String(I)}" as ${_}`,{cause:R});var I}function ha(S,b,_){return Xa("serialize",S,b,_)}class Pl{constructor(b){this.description=b}}const Qa="Bare Item",zl="Boolean",$o="Byte Sequence",Fl="Integer";function Ho(S){return S<-999999999999999||999999999999999<S}function Fu(S){if(Ho(S))throw ha(S,Fl);return S.toString()}function Ul(S,b){if(S<0)return-Ul(-S,b);const _=Math.pow(10,b);if(Math.abs(S*_%1-.5)<Number.EPSILON){const R=Math.floor(S*_);return(R%2==0?R:R+1)/_}return Math.round(S*_)/_}const ho="Decimal";function kr(S){const b=Ul(S,3);if(Math.floor(Math.abs(b)).toString().length>12)throw ha(S,ho);const _=b.toString();return _.includes(".")?_:`${_}.0`}const na="String",Sa=/[\x00-\x1f\x7f]+/;function ga(S){return S.description||S.toString().slice(7,-1)}const Bl="Token";function Mi(S){const b=ga(S);if(/^([a-zA-Z*])([!#$%&'*+\-.^_`|~\w:/]*)$/.test(b)===!1)throw ha(b,Bl);return b}function Vo(S){switch(typeof S){case"number":if(!Number.isFinite(S))throw ha(S,Qa);return Number.isInteger(S)?Fu(S):kr(S);case"string":return function(b){if(Sa.test(b))throw ha(b,na);return`"${b.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`}(S);case"symbol":return Mi(S);case"boolean":return function(b){if(typeof b!="boolean")throw ha(b,zl);return b?"?1":"?0"}(S);case"object":if(S instanceof Date)return function(b){return`@${Fu(b.getTime()/1e3)}`}(S);if(S instanceof Uint8Array)return function(b){if(ArrayBuffer.isView(b)===!1)throw ha(b,$o);return`:${_=b,btoa(String.fromCharCode(..._))}:`;var _}(S);if(S instanceof Pl)return Mi(S);default:throw ha(S,Qa)}}const qi="Key";function za(S){if(/^[a-z*][a-z0-9\-_.*]*$/.test(S)===!1)throw ha(S,qi);return S}function jl(S){return S==null?"":Object.entries(S).map(([b,_])=>_===!0?`;${za(b)}`:`;${za(b)}=${Vo(_)}`).join("")}function Ko(S){return S instanceof pi?`${Vo(S.value)}${jl(S.params)}`:Vo(S)}function ms(S,b){return function(_,R={whitespace:!0}){if(typeof _!="object"||_==null)throw ha(_,Pa);const I=_ instanceof Map?_.entries():Object.entries(_),w=R!=null&&R.whitespace?" ":"";return Array.from(I).map(([z,O])=>{O instanceof pi==0&&(O=new pi(O));let M=za(z);var q;return O.value===!0?M+=jl(O.params):(M+="=",Array.isArray(O.value)?M+=`(${(q=O).value.map(Ko).join(" ")})${jl(q.params)}`:M+=Ko(O)),M}).join(`,${w}`)}(S,b)}const Uu="event",go=S=>Math.round(S),Bu=(S,b)=>Array.isArray(S)?S.map(_=>Bu(_,b)):S instanceof pi&&typeof S.value=="string"?new pi(Bu(S.value,b),S.params):(b.baseUrl&&(S=function(_,R){const I=new URL(_),w=new URL(R);if(I.origin!==w.origin)return _;const z=I.pathname.split("/").slice(1),O=w.pathname.split("/").slice(1,-1);for(;z[0]===O[0];)z.shift(),O.shift();for(;O.length;)O.shift(),z.unshift("..");return z.join("/")+I.search+I.hash}(S,b.baseUrl)),b.version===1?encodeURIComponent(S):S),mo=S=>100*go(S/100),ju={br:go,d:go,bl:mo,dl:mo,mtp:mo,nor:(S,b)=>{let _=S;return b.version>=2&&(S instanceof pi&&typeof S.value=="string"?_=new pi([S]):typeof S=="string"&&(_=[S])),Bu(_,b)},rtp:mo,tb:go},_d="request",Gi="response",ps=["ab","bg","bl","br","bs","bsd","cdn","cid","cs","df","ec","lab","lb","ltc","msd","mtp","pb","pr","pt","sf","sid","sn","st","sta","tab","tb","tbl","tpb","ts","v"],qu=["e"],ql=/^[a-zA-Z0-9-.]+-[a-zA-Z0-9-.]+$/;function Gu(S){return ql.test(S)}const $u=["d","dl","nor","ot","rtp","su"],Ad=["cmsdd","cmsds","rc","smrt","ttfb","ttfbb","ttlb","url"],Gl=["bl","br","bs","cid","d","dl","mtp","nor","nrr","ot","pr","rtp","sf","sid","st","su","tb","v"];function Hu(S){return Gl.includes(S)||Gu(S)}const Bh={[Gi]:function(S){return ps.includes(S)||$u.includes(S)||Ad.includes(S)||Gu(S)},[Uu]:function(S){return ps.includes(S)||qu.includes(S)||Gu(S)},[_d]:function(S){return ps.includes(S)||$u.includes(S)||Gu(S)}};function jh(S,b={}){const _={};if(S==null||typeof S!="object")return _;const R=b.version||S.v||1,I=b.reportingMode||_d,w=R===1?Hu:Bh[I];let z=Object.keys(S).filter(w);const O=b.filter;typeof O=="function"&&(z=z.filter(O));const M=I===Gi||I===Uu;M&&!z.includes("ts")&&z.push("ts"),R>1&&!z.includes("v")&&z.push("v");const q=Object.assign({},ju,b.formatters),G={version:R,reportingMode:I,baseUrl:b.baseUrl};return z.sort().forEach(C=>{let P=S[C];const U=q[C];if(typeof U=="function"&&(P=U(P,G)),C==="v"){if(R===1)return;P=R}C=="pr"&&P===1||(M&&C==="ts"&&!Number.isFinite(P)&&(P=Date.now()),function(H){return typeof H=="number"?Number.isFinite(H):H!=null&&H!==""&&H!==!1}(P)&&(function(H){return["ot","sf","st","e","sta"].includes(H)}(C)&&typeof P=="string"&&(P=new Pl(P)),_[C]=P))}),_}const Fa="CMCD-Object",ni="CMCD-Request",Za="CMCD-Session",ys="CMCD-Status",Qp={br:Fa,ab:Fa,d:Fa,ot:Fa,tb:Fa,tpb:Fa,lb:Fa,tab:Fa,lab:Fa,url:Fa,pb:ni,bl:ni,tbl:ni,dl:ni,ltc:ni,mtp:ni,nor:ni,nrr:ni,rc:ni,sn:ni,sta:ni,su:ni,ttfb:ni,ttfbb:ni,ttlb:ni,cmsdd:ni,cmsds:ni,smrt:ni,df:ni,cs:ni,ts:ni,cid:Za,pr:Za,sf:Za,sid:Za,st:Za,v:Za,msd:Za,bs:ys,bsd:ys,cdn:ys,rtp:ys,bg:ys,pt:ys,ec:ys,e:ys},Rd={OBJECT:Fa,REQUEST:ni,SESSION:Za,STATUS:ys},qh="segment";function Gh(){let S,b,_,R,I,w,z,O,M,q,G,C,P,U,H,J,re=this.context,ae=(0,y.default)(re).getInstance(),fe=(0,d.default)(re).getInstance(),he=(0,u.default)(re).getInstance();function ge(){R={pr:1,nor:null,st:null,sf:null,sid:`${gt.default.generateUuid()}`,cid:null},P={},C={},U={},G=void 0,H=void 0,J=!1,D()}function Se(){D()}function ee(){H||(H=Date.now())}function Y(){H&&!R.msd&&(R.msd=Date.now()-H)}function D(){if(!z)return;const V=z.getStreamController();if(!V||typeof V.getActiveStream!="function")return;const ce=V.getActiveStream();ce&&(q=ce.getStreamProcessors())}function te(V){try{const ce=le(),se=ce.version?ce.keys:fe.get().streaming.cmcd.enabledKeys;return Object.keys(V).filter(Ae=>se.includes(Ae)).reduce((Ae,Re)=>(Ae[Re]=V[Re],Ae),{})}catch{return V}}function ye(){const V=le();return function(ce){if(Object.keys(ce).length){if(parseInt(ce.version)!==1)return _.error("version parameter must be defined in 1."),!1;if(!ce.keys)return _.error("keys parameter must be defined."),!1}const se=ce.version,Ae=fe.get().streaming.cmcd&&fe.get().streaming.cmcd.enabled;return se||Ae}(V)&&function(ce){let se=fe.get().streaming.cmcd.includeInRequests;ce.version&&(se=ce.includeInRequests??[qh]);const Ae=p.default.CMCD_AVAILABLE_REQUESTS,Re=se.filter(Le=>!Ae.includes(Le));return Re.length===se.length?(_.error("None of the request types are supported."),!1):(Re.map(Le=>{_.warn(`request type ${Le} is not supported.`)}),!0)}(V)&&function(ce){const se=p.default.CMCD_AVAILABLE_KEYS,Ae=p.default.CMCD_V2_AVAILABLE_KEYS,Re=ce.version?ce.keys:fe.get().streaming.cmcd.enabledKeys,Le=fe.get().streaming.cmcd.version,je=Re.filter(Ue=>!(se.includes(Ue)||Le===2&&Ae.includes(Ue)));return je.length===Re.length&&Re.length>0?(_.error(`None of the keys are implemented for CMCD version ${Le}.`),!1):(je.map(Ue=>{_.warn(`key parameter ${Ue} is not implemented for CMCD version ${Le}.`)}),!0)}(V)}function le(){let V={};if(O){const ce=O.getServiceDescriptionSettings();fe.get().streaming.cmcd.applyParametersFromMpd&&ce.clientDataReporting&&ce.clientDataReporting.cmcdParameters&&(V=ce.clientDataReporting.cmcdParameters)}return V}function we(V){try{let se=null;if(V.type,(ce=V.mediaType)!==p.default.VIDEO&&ce!==p.default.AUDIO||G&&G!=p.default.AUDIO||(G=ce),function(Ae){const Re=le();let Le=fe.get().streaming.cmcd.includeInRequests;Re.version&&(Le=Re.includeInRequests?Re.includeInRequests:[qh]);const je={[Te.HTTPRequest.INIT_SEGMENT_TYPE]:"segment",[Te.HTTPRequest.MEDIA_SEGMENT_TYPE]:"segment",[Te.HTTPRequest.XLINK_EXPANSION_TYPE]:"xlink",[Te.HTTPRequest.MPD_TYPE]:"mpd",[Te.HTTPRequest.CONTENT_STEERING_TYPE]:"steering",[Te.HTTPRequest.OTHER_TYPE]:"other"};return Le.some(Ue=>je[Ae]===Ue)}(V.type)){if(V.type===Te.HTTPRequest.MPD_TYPE)return function(){const Ae=Ke();return Ae.ot=gi.MANIFEST,Ae}();if(V.type===Te.HTTPRequest.MEDIA_SEGMENT_TYPE)return Me(V.mediaType),Ce(V,V.mediaType);if(V.type===Te.HTTPRequest.INIT_SEGMENT_TYPE)return function(){const Ae=Ke();return Ae.ot=gi.INIT,Ae.su=!0,Ae}();if(V.type===Te.HTTPRequest.OTHER_TYPE||V.type===Te.HTTPRequest.XLINK_EXPANSION_TYPE)return function(){const Ae=Ke();return Ae.ot=gi.OTHER,Ae}();if(V.type===Te.HTTPRequest.LICENSE)return function(){const Ae=Ke();return Ae.ot=gi.KEY,Ae}();if(V.type===Te.HTTPRequest.CONTENT_STEERING_TYPE)return function(Ae){const Re=G?Ce(Ae,G):Ke();return Re.ot=gi.OTHER,Re}(V)}return se}catch{return null}var ce}function Ce(V,ce){var Ut;Me(ce);const se=Ke(),Ae=function(dn){try{return parseInt(dn.bandwidth/1e3)}catch{return null}}(V),Re=function(dn){try{return isNaN(dn.duration)?NaN:Math.round(1e3*dn.duration)}catch{return null}}(V),Le=function(dn){try{return 100*parseInt(M.getSafeAverageThroughput(dn)/100)}catch{return null}}(ce),je=function(dn){try{const An=R.pr,Gn=w.getCurrentBufferLevel(dn);return isNaN(An)||isNaN(Gn)?null:100*parseInt(Gn/An*10)}catch{return null}}(ce),Ue=Oe(ce),at=function(dn){try{const An=I.getPossibleVoRepresentationsFilteredBySettings(dn).map(Gn=>Gn.bitrateInKbit);return Math.max(...An)}catch{return null}}((Ut=V.representation)==null?void 0:Ut.mediaInfo),Tt=R.pr,zt=function(dn){if(q&&q.length!==0){for(let An of q)if(An.getType()===dn)return An.probeNextRequest()}}(ce);let Yt;ce===p.default.VIDEO&&(Yt=gi.VIDEO),ce===p.default.AUDIO&&(Yt=gi.AUDIO),V.mediaType===p.default.ENHANCEMENT&&(Yt=gi.OTHER),ce===p.default.TEXT&&(Yt=V.representation.mediaInfo.mimeType==="application/mp4"?gi.TIMED_TEXT:gi.CAPTION);let pn=fe.get().streaming.cmcd.rtp;return pn||(pn=function(dn){try{let An=z.getPlaybackRate();An||(An=1);let{bandwidth:Gn,mediaType:Yn,representation:Bn,duration:Nn}=dn;if(!Bn.mediaInfo)return NaN;let it=Oe(Yn);it===0&&(it=500);let Bt=Gn*Nn/1e3/(it/An/1e3),It=fe.get().streaming.cmcd.rtpSafetyFactor&&!isNaN(fe.get().streaming.cmcd.rtpSafetyFactor)?fe.get().streaming.cmcd.rtpSafetyFactor:5;return 100*(parseInt(Bt*It/100)+1)}catch{return NaN}}(V)),isNaN(pn)||(se.rtp=pn),zt&&(V.url!==zt.url?se.nor=encodeURIComponent(gt.default.getRelativeUrl(V.url,zt.url)):zt.range&&(se.nrr=zt.range)),Ae&&(se.br=Ae),Yt&&(se.ot=Yt),isNaN(Re)||(se.d=Re),isNaN(Le)||(se.mtp=Le),isNaN(je)||(se.dl=je),isNaN(Ue)||(se.bl=Ue),isNaN(at)||(se.tb=at),isNaN(Tt)||Tt===1||(se.pr=Tt),P[ce]&&(se.bs=!0,P[ce]=!1),!C[ce]&&U[ce]||(se.su=!0,C[ce]=!1,U[ce]=!0),se}function Me(V){U.hasOwnProperty(V)||(U[V]=!1),C.hasOwnProperty(V)||(C[V]=!1),P.hasOwnProperty(V)||(P[V]=!1)}function Ke(){const V=le(),ce={};let se=fe.get().streaming.cmcd.cid?fe.get().streaming.cmcd.cid:R.cid;if(se=V.contentID?V.contentID:se,ce.v=fe.get().streaming.cmcd.version??1,ce.sid=fe.get().streaming.cmcd.sid?fe.get().streaming.cmcd.sid:R.sid,ce.sid=V.sessionID?V.sessionID:ce.sid,ce.sid=`${ce.sid}`,se&&(ce.cid=`${se}`),isNaN(R.pr)||R.pr===1||R.pr===null||(ce.pr=R.pr),R.st&&(ce.st=R.st),R.sf&&(ce.sf=R.sf),ce.v===2){let Ae=1e3*z.getCurrentLiveLatency();isNaN(Ae)||(ce.ltc=Ae);const Re=R.msd;J||isNaN(Re)||(ce.msd=Re,J=!0)}return ce}function Oe(V){try{const ce=w.getCurrentBufferLevel(V);return isNaN(ce)?null:100*parseInt(10*ce)}catch{return null}}function W(V){try{R.pr=V.playbackRate}catch{}}function oe(V){try{const ce=S.getIsDynamic(V.data)?Ds:fa,se=V.protocol&&V.protocol==="MSS"?Go:mi;R.st=`${ce}`,R.sf=`${se}`}catch{}}function ve(V){try{V.state&&V.mediaType&&V.state===T.default.BUFFER_EMPTY&&(P[V.mediaType]||(P[V.mediaType]=!0),C[V.mediaType]||(C[V.mediaType]=!0))}catch{}}function de(){for(let V in P)P.hasOwnProperty(V)&&(P[V]=!0);for(let V in C)C.hasOwnProperty(V)&&(C[V]=!0)}return b={getCmcdData:we,getQueryParameter:function(V){try{if(ye()){const ce=we(V),se=function(Ae,Re={}){return Ae?ms(jh(Ae,Re),{whitespace:!1}):""}(te(ce));return ae.trigger(br.default.CMCD_DATA_GENERATED,{url:V.url,mediaType:V.mediaType,cmcdData:ce,cmcdString:se}),{key:"CMCD",value:se}}return null}catch{return null}},getHeaderParameters:function(V){try{if(ye()){const ce=we(V),se=function(Ae,Re={}){const Le={};if(!Ae)return Le;const je=function(Ue,at){const Tt={};if(!Ue)return Tt;const zt=Object.keys(Ue),Yt=at?(pn=at,Object.keys(pn).reduce((Ut,dn)=>{var An;return(An=pn[dn])===null||An===void 0||An.forEach(Gn=>Ut[Gn]=dn),Ut},{})):{};var pn;return zt.reduce((Ut,dn)=>{var An;const Gn=Qp[dn]||Yt[dn]||Rd.REQUEST;return((An=Ut[Gn])!==null&&An!==void 0?An:Ut[Gn]={})[dn]=Ue[dn],Ut},Tt)}(jh(Ae,Re),Re==null?void 0:Re.customHeaderMap);return Object.entries(je).reduce((Ue,[at,Tt])=>{const zt=ms(Tt,{whitespace:!1});return zt&&(Ue[at]=zt),Ue},Le)}(te(ce),fe.get().streaming.cmcd.version===1?{}:{customHeaderMap:{[Rd.REQUEST]:["ltc"],[Rd.SESSION]:["msd"]}});return ae.trigger(br.default.CMCD_DATA_GENERATED,{url:V.url,mediaType:V.mediaType,cmcdData:ce,headers:se}),se}return null}catch{return null}},getCmcdParametersFromManifest:le,setConfig:function(V){V&&(V.abrController&&(I=V.abrController),V.dashMetrics&&(w=V.dashMetrics),V.throughputController&&(M=V.throughputController),V.playbackController&&(z=V.playbackController),V.serviceDescriptionController&&(O=V.serviceDescriptionController))},reset:function(){ae.off(T.default.PLAYBACK_RATE_CHANGED,W,this),ae.off(T.default.MANIFEST_LOADED,oe,this),ae.off(T.default.BUFFER_LEVEL_STATE_CHANGED,ve,b),ae.off(T.default.PLAYBACK_SEEKED,de,b),ae.off(T.default.PLAYBACK_STARTED,ee,b),ae.off(T.default.PLAYBACK_PLAYING,Y,b),ge()},initialize:function(V){ae.on(T.default.PLAYBACK_RATE_CHANGED,W,b),ae.on(T.default.MANIFEST_LOADED,oe,b),ae.on(T.default.BUFFER_LEVEL_STATE_CHANGED,ve,b),ae.on(T.default.PLAYBACK_SEEKED,de,b),ae.on(T.default.PERIOD_SWITCH_COMPLETED,Se,b),V?ae.on(T.default.MANIFEST_LOADING_STARTED,ee,b):ae.on(T.default.PLAYBACK_STARTED,ee,b),ae.on(T.default.PLAYBACK_PLAYING,Y,b)},isCmcdEnabled:ye},S=pr(re).getInstance(),_=he.getLogger(b),ge(),b}Gh.__dashjs_factory_name="CmcdModel";var xd=n.default.getSingletonFactory(Gh);const $l="CMSD-Dynamic",$h="CMSD-Static",Vu=Ar;function Br(S,b,_){return Xa("parse",S,b,_)}const Yo="List";function Pi(S,b){return{value:S,src:b}}const Id="Inner List",Hh="Date",wd=`${Fl} or ${ho}`;function Vh(S){let b,_=1,R="";const I=Br(S,wd);if(S[0]==="-"&&(_=-1,S=S.substring(1)),S.length<=0)throw I;const w=/^(\d+)?/g,z=w.exec(S);if(z[0].length===0)throw I;if(R+=z[1],(S=S.substring(w.lastIndex))[0]==="."){if(R.length>12)throw I;const O=/^(\.\d+)?/g,M=O.exec(S);if(S=S.substring(O.lastIndex),M[0].length===0||M[1].length>4||(R+=M[1],R.length>16))throw I;b=parseFloat(R)*_}else{if(R.length>15)throw I;if(b=parseInt(R)*_,Ho(b))throw Br(R,wd)}return Pi(b,S)}function Kh(S,b){const _=S[0];if(_==='"')return function(R){let I="",w=0;if(R[w]!=='"')throw Br(R,na);for(w++;R.length>w;){if(R[w]==="\\"){if(R.length<=w+1||(w++,R[w]!=='"'&&R[w]!=="\\"))throw Br(R,na);I+=R[w]}else{if(R[w]==='"')return Pi(I,R.substring(++w));if(Sa.test(R[w]))throw Br(R,na);I+=R[w]}w++}throw Br(R,na)}(S);if(/^[-0-9]/.test(_))return Vh(S);if(_==="?")return function(R){let I=0;if(R[I]!=="?")throw Br(R,zl);if(I++,R[I]==="1")return Pi(!0,R.substring(++I));if(R[I]==="0")return Pi(!1,R.substring(++I));throw Br(R,zl)}(S);if(_===":")return function(R){if(R[0]!==":"||(R=R.substring(1)).includes(":")===!1)throw Br(R,$o);const I=/(^.*?)(:)/g,w=I.exec(R)[1];return R=R.substring(I.lastIndex),Pi(new Uint8Array([...atob(w)].map(z=>z.charCodeAt(0))),R)}(S);if(/^[a-zA-Z*]/.test(_))return function(R,I){if(/^[a-zA-Z*]$/.test(R[0])===!1)throw Br(R,Bl);const w=/^([!#$%&'*+\-.^_`|~\w:/]+)/g,z=w.exec(R)[1];return R=R.substring(w.lastIndex),Pi(Symbol.for(z),R)}(S);if(_==="@")return function(R){let I=0;if(R[I]!=="@")throw Br(R,Hh);I++;const w=Vh(R.substring(I));if(Number.isInteger(w.value)===!1)throw Br(R,Hh);return Pi(new Date(1e3*w.value),w.src)}(S);throw Br(S,Qa)}function Yh(S){let b=0;if(/^[a-z*]$/.test(S[b])===!1)throw Br(S,qi);let _="";for(;S.length>b;){if(/^[a-z0-9_\-.*]$/.test(S[b])===!1)return Pi(_,S.substring(b));_+=S[b],b++}return Pi(_,S.substring(b))}function kd(S,b){let _;for(;S.length>0&&S[0]===";";){const R=Yh(S=S.substring(1).trim()),I=R.value;let w=!0;if((S=R.src)[0]==="="){const z=Kh(S=S.substring(1));w=z.value,S=z.src}_==null&&(_={}),_[I]=w}return Pi(_,S)}function Wh(S,b){const _=Kh(S),R=kd(S=_.src);return S=R.src,Pi(new pi(_.value,R.value),S)}function Xh(S,b){return S[0]==="("?function(_,R){if(_[0]!=="(")throw Br(_,Id);_=_.substring(1);const I=[];for(;_.length>0;){if((_=_.trim())[0]===")"){const z=kd(_=_.substring(1));return Pi(new pi(I,z.value),z.src)}const w=Wh(_);if(I.push(w.value),(_=w.src)[0]!==" "&&_[0]!==")")throw Br(_,Id)}throw Br(_,Id)}(S):Wh(S)}const Zp=$h.toLowerCase(),Jp=$l.toLowerCase(),ey=["mb","st","sf","v"],Hl="stream",Vl={video:Vu.VIDEO,audio:Vu.AUDIO,text:Vu.TIMED_TEXT,stream:Hl};function Qh(){const S=this.context,b=(0,y.default)(S).getInstance();let _,R,I,w;function z(){I={},w={}}function O(P){P&&Object.keys(P).forEach(U=>{ey.includes(U)||delete P[U]})}function M(P){try{return(U=P)?Object.entries(function(H,J){try{const{src:re,value:ae}=function(fe,he){const ge={};for(;fe.length>0;){let Se;const ee=Yh(fe),Y=ee.value;if((fe=ee.src)[0]==="="){const D=Xh(fe.substring(1),he);Se=D.value,fe=D.src}else{const D=kd(fe,he);Se=new pi(!0,D.value),fe=D.src}if(ge[Y]=Se,(fe=fe.trim()).length===0)return Pi(ge,fe);if(fe[0]!==","||(fe=fe.substring(1).trim()).length===0||fe[0]===",")throw Br(fe,Pa)}return Pi(ge,fe)}(H.trim(),J);if(re!=="")throw Br(re,Pa);return ae}catch(re){throw Br(H,Pa,re)}}(U)).reduce((H,[J,re])=>{const{value:ae}=re;return H[J]=typeof ae=="symbol"?ga(ae):ae,H},{}):{}}catch(H){R.error("Failed to parse CMSD-Static response header value:",H)}var U}function q(P){try{const H=(U=P)?function(re,ae){try{const{src:fe,value:he}=function(ge,Se){const ee=[];for(;ge.length>0;){const Y=Xh(ge,Se);if(ee.push(Y.value),(ge=Y.src.trim()).length===0)return Pi(ee,ge);if(ge[0]!==","||(ge=ge.substring(1).trim()).length===0||ge[0]===",")throw Br(ge,Yo)}return Pi(ee,ge)}(re.trim(),ae);if(fe!=="")throw Br(fe,Yo);return he}catch(fe){throw Br(re,Yo,fe)}}(U):[],J=H[H.length-1];return(J==null?void 0:J.params)||{}}catch(H){return R.error("Failed to parse CMSD-Dynamic response header value:",H),{}}var U}function G(P){return Vl[P]||Vu.OTHER}function C(P,U,H){const J=P===$h?I:w,re=J[U]||{},ae=J[Hl]||{};return re[H]||ae[H]}return _={setConfig:function(){},initialize:function(){},reset:function(){z()},parseResponseHeaders:function(P,U){let H=null,J=null;for(const ae in P){const fe=P[ae];switch(ae){case Zp:H=M(fe),b.trigger(m.default.CMSD_STATIC_HEADER,H);break;case Jp:J||(J=q(fe))}}let re=Hl;return H&&H.ot?re=H.ot:U&&(re=G(U)),O(I[re]),O(w[re]),H&&(I[re]=Object.assign(I[re]||{},H)),J&&(w[re]=Object.assign(w[re]||{},J)),{static:H,dynamic:J}},getMaxBitrate:function(P){let U=G(P);return C($l,U,"mb")||-1},getEstimatedThroughput:function(P){let U=G(P);return C($l,U,"etp")||null},getResponseDelay:function(P){let U=G(P);return C($l,U,"rd")||null},getRoundTripTime:function(P){let U=G(P);return C($l,U,"rtt")||null}},R=(0,u.default)(S).getInstance().getLogger(_),z(),_}Qh.__dashjs_factory_name="CmsdModel";var Cd=n.default.getSingletonFactory(Qh),Ku=t(1926);function Dd(){let S,b;function _(){b={}}return S={reset:function(){_()},processResponseHeaders:function(R){if(!(R&&R.headers&&R.request&&R.request.url))return;const I=R.headers[p.default.COMMON_ACCESS_TOKEN_HEADER];if(I){const w=gt.default.getHostFromUrl(R.request.url);w&&(b[w]=I)}},getCommonAccessTokenForUrl:function(R){if(!R)return null;const I=gt.default.getHostFromUrl(R);return I?b[I]?b[I]:null:void 0}},_(),S}Dd.__dashjs_factory_name="CommonAccessTokenController";var Zh=n.default.getSingletonFactory(Dd);function Ld(){let S,b;return S={setConfig:function(_){_&&_.serviceDescriptionController&&(b=_.serviceDescriptionController)},isAdaptationsIncluded:function(_){var I;const{adaptationSetsArray:R}=((I=b==null?void 0:b.getServiceDescriptionSettings())==null?void 0:I.clientDataReporting)??{};return!R||(R==null?void 0:R.length)===0||R.includes(_)},isServiceLocationIncluded:function(_,R){var w;if(_===Te.HTTPRequest.CONTENT_STEERING_TYPE)return!0;const{serviceLocationsArray:I}=((w=b==null?void 0:b.getServiceDescriptionSettings())==null?void 0:w.clientDataReporting)??{};return!I||(I==null?void 0:I.length)===0||I.includes(R)}},S}Ld.__dashjs_factory_name="ClientDataReportingController";var po=n.default.getSingletonFactory(Ld);function Jh(){let S,b,_;const R=this.context;function I(w,z,O,M,q){var C;const G=function(P,U){let H=[];return H=U===De.default.PERIOD?P[De.default.SUPPLEMENTAL_PROPERTY]||[]:[...P[De.default.ESSENTIAL_PROPERTY]||[],...P[De.default.SUPPLEMENTAL_PROPERTY]||[]],H.find(J=>J.schemeIdUri===p.default.URL_QUERY_INFO_SCHEME&&J.UrlQueryInfo||J.schemeIdUri===p.default.EXT_URL_QUERY_INFO_SCHEME&&J.ExtUrlQueryInfo)}(z,q);(function(P,U,H,J){H.initialQueryString="";let re="";const ae=(P==null?void 0:P.ExtUrlQueryInfo)||(P==null?void 0:P.UrlQueryInfo);re=ae&&ae.queryString?U&&U.length>0?U+"&"+ae.queryString:ae.queryString:U,(ae==null?void 0:ae.useMPDUrlQuery)==="true"&&J&&(re=re?re+"&"+J:J),H.initialQueryString=re})(G,M.initialQueryString,w,O),function(P,U,H){var re,ae;if(!P)return void(U.finalQueryString=H);const J=((re=P==null?void 0:P.ExtUrlQueryInfo)==null?void 0:re.queryTemplate)||((ae=P==null?void 0:P.UrlQueryInfo)==null?void 0:ae.queryTemplate)||"";U.finalQueryString=J===De.default.QUERY_PART?U==null?void 0:U.initialQueryString:""}(G,w,M.finalQueryString),w.sameOriginOnly=(C=G==null?void 0:G.ExtUrlQueryInfo)==null?void 0:C.sameOriginOnly,w.queryParams=gt.default.parseQueryParams(w==null?void 0:w.finalQueryString),w.includeInRequests=function(P,U){var H;return P?(H=P.ExtUrlQueryInfo)!=null&&H.includeInRequests?P.ExtUrlQueryInfo.includeInRequests.split(" "):[De.default.SEGMENT_TYPE]:U}(G,M.includeInRequests)}return b=(0,u.default)(R).getInstance().getLogger(S),S={getFinalQueryString:function(w){try{if(!_)return null;if(w.type===Te.HTTPRequest.MEDIA_SEGMENT_TYPE||w.type===Te.HTTPRequest.INIT_SEGMENT_TYPE){const z=w.representation;if(!z)return null;const O=z.adaptation,M=O.period,q=_.period[M.index].adaptation[O.index].representation[z.index],G=new URL(w.url),C=!q.sameOriginOnly||_.origin===G.origin;if(q.includeInRequests.includes(De.default.SEGMENT_TYPE)&&C)return q.queryParams}else if(w.type===Te.HTTPRequest.MPD_TYPE){if([De.default.MPD_TYPE,De.default.MPD_PATCH_TYPE].some(z=>_.includeInRequests.includes(z)))return _.queryParams}else if(w.type===Te.HTTPRequest.CONTENT_STEERING_TYPE&&_.includeInRequests.includes(De.default.STEERING_TYPE))return _.queryParams}catch(z){return b.error(z),null}},createFinalQueryStrings:function(w){_={origin:new URL(w.url).origin,period:[]};const z=w.url.split("?")[1];I(_,w,z,{initialQueryString:"",includeInRequests:[]},De.default.MPD),w.Period.forEach(O=>{const M={adaptation:[]};I(M,O,z,_,De.default.PERIOD),O.AdaptationSet.forEach(q=>{const G={representation:[]};I(G,q,z,M,De.default.ADAPTATION_SET),q.Representation.forEach(C=>{const P={};I(P,C,z,G,De.default.REPRESENTATION),G.representation.push(P)}),M.adaptation.push(G)}),_.period.push(M)})}},S}Jh.__dashjs_factory_name="ExtUrlQueryInfoController";var eg=n.default.getSingletonFactory(Jh),Nd=class{constructor(S){this.url=S.url,this.method=S.method,this.responseType=S.responseType!==void 0?S.responseType:null,this.headers=S.headers!==void 0?S.headers:{},this.credentials=S.credentials!==void 0?S.credentials:null,this.mode=S.mode!==void 0?S.mode:null,this.timeout=S.timeout!==void 0?S.timeout:0,this.cmcd=S.cmcd!==void 0?S.cmcd:null,this.customData=S.customData!==void 0?S.customData:null}},Yu=class{constructor(S){this.request=S.request,this.url=S.url!==void 0?S.url:null,this.redirected=S.redirected!==void 0&&S.redirected,this.status=S.status!==void 0?S.status:null,this.statusText=S.statusText!==void 0?S.statusText:"",this.type=S.type!==void 0?S.type:"",this.headers=S.headers!==void 0?S.headers:{},this.data=S.data!==void 0?S.data:null,this.resourceTiming=S.resourceTiming!==void 0?S.resourceTiming:null}};function Od(S){S=S||{};const b=this.context,_=S.errHandler,R=S.dashMetrics,I=S.mediaPlayerModel,w=S.boxParser,z=S.errors,O=S.requestTimeout||0,M=(0,y.default)(b).getInstance(),q=(0,d.default)(b).getInstance();let G,C,P,U,H,J,re,ae,fe,he,ge,Se,ee,Y;function D(te,ye){const le=function(){Ke()},we=function(Ut){const dn=new Date;ce&&(ce=!1,(!Ut.lengthComputable||Ut.lengthComputable&&Ut.total!==Ut.loaded)&&(de.firstByteDate=dn,Ue.resourceTiming.responseStart=dn.getTime())),Ut.lengthComputable&&(de.bytesLoaded=Ue.length=Ut.loaded,de.bytesTotal=Ue.resourceTiming.encodedBodySize=Ut.total,Ue.length=Ut.total,Ue.resourceTiming.encodedBodySize=Ut.loaded),Ut.noTrace||(V.push({s:Ae,d:Ut.time?Ut.time:dn.getTime()-Ae.getTime(),b:[Ut.loaded?Ut.loaded-Re:0],t:Ut.throughput}),de.traces=V,Ae=dn,Re=Ut.loaded),Le&&(clearTimeout(Le),Le=null),q.get().streaming.fragmentRequestProgressTimeout>0&&(Le=setTimeout(function(){Y.warn("Abort request "+je.url+" due to progress timeout"),Tt.abort(je),le()},q.get().streaming.fragmentRequestProgressTimeout)),te.progress&&Ut&&te.progress(Ut)},Ce=function(){Ke(!0)},Me=function(Ut){let dn;if(Ut.lengthComputable){let An=Ut.loaded/Ut.total*100;dn="Request timeout: loaded: "+Ut.loaded+", out of: "+Ut.total+" : "+An.toFixed(3)+"% Completed"}else dn="Request timeout: non-computable download size";Y.warn(dn)},Ke=function(Ut=!1){C.indexOf(je)!==-1&&C.splice(C.indexOf(je),1),Le&&(clearTimeout(Le),Le=null),ge.processResponseHeaders(Ue),Oe(),W(),function(dn){const An=he.getResponseInterceptors();return An?An.reduce((Gn,Yn)=>Gn.then(Bn=>Yn(Bn)),Promise.resolve(dn)):Promise.resolve(dn)}(Ue).then(dn=>{if(Ue=dn,function(An,Gn,Yn){const Bn=An.customData.request,Nn=q.get().streaming.cmsd&&q.get().streaming.cmsd.enabled?re.parseResponseHeaders(Gn.headers,Bn.mediaType):null;R.addHttpRequest(Bn,Gn.url,Gn.status,Gn.headers,Yn,Nn)}(je,Ue,V),Ut)te.abort&&te.abort(de);else if(de.type===Te.HTTPRequest.MPD_TYPE&&(R.addManifestUpdate(de),M.trigger(m.default.MANIFEST_LOADING_FINISHED,{requestObject:de})),Ue.status>=200&&Ue.status<=299&&Ue.data)te.success&&te.success(Ue.data,Ue.statusText,Ue.url),te.complete&&te.complete(de,Ue.statusText);else{try{Ue.status===404&&q.get().streaming.utcSynchronization.enableBackgroundSyncAfterSegmentDownloadError&&de.type===Te.HTTPRequest.MEDIA_SEGMENT_TYPE&&I.getRetryAttemptsForType(Te.HTTPRequest.MEDIA_SEGMENT_TYPE)===ye&&M.trigger(m.default.ATTEMPT_BACKGROUND_SYNC)}catch{}ve()}})},Oe=function(){de.startDate=se,de.endDate=new Date,de.firstByteDate=de.firstByteDate||se},W=function(){Ue.resourceTiming.responseEnd=Date.now(),function(Ut,dn){var Bn;if(!q.get().streaming.abr.throughput.useResourceTimingApi||typeof performance>"u"||Ut.range)return;const An=(Bn=performance.getEntriesByType)==null?void 0:Bn.call(performance,"resource");if(An===void 0||An.length<=0)return;let Gn=0,Yn=null;for(;Gn<An.length;){if(An[Gn].name===Ut.url){Yn=An[Gn];break}Gn+=1}(function(Nn){return Nn&&!isNaN(Nn.responseStart)&&Nn.responseStart>0&&!isNaN(Nn.responseEnd)&&Nn.responseEnd>0&&!isNaN(Nn.transferSize)&&Nn.transferSize>0})(Yn)&&(Ut.customData.request.resourceTimingValues=Yn,dn.resourceTiming.startTime=Yn.startTime,dn.resourceTiming.encodedBodySize=Yn.encodedBodySize,dn.resourceTiming.responseStart=Yn.startTime,dn.resourceTiming.responseEnd=Yn.responseEnd,dn.resourceTiming.duration=Yn.duration)}(je,Ue)},oe=function(Ut,dn,An){return new Promise(Gn=>{(function(Yn){const Bn=he.getRequestInterceptors();return Bn?Bn.reduce((Nn,it)=>Nn.then(Bt=>it(Bt)),Promise.resolve(Yn)):Promise.resolve(Yn)})(dn).then(Yn=>{(dn=Yn).customData.onloadend=le,dn.customData.onprogress=we,dn.customData.onabort=Ce,dn.customData.ontimeout=Me,An.resourceTiming.startTime=Date.now(),Ut.load(dn,An),Gn()})})},ve=function(){if(ye>0){ye--,te&&te.request&&(te.request.retryAttempts+=1);let Ut={config:te};U.push(Ut),Ut.timeout=setTimeout(function(){U.indexOf(Ut)!==-1&&(U.splice(U.indexOf(Ut),1),D(te,ye))},I.getRetryIntervalsForType(de.type))}else{if(de.type===Te.HTTPRequest.MSS_FRAGMENT_INFO_SEGMENT_TYPE)return;_.error(new ln.default(H[de.type],de.url+" is not available",{request:de,response:Ue})),te.error&&te.error(de,"error",Ue.statusText,Ue),te.complete&&te.complete(de,Ue.statusText)}},de=te.request,V=[];let ce,se,Ae,Re,Le,je,Ue;if(de.bytesLoaded=NaN,de.bytesTotal=NaN,de.firstByteDate=null,de.traces=[],ce=!0,se=new Date,Ae=se,Re=0,Le=null,!R||!_)throw new Error("config object is not correct or missing");const at=function(Ut){let dn,An;return!Ut.isPartialSegmentRequest&&Ut.hasOwnProperty("availabilityTimeComplete")&&Ut.availabilityTimeComplete===!1&&window.fetch&&Ut.responseType==="arraybuffer"&&Ut.type===Te.HTTPRequest.MEDIA_SEGMENT_TYPE?(fe||(fe=fr(b).create(),fe.setConfig({dashMetrics:R,boxParser:w})),dn=fe,An=p.default.FILE_LOADER_TYPES.FETCH):(ae||(ae=Rn(b).create()),dn=ae,An=p.default.FILE_LOADER_TYPES.XHR),{loader:dn,fileLoaderType:An}}(de),Tt=at.loader;var zt;de.fileLoaderType=at.fileLoaderType,de.headers={},function(Ut){var Gn,Yn;const dn=Ut==null?void 0:Ut.serviceLocation,An=(Yn=(Gn=Ut==null?void 0:Ut.mediaInfo)==null?void 0:Gn.id)==null?void 0:Yn.toString();if(Se.isServiceLocationIncluded(Ut.type,dn)&&Se.isAdaptationsIncluded(An)&&J.isCmcdEnabled()){const Bn=J.getCmcdParametersFromManifest(),Nn=Bn.mode?Bn.mode:q.get().streaming.cmcd.mode;if(Nn===p.default.CMCD_MODE_QUERY){Ut.url=gt.default.removeQueryParameterFromUrl(Ut.url,p.default.CMCD_QUERY_KEY);const it=function(Bt){try{const It=[],Vt=J.getQueryParameter(Bt);return Vt&&It.push(Vt),It}catch{return[]}}(Ut);Ut.url=gt.default.addAdditionalQueryParameterToUrl(Ut.url,it)}else Nn===p.default.CMCD_MODE_HEADER&&(Ut.headers=Object.assign(Ut.headers,J.getHeaderParameters(Ut)))}}(zt=de),zt.retryAttempts===0&&function(Ut){let dn=ee.getFinalQueryString(Ut);dn&&(Ut.url=gt.default.addAdditionalQueryParameterToUrl(Ut.url,dn))}(zt),function(Ut){if(Ut.queryParams){const dn=Object.keys(Ut.queryParams).map(An=>({key:An,value:Ut.queryParams[An]}));Ut.url=gt.default.addAdditionalQueryParameterToUrl(Ut.url,dn)}}(zt),function(Ut){const dn=ge.getCommonAccessTokenForUrl(Ut.url);dn&&(Ut.headers[p.default.COMMON_ACCESS_TOKEN_HEADER]=dn)}(zt),de.range&&(de.headers.Range="bytes="+de.range);const Yt=he.getXHRWithCredentialsForType(de.type);je=new Nd({url:de.url,method:Te.HTTPRequest.GET,responseType:de.responseType,headers:de.headers,credentials:Yt?"include":"omit",timeout:O,cmcd:J.getCmcdData(de),customData:{request:de}}),Ue=new Yu({request:je,resourceTiming:{startTime:Date.now(),encodedBodySize:0},status:0});let pn=new Date().getTime();if(isNaN(de.delayLoadingTime)||pn>=de.delayLoadingTime)return C.push(je),oe(Tt,je,Ue);{let Ut={httpRequest:je,httpResponse:Ue};return P.push(Ut),Ut.delayTimeout=setTimeout(function(){if(P.indexOf(Ut)!==-1){P.splice(P.indexOf(Ut),1);try{se=new Date,Ae=se,C.push(Ut.httpRequest),oe(Tt,Ut.httpRequest,Ut.httpResponse)}catch{Ut.httpRequest.onloadend()}}},de.delayLoadingTime-pn),Promise.resolve()}}return G={abort:function(){U.forEach(te=>{clearTimeout(te.timeout),te.config.request&&te.config.abort&&te.config.abort(te.config.request)}),U=[],P.forEach(te=>clearTimeout(te.delayTimeout)),P=[],C.forEach(te=>{const ye=te.customData;ye&&(ye.request&&ye.request.type===Te.HTTPRequest.MSS_FRAGMENT_INFO_SEGMENT_TYPE||(ye.onloadend=ye.onprogress=void 0,ye.abort&&ye.abort()))}),C=[]},load:function(te){return te.request?D(te,I.getRetryAttemptsForType(te.request.type)):(te.error&&te.error(te.request,"error"),Promise.resolve())},reset:function(){C=[],P=[],U=[],ae&&ae.reset(),fe&&fe.reset(),ae=null,fe=null},resetInitialSettings:function(){ae&&ae.resetInitialSettings()},setConfig:function(te){te&&(te.commonAccessTokenController&&(ge=te.commonAccessTokenController),te.extUrlQueryInfoController&&(ee=te.extUrlQueryInfoController))}},Y=(0,u.default)(b).getInstance().getLogger(G),C=[],P=[],U=[],J=xd(b).getInstance(),Se=po(b).getInstance(),re=Cd(b).getInstance(),he=(0,Ku.default)(b).getInstance(),ge=Zh(b).getInstance(),ee=eg(b).getInstance(),H={[Te.HTTPRequest.MPD_TYPE]:z.DOWNLOAD_ERROR_ID_MANIFEST_CODE,[Te.HTTPRequest.XLINK_EXPANSION_TYPE]:z.DOWNLOAD_ERROR_ID_XLINK_CODE,[Te.HTTPRequest.INIT_SEGMENT_TYPE]:z.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE,[Te.HTTPRequest.MEDIA_SEGMENT_TYPE]:z.DOWNLOAD_ERROR_ID_CONTENT_CODE,[Te.HTTPRequest.INDEX_SEGMENT_TYPE]:z.DOWNLOAD_ERROR_ID_CONTENT_CODE,[Te.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE]:z.DOWNLOAD_ERROR_ID_CONTENT_CODE,[Te.HTTPRequest.OTHER_TYPE]:z.DOWNLOAD_ERROR_ID_CONTENT_CODE},G}Od.__dashjs_factory_name="HTTPLoader";var Kl=n.default.getClassFactory(Od);function Wo(){let S,b;function _(){b={}}function R(){_()}return R(),S={getLoader:function(I){for(var w in b)if(b.hasOwnProperty(w)&&I.startsWith(w))return b[w];return Kl},registerLoader:function(I,w){b[I]=w},unregisterLoader:function(I){b[I]&&delete b[I]},unregisterAllLoader:_,reset:R},S}Wo.__dashjs_factory_name="SchemeLoaderFactory";var tg=n.default.getSingletonFactory(Wo);function Yl(S){S=S||{};const b=this.context;let _,R,I;return R=tg(b).getInstance(),_={abort:function(){I&&I.abort()},load:function(w){I||(I=R.getLoader(w&&w.request?w.request.url:null)(b).create({errHandler:S.errHandler,mediaPlayerModel:S.mediaPlayerModel,dashMetrics:S.dashMetrics,boxParser:S.boxParser?S.boxParser:null,constants:S.constants?S.constants:null,dashConstants:S.dashConstants?S.dashConstants:null,urlUtils:S.urlUtils?S.urlUtils:null,requestTimeout:isNaN(S.requestTimeout)?0:S.requestTimeout,errors:S.errors})),I.load(w)},reset:function(){R&&(R.reset(),R=null),I&&typeof I.reset=="function"&&I.reset(),I=null},resetInitialSettings:function(){I&&typeof I.resetInitialSettings=="function"&&I.resetInitialSettings()}},_}Yl.__dashjs_factory_name="URLLoader";var yo=n.default.getClassFactory(Yl),ng=class{constructor(S){this.url=S||null,this.type=Te.HTTPRequest.CONTENT_STEERING_TYPE,this.responseType="json"}},Md=class{constructor(){this.version=null,this.ttl=300,this.reloadUri=null,this.pathwayPriority=[],this.pathwayClones=[]}};function Wu(){const S=this.context,b=Rr(S).getInstance();let _,R,I,w,z,O,M,q,G,C,P,U,H,J,re;function ae(we){ge(we,"baseUrl")}function fe(we){ge(we,"location")}function he(we){var Ce,Me;we&&we.throughputValues&&we.throughputValues.serviceLocation&&(Ce=we.throughputValues.serviceLocation,Me=we.throughputValues,z[Ce]||(z[Ce]=[]),z[Ce].push(Me),z[Ce].length>4&&z[Ce].shift())}function ge(we,Ce){if(we&&we.request&&we.request.serviceLocation){const Me=we.request.serviceLocation;w[Ce].all.indexOf(Me)===-1&&w[Ce].all.push(Me),w[Ce].current=Me}}function Se(){const we=P.getValue();let Ce=re.getContentSteering(we);return Ce||(Ce=U.getServiceDescriptionSettings().contentSteering),Ce}function ee(){return new Promise(we=>{try{const Ce=Se();if(!Ce||!Ce.serverUrl)return void we();const Me=function(Oe){let W=Oe.serverUrl;I&&I.reloadUri&&(W=b.isRelative(I.reloadUri)?b.resolve(I.reloadUri,Oe.serverUrl):I.reloadUri);const oe=[],ve=w.baseUrl.all.concat(w.location.all);if(ve.length>0){const de=ve.map(se=>{const Ae=function(Re){if(!Re||!z[Re]||z[Re].length===0)return-1;const Le=H.getArithmeticMean(z[Re],z[Re].length,!0);return parseInt(1e3*Le)}(se);return{serviceLocation:se,throughput:Ae}});let V="",ce="";de.forEach((se,Ae)=>{Ae!==0&&(V+=",",ce+=","),V+=se.serviceLocation,ce+=se.throughput>-1?se.throughput:""}),oe.push({key:"_DASH_pathway",value:`"${V}"`}),oe.push({key:"_DASH_throughput",value:ce})}return W=gt.default.addAdditionalQueryParameterToUrl(W,oe),W}(Ce),Ke=new ng(Me);M.load({request:Ke,success:Oe=>{(function(W){W&&W[De.default.CONTENT_STEERING_RESPONSE.VERSION]&&parseInt(W[De.default.CONTENT_STEERING_RESPONSE.VERSION])===1&&(I=new Md,I.version=W[De.default.CONTENT_STEERING_RESPONSE.VERSION],W[De.default.CONTENT_STEERING_RESPONSE.TTL]&&!isNaN(W[De.default.CONTENT_STEERING_RESPONSE.TTL])&&(I.ttl=W[De.default.CONTENT_STEERING_RESPONSE.TTL]),W[De.default.CONTENT_STEERING_RESPONSE.RELOAD_URI]&&(I.reloadUri=W[De.default.CONTENT_STEERING_RESPONSE.RELOAD_URI]),W[De.default.CONTENT_STEERING_RESPONSE.PATHWAY_PRIORITY]&&(I.pathwayPriority=W[De.default.CONTENT_STEERING_RESPONSE.PATHWAY_PRIORITY]),W[De.default.CONTENT_STEERING_RESPONSE.PATHWAY_CLONES]&&(I.pathwayClones=W[De.default.CONTENT_STEERING_RESPONSE.PATHWAY_CLONES],I.pathwayClones=I.pathwayClones.filter(oe=>function(ve){return ve[De.default.CONTENT_STEERING_RESPONSE.BASE_ID]&&ve[De.default.CONTENT_STEERING_RESPONSE.ID]&&ve[De.default.CONTENT_STEERING_RESPONSE.URI_REPLACEMENT]&&ve[De.default.CONTENT_STEERING_RESPONSE.URI_REPLACEMENT][De.default.CONTENT_STEERING_RESPONSE.HOST]}(oe))),te())})(Oe),J.trigger(T.default.CONTENT_STEERING_REQUEST_COMPLETED,{currentSteeringResponseData:I,url:Me}),we()},error:(Oe,W,oe,ve)=>{(function(de,V){try{switch(R.warn("Error fetching data from content steering server",de),V.status){case 410:break;case 429:const ce=V&&V.getResponseHeader?V.getResponseHeader("retry-after"):null;ce!==null&&(I||(I={}),I.ttl=parseInt(ce)),te();break;default:te()}}catch(ce){R.error(ce)}})(Oe,ve),we(Oe)},complete:()=>{w.baseUrl.all=Y(w.baseUrl),w.location.all=Y(w.location)}})}catch(Ce){we(Ce)}})}function Y(we){return we.all&&we.all.length!==0&&we.current?we.all.filter(Ce=>Ce===we.current):[]}function D(we){try{const Ce=[];return we&&we.length!==0&&I&&I.pathwayClones&&I.pathwayClones.length!==0&&I.pathwayClones.forEach(Me=>{let Ke=we.filter(W=>Me[De.default.CONTENT_STEERING_RESPONSE.BASE_ID]===W.serviceLocation),Oe=null;if(Ke&&Ke.length>0&&(Oe=Ke[0]),Oe){const W=new URL(Oe.url);let oe=Me[De.default.CONTENT_STEERING_RESPONSE.URI_REPLACEMENT][De.default.CONTENT_STEERING_RESPONSE.HOST];oe=gt.default.stringHasProtocol(oe)?oe:`${W.protocol}//${oe}`;const ve={synthesizedUrl:`${oe}${W.pathname}`,serviceLocation:Me[De.default.CONTENT_STEERING_RESPONSE.ID],queryParams:Me[De.default.CONTENT_STEERING_RESPONSE.URI_REPLACEMENT][De.default.CONTENT_STEERING_RESPONSE.PARAMS],reference:Oe};Ce.push(ve)}}),Ce}catch(Ce){return R.error(Ce),[]}}function te(){I&&I.ttl&&!isNaN(I.ttl)&&(O&&clearTimeout(O),O=setTimeout(()=>{ee()},1e3*I.ttl))}function ye(){O&&clearTimeout(O),O=null}function le(){I=null,z={},w={baseUrl:{current:null,all:[]},location:{current:null,all:[]}},ye()}return _={reset:function(){le(),J.off(T.default.FRAGMENT_LOADING_STARTED,ae,_),J.off(T.default.MANIFEST_LOADING_STARTED,fe,_),J.off(T.default.THROUGHPUT_MEASUREMENT_STORED,he,_)},setConfig:function(we){we&&(we.adapter&&(re=we.adapter),we.errHandler&&(q=we.errHandler),we.dashMetrics&&(G=we.dashMetrics),we.mediaPlayerModel&&(C=we.mediaPlayerModel),we.manifestModel&&(P=we.manifestModel),we.serviceDescriptionController&&(U=we.serviceDescriptionController),we.throughputController&&(H=we.throughputController),we.eventBus&&(J=we.eventBus))},loadSteeringData:ee,getCurrentSteeringResponseData:function(){return I},shouldQueryBeforeStart:function(){const we=Se();return!!we&&we.queryBeforeStart},getSteeringDataFromManifest:Se,stopSteeringRequestTimer:ye,getSynthesizedBaseUrlElements:function(we){try{return D(we).map(Ce=>{const Me=new Pr(Ce.synthesizedUrl,Ce.serviceLocation);return Me.queryParams=Ce.queryParams,Me.dvbPriority=Ce.reference.dvbPriority,Me.dvbWeight=Ce.reference.dvbWeight,Me.availabilityTimeOffset=Ce.reference.availabilityTimeOffset,Me.availabilityTimeComplete=Ce.reference.availabilityTimeComplete,Me})}catch(Ce){return R.error(Ce),[]}},getSynthesizedLocationElements:function(we){try{return D(we).map(Ce=>{const Me=new qo(Ce.synthesizedUrl,Ce.serviceLocation);return Me.queryParams=Ce.queryParams,Me})}catch(Ce){return R.error(Ce),[]}},initialize:function(){M=yo(S).create({errHandler:q,dashMetrics:G,mediaPlayerModel:C,errors:Tn}),J.on(T.default.FRAGMENT_LOADING_STARTED,ae,_),J.on(T.default.MANIFEST_LOADING_STARTED,fe,_),J.on(T.default.THROUGHPUT_MEASUREMENT_STORED,he,_)}},R=(0,u.default)(S).getInstance().getLogger(_),le(),_}Wu.__dashjs_factory_name="ContentSteeringController";var Xu=n.default.getSingletonFactory(Wu);function Pd(){const S=this.context,b=(0,y.default)(S).getInstance();let _,R,I,w=[];function z(M=[],q=[]){let G=0,C=NaN;for(;G<M.length;){const P=M[G],U=q.findIndex(H=>H.serviceLocation&&H.serviceLocation===P);if(U!==-1&&!I.contains(q[U].serviceLocation)){C=U;break}G+=1}return C}function O(M){const q=R.getCurrentSteeringResponseData();if(!q)return;const G=M.entry,C=setTimeout(()=>{I.remove(G),w.splice(w.indexOf(C,1))},1e3*q.ttl);w.push(C)}return _={selectBaseUrlIndex:function(M){let q=NaN;if(isNaN(M.selectedIdx)){const C=R.getSteeringDataFromManifest();C&&C.defaultServiceLocationArray.length>0&&(q=z(C.defaultServiceLocationArray,M.baseUrls))}const G=R.getCurrentSteeringResponseData();return M.baseUrls&&M.baseUrls.length&&G&&G.pathwayPriority&&G.pathwayPriority.length&&(q=z(G.pathwayPriority,M.baseUrls)),q},setConfig:function(M){M.blacklistController&&(I=M.blacklistController),M.contentSteeringController&&(R=M.contentSteeringController),b.on(M.addBlacklistEventName,O,_)},reset:function(){w.forEach(M=>clearTimeout(M)),w=[]}},R=Xu(S).getInstance(),_}Pd.__dashjs_factory_name="ContentSteeringSelector";var rg=n.default.getClassFactory(Pd);function ig(){const S=this.context,b=(0,y.default)(S).getInstance(),_=(0,d.default)(S).getInstance();let R,I,w,z,O,M;function q(){O.reset(),I.reset()}return R={chooseSelector:function(G){(0,Rt.checkParameterType)(G,"boolean"),M=G?z:w},select:function(G){if(!G)return;if(_.get().streaming.applyContentSteering){const P=O.selectBaseUrlIndex(G);isNaN(P)||P===-1||(G.selectedIdx=P)}if(!isNaN(G.selectedIdx))return G.baseUrls[G.selectedIdx];let C=M.select(G.baseUrls);return C?(G.selectedIdx=G.baseUrls.indexOf(C),C):(b.trigger(m.default.URL_RESOLUTION_FAILED,{error:new ln.default(Tn.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE,Tn.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE)}),void(M===w&&q()))},reset:q,setConfig:function(G){G.selector&&(M=G.selector),G.contentSteeringSelector&&(O=G.contentSteeringSelector)}},I=wn(S).create({updateEventName:m.default.SERVICE_LOCATION_BASE_URL_BLACKLIST_CHANGED,addBlacklistEventName:m.default.SERVICE_LOCATION_BASE_URL_BLACKLIST_ADD}),w=rr(S).create({blacklistController:I}),z=Un(S).create({blacklistController:I}),O=rg(S).create(),O.setConfig({blacklistController:I,addBlacklistEventName:m.default.SERVICE_LOCATION_BASE_URL_BLACKLIST_ADD}),M=w,R}ig.__dashjs_factory_name="BaseURLSelector";var ty=n.default.getClassFactory(ig);function ag(){let S,b;const _=this.context,R=(0,y.default)(_).getInstance(),I=Rr(_).getInstance();let w,z,O;function M(G){w.update(G),z.chooseSelector(b.getIsDVB(G)),R.trigger(T.default.BASE_URLS_UPDATED,{baseUrls:q(G)})}function q(G){return w.getBaseUrls(G)}return S={reset:function(){w.reset(),z.reset()},initialize:function(G){w.setConfig({adapter:b,contentSteeringController:O}),M(G)},resolve:function(G){const C=w.getForPath(G).reduce((P,U)=>{const H=z.select(U);return H?(I.isRelative(H.url)?P.url=I.resolve(H.url,P.url):(P.url=H.url,P.serviceLocation=H.serviceLocation),P.availabilityTimeOffset=H.availabilityTimeOffset,P.availabilityTimeComplete=H.availabilityTimeComplete,P.queryParams=H.queryParams,P):new Pr},new Pr);if(!I.isRelative(C.url))return C},setConfig:function(G){G.baseURLTreeModel&&(w=G.baseURLTreeModel),G.baseURLSelector&&(z=G.baseURLSelector),G.adapter&&(b=G.adapter),G.contentSteeringController&&(O=G.contentSteeringController)},getBaseUrls:q,update:M},w=Xt(_).create(),z=ty(_).create(),R.on(m.default.SERVICE_LOCATION_BASE_URL_BLACKLIST_CHANGED,function(G){w.invalidateSelectedIndexes(G.entry)},S),S}ag.__dashjs_factory_name="BaseURLController";var ny=n.default.getClassFactory(ag);class zd{constructor(b){if(this.offset=b._offset,this.type=b.type,this.size=b.size,this.boxes=[],b.boxes)for(let _=0;_<b.boxes.length;_++)this.boxes.push(new zd(b.boxes[_]));switch(this.isComplete=!0,b.type){case"sidx":if(this.timescale=b.timescale,this.earliest_presentation_time=b.earliest_presentation_time,this.first_offset=b.first_offset,this.references=b.references,b.references){this.references=[];for(let _=0;_<b.references.length;_++){let R={reference_type:b.references[_].reference_type,referenced_size:b.references[_].referenced_size,subsegment_duration:b.references[_].subsegment_duration};this.references.push(R)}}break;case"emsg":this.id=b.id,this.version=b.version===1?1:0,this.value=b.value,this.timescale=b.timescale,this.scheme_id_uri=b.scheme_id_uri,this.presentation_time_delta=b.version===1?b.presentation_time:b.presentation_time_delta,this.event_duration=b.event_duration,this.message_data=b.message_data;break;case"mdhd":this.timescale=b.timescale;break;case"mfhd":this.sequence_number=b.sequence_number;break;case"subs":this.entry_count=b.entry_count,this.entries=b.entries;break;case"tfhd":this.base_data_offset=b.base_data_offset,this.sample_description_index=b.sample_description_index,this.default_sample_duration=b.default_sample_duration,this.default_sample_size=b.default_sample_size,this.default_sample_flags=b.default_sample_flags,this.flags=b.flags;break;case"tfdt":this.version=b.version,this.baseMediaDecodeTime=b.baseMediaDecodeTime,this.flags=b.flags;break;case"trun":if(this.sample_count=b.sample_count,this.first_sample_flags=b.first_sample_flags,this.data_offset=b.data_offset,this.flags=b.flags,this.samples=b.samples,b.samples){this.samples=[];for(let _=0,R=b.samples.length;_<R;_++){let I={sample_size:b.samples[_].sample_size,sample_duration:b.samples[_].sample_duration,sample_composition_time_offset:b.samples[_].sample_composition_time_offset};this.samples.push(I)}}break;case"prft":this.version=b.version,this.reference_track_ID=b.reference_track_ID,this.ntp_timestamp_sec=b.ntp_timestamp_sec,this.ntp_timestamp_frac=b.ntp_timestamp_frac,this.media_time=b.media_time,this.flags=b.flags}}getChildBox(b){for(let _=0;_<this.boxes.length;_++)if(this.boxes[_].type===b)return this.boxes[_]}getChildBoxes(b){let _=[];for(let R=0;R<this.boxes.length;R++)this.boxes[R].type===b&&_.push(this.boxes[R]);return _}}var ma=zd;function Xo(){let S,b;function _(I){let w=[];if(!I||!b||typeof b.fetchAll!="function")return w;let z,O=b.fetchAll(I);for(let M=0,q=O.length;M<q;M++)z=R(O[M]),z&&w.push(z);return w}function R(I){if(!I)return null;let w=new ma(I);return I.hasOwnProperty("_incomplete")&&(w.isComplete=!I._incomplete),w}return S={getBox:function(I){return I&&b&&b.boxes&&b.boxes.length!==0&&typeof b.fetch=="function"?R(b.fetch(I)):null},getBoxes:_,setData:function(I){b=I},getLastBox:function(){if(!b||!b.boxes||!b.boxes.length)return null;let I=_(b.boxes[b.boxes.length-1].type);return I.length>0?I[I.length-1]:null}},S}Xo.__dashjs_factory_name="IsoFile";var sg=n.default.getClassFactory(Xo),Qo=t(6877),Qu=class{constructor({found:S,sizeOfLastCompletedBox:b,sizeOfLastFoundTargetBox:_,startOffsetOfLastCompletedBox:R,startOffsetOfLastFoundTargetBox:I,typeOfLastCompletedBox:w,typeOfLastTargetBox:z}){this.found=S!==void 0&&S,this.sizeOfLastCompletedBox=b!==void 0?b:0,this.sizeOfLastFoundTargetBox=_!==void 0?_:0,this.startOffsetOfLastCompletedBox=R!==void 0?R:0,this.startOffsetOfLastFoundTargetBox=I!==void 0?I:0,this.typeOfLastCompletedBox=w!==void 0?w:null,this.typeOfLastTargetBox=z!==void 0?z:null}};function Fd(){let S,b,_=this.context;function R(z){if(!z)return null;z.fileStart===void 0&&(z.fileStart=0);let O=Qo.parseBuffer(z),M=sg(_).create();return M.setData(O),M}function I(z,O){return z[O+3]>>>0|z[O+2]<<8>>>0|z[O+1]<<16>>>0|z[O]<<24>>>0}function w(z,O){return String.fromCharCode(z[O++])+String.fromCharCode(z[O++])+String.fromCharCode(z[O++])+String.fromCharCode(z[O])}return b={findInitRange:function(z){let O,M,q=null;const G=R(z);if(!G)return q;const C=G.getBox("ftyp"),P=G.getBox("moov");return S.debug("Searching for initialization."),P&&P.isComplete&&(O=C?C.offset:P.offset,M=P.offset+P.size-1,q=O+"-"+M,S.debug("Found the initialization.  Range: "+q)),q},findLastTopIsoBoxCompleted:function(z,O,M){if(M===void 0&&(M=0),!O||M+8>=O.byteLength)return new Qu({found:!1});const q=O instanceof ArrayBuffer?new Uint8Array(O):O;let G,C=0,P=0,U=null;for(;M<q.byteLength;){const H=I(q,M),J=w(q,M+4);if(H===0)break;M+H<=q.byteLength&&(z.indexOf(J)>=0?G=new Qu({found:!0,startOffsetOfLastFoundTargetBox:M,sizeOfLastFoundTargetBox:H,typeOfLastTargetBox:J}):(C=M,P=H,U=J)),M+=H}return G||new Qu({found:!1,startOffsetOfLastCompletedBox:C,sizeOfLastCompletedBox:P,typeOfLastCompletedBox:U})},getMediaTimescaleFromMoov:function(z){let O=R(z),M=O?O.getBox("mdhd"):void 0;return M?M.timescale:NaN},getSamplesInfo:function(z){if(!z||z.byteLength===0)return{sampleList:[],lastSequenceNumber:NaN,totalDuration:NaN,numSequences:NaN};let O,M,q,G,C,P,U,H,J,re,ae,fe,he,ge,Se,ee,Y,D=R(z),te=D.getBoxes("moof"),ye=D.getBoxes("mfhd");ee=D.getBoxes("moof").length,Se=ye[ye.length-1].sequence_number,q=0,P=[];let le=-1,we=-1;for(ae=0;ae<te.length;ae++){let Ce=te[ae],Me=Ce.getChildBoxes("traf");for(J=0;J<Me.length;J++){let Ke=Me[J],Oe=Ke.getChildBox("tfhd"),W=Ke.getChildBox("tfdt");C=W.baseMediaDecodeTime;let oe=Ke.getChildBoxes("trun"),ve=Ke.getChildBoxes("subs");for(re=0;re<oe.length;re++){let de=oe[re];for(q=de.sample_count,ge=(Oe.base_data_offset||0)+(de.data_offset||0),H=0;H<q;H++){U=de.samples[H],O=U.sample_duration!==void 0?U.sample_duration:Oe.default_sample_duration,G=U.sample_size!==void 0?U.sample_size:Oe.default_sample_size,M=U.sample_composition_time_offset!==void 0?U.sample_composition_time_offset:0;let V={dts:C,cts:C+M,duration:O,offset:Ce.offset+ge,size:G,subSizes:[G]};if(ve)for(fe=0;fe<ve.length;fe++){let ce=ve[fe];if(le<ce.entry_count-1&&H>we&&(le++,we+=ce.entries[le].sample_delta),H==we){V.subSizes=[];let se=ce.entries[le];for(he=0;he<se.subsample_count;he++)V.subSizes.push(se.subsamples[he].subsample_size)}}P.push(V),ge+=G,C+=O}}Y=C-W.baseMediaDecodeTime}}return{sampleList:P,lastSequenceNumber:Se,totalDuration:Y,numSequences:ee}},parse:R},S=(0,u.default)(_).getInstance().getLogger(b),b}Fd.__dashjs_factory_name="BoxParser";var Zo=n.default.getSingletonFactory(Fd),og=t(559);function bo(){const S=this.context,b=(0,y.default)(S).getInstance();let _,R,I,w,z,O,M;function q(H,J,re,ae){const fe=C(H,J,re,ae);return I.isCodecSupportedBasedOnTestedConfigurations(fe,H)}function G(H,J,re,ae,fe,he){const ge=C(H,J,re,he),Se=JSON.stringify(ge);ae.has(Se)||(ae.add(Se),fe.push(ge))}function C(H,J,re,ae){let fe=null;switch(H){case p.default.VIDEO:fe=function(he,ge,Se){let ee={codec:ge,width:he&&he.width||null,height:he&&he.height||null,framerate:R.getFramerate(he)||null,bitrate:he&&he.bandwidth||null,isSupported:!0};he.tagName===De.default.PRESELECTION&&Se&&(ee.width||(ee.width=Se.width||null),ee.height||(ee.height=Se.height||null),ee.bitrate||(ee.bitrate=Se.bandwidth||null),ee.framerate||(ee.framerate=R.getFramerate(Se)||null)),w.get().streaming.capabilities.filterVideoColorimetryEssentialProperties&&Object.assign(ee,function(te){let ye={colorGamut:null,transferFunction:null,isSupported:!0};for(const le of te.EssentialProperty||[])le.schemeIdUri===p.default.COLOUR_PRIMARIES_SCHEME_ID_URI&&["1","5","6","7"].includes(le.value.toString())?ye.colorGamut=p.default.MEDIA_CAPABILITIES_API.COLORGAMUT.SRGB:le.schemeIdUri===p.default.COLOUR_PRIMARIES_SCHEME_ID_URI&&["11","12"].includes(le.value.toString())?ye.colorGamut=p.default.MEDIA_CAPABILITIES_API.COLORGAMUT.P3:le.schemeIdUri===p.default.COLOUR_PRIMARIES_SCHEME_ID_URI&&["9"].includes(le.value.toString())?ye.colorGamut=p.default.MEDIA_CAPABILITIES_API.COLORGAMUT.REC2020:le.schemeIdUri===p.default.COLOUR_PRIMARIES_SCHEME_ID_URI&&["2"].includes(le.value.toString())?ye.colorGamut=null:le.schemeIdUri===p.default.COLOUR_PRIMARIES_SCHEME_ID_URI&&(ye.isSupported=!1),le.schemeIdUri===p.default.TRANSFER_CHARACTERISTICS_SCHEME_ID_URI&&["1","6","13","14","15"].includes(le.value.toString())?ye.transferFunction=p.default.MEDIA_CAPABILITIES_API.TRANSFERFUNCTION.SRGB:le.schemeIdUri===p.default.TRANSFER_CHARACTERISTICS_SCHEME_ID_URI&&["16"].includes(le.value.toString())?ye.transferFunction=p.default.MEDIA_CAPABILITIES_API.TRANSFERFUNCTION.PQ:le.schemeIdUri===p.default.TRANSFER_CHARACTERISTICS_SCHEME_ID_URI&&["18"].includes(le.value.toString())?ye.transferFunction=p.default.MEDIA_CAPABILITIES_API.TRANSFERFUNCTION.HLG:le.schemeIdUri===p.default.TRANSFER_CHARACTERISTICS_SCHEME_ID_URI&&["2"].includes(le.value.toString())?ye.transferFunction=null:le.schemeIdUri===p.default.TRANSFER_CHARACTERISTICS_SCHEME_ID_URI&&(ye.isSupported=!1);return ye}(he));let Y=ee.isSupported;w.get().streaming.capabilities.filterHDRMetadataFormatEssentialProperties&&Object.assign(ee,function(te){let ye={isSupported:!0,hdrMetadataType:null};for(const le of te.EssentialProperty||[])le.schemeIdUri===p.default.HDR_METADATA_FORMAT_SCHEME_ID_URI&&le.value===p.default.HDR_METADATA_FORMAT_VALUES.ST2094_10?ye.hdrMetadataType=p.default.MEDIA_CAPABILITIES_API.HDR_METADATATYPE.SMPTE_ST_2094_10:le.schemeIdUri===p.default.HDR_METADATA_FORMAT_SCHEME_ID_URI&&le.value===p.default.HDR_METADATA_FORMAT_VALUES.SL_HDR2?ye.hdrMetadataType=p.default.MEDIA_CAPABILITIES_API.HDR_METADATATYPE.SLHDR2:le.schemeIdUri===p.default.HDR_METADATA_FORMAT_SCHEME_ID_URI&&le.value===p.default.HDR_METADATA_FORMAT_VALUES.ST2094_40?ye.hdrMetadataType=p.default.MEDIA_CAPABILITIES_API.HDR_METADATATYPE.SMPTE_ST_2094_40:le.schemeIdUri===p.default.HDR_METADATA_FORMAT_SCHEME_ID_URI&&(ye.isSupported=!1);return ye}(he));let D=ee.isSupported;return Y&&D||(ee.isSupported=!1),ee}(J,re,ae);break;case p.default.AUDIO:fe=function(he,ge,Se){var ee=he&&he.audioSamplingRate||null,Y=he&&he.bandwidth||null;return he.tagName===De.default.PRESELECTION&&Se&&(ee||(ee=Se.audioSamplingRate||null),Y||(Y=Se.bandwidth||null)),{codec:ge,bitrate:Y,samplerate:ee,isSupported:!0}}(J,re,ae);break;default:return fe}return ae&&(fe=P(ae,fe)),P(J,fe)}function P(H,J){return O&&H&&H[De.default.CONTENT_PROTECTION]&&H[De.default.CONTENT_PROTECTION].length>0&&(J.keySystemsMetadata=O.getSupportedKeySystemMetadataFromContentProtection(H[De.default.CONTENT_PROTECTION])),J}function U(H){if(!H||H.length===0)return!0;let J=0;for(;J<H.length;){if(!I.supportsEssentialProperty(H[J]))return M.debug("[Stream] EssentialProperty not supported: "+H[J].schemeIdUri),!1;J+=1}return!0}return _={setConfig:function(H){H&&(H.adapter&&(R=H.adapter),H.capabilities&&(I=H.capabilities),H.settings&&(w=H.settings),H.protectionController&&(O=H.protectionController),H.customParametersModel&&(z=H.customParametersModel))},filterUnsupportedFeatures:function(H){return new Promise(J=>{const re=[p.default.VIDEO,p.default.AUDIO],ae=[];re.forEach(fe=>{(function(ge,Se){if(!ge||!ge.Period||ge.Period.length===0)return[];const ee=new Set,Y=[];return ge.Period.forEach(D=>{D.AdaptationSet.forEach(te=>{R.getIsTypeOf(te,Se)&&te.Representation.forEach((ye,le)=>{const we=R.getCodec(te,le,!1);G(Se,ye,we,ee,Y);const Ce=R.getSupplementalCodecs(ye);Ce.length>0&&G(Se,ye,Ce[0],ee,Y)})}),D.Preselection&&D.Preselection.length&&D.Preselection.forEach(te=>{if(R.getPreselectionIsTypeOf(te,D.AdaptationSet,Se)){const ye=R.getCodecForPreselection(te,D.AdaptationSet),le=R.getCommonRepresentationForPreselection(te,D.AdaptationSet);G(Se,te,ye,ee,Y,le)}})}),Y})(H,fe).forEach(ge=>{ae.push(I.runCodecSupportCheck(ge,fe))})}),Promise.allSettled(ae).then(()=>(re.forEach(fe=>{(function(he,ge){ge&&ge.Period&&ge.Period.length!==0&&ge.Period.forEach(Se=>{(function(ee,Y){ee&&ee.AdaptationSet&&ee.AdaptationSet.length!==0&&(ee.AdaptationSet=ee.AdaptationSet.filter(D=>{R.getIsTypeOf(D,Y)&&function(ye,le){ye.Representation&&ye.Representation.length!==0&&(ye.Representation=ye.Representation.filter((we,Ce)=>{const Me=R.getCodec(ye,Ce,!1),Ke=q(le,we,Me);let Oe=function(W,oe){let ve=!1;const de=R.getSupplementalCodecs(W);return de.length>0&&(de.length>1&&M.warn("[CapabilitiesFilter] Multiple supplemental codecs not supported; using the first in list"),ve=q(oe,W,de[0])),ve}(we,le);return Oe&&(M.debug(`[CapabilitiesFilter] Codec supported. Upgrading codecs string of Representation with ID ${we.id}`),we.codecs=we[De.default.SUPPLEMENTAL_CODECS]),Ke||Oe||M.warn(`[CapabilitiesFilter] Codec ${Me} not supported. Removing Representation with ID ${we.id}`),Ke||Oe}))}(D,Y);const te=D.Representation&&D.Representation.length>0;return te||(b.trigger(m.default.ADAPTATION_SET_REMOVED_NO_CAPABILITIES,{adaptationSet:D}),M.warn(`[CapabilitiesFilter] AdaptationSet with ID ${D.id?D.id:"undefined"} and codec ${D.codecs?D.codecs:"undefined"} has been removed because of no supported Representation`)),te}))})(Se,he),function(ee,Y){ee&&ee.Preselection&&ee.Preselection.length!==0&&(ee.Preselection=ee.Preselection.filter(D=>{if(R.getPreselectionIsTypeOf(D,ee.AdaptationSet,Y)){const te=R.getCodecForPreselection(D,ee.AdaptationSet);let ye=!0;if(te){let le=R.getCommonRepresentationForPreselection(D,ee.AdaptationSet);ye=q(Y,le,te)}return ye||M.warn(`[CapabilitiesFilter] Preselection@codecs ${te} not supported. Removing Preselection with ID ${D.id}`),ye}return!0}))}(Se,he)})})(fe,H)}),w.get().streaming.capabilities.filterUnsupportedEssentialProperties&&function(fe){fe&&fe.Period&&fe.Period.length!==0&&fe.Period.forEach(he=>{he.AdaptationSet=he.AdaptationSet.filter(ge=>!ge.Representation||ge.Representation.length===0||!!U(R.getEssentialProperties(ge))&&(ge.Representation=ge.Representation.filter(Se=>U(R.getEssentialProperties(Se))),ge.Representation&&ge.Representation.length>0)),he.Preselection&&he.Preselection.length&&(he.Preselection=he.Preselection.filter(ge=>!!U(R.getEssentialProperties(ge))||(M.warn(`[CapabilitiesFilter] removed Preselection (id: ${ge.id}) with unsupported EssentialProperty`),!1)))})}(H),function(fe){fe&&fe.Period&&fe.Period.length!==0&&fe.Period.forEach(he=>{he.Preselection&&(he.Preselection=he.Preselection.filter(ge=>{const Se=String(ge.preselectionComponents).split(" ").length;return Se!==1&&M.warn(`Multi-Representation Preselection (id: ${ge.id}) removed as not supported.`),Se===1}))})}(H),function(fe){if(!fe||!fe.Period||fe.Period.length===0)return Promise.resolve();const he=[];return fe.Period.forEach(ge=>{he.push(function(Se){return new Promise(ee=>{if(!Se||!Se.AdaptationSet||Se.AdaptationSet.length===0)return void ee();const Y=[];Se.AdaptationSet.forEach(D=>{Y.push(function(te){return new Promise(ye=>{if(!te.Representation||te.Representation.length===0)return void ye();const le=[];te.Representation.forEach(we=>{le.push(function(Ce){const Me=[],Ke=z.getCustomCapabilitiesFilters();return Ke&&Ke.length!==0?Ke.forEach(Oe=>{Me.push(new Promise(W=>W(Oe(Ce))))}):Me.push(Promise.resolve(!0)),Promise.all(Me)}(we))}),Promise.all(le).then(we=>{te.Representation=te.Representation.filter((Ce,Me)=>{let Ke=we[Me].every(Oe=>Oe);return Ke||M.debug("[Stream] Representation "+Ce.id+" has been removed because of unsupported CustomFilter"),Ke}),ye()}).catch(we=>{M.warn("[Stream] at least one promise rejected in CustomFilter with error: ",we),ye()})})}(D))}),Promise.all(Y).then(()=>{Se.AdaptationSet=Se.AdaptationSet.filter(D=>D.Representation&&D.Representation.length>0),ee()}).catch(()=>{ee()})})}(ge))}),Promise.all(he)}(H))).then(()=>{J()}).catch(fe=>{M.error(fe),J()})})}},M=(0,u.default)(S).getInstance().getLogger(_),_}bo.__dashjs_factory_name="CapabilitiesFilter";var Ud=n.default.getSingletonFactory(bo);function Jo(){const S=this.context,b=(0,y.default)(S).getInstance();let _,R,I,w,z,O,M,q,G,C;function P(){R=!1;const Se=gt.default.parseUserAgent();I=Se&&Se.browser&&Se.browser.name&&Se.browser.name.toLowerCase()==="safari"}function U(){R=!1}function H(Se){if(Se.streamId!==O.getActiveStreamInfo().id||!G)return;const ee=M.getLiveDelay();M.getBufferLevel()>ee/2&&(G=!1)}function J(Se){Se.streamId===O.getActiveStreamInfo().id&&(G=Se.state===o.BUFFER_EMPTY)}function re(){q.getCatchupModeEnabled()||w.setPlaybackRate(1)}function ae(){M.getIsDynamic()&&q.getCatchupModeEnabled()&&(q.getCatchupPlaybackRates().max>0||q.getCatchupPlaybackRates().min<0)&&!M.isPaused()&&!M.isSeeking()&&function(){try{return!M.getTime()>0||R?!1:he()===p.default.LIVE_CATCHUP_MODE_LOLP?function(Se,ee){try{return Math.abs(fe())>0||Se<ee}catch{return!1}}(M.getBufferLevel(),z.get().streaming.liveCatchup.playbackBufferMin):function(){try{return Math.abs(fe())>0}catch{return!1}}()}catch{return!1}}()&&function(){if(!R&&w){let Se;const ee=w.getPlaybackRate(),Y=q.getCatchupPlaybackRates(),D=M.getBufferLevel(),te=fe(),ye=q.getCatchupMaxDrift();if(!isNaN(ye)&&ye>0&&te>ye)C.info("[CatchupController]: Low Latency catchup mechanism. Latency too high, doing a seek to live point"),R=!0,M.seekToCurrentLive(!0,!1);else{const le=M.getCurrentLiveLatency(),we=M.getLiveDelay();Se=he()===p.default.LIVE_CATCHUP_MODE_LOLP?function(Me,Ke,Oe,W,oe){let ve;if(oe<W){const de=Math.abs(Me.min),V=5*(oe-W);ve=1-de+2*de/(1+Math.pow(Math.E,-V)),C.debug("[LoL+ playback control_buffer-based] bufferLevel: "+oe+", newRate: "+ve)}else{if(Math.abs(Ke-Oe)<=.02*Oe)ve=1;else{const V=Ke-Oe,ce=V<0?Math.abs(Me.min):Me.max,se=5*V;ve=1-ce+2*ce/(1+Math.pow(Math.E,-se))}C.debug("[LoL+ playback control_latency-based] latency: "+Ke+", newRate: "+ve)}return ve}(Y,le,we,z.get().streaming.liveCatchup.playbackBufferMin,D):function(Me,Ke,Oe,W){if(G)return 1;const oe=Ke-Oe,ve=oe<0?Math.abs(Me.min):Me.max,de=5*oe;let V=1-ve+2*ve/(1+Math.pow(Math.E,-de));return M.getPlaybackStalled()&&W<=Oe/2&&oe>0&&(V=1),V}(Y,le,we,D);const Ce=I?.25:.02/(.5/Y.max);(Se&&Math.abs(ee-Se)>=Ce||Se==1)&&(C.debug(`[CatchupController]: Setting playback rate to ${Se}`),w.setPlaybackRate(Se))}}}()}function fe(){return M.getCurrentLiveLatency()-M.getLiveDelay()}function he(){const Se=z.get().streaming.liveCatchup.playbackBufferMin;return z.get().streaming.liveCatchup.mode!==p.default.LIVE_CATCHUP_MODE_LOLP||Se===null||isNaN(Se)?p.default.LIVE_CATCHUP_MODE_DEFAULT:p.default.LIVE_CATCHUP_MODE_LOLP}function ge(){q.getCatchupPlaybackRates(!0)}return _={reset:function(){b.off(T.default.BUFFER_LEVEL_UPDATED,H,_),b.off(T.default.BUFFER_LEVEL_STATE_CHANGED,J,_),b.off(T.default.PLAYBACK_PROGRESS,ae,_),b.off(T.default.PLAYBACK_TIME_UPDATED,ae,_),b.off(T.default.PLAYBACK_SEEKED,U,_),b.off(m.default.SETTING_UPDATED_CATCHUP_ENABLED,re,_),b.off(m.default.SETTING_UPDATED_PLAYBACK_RATE_MIN,ge,_),b.off(m.default.SETTING_UPDATED_PLAYBACK_RATE_MAX,ge,_),b.off(T.default.STREAM_INITIALIZED,ge,_),P(),w.setPlaybackRate(1,!0)},setConfig:function(Se){Se&&(Se.settings&&(z=Se.settings),Se.videoModel&&(w=Se.videoModel),Se.streamController&&(O=Se.streamController),Se.playbackController&&(M=Se.playbackController),Se.mediaPlayerModel&&(q=Se.mediaPlayerModel))},initialize:function(){b.on(T.default.BUFFER_LEVEL_UPDATED,H,_),b.on(T.default.BUFFER_LEVEL_STATE_CHANGED,J,_),b.on(T.default.PLAYBACK_PROGRESS,ae,_),b.on(T.default.PLAYBACK_TIME_UPDATED,ae,_),b.on(T.default.PLAYBACK_SEEKED,U,_),b.on(m.default.SETTING_UPDATED_CATCHUP_ENABLED,re,_),b.on(m.default.SETTING_UPDATED_PLAYBACK_RATE_MIN,ge,_),b.on(m.default.SETTING_UPDATED_PLAYBACK_RATE_MAX,ge,_),b.on(T.default.STREAM_INITIALIZED,ge,_),ge()}},C=(0,u.default)(S).getInstance().getLogger(_),P(),_}Jo.__dashjs_factory_name="CatchupController";var Bd=n.default.getSingletonFactory(Jo);const lg=[{oldKey:"dashjs_vbitrate",newKey:"dashjs_video_bitrate"},{oldKey:"dashjs_abitrate",newKey:"dashjs_audio_bitrate"},{oldKey:"dashjs_vsettings",newKey:"dashjs_video_settings"},{oldKey:"dashjs_asettings",newKey:"dashjs_audio_settings"}],Ls="dashjs_?_bitrate",Eo="dashjs_?_settings",Ns="localStorage",jd="lastBitrate",Os="lastMediaSettings";function qd(S){S=S||{};const b=this.context,_=S.settings;let R,I,w;function z(G){if(w!==void 0)return w;let C;w=!1;try{typeof window<"u"&&(C=window[G])}catch(P){return I.warn("DOMStorage access denied: "+P.message),w}if(!C||G!==Ns)return w;try{C.setItem("1","1"),C.removeItem("1"),w=!0}catch(P){I.warn("DOMStorage is supported, but cannot be used: "+P.message)}return w}function O(){return Math.round(new Date().getTime()/6e5)*6e5}function M(G,C){return z(G)&&_.get().streaming[C+"CachingInfo"].enabled}function q(){if(!_)throw new Error(p.default.MISSING_CONFIG_ERROR)}return R={getSavedBitrateSettings:function(G){if(q(),!_.get().streaming.lastBitrateCachingInfo.enabled)return NaN;let C=NaN;if(M(Ns,jd)){const P=Ls.replace(/\?/,G);try{const U=JSON.parse(localStorage.getItem(P))||{},H=new Date().getTime()-parseInt(U.timestamp,10)>=_.get().streaming.lastBitrateCachingInfo.ttl||!1,J=parseFloat(U.bitrate);isNaN(J)||H?H&&localStorage.removeItem(P):(C=J,I.debug("Last saved bitrate for "+G+" was "+J))}catch{return null}}return C},setSavedBitrateSettings:function(G,C){if(M(Ns,jd)&&C){const P=Ls.replace(/\?/,G);try{localStorage.setItem(P,JSON.stringify({bitrate:C.toFixed(3),timestamp:O()}))}catch(U){I.error(U.message)}}},getSavedMediaSettings:function(G){if(q(),!_.get().streaming.lastMediaSettingsCachingInfo.enabled)return null;let C=null;if(M(Ns,Os)){const P=Eo.replace(/\?/,G);try{const U=JSON.parse(localStorage.getItem(P))||{},H=new Date().getTime()-parseInt(U.timestamp,10)>=_.get().streaming.lastMediaSettingsCachingInfo.ttl||!1;C=U.settings,H&&(localStorage.removeItem(P),C=null)}catch{return null}}return C},setSavedMediaSettings:function(G,C){if(M(Ns,Os)){const P=Eo.replace(/\?/,G);try{localStorage.setItem(P,JSON.stringify({settings:C,timestamp:O()}))}catch(U){I.error(U.message)}}}},I=(0,u.default)(b).getInstance().getLogger(R),z(Ns)&&lg.forEach(G=>{const C=localStorage.getItem(G.oldKey);if(C){localStorage.removeItem(G.oldKey);try{localStorage.setItem(G.newKey,C)}catch(P){I.error(P.message)}}}),R}qd.__dashjs_factory_name="DOMStorage";var ug=n.default.getSingletonFactory(qd),Wl=class{constructor(){this.accessibility=null,this.adaptationSetSwitchingCompatibleIds=[],this.audioChannelConfiguration=null,this.bitrateList=null,this.codec=null,this.contentProtection=null,this.essentialProperties=[],this.id=null,this.index=null,this.isEmbedded=null,this.isFragmented=null,this.isPreselection=!1,this.isText=!1,this.labels=null,this.lang=null,this.mimeType=null,this.normalizedKeyIds=new Set,this.representationCount=0,this.roles=null,this.segmentAlignment=!1,this.segmentSequenceProperties=[],this.selectionPriority=1,this.streamInfo=null,this.subSegmentAlignment=!1,this.supplementalProperties=[],this.type=null,this.viewpoint=null}},cg=class{constructor(){this.id=null,this.index=null,this.start=NaN,this.duration=NaN,this.manifestInfo=null,this.isLast=!0,this.isEncrypted=!1}},ry=class{constructor(){this.availableFrom=null,this.duration=NaN,this.dvrWindowSize=NaN,this.isDynamic=!1,this.loadedTime=null,this.maxFragmentDuration=null,this.minBufferTime=NaN,this.protocol=null,this.serviceDescriptions=[]}},iy=class{constructor(S){this.valid=S[0]=="/",this.path=S.split("/").filter(b=>b.length!==0).map(b=>{let _={name:b},R=b.indexOf("[");if(R!=-1){_.name=b.substring(0,R);let I=b.substring(R+1,b.length-1);this.valid=this.valid&&I.indexOf("[")==-1;let w=I.indexOf("=");w!=-1?(_.attribute={name:I.substring(1,w),value:I.substring(w+1)},["'",'"'].indexOf(_.attribute.value[0])!=-1&&(_.attribute.value=_.attribute.value.substring(1,_.attribute.value.length-1))):_.position=parseInt(I,10)-1}return _})}isValid(){return this.valid}findsElement(){return!this.findsAttribute()}findsAttribute(){return this.path[this.path.length-1].name.startsWith("@")}findsTextReplace(){return this.path[this.path.length-1].name==="text()"}getMpdTarget(S,b){let _=null,R=S,I=1,w="MPD";for(;I<this.path.length&&R!==null;){_=R;let z=this.path[I];if(w=z.name,I!==this.path.length-1||!w.startsWith("@")&&w!=="text()"){let O=_[w]||[];if(O.length===0&&_[w]&&O.push(_[w]),z.position)R=O[z.position]||null;else if(z.attribute){let M=z.attribute;R=O.filter(q=>q[M.name]==M.value)[0]||null}else R=Array.isArray(O)?O[0]:O}I++}return R===null?null:w.startsWith("@")?{name:w.substring(1),leaf:R,target:R}:w==="text()"?{name:"__text",leaf:R,target:R}:{name:w,leaf:R,target:b?_:R}}},dg=class{constructor(S,b,_){this.action=S,this.xpath=b,this.value=_,this.position=null}getMpdTarget(S){let b=this.action==="remove"||this.action==="replace"||this.position==="before"||this.position==="after";return this.xpath.getMpdTarget(S,b)}};function Gd(){let S,b;const _=this.context;return S={getIsPatch:function(R){return R&&R.hasOwnProperty(De.default.ORIGINAL_MPD_ID)||!1},getMpdId:function(R){return R&&R[De.default.ORIGINAL_MPD_ID]||null},getOriginalPublishTime:function(R){return R&&R.hasOwnProperty(De.default.ORIGINAL_PUBLISH_TIME)?new Date(R[De.default.ORIGINAL_PUBLISH_TIME]):null},getPatchOperations:function(R){return R?(R.__children||[]).map(I=>{const w=I.tagName;if(w!=="add"&&w!=="remove"&&w!=="replace")return b.warn(`Ignoring node of invalid action: ${w}`),null;let z=I.sel;if(w==="add"&&I.type){if(!I.type.startsWith("@"))return b.warn(`Ignoring add action for prefixed namespace declaration: ${I.type}=${I.__text}`),null;z=`${z}/${I.type}`}let O=new iy(z);if(!O.isValid())return b.warn(`Ignoring action with invalid selector: ${w} - ${z}`),null;let M=null;O.findsAttribute()||O.findsTextReplace()?M=I.__text||"":w!=="remove"&&(M=I.__children.reduce((G,C)=>{let P=C.tagName;return P!=="#text"&&(G[P]=G[P]||[],G[P].push(C)),G},{}));let q=new dg(w,O,M);return w==="add"&&(q.position=I.pos),q}).filter(I=>!!I):[]},getPublishTime:function(R){return R&&R.hasOwnProperty(De.default.PUBLISH_TIME)?new Date(R[De.default.PUBLISH_TIME]):null}},b=(0,u.default)(_).getInstance().getLogger(S),S}Gd.__dashjs_factory_name="PatchManifestModel";var $d=n.default.getSingletonFactory(Gd);function wi(S={}){let b=[];if(S.irregular)return S.irregular;if(S.regular)return S.regular;if(S.language){b=b.concat(S.language,S.extendedLanguageSubtags||[],S.script||[],S.region||[],S.variants||[]);const _=S.extensions||[];let R=-1;for(;++R<_.length;){const I=_[R];I.singleton&&I.extensions&&I.extensions.length>0&&b.push(I.singleton,...I.extensions)}}return S.privateuse&&S.privateuse.length>0&&b.push("x",...S.privateuse),b.join("-")}function $i(S){const b=typeof S=="string"?S.charCodeAt(0):S;return b>=97&&b<=122||b>=65&&b<=90}function ki(S){const b=typeof S=="string"?S.charCodeAt(0):S;return b>=48&&b<=57}function yi(S){return $i(S)||ki(S)}const el=["art-lojban","cel-gaulish","no-bok","no-nyn","zh-guoyu","zh-hakka","zh-min","zh-min-nan","zh-xiang"],Zu={"en-gb-oed":"en-GB-oxendict","i-ami":"ami","i-bnn":"bnn","i-default":null,"i-enochian":null,"i-hak":"hak","i-klingon":"tlh","i-lux":"lb","i-mingo":null,"i-navajo":"nv","i-pwn":"pwn","i-tao":"tao","i-tay":"tay","i-tsu":"tsu","sgn-be-fr":"sfb","sgn-be-nl":"vgt","sgn-ch-de":"sgg","art-lojban":"jbo","cel-gaulish":null,"no-bok":"nb","no-nyn":"nn","zh-guoyu":"cmn","zh-hakka":"hak","zh-min":null,"zh-min-nan":"nan","zh-xiang":"hsn"},Ju={}.hasOwnProperty;function Ua(S,b={}){const _={language:null,extendedLanguageSubtags:[],script:null,region:null,variants:[],extensions:[],privateuse:[],irregular:null,regular:null},R=String(S),I=R.toLowerCase();let w=0;if(S==null)throw new Error("Expected string, got `"+S+"`");if(Ju.call(Zu,I)){const O=Zu[I];return b.normalize!==void 0&&b.normalize!==null&&!b.normalize||typeof O!="string"?(_[el.includes(I)?"regular":"irregular"]=R,_):Ua(O)}for(;$i(I.charCodeAt(w))&&w<9;)w++;if(w>1&&w<9){if(_.language=R.slice(0,w),w<4){let O=0;for(;I.charCodeAt(w)===45&&$i(I.charCodeAt(w+1))&&$i(I.charCodeAt(w+2))&&$i(I.charCodeAt(w+3))&&!$i(I.charCodeAt(w+4));){if(O>2)return z(w,3,"Too many extended language subtags, expected at most 3 subtags");_.extendedLanguageSubtags.push(R.slice(w+1,w+4)),w+=4,O++}}for(I.charCodeAt(w)===45&&$i(I.charCodeAt(w+1))&&$i(I.charCodeAt(w+2))&&$i(I.charCodeAt(w+3))&&$i(I.charCodeAt(w+4))&&!$i(I.charCodeAt(w+5))&&(_.script=R.slice(w+1,w+5),w+=5),I.charCodeAt(w)===45&&($i(I.charCodeAt(w+1))&&$i(I.charCodeAt(w+2))&&!$i(I.charCodeAt(w+3))?(_.region=R.slice(w+1,w+3),w+=3):ki(I.charCodeAt(w+1))&&ki(I.charCodeAt(w+2))&&ki(I.charCodeAt(w+3))&&!ki(I.charCodeAt(w+4))&&(_.region=R.slice(w+1,w+4),w+=4));I.charCodeAt(w)===45;){const O=w+1;let M=O;for(;yi(I.charCodeAt(M));){if(M-O>7)return z(M,1,"Too long variant, expected at most 8 characters");M++}if(!(M-O>4||M-O>3&&ki(I.charCodeAt(O))))break;_.variants.push(R.slice(O,M)),w=M}for(;I.charCodeAt(w)===45&&I.charCodeAt(w+1)!==120&&yi(I.charCodeAt(w+1))&&I.charCodeAt(w+2)===45&&yi(I.charCodeAt(w+3));){let O=w+2,M=0;for(;I.charCodeAt(O)===45&&yi(I.charCodeAt(O+1))&&yi(I.charCodeAt(O+2));){const q=O+1;for(O=q+2,M++;yi(I.charCodeAt(O));){if(O-q>7)return z(O,2,"Too long extension, expected at most 8 characters");O++}}if(!M)return z(O,4,"Empty extension, extensions must have at least 2 characters of content");_.extensions.push({singleton:R.charAt(w+1),extensions:R.slice(w+3,O).split("-")}),w=O}}else w=0;if(w===0&&I.charCodeAt(w)===120||I.charCodeAt(w)===45&&I.charCodeAt(w+1)===120){w=w?w+2:1;let O=w;for(;I.charCodeAt(O)===45&&yi(I.charCodeAt(O+1));){const M=w+1;for(O=M;yi(I.charCodeAt(O));){if(O-M>7)return z(O,5,"Too long private-use area, expected at most 8 characters");O++}_.privateuse.push(R.slice(w+1,O)),w=O}}return w!==R.length?z(w,6,"Found superfluous content after tag"):_;function z(O,M,q){return b.warning&&b.warning(q,M,O),b.forgiving?_:{language:null,extendedLanguageSubtags:[],script:null,region:null,variants:[],extensions:[],privateuse:[],irregular:null,regular:null}}}function Hd(S,b){return function(_,R){let I=Vd(_,"tag");const w=Vd(R??"*","range"),z=[];let O=-1;for(;++O<w.length;){const M=w[O].toLowerCase();if(!b&&M==="*")continue;let q=-1;const G=[];for(;++q<I.length;)if(S(I[q].toLowerCase(),M)){if(!b)return I[q];z.push(I[q])}else G.push(I[q]);I=G}return b?z:void 0}}const Ms=Hd(function(S,b){const _=S.split("-"),R=b.split("-");let I=0,w=0;if(R[w]!=="*"&&_[I]!==R[w])return!1;for(I++,w++;w<R.length;)if(R[w]!=="*"){if(!_[I])return!1;if(_[I]!==R[w]){if(_[I].length===1)return!1;I++}else I++,w++}else w++;return!0},!0);function Vd(S,b){const _=S&&typeof S=="string"?[S]:S;if(!_||typeof _!="object"||!("length"in _))throw new Error("Invalid "+b+" `"+_+"`, expected non-empty string");return _}const tl=[{from:"in",to:"id"},{from:"iw",to:"he"},{from:"ji",to:"yi"},{from:"jw",to:"jv"},{from:"mo",to:"ro"},{from:"scc",to:"sr"},{from:"scr",to:"hr"},{from:"aam",to:"aas"},{from:"adp",to:"dz"},{from:"aue",to:"ktz"},{from:"ayx",to:"nun"},{from:"bgm",to:"bcg"},{from:"bjd",to:"drl"},{from:"ccq",to:"rki"},{from:"cjr",to:"mom"},{from:"cka",to:"cmr"},{from:"cmk",to:"xch"},{from:"coy",to:"pij"},{from:"cqu",to:"quh"},{from:"drh",to:"mn"},{from:"drw",to:"fa-af"},{from:"gav",to:"dev"},{from:"gfx",to:"vaj"},{from:"ggn",to:"gvr"},{from:"gti",to:"nyc"},{from:"guv",to:"duz"},{from:"hrr",to:"jal"},{from:"ibi",to:"opa"},{from:"ilw",to:"gal"},{from:"jeg",to:"oyb"},{from:"kgc",to:"tdf"},{from:"kgh",to:"kml"},{from:"koj",to:"kwv"},{from:"krm",to:"bmf"},{from:"ktr",to:"dtp"},{from:"kvs",to:"gdj"},{from:"kwq",to:"yam"},{from:"kxe",to:"tvd"},{from:"kzj",to:"dtp"},{from:"kzt",to:"dtp"},{from:"lii",to:"raq"},{from:"lmm",to:"rmx"},{from:"meg",to:"cir"},{from:"mst",to:"mry"},{from:"mwj",to:"vaj"},{from:"myt",to:"mry"},{from:"nad",to:"xny"},{from:"ncp",to:"kdz"},{from:"nnx",to:"ngv"},{from:"nts",to:"pij"},{from:"oun",to:"vaj"},{from:"pcr",to:"adx"},{from:"pmc",to:"huw"},{from:"pmu",to:"phr"},{from:"ppa",to:"bfy"},{from:"ppr",to:"lcq"},{from:"pry",to:"prt"},{from:"puz",to:"pub"},{from:"sca",to:"hle"},{from:"skk",to:"oyb"},{from:"tdu",to:"dtp"},{from:"thc",to:"tpo"},{from:"thx",to:"oyb"},{from:"tie",to:"ras"},{from:"tkk",to:"twm"},{from:"tlw",to:"weo"},{from:"tmp",to:"tyj"},{from:"tne",to:"kak"},{from:"tnf",to:"fa-af"},{from:"tsf",to:"taj"},{from:"uok",to:"ema"},{from:"xba",to:"cax"},{from:"xia",to:"acn"},{from:"xkh",to:"waw"},{from:"xsj",to:"suj"},{from:"ybd",to:"rki"},{from:"yma",to:"lrr"},{from:"ymt",to:"mtm"},{from:"yos",to:"zom"},{from:"yuu",to:"yug"},{from:"asd",to:"snz"},{from:"dit",to:"dif"},{from:"llo",to:"ngt"},{from:"myd",to:"aog"},{from:"nns",to:"nbr"},{from:"agp",to:"apf"},{from:"ais",to:"ami"},{from:"ajt",to:"aeb"},{from:"baz",to:"nvo"},{from:"bhk",to:"fbl"},{from:"bic",to:"bir"},{from:"bjq",to:"bzc"},{from:"bkb",to:"ebk"},{from:"blg",to:"iba"},{from:"btb",to:"beb"},{from:"daf",to:"dnj"},{from:"dap",to:"njz"},{from:"djl",to:"dze"},{from:"dkl",to:"aqd"},{from:"drr",to:"kzk"},{from:"dud",to:"uth"},{from:"duj",to:"dwu"},{from:"dwl",to:"dbt"},{from:"elp",to:"amq"},{from:"gbc",to:"wny"},{from:"ggo",to:"esg"},{from:"ggr",to:"gtu"},{from:"gio",to:"aou"},{from:"gli",to:"kzk"},{from:"ill",to:"ilm"},{from:"izi",to:"eza"},{from:"jar",to:"jgk"},{from:"kdv",to:"zkd"},{from:"kgd",to:"ncq"},{from:"kpp",to:"jkm"},{from:"kxl",to:"kru"},{from:"kzh",to:"dgl"},{from:"lak",to:"ksp"},{from:"leg",to:"enl"},{from:"mgx",to:"jbk"},{from:"mnt",to:"wnn"},{from:"mof",to:"xnt"},{from:"mwd",to:"dmw"},{from:"nbf",to:"nru"},{from:"nbx",to:"ekc"},{from:"nln",to:"azd"},{from:"nlr",to:"nrk"},{from:"noo",to:"dtd"},{from:"nxu",to:"bpp"},{from:"pat",to:"kxr"},{from:"rmr",to:"emx"},{from:"sap",to:"aqt"},{from:"sgl",to:"isk"},{from:"smd",to:"kmb"},{from:"snb",to:"iba"},{from:"sul",to:"sgd"},{from:"sum",to:"ulw"},{from:"tgg",to:"bjp"},{from:"thw",to:"ola"},{from:"tid",to:"itd"},{from:"unp",to:"wro"},{from:"wgw",to:"wgb"},{from:"wit",to:"nol"},{from:"wiw",to:"nwo"},{from:"xrq",to:"dmw"},{from:"yen",to:"ynq"},{from:"yiy",to:"yrm"},{from:"zir",to:"scv"},{from:"sgn-br",to:"bzs"},{from:"sgn-co",to:"csn"},{from:"sgn-de",to:"gsg"},{from:"sgn-dk",to:"dsl"},{from:"sgn-fr",to:"fsl"},{from:"sgn-gb",to:"bfi"},{from:"sgn-gr",to:"gss"},{from:"sgn-ie",to:"isg"},{from:"sgn-it",to:"ise"},{from:"sgn-jp",to:"jsl"},{from:"sgn-mx",to:"mfs"},{from:"sgn-ni",to:"ncs"},{from:"sgn-nl",to:"dse"},{from:"sgn-no",to:"nsi"},{from:"sgn-pt",to:"psr"},{from:"sgn-se",to:"swl"},{from:"sgn-us",to:"ase"},{from:"sgn-za",to:"sfs"},{from:"sgn-es",to:"ssp"},{from:"zh-cmn",to:"zh"},{from:"zh-cmn-hans",to:"zh-hans"},{from:"zh-cmn-hant",to:"zh-hant"},{from:"zh-gan",to:"gan"},{from:"zh-wuu",to:"wuu"},{from:"zh-yue",to:"yue"},{from:"no-bokmal",to:"nb"},{from:"no-nynorsk",to:"nn"},{from:"aa-saaho",to:"ssy"},{from:"sh",to:"sr-latn"},{from:"cnr",to:"sr-me"},{from:"tl",to:"fil"},{from:"aju",to:"jrb"},{from:"als",to:"sq"},{from:"arb",to:"ar"},{from:"ayr",to:"ay"},{from:"azj",to:"az"},{from:"bcc",to:"bal"},{from:"bcl",to:"bik"},{from:"bxk",to:"luy"},{from:"bxr",to:"bua"},{from:"cld",to:"syr"},{from:"cmn",to:"zh"},{from:"cwd",to:"cr"},{from:"dgo",to:"doi"},{from:"dhd",to:"mwr"},{from:"dik",to:"din"},{from:"diq",to:"zza"},{from:"lbk",to:"bnc"},{from:"ekk",to:"et"},{from:"emk",to:"man"},{from:"esk",to:"ik"},{from:"fat",to:"ak"},{from:"fuc",to:"ff"},{from:"gaz",to:"om"},{from:"gbo",to:"grb"},{from:"gno",to:"gon"},{from:"gug",to:"gn"},{from:"gya",to:"gba"},{from:"hdn",to:"hai"},{from:"hea",to:"hmn"},{from:"ike",to:"iu"},{from:"kmr",to:"ku"},{from:"knc",to:"kr"},{from:"kng",to:"kg"},{from:"knn",to:"kok"},{from:"kpv",to:"kv"},{from:"lvs",to:"lv"},{from:"mhr",to:"chm"},{from:"mup",to:"raj"},{from:"khk",to:"mn"},{from:"npi",to:"ne"},{from:"ojg",to:"oj"},{from:"ory",to:"or"},{from:"pbu",to:"ps"},{from:"pes",to:"fa"},{from:"plt",to:"mg"},{from:"pnb",to:"lah"},{from:"quz",to:"qu"},{from:"rmy",to:"rom"},{from:"spy",to:"kln"},{from:"src",to:"sc"},{from:"swh",to:"sw"},{from:"ttq",to:"tmh"},{from:"tw",to:"ak"},{from:"umu",to:"del"},{from:"uzn",to:"uz"},{from:"xpe",to:"kpe"},{from:"xsl",to:"den"},{from:"ydd",to:"yi"},{from:"zai",to:"zap"},{from:"zsm",to:"ms"},{from:"zyb",to:"za"},{from:"him",to:"srx"},{from:"mnk",to:"man"},{from:"bh",to:"bho"},{from:"prs",to:"fa-af"},{from:"swc",to:"sw-cd"},{from:"aar",to:"aa"},{from:"abk",to:"ab"},{from:"ave",to:"ae"},{from:"afr",to:"af"},{from:"aka",to:"ak"},{from:"amh",to:"am"},{from:"arg",to:"an"},{from:"ara",to:"ar"},{from:"asm",to:"as"},{from:"ava",to:"av"},{from:"aym",to:"ay"},{from:"aze",to:"az"},{from:"bak",to:"ba"},{from:"bel",to:"be"},{from:"bul",to:"bg"},{from:"bih",to:"bho"},{from:"bis",to:"bi"},{from:"bam",to:"bm"},{from:"ben",to:"bn"},{from:"bod",to:"bo"},{from:"bre",to:"br"},{from:"bos",to:"bs"},{from:"cat",to:"ca"},{from:"che",to:"ce"},{from:"cha",to:"ch"},{from:"cos",to:"co"},{from:"cre",to:"cr"},{from:"ces",to:"cs"},{from:"chu",to:"cu"},{from:"chv",to:"cv"},{from:"cym",to:"cy"},{from:"dan",to:"da"},{from:"deu",to:"de"},{from:"div",to:"dv"},{from:"dzo",to:"dz"},{from:"ewe",to:"ee"},{from:"ell",to:"el"},{from:"eng",to:"en"},{from:"epo",to:"eo"},{from:"spa",to:"es"},{from:"est",to:"et"},{from:"eus",to:"eu"},{from:"fas",to:"fa"},{from:"ful",to:"ff"},{from:"fin",to:"fi"},{from:"fij",to:"fj"},{from:"fao",to:"fo"},{from:"fra",to:"fr"},{from:"fry",to:"fy"},{from:"gle",to:"ga"},{from:"gla",to:"gd"},{from:"glg",to:"gl"},{from:"grn",to:"gn"},{from:"guj",to:"gu"},{from:"glv",to:"gv"},{from:"hau",to:"ha"},{from:"heb",to:"he"},{from:"hin",to:"hi"},{from:"hmo",to:"ho"},{from:"hrv",to:"hr"},{from:"hat",to:"ht"},{from:"hun",to:"hu"},{from:"hye",to:"hy"},{from:"her",to:"hz"},{from:"ina",to:"ia"},{from:"ind",to:"id"},{from:"ile",to:"ie"},{from:"ibo",to:"ig"},{from:"iii",to:"ii"},{from:"ipk",to:"ik"},{from:"ido",to:"io"},{from:"isl",to:"is"},{from:"ita",to:"it"},{from:"iku",to:"iu"},{from:"jpn",to:"ja"},{from:"jav",to:"jv"},{from:"kat",to:"ka"},{from:"kon",to:"kg"},{from:"kik",to:"ki"},{from:"kua",to:"kj"},{from:"kaz",to:"kk"},{from:"kal",to:"kl"},{from:"khm",to:"km"},{from:"kan",to:"kn"},{from:"kor",to:"ko"},{from:"kau",to:"kr"},{from:"kas",to:"ks"},{from:"kur",to:"ku"},{from:"kom",to:"kv"},{from:"cor",to:"kw"},{from:"kir",to:"ky"},{from:"lat",to:"la"},{from:"ltz",to:"lb"},{from:"lug",to:"lg"},{from:"lim",to:"li"},{from:"lin",to:"ln"},{from:"lao",to:"lo"},{from:"lit",to:"lt"},{from:"lub",to:"lu"},{from:"lav",to:"lv"},{from:"mlg",to:"mg"},{from:"mah",to:"mh"},{from:"mri",to:"mi"},{from:"mkd",to:"mk"},{from:"mal",to:"ml"},{from:"mon",to:"mn"},{from:"mol",to:"ro"},{from:"mar",to:"mr"},{from:"msa",to:"ms"},{from:"mlt",to:"mt"},{from:"mya",to:"my"},{from:"nau",to:"na"},{from:"nob",to:"nb"},{from:"nde",to:"nd"},{from:"nep",to:"ne"},{from:"ndo",to:"ng"},{from:"nld",to:"nl"},{from:"nno",to:"nn"},{from:"nor",to:"no"},{from:"nbl",to:"nr"},{from:"nav",to:"nv"},{from:"nya",to:"ny"},{from:"oci",to:"oc"},{from:"oji",to:"oj"},{from:"orm",to:"om"},{from:"ori",to:"or"},{from:"oss",to:"os"},{from:"pan",to:"pa"},{from:"pli",to:"pi"},{from:"pol",to:"pl"},{from:"pus",to:"ps"},{from:"por",to:"pt"},{from:"que",to:"qu"},{from:"roh",to:"rm"},{from:"run",to:"rn"},{from:"ron",to:"ro"},{from:"rus",to:"ru"},{from:"kin",to:"rw"},{from:"san",to:"sa"},{from:"srd",to:"sc"},{from:"snd",to:"sd"},{from:"sme",to:"se"},{from:"sag",to:"sg"},{from:"hbs",to:"sr-latn"},{from:"sin",to:"si"},{from:"slk",to:"sk"},{from:"slv",to:"sl"},{from:"smo",to:"sm"},{from:"sna",to:"sn"},{from:"som",to:"so"},{from:"sqi",to:"sq"},{from:"srp",to:"sr"},{from:"ssw",to:"ss"},{from:"sot",to:"st"},{from:"sun",to:"su"},{from:"swe",to:"sv"},{from:"swa",to:"sw"},{from:"tam",to:"ta"},{from:"tel",to:"te"},{from:"tgk",to:"tg"},{from:"tha",to:"th"},{from:"tir",to:"ti"},{from:"tuk",to:"tk"},{from:"tgl",to:"fil"},{from:"tsn",to:"tn"},{from:"ton",to:"to"},{from:"tur",to:"tr"},{from:"tso",to:"ts"},{from:"tat",to:"tt"},{from:"twi",to:"ak"},{from:"tah",to:"ty"},{from:"uig",to:"ug"},{from:"ukr",to:"uk"},{from:"urd",to:"ur"},{from:"uzb",to:"uz"},{from:"ven",to:"ve"},{from:"vie",to:"vi"},{from:"vol",to:"vo"},{from:"wln",to:"wa"},{from:"wol",to:"wo"},{from:"xho",to:"xh"},{from:"yid",to:"yi"},{from:"yor",to:"yo"},{from:"zha",to:"za"},{from:"zho",to:"zh"},{from:"zul",to:"zu"},{from:"alb",to:"sq"},{from:"arm",to:"hy"},{from:"baq",to:"eu"},{from:"bur",to:"my"},{from:"chi",to:"zh"},{from:"cze",to:"cs"},{from:"dut",to:"nl"},{from:"fre",to:"fr"},{from:"geo",to:"ka"},{from:"ger",to:"de"},{from:"gre",to:"el"},{from:"ice",to:"is"},{from:"mac",to:"mk"},{from:"mao",to:"mi"},{from:"may",to:"ms"},{from:"per",to:"fa"},{from:"rum",to:"ro"},{from:"slo",to:"sk"},{from:"tib",to:"bo"},{from:"wel",to:"cy"},{from:"und-aaland",to:"und-ax"},{from:"hy-arevmda",to:"hyw"},{from:"und-arevmda",to:"und"},{from:"und-arevela",to:"und"},{from:"und-lojban",to:"und"},{from:"und-saaho",to:"und"},{from:"und-bokmal",to:"und"},{from:"und-nynorsk",to:"und"},{from:"und-hakka",to:"und"},{from:"und-xiang",to:"und"},{from:"und-hepburn-heploc",to:"und-alalc97"}],Ja=[{from:{field:"script",value:"qaai"},to:{field:"script",value:"zinh"}},{from:{field:"region",value:"bu"},to:{field:"region",value:"mm"}},{from:{field:"region",value:"ct"},to:{field:"region",value:"ki"}},{from:{field:"region",value:"dd"},to:{field:"region",value:"de"}},{from:{field:"region",value:"dy"},to:{field:"region",value:"bj"}},{from:{field:"region",value:"fx"},to:{field:"region",value:"fr"}},{from:{field:"region",value:"hv"},to:{field:"region",value:"bf"}},{from:{field:"region",value:"jt"},to:{field:"region",value:"um"}},{from:{field:"region",value:"mi"},to:{field:"region",value:"um"}},{from:{field:"region",value:"nh"},to:{field:"region",value:"vu"}},{from:{field:"region",value:"nq"},to:{field:"region",value:"aq"}},{from:{field:"region",value:"pu"},to:{field:"region",value:"um"}},{from:{field:"region",value:"pz"},to:{field:"region",value:"pa"}},{from:{field:"region",value:"qu"},to:{field:"region",value:"eu"}},{from:{field:"region",value:"rh"},to:{field:"region",value:"zw"}},{from:{field:"region",value:"tp"},to:{field:"region",value:"tl"}},{from:{field:"region",value:"uk"},to:{field:"region",value:"gb"}},{from:{field:"region",value:"vd"},to:{field:"region",value:"vn"}},{from:{field:"region",value:"wk"},to:{field:"region",value:"um"}},{from:{field:"region",value:"yd"},to:{field:"region",value:"ye"}},{from:{field:"region",value:"zr"},to:{field:"region",value:"cd"}},{from:{field:"region",value:"230"},to:{field:"region",value:"et"}},{from:{field:"region",value:"280"},to:{field:"region",value:"de"}},{from:{field:"region",value:"736"},to:{field:"region",value:"sd"}},{from:{field:"region",value:"886"},to:{field:"region",value:"ye"}},{from:{field:"region",value:"958"},to:{field:"region",value:"aa"}},{from:{field:"region",value:"020"},to:{field:"region",value:"ad"}},{from:{field:"region",value:"784"},to:{field:"region",value:"ae"}},{from:{field:"region",value:"004"},to:{field:"region",value:"af"}},{from:{field:"region",value:"028"},to:{field:"region",value:"ag"}},{from:{field:"region",value:"660"},to:{field:"region",value:"ai"}},{from:{field:"region",value:"008"},to:{field:"region",value:"al"}},{from:{field:"region",value:"051"},to:{field:"region",value:"am"}},{from:{field:"region",value:"024"},to:{field:"region",value:"ao"}},{from:{field:"region",value:"010"},to:{field:"region",value:"aq"}},{from:{field:"region",value:"032"},to:{field:"region",value:"ar"}},{from:{field:"region",value:"016"},to:{field:"region",value:"as"}},{from:{field:"region",value:"040"},to:{field:"region",value:"at"}},{from:{field:"region",value:"036"},to:{field:"region",value:"au"}},{from:{field:"region",value:"533"},to:{field:"region",value:"aw"}},{from:{field:"region",value:"248"},to:{field:"region",value:"ax"}},{from:{field:"region",value:"031"},to:{field:"region",value:"az"}},{from:{field:"region",value:"070"},to:{field:"region",value:"ba"}},{from:{field:"region",value:"052"},to:{field:"region",value:"bb"}},{from:{field:"region",value:"050"},to:{field:"region",value:"bd"}},{from:{field:"region",value:"056"},to:{field:"region",value:"be"}},{from:{field:"region",value:"854"},to:{field:"region",value:"bf"}},{from:{field:"region",value:"100"},to:{field:"region",value:"bg"}},{from:{field:"region",value:"048"},to:{field:"region",value:"bh"}},{from:{field:"region",value:"108"},to:{field:"region",value:"bi"}},{from:{field:"region",value:"204"},to:{field:"region",value:"bj"}},{from:{field:"region",value:"652"},to:{field:"region",value:"bl"}},{from:{field:"region",value:"060"},to:{field:"region",value:"bm"}},{from:{field:"region",value:"096"},to:{field:"region",value:"bn"}},{from:{field:"region",value:"068"},to:{field:"region",value:"bo"}},{from:{field:"region",value:"535"},to:{field:"region",value:"bq"}},{from:{field:"region",value:"076"},to:{field:"region",value:"br"}},{from:{field:"region",value:"044"},to:{field:"region",value:"bs"}},{from:{field:"region",value:"064"},to:{field:"region",value:"bt"}},{from:{field:"region",value:"104"},to:{field:"region",value:"mm"}},{from:{field:"region",value:"074"},to:{field:"region",value:"bv"}},{from:{field:"region",value:"072"},to:{field:"region",value:"bw"}},{from:{field:"region",value:"112"},to:{field:"region",value:"by"}},{from:{field:"region",value:"084"},to:{field:"region",value:"bz"}},{from:{field:"region",value:"124"},to:{field:"region",value:"ca"}},{from:{field:"region",value:"166"},to:{field:"region",value:"cc"}},{from:{field:"region",value:"180"},to:{field:"region",value:"cd"}},{from:{field:"region",value:"140"},to:{field:"region",value:"cf"}},{from:{field:"region",value:"178"},to:{field:"region",value:"cg"}},{from:{field:"region",value:"756"},to:{field:"region",value:"ch"}},{from:{field:"region",value:"384"},to:{field:"region",value:"ci"}},{from:{field:"region",value:"184"},to:{field:"region",value:"ck"}},{from:{field:"region",value:"152"},to:{field:"region",value:"cl"}},{from:{field:"region",value:"120"},to:{field:"region",value:"cm"}},{from:{field:"region",value:"156"},to:{field:"region",value:"cn"}},{from:{field:"region",value:"170"},to:{field:"region",value:"co"}},{from:{field:"region",value:"188"},to:{field:"region",value:"cr"}},{from:{field:"region",value:"192"},to:{field:"region",value:"cu"}},{from:{field:"region",value:"132"},to:{field:"region",value:"cv"}},{from:{field:"region",value:"531"},to:{field:"region",value:"cw"}},{from:{field:"region",value:"162"},to:{field:"region",value:"cx"}},{from:{field:"region",value:"196"},to:{field:"region",value:"cy"}},{from:{field:"region",value:"203"},to:{field:"region",value:"cz"}},{from:{field:"region",value:"278"},to:{field:"region",value:"de"}},{from:{field:"region",value:"276"},to:{field:"region",value:"de"}},{from:{field:"region",value:"262"},to:{field:"region",value:"dj"}},{from:{field:"region",value:"208"},to:{field:"region",value:"dk"}},{from:{field:"region",value:"212"},to:{field:"region",value:"dm"}},{from:{field:"region",value:"214"},to:{field:"region",value:"do"}},{from:{field:"region",value:"012"},to:{field:"region",value:"dz"}},{from:{field:"region",value:"218"},to:{field:"region",value:"ec"}},{from:{field:"region",value:"233"},to:{field:"region",value:"ee"}},{from:{field:"region",value:"818"},to:{field:"region",value:"eg"}},{from:{field:"region",value:"732"},to:{field:"region",value:"eh"}},{from:{field:"region",value:"232"},to:{field:"region",value:"er"}},{from:{field:"region",value:"724"},to:{field:"region",value:"es"}},{from:{field:"region",value:"231"},to:{field:"region",value:"et"}},{from:{field:"region",value:"246"},to:{field:"region",value:"fi"}},{from:{field:"region",value:"242"},to:{field:"region",value:"fj"}},{from:{field:"region",value:"238"},to:{field:"region",value:"fk"}},{from:{field:"region",value:"583"},to:{field:"region",value:"fm"}},{from:{field:"region",value:"234"},to:{field:"region",value:"fo"}},{from:{field:"region",value:"250"},to:{field:"region",value:"fr"}},{from:{field:"region",value:"249"},to:{field:"region",value:"fr"}},{from:{field:"region",value:"266"},to:{field:"region",value:"ga"}},{from:{field:"region",value:"826"},to:{field:"region",value:"gb"}},{from:{field:"region",value:"308"},to:{field:"region",value:"gd"}},{from:{field:"region",value:"268"},to:{field:"region",value:"ge"}},{from:{field:"region",value:"254"},to:{field:"region",value:"gf"}},{from:{field:"region",value:"831"},to:{field:"region",value:"gg"}},{from:{field:"region",value:"288"},to:{field:"region",value:"gh"}},{from:{field:"region",value:"292"},to:{field:"region",value:"gi"}},{from:{field:"region",value:"304"},to:{field:"region",value:"gl"}},{from:{field:"region",value:"270"},to:{field:"region",value:"gm"}},{from:{field:"region",value:"324"},to:{field:"region",value:"gn"}},{from:{field:"region",value:"312"},to:{field:"region",value:"gp"}},{from:{field:"region",value:"226"},to:{field:"region",value:"gq"}},{from:{field:"region",value:"300"},to:{field:"region",value:"gr"}},{from:{field:"region",value:"239"},to:{field:"region",value:"gs"}},{from:{field:"region",value:"320"},to:{field:"region",value:"gt"}},{from:{field:"region",value:"316"},to:{field:"region",value:"gu"}},{from:{field:"region",value:"624"},to:{field:"region",value:"gw"}},{from:{field:"region",value:"328"},to:{field:"region",value:"gy"}},{from:{field:"region",value:"344"},to:{field:"region",value:"hk"}},{from:{field:"region",value:"334"},to:{field:"region",value:"hm"}},{from:{field:"region",value:"340"},to:{field:"region",value:"hn"}},{from:{field:"region",value:"191"},to:{field:"region",value:"hr"}},{from:{field:"region",value:"332"},to:{field:"region",value:"ht"}},{from:{field:"region",value:"348"},to:{field:"region",value:"hu"}},{from:{field:"region",value:"360"},to:{field:"region",value:"id"}},{from:{field:"region",value:"372"},to:{field:"region",value:"ie"}},{from:{field:"region",value:"376"},to:{field:"region",value:"il"}},{from:{field:"region",value:"833"},to:{field:"region",value:"im"}},{from:{field:"region",value:"356"},to:{field:"region",value:"in"}},{from:{field:"region",value:"086"},to:{field:"region",value:"io"}},{from:{field:"region",value:"368"},to:{field:"region",value:"iq"}},{from:{field:"region",value:"364"},to:{field:"region",value:"ir"}},{from:{field:"region",value:"352"},to:{field:"region",value:"is"}},{from:{field:"region",value:"380"},to:{field:"region",value:"it"}},{from:{field:"region",value:"832"},to:{field:"region",value:"je"}},{from:{field:"region",value:"388"},to:{field:"region",value:"jm"}},{from:{field:"region",value:"400"},to:{field:"region",value:"jo"}},{from:{field:"region",value:"392"},to:{field:"region",value:"jp"}},{from:{field:"region",value:"404"},to:{field:"region",value:"ke"}},{from:{field:"region",value:"417"},to:{field:"region",value:"kg"}},{from:{field:"region",value:"116"},to:{field:"region",value:"kh"}},{from:{field:"region",value:"296"},to:{field:"region",value:"ki"}},{from:{field:"region",value:"174"},to:{field:"region",value:"km"}},{from:{field:"region",value:"659"},to:{field:"region",value:"kn"}},{from:{field:"region",value:"408"},to:{field:"region",value:"kp"}},{from:{field:"region",value:"410"},to:{field:"region",value:"kr"}},{from:{field:"region",value:"414"},to:{field:"region",value:"kw"}},{from:{field:"region",value:"136"},to:{field:"region",value:"ky"}},{from:{field:"region",value:"398"},to:{field:"region",value:"kz"}},{from:{field:"region",value:"418"},to:{field:"region",value:"la"}},{from:{field:"region",value:"422"},to:{field:"region",value:"lb"}},{from:{field:"region",value:"662"},to:{field:"region",value:"lc"}},{from:{field:"region",value:"438"},to:{field:"region",value:"li"}},{from:{field:"region",value:"144"},to:{field:"region",value:"lk"}},{from:{field:"region",value:"430"},to:{field:"region",value:"lr"}},{from:{field:"region",value:"426"},to:{field:"region",value:"ls"}},{from:{field:"region",value:"440"},to:{field:"region",value:"lt"}},{from:{field:"region",value:"442"},to:{field:"region",value:"lu"}},{from:{field:"region",value:"428"},to:{field:"region",value:"lv"}},{from:{field:"region",value:"434"},to:{field:"region",value:"ly"}},{from:{field:"region",value:"504"},to:{field:"region",value:"ma"}},{from:{field:"region",value:"492"},to:{field:"region",value:"mc"}},{from:{field:"region",value:"498"},to:{field:"region",value:"md"}},{from:{field:"region",value:"499"},to:{field:"region",value:"me"}},{from:{field:"region",value:"663"},to:{field:"region",value:"mf"}},{from:{field:"region",value:"450"},to:{field:"region",value:"mg"}},{from:{field:"region",value:"584"},to:{field:"region",value:"mh"}},{from:{field:"region",value:"807"},to:{field:"region",value:"mk"}},{from:{field:"region",value:"466"},to:{field:"region",value:"ml"}},{from:{field:"region",value:"496"},to:{field:"region",value:"mn"}},{from:{field:"region",value:"446"},to:{field:"region",value:"mo"}},{from:{field:"region",value:"580"},to:{field:"region",value:"mp"}},{from:{field:"region",value:"474"},to:{field:"region",value:"mq"}},{from:{field:"region",value:"478"},to:{field:"region",value:"mr"}},{from:{field:"region",value:"500"},to:{field:"region",value:"ms"}},{from:{field:"region",value:"470"},to:{field:"region",value:"mt"}},{from:{field:"region",value:"480"},to:{field:"region",value:"mu"}},{from:{field:"region",value:"462"},to:{field:"region",value:"mv"}},{from:{field:"region",value:"454"},to:{field:"region",value:"mw"}},{from:{field:"region",value:"484"},to:{field:"region",value:"mx"}},{from:{field:"region",value:"458"},to:{field:"region",value:"my"}},{from:{field:"region",value:"508"},to:{field:"region",value:"mz"}},{from:{field:"region",value:"516"},to:{field:"region",value:"na"}},{from:{field:"region",value:"540"},to:{field:"region",value:"nc"}},{from:{field:"region",value:"562"},to:{field:"region",value:"ne"}},{from:{field:"region",value:"574"},to:{field:"region",value:"nf"}},{from:{field:"region",value:"566"},to:{field:"region",value:"ng"}},{from:{field:"region",value:"558"},to:{field:"region",value:"ni"}},{from:{field:"region",value:"528"},to:{field:"region",value:"nl"}},{from:{field:"region",value:"578"},to:{field:"region",value:"no"}},{from:{field:"region",value:"524"},to:{field:"region",value:"np"}},{from:{field:"region",value:"520"},to:{field:"region",value:"nr"}},{from:{field:"region",value:"570"},to:{field:"region",value:"nu"}},{from:{field:"region",value:"554"},to:{field:"region",value:"nz"}},{from:{field:"region",value:"512"},to:{field:"region",value:"om"}},{from:{field:"region",value:"591"},to:{field:"region",value:"pa"}},{from:{field:"region",value:"604"},to:{field:"region",value:"pe"}},{from:{field:"region",value:"258"},to:{field:"region",value:"pf"}},{from:{field:"region",value:"598"},to:{field:"region",value:"pg"}},{from:{field:"region",value:"608"},to:{field:"region",value:"ph"}},{from:{field:"region",value:"586"},to:{field:"region",value:"pk"}},{from:{field:"region",value:"616"},to:{field:"region",value:"pl"}},{from:{field:"region",value:"666"},to:{field:"region",value:"pm"}},{from:{field:"region",value:"612"},to:{field:"region",value:"pn"}},{from:{field:"region",value:"630"},to:{field:"region",value:"pr"}},{from:{field:"region",value:"275"},to:{field:"region",value:"ps"}},{from:{field:"region",value:"620"},to:{field:"region",value:"pt"}},{from:{field:"region",value:"585"},to:{field:"region",value:"pw"}},{from:{field:"region",value:"600"},to:{field:"region",value:"py"}},{from:{field:"region",value:"634"},to:{field:"region",value:"qa"}},{from:{field:"region",value:"959"},to:{field:"region",value:"qm"}},{from:{field:"region",value:"960"},to:{field:"region",value:"qn"}},{from:{field:"region",value:"962"},to:{field:"region",value:"qp"}},{from:{field:"region",value:"963"},to:{field:"region",value:"qq"}},{from:{field:"region",value:"964"},to:{field:"region",value:"qr"}},{from:{field:"region",value:"965"},to:{field:"region",value:"qs"}},{from:{field:"region",value:"966"},to:{field:"region",value:"qt"}},{from:{field:"region",value:"967"},to:{field:"region",value:"eu"}},{from:{field:"region",value:"968"},to:{field:"region",value:"qv"}},{from:{field:"region",value:"969"},to:{field:"region",value:"qw"}},{from:{field:"region",value:"970"},to:{field:"region",value:"qx"}},{from:{field:"region",value:"971"},to:{field:"region",value:"qy"}},{from:{field:"region",value:"972"},to:{field:"region",value:"qz"}},{from:{field:"region",value:"638"},to:{field:"region",value:"re"}},{from:{field:"region",value:"642"},to:{field:"region",value:"ro"}},{from:{field:"region",value:"688"},to:{field:"region",value:"rs"}},{from:{field:"region",value:"643"},to:{field:"region",value:"ru"}},{from:{field:"region",value:"646"},to:{field:"region",value:"rw"}},{from:{field:"region",value:"682"},to:{field:"region",value:"sa"}},{from:{field:"region",value:"090"},to:{field:"region",value:"sb"}},{from:{field:"region",value:"690"},to:{field:"region",value:"sc"}},{from:{field:"region",value:"729"},to:{field:"region",value:"sd"}},{from:{field:"region",value:"752"},to:{field:"region",value:"se"}},{from:{field:"region",value:"702"},to:{field:"region",value:"sg"}},{from:{field:"region",value:"654"},to:{field:"region",value:"sh"}},{from:{field:"region",value:"705"},to:{field:"region",value:"si"}},{from:{field:"region",value:"744"},to:{field:"region",value:"sj"}},{from:{field:"region",value:"703"},to:{field:"region",value:"sk"}},{from:{field:"region",value:"694"},to:{field:"region",value:"sl"}},{from:{field:"region",value:"674"},to:{field:"region",value:"sm"}},{from:{field:"region",value:"686"},to:{field:"region",value:"sn"}},{from:{field:"region",value:"706"},to:{field:"region",value:"so"}},{from:{field:"region",value:"740"},to:{field:"region",value:"sr"}},{from:{field:"region",value:"728"},to:{field:"region",value:"ss"}},{from:{field:"region",value:"678"},to:{field:"region",value:"st"}},{from:{field:"region",value:"222"},to:{field:"region",value:"sv"}},{from:{field:"region",value:"534"},to:{field:"region",value:"sx"}},{from:{field:"region",value:"760"},to:{field:"region",value:"sy"}},{from:{field:"region",value:"748"},to:{field:"region",value:"sz"}},{from:{field:"region",value:"796"},to:{field:"region",value:"tc"}},{from:{field:"region",value:"148"},to:{field:"region",value:"td"}},{from:{field:"region",value:"260"},to:{field:"region",value:"tf"}},{from:{field:"region",value:"768"},to:{field:"region",value:"tg"}},{from:{field:"region",value:"764"},to:{field:"region",value:"th"}},{from:{field:"region",value:"762"},to:{field:"region",value:"tj"}},{from:{field:"region",value:"772"},to:{field:"region",value:"tk"}},{from:{field:"region",value:"626"},to:{field:"region",value:"tl"}},{from:{field:"region",value:"795"},to:{field:"region",value:"tm"}},{from:{field:"region",value:"788"},to:{field:"region",value:"tn"}},{from:{field:"region",value:"776"},to:{field:"region",value:"to"}},{from:{field:"region",value:"792"},to:{field:"region",value:"tr"}},{from:{field:"region",value:"780"},to:{field:"region",value:"tt"}},{from:{field:"region",value:"798"},to:{field:"region",value:"tv"}},{from:{field:"region",value:"158"},to:{field:"region",value:"tw"}},{from:{field:"region",value:"834"},to:{field:"region",value:"tz"}},{from:{field:"region",value:"804"},to:{field:"region",value:"ua"}},{from:{field:"region",value:"800"},to:{field:"region",value:"ug"}},{from:{field:"region",value:"581"},to:{field:"region",value:"um"}},{from:{field:"region",value:"840"},to:{field:"region",value:"us"}},{from:{field:"region",value:"858"},to:{field:"region",value:"uy"}},{from:{field:"region",value:"860"},to:{field:"region",value:"uz"}},{from:{field:"region",value:"336"},to:{field:"region",value:"va"}},{from:{field:"region",value:"670"},to:{field:"region",value:"vc"}},{from:{field:"region",value:"862"},to:{field:"region",value:"ve"}},{from:{field:"region",value:"092"},to:{field:"region",value:"vg"}},{from:{field:"region",value:"850"},to:{field:"region",value:"vi"}},{from:{field:"region",value:"704"},to:{field:"region",value:"vn"}},{from:{field:"region",value:"548"},to:{field:"region",value:"vu"}},{from:{field:"region",value:"876"},to:{field:"region",value:"wf"}},{from:{field:"region",value:"882"},to:{field:"region",value:"ws"}},{from:{field:"region",value:"973"},to:{field:"region",value:"xa"}},{from:{field:"region",value:"974"},to:{field:"region",value:"xb"}},{from:{field:"region",value:"975"},to:{field:"region",value:"xc"}},{from:{field:"region",value:"976"},to:{field:"region",value:"xd"}},{from:{field:"region",value:"977"},to:{field:"region",value:"xe"}},{from:{field:"region",value:"978"},to:{field:"region",value:"xf"}},{from:{field:"region",value:"979"},to:{field:"region",value:"xg"}},{from:{field:"region",value:"980"},to:{field:"region",value:"xh"}},{from:{field:"region",value:"981"},to:{field:"region",value:"xi"}},{from:{field:"region",value:"982"},to:{field:"region",value:"xj"}},{from:{field:"region",value:"983"},to:{field:"region",value:"xk"}},{from:{field:"region",value:"984"},to:{field:"region",value:"xl"}},{from:{field:"region",value:"985"},to:{field:"region",value:"xm"}},{from:{field:"region",value:"986"},to:{field:"region",value:"xn"}},{from:{field:"region",value:"987"},to:{field:"region",value:"xo"}},{from:{field:"region",value:"988"},to:{field:"region",value:"xp"}},{from:{field:"region",value:"989"},to:{field:"region",value:"xq"}},{from:{field:"region",value:"990"},to:{field:"region",value:"xr"}},{from:{field:"region",value:"991"},to:{field:"region",value:"xs"}},{from:{field:"region",value:"992"},to:{field:"region",value:"xt"}},{from:{field:"region",value:"993"},to:{field:"region",value:"xu"}},{from:{field:"region",value:"994"},to:{field:"region",value:"xv"}},{from:{field:"region",value:"995"},to:{field:"region",value:"xw"}},{from:{field:"region",value:"996"},to:{field:"region",value:"xx"}},{from:{field:"region",value:"997"},to:{field:"region",value:"xy"}},{from:{field:"region",value:"998"},to:{field:"region",value:"xz"}},{from:{field:"region",value:"720"},to:{field:"region",value:"ye"}},{from:{field:"region",value:"887"},to:{field:"region",value:"ye"}},{from:{field:"region",value:"175"},to:{field:"region",value:"yt"}},{from:{field:"region",value:"710"},to:{field:"region",value:"za"}},{from:{field:"region",value:"894"},to:{field:"region",value:"zm"}},{from:{field:"region",value:"716"},to:{field:"region",value:"zw"}},{from:{field:"region",value:"999"},to:{field:"region",value:"zz"}},{from:{field:"variants",value:"polytoni"},to:{field:"variants",value:"polyton"}},{from:{field:"variants",value:"heploc"},to:{field:"variants",value:"alalc97"}}],Kd={region:{172:["ru","am","az","by","ge","kg","kz","md","tj","tm","ua","uz"],200:["cz","sk"],530:["cw","sx","bq"],532:["cw","sx","bq"],536:["sa","iq"],582:["fm","mh","mp","pw"],810:["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],830:["je","gg"],890:["rs","me","si","hr","mk","ba"],891:["rs","me"],an:["cw","sx","bq"],cs:["rs","me"],fq:["aq","tf"],nt:["sa","iq"],pc:["fm","mh","mp","pw"],su:["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],yu:["rs","me"],"062":["034","143"],ant:["cw","sx","bq"],scg:["rs","me"],ntz:["sa","iq"],sun:["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],yug:["rs","me"]}},zi={aa:"aa-latn-et",aaa:"aaa-latn-ng",aab:"aab-latn-ng",aac:"aac-latn-pg",aad:"aad-latn-pg",aae:"aae-latn-it","aae-grek":"aae-grek-it",aaf:"aaf-mlym-in","aaf-arab":"aaf-arab-in",aag:"aag-latn-pg",aah:"aah-latn-pg",aai:"aai-latn-zz",aak:"aak-latn-zz",aal:"aal-latn-cm",aan:"aan-latn-br",aao:"aao-arab-dz",aap:"aap-latn-br",aaq:"aaq-latn-us",aas:"aas-latn-tz",aat:"aat-grek-gr",aau:"aau-latn-zz",aaw:"aaw-latn-pg",aax:"aax-latn-id",aaz:"aaz-latn-id",ab:"ab-cyrl-ge",aba:"aba-latn-ci",abb:"abb-latn-cm",abc:"abc-latn-ph",abd:"abd-latn-ph",abe:"abe-latn-ca",abf:"abf-latn-my",abg:"abg-latn-pg",abh:"abh-arab-tj",abi:"abi-latn-zz",abl:"abl-rjng-id","abl-latn":"abl-latn-id",abm:"abm-latn-ng",abn:"abn-latn-ng",abo:"abo-latn-ng",abp:"abp-latn-ph",abq:"abq-cyrl-zz",abr:"abr-latn-gh",abs:"abs-latn-id",abt:"abt-latn-zz",abu:"abu-latn-ci",abv:"abv-arab-bh",abw:"abw-latn-pg",abx:"abx-latn-ph",aby:"aby-latn-zz",abz:"abz-latn-id",aca:"aca-latn-co",acb:"acb-latn-ng",acd:"acd-latn-zz",ace:"ace-latn-id",acf:"acf-latn-lc",ach:"ach-latn-ug",acm:"acm-arab-iq",acn:"acn-latn-cn",acp:"acp-latn-ng",acq:"acq-arab-ye",acr:"acr-latn-gt",acs:"acs-latn-br",act:"act-latn-nl",acu:"acu-latn-ec",acv:"acv-latn-us",acw:"acw-arab-sa",acx:"acx-arab-om",acy:"acy-latn-cy","acy-arab":"acy-arab-cy","acy-grek":"acy-grek-cy",acz:"acz-latn-sd",ada:"ada-latn-gh",adb:"adb-latn-tl",add:"add-latn-cm",ade:"ade-latn-zz",adf:"adf-arab-om",adg:"adg-latn-au",adh:"adh-latn-ug",adi:"adi-latn-in","adi-tibt":"adi-tibt-cn",adj:"adj-latn-zz",adl:"adl-latn-in",adn:"adn-latn-id",ado:"ado-latn-pg",adp:"adp-tibt-bt",adq:"adq-latn-gh",adr:"adr-latn-id",adt:"adt-latn-au",adu:"adu-latn-ng",adw:"adw-latn-br",adx:"adx-tibt-cn",ady:"ady-cyrl-ru",adz:"adz-latn-zz",ae:"ae-avst-ir",aea:"aea-latn-au",aeb:"aeb-arab-tn",aec:"aec-arab-eg",aee:"aee-arab-af",aek:"aek-latn-nc",ael:"ael-latn-cm",aem:"aem-latn-vn",aeq:"aeq-arab-pk",aer:"aer-latn-au",aeu:"aeu-latn-cn",aew:"aew-latn-pg",aey:"aey-latn-zz",aez:"aez-latn-pg",af:"af-latn-za",afb:"afb-arab-kw",afd:"afd-latn-pg",afe:"afe-latn-ng",afh:"afh-latn-gh",afi:"afi-latn-pg",afk:"afk-latn-pg",afn:"afn-latn-ng",afo:"afo-latn-ng",afp:"afp-latn-pg",afs:"afs-latn-mx",afu:"afu-latn-gh",afz:"afz-latn-id",aga:"aga-latn-pe",agb:"agb-latn-ng",agc:"agc-latn-zz",agd:"agd-latn-zz",age:"age-latn-pg",agf:"agf-latn-id",agg:"agg-latn-zz",agh:"agh-latn-cd",agi:"agi-deva-in",agj:"agj-ethi-et","agj-arab":"agj-arab-et",agk:"agk-latn-ph",agl:"agl-latn-pg",agm:"agm-latn-zz",agn:"agn-latn-ph",ago:"ago-latn-zz",agq:"agq-latn-cm",agr:"agr-latn-pe",ags:"ags-latn-cm",agt:"agt-latn-ph",agu:"agu-latn-gt",agv:"agv-latn-ph",agw:"agw-latn-sb",agx:"agx-cyrl-ru",agy:"agy-latn-ph",agz:"agz-latn-ph",aha:"aha-latn-zz",ahb:"ahb-latn-vu",ahg:"ahg-ethi-et",ahh:"ahh-latn-id",ahi:"ahi-latn-ci",ahk:"ahk-latn-mm","ahk-mymr":"ahk-mymr-mm","ahk-th":"ahk-latn-th","ahk-thai":"ahk-thai-th",ahl:"ahl-latn-zz",ahm:"ahm-latn-ci",ahn:"ahn-latn-ng",aho:"aho-ahom-in",ahp:"ahp-latn-ci",ahr:"ahr-deva-in",ahs:"ahs-latn-ng",aht:"aht-latn-us",aia:"aia-latn-sb",aib:"aib-arab-cn",aic:"aic-latn-pg",aid:"aid-latn-au",aie:"aie-latn-pg",aif:"aif-latn-pg",aig:"aig-latn-ag",aij:"aij-hebr-il",aik:"aik-latn-ng",ail:"ail-latn-pg",aim:"aim-latn-in",ain:"ain-kana-jp","ain-latn":"ain-latn-jp",aio:"aio-mymr-in",aip:"aip-latn-id",aiq:"aiq-arab-af",air:"air-latn-id",ait:"ait-latn-br",aiw:"aiw-latn-et","aiw-arab":"aiw-arab-et","aiw-ethi":"aiw-ethi-et",aix:"aix-latn-pg",aiy:"aiy-latn-cf",aja:"aja-latn-ss",ajg:"ajg-latn-zz",aji:"aji-latn-nc",ajn:"ajn-latn-au",ajp:"ajp-arab-jo",ajt:"ajt-arab-tn",ajw:"ajw-latn-ng",ajz:"ajz-latn-in",ak:"ak-latn-gh",akb:"akb-latn-id","akb-batk":"akb-batk-id",akc:"akc-latn-id",akd:"akd-latn-ng",ake:"ake-latn-gy",akf:"akf-latn-ng",akg:"akg-latn-id",akh:"akh-latn-pg",aki:"aki-latn-pg",akk:"akk-xsux-iq",akl:"akl-latn-ph",ako:"ako-latn-sr",akp:"akp-latn-gh",akq:"akq-latn-pg",akr:"akr-latn-vu",aks:"aks-latn-tg",akt:"akt-latn-pg",aku:"aku-latn-cm",akv:"akv-cyrl-ru",akw:"akw-latn-cg",akz:"akz-latn-us",ala:"ala-latn-zz",alc:"alc-latn-cl",ald:"ald-latn-ci",ale:"ale-latn-us",alf:"alf-latn-ng",alh:"alh-latn-au",ali:"ali-latn-zz",alj:"alj-latn-ph",alk:"alk-laoo-la",all:"all-mlym-in",alm:"alm-latn-vu",aln:"aln-latn-xk",alo:"alo-latn-id",alp:"alp-latn-id",alq:"alq-latn-ca",alr:"alr-cyrl-ru",alt:"alt-cyrl-ru",alu:"alu-latn-sb",alw:"alw-ethi-et",alx:"alx-latn-pg",aly:"aly-latn-au",alz:"alz-latn-cd",am:"am-ethi-et",ama:"ama-latn-br",amb:"amb-latn-ng",amc:"amc-latn-pe",ame:"ame-latn-pe",amf:"amf-latn-et","amf-ethi":"amf-ethi-et",amg:"amg-latn-au",ami:"ami-latn-tw",amj:"amj-latn-td",amk:"amk-latn-id",amm:"amm-latn-zz",amn:"amn-latn-zz",amo:"amo-latn-ng",amp:"amp-latn-zz",amq:"amq-latn-id",amr:"amr-latn-pe",ams:"ams-jpan-jp",amt:"amt-latn-pg",amu:"amu-latn-mx",amv:"amv-latn-id",amw:"amw-syrc-sy","amw-arab":"amw-arab-sy","amw-armi":"amw-armi-sy","amw-latn":"amw-latn-sy",amx:"amx-latn-au",amy:"amy-latn-au",amz:"amz-latn-au",an:"an-latn-es",ana:"ana-latn-co",anb:"anb-latn-pe",anc:"anc-latn-zz",and:"and-latn-id",ane:"ane-latn-nc",anf:"anf-latn-gh",ang:"ang-latn-gb",anh:"anh-latn-pg",ani:"ani-cyrl-ru",anj:"anj-latn-pg",ank:"ank-latn-zz",anl:"anl-latn-mm",anm:"anm-latn-in",ann:"ann-latn-ng",ano:"ano-latn-co",anp:"anp-deva-in",anr:"anr-deva-in",ans:"ans-latn-co",ant:"ant-latn-au",anu:"anu-ethi-et","anu-arab":"anu-arab-ss","anu-latn":"anu-latn-ss",anv:"anv-latn-cm",anw:"anw-latn-ng",anx:"anx-latn-pg",any:"any-latn-zz",anz:"anz-latn-pg",aoa:"aoa-latn-st",aob:"aob-latn-pg",aoc:"aoc-latn-ve",aod:"aod-latn-pg",aoe:"aoe-latn-pg",aof:"aof-latn-pg",aog:"aog-latn-pg",aoi:"aoi-latn-au",aoj:"aoj-latn-zz",aok:"aok-latn-nc",aol:"aol-latn-id",aom:"aom-latn-zz",aon:"aon-latn-pg",aor:"aor-latn-vu",aos:"aos-latn-id",aot:"aot-beng-bd","aot-latn":"aot-latn-in",aox:"aox-latn-gy",aoz:"aoz-latn-id",apb:"apb-latn-sb",apc:"apc-arab-sy",apd:"apd-arab-tg",ape:"ape-latn-zz",apf:"apf-latn-ph",apg:"apg-latn-id",aph:"aph-deva-np",api:"api-latn-br",apj:"apj-latn-us",apk:"apk-latn-us",apl:"apl-latn-us",apm:"apm-latn-us",apn:"apn-latn-br",apo:"apo-latn-pg",app:"app-latn-vu",apr:"apr-latn-zz",aps:"aps-latn-zz",apt:"apt-latn-in",apu:"apu-latn-br",apv:"apv-latn-br",apw:"apw-latn-us",apx:"apx-latn-id",apy:"apy-latn-br",apz:"apz-latn-zz",aqc:"aqc-cyrl-ru",aqd:"aqd-latn-ml",aqg:"aqg-latn-ng",aqk:"aqk-latn-ng",aqm:"aqm-latn-id",aqn:"aqn-latn-ph",aqr:"aqr-latn-nc",aqt:"aqt-latn-py",aqz:"aqz-latn-br",ar:"ar-arab-eg",arc:"arc-armi-ir","arc-nbat":"arc-nbat-jo","arc-palm":"arc-palm-sy",ard:"ard-latn-au",are:"are-latn-au",arh:"arh-latn-zz",ari:"ari-latn-us",arj:"arj-latn-br",ark:"ark-latn-br",arl:"arl-latn-pe",arn:"arn-latn-cl",aro:"aro-latn-bo",arp:"arp-latn-us",arq:"arq-arab-dz",arr:"arr-latn-br",ars:"ars-arab-sa",aru:"aru-latn-br",arw:"arw-latn-sr",arx:"arx-latn-br",ary:"ary-arab-ma",arz:"arz-arab-eg",as:"as-beng-in",asa:"asa-latn-tz",asb:"asb-latn-ca",asc:"asc-latn-id",ase:"ase-sgnw-us",asg:"asg-latn-zz",ash:"ash-latn-pe",asi:"asi-latn-id",asj:"asj-latn-cm",ask:"ask-arab-af",asl:"asl-latn-id",asn:"asn-latn-br",aso:"aso-latn-zz",ass:"ass-latn-cm",ast:"ast-latn-es",asu:"asu-latn-br",asv:"asv-latn-cd",asx:"asx-latn-pg",asy:"asy-latn-id",asz:"asz-latn-id",ata:"ata-latn-zz",atb:"atb-latn-cn","atb-lisu":"atb-lisu-cn",atc:"atc-latn-pe",atd:"atd-latn-ph",ate:"ate-latn-pg",atg:"atg-latn-zz",ati:"ati-latn-ci",atj:"atj-latn-ca",atk:"atk-latn-ph",atl:"atl-latn-ph",atm:"atm-latn-ph",atn:"atn-arab-ir",ato:"ato-latn-cm",atp:"atp-latn-ph",atq:"atq-latn-id",atr:"atr-latn-br",ats:"ats-latn-us",att:"att-latn-ph",atu:"atu-latn-ss",atv:"atv-cyrl-ru",atw:"atw-latn-us",atx:"atx-latn-br",aty:"aty-latn-vu",atz:"atz-latn-ph",aua:"aua-latn-sb",auc:"auc-latn-ec",aud:"aud-latn-sb",aug:"aug-latn-bj",auh:"auh-latn-zm",aui:"aui-latn-pg",auj:"auj-arab-ly","auj-latn":"auj-latn-ly","auj-tfng":"auj-tfng-ly",auk:"auk-latn-pg",aul:"aul-latn-vu",aum:"aum-latn-ng",aun:"aun-latn-pg",auo:"auo-latn-ng",aup:"aup-latn-pg",auq:"auq-latn-id",aur:"aur-latn-pg",aut:"aut-latn-pf",auu:"auu-latn-id",auw:"auw-latn-id",auy:"auy-latn-zz",auz:"auz-arab-uz",av:"av-cyrl-ru",avb:"avb-latn-pg",avd:"avd-arab-ir",avi:"avi-latn-ci",avk:"avk-latn-001",avl:"avl-arab-zz",avm:"avm-latn-au",avn:"avn-latn-zz",avo:"avo-latn-br",avs:"avs-latn-pe",avt:"avt-latn-zz",avu:"avu-latn-zz",avv:"avv-latn-br",awa:"awa-deva-in",awb:"awb-latn-zz",awc:"awc-latn-ng",awe:"awe-latn-br",awg:"awg-latn-au",awh:"awh-latn-id",awi:"awi-latn-pg",awk:"awk-latn-au",awm:"awm-latn-pg",awn:"awn-ethi-et",awo:"awo-latn-zz",awr:"awr-latn-id",aws:"aws-latn-id",awt:"awt-latn-br",awu:"awu-latn-id",awv:"awv-latn-id",aww:"aww-latn-pg",awx:"awx-latn-zz",awy:"awy-latn-id",axb:"axb-latn-ar",axe:"axe-latn-au",axg:"axg-latn-br",axk:"axk-latn-cf",axl:"axl-latn-au",axm:"axm-armn-am",axx:"axx-latn-nc",ay:"ay-latn-bo",aya:"aya-latn-pg",ayb:"ayb-latn-zz",ayc:"ayc-latn-pe",ayd:"ayd-latn-au",aye:"aye-latn-ng",ayg:"ayg-latn-tg",ayh:"ayh-arab-ye",ayi:"ayi-latn-ng",ayk:"ayk-latn-ng",ayl:"ayl-arab-ly",ayn:"ayn-arab-ye",ayo:"ayo-latn-py",ayp:"ayp-arab-iq",ayq:"ayq-latn-pg",ays:"ays-latn-ph",ayt:"ayt-latn-ph",ayu:"ayu-latn-ng",ayz:"ayz-latn-id",az:"az-latn-az","az-arab":"az-arab-ir","az-iq":"az-arab-iq","az-ir":"az-arab-ir","az-ru":"az-cyrl-ru",azb:"azb-arab-ir","azb-cyrl":"azb-cyrl-az","azb-latn":"azb-latn-az",azd:"azd-latn-mx",azg:"azg-latn-mx",azm:"azm-latn-mx",azn:"azn-latn-mx",azo:"azo-latn-cm",azt:"azt-latn-ph",azz:"azz-latn-mx",ba:"ba-cyrl-ru",baa:"baa-latn-sb",bab:"bab-latn-gw",bac:"bac-latn-id",bae:"bae-latn-ve",baf:"baf-latn-cm",bag:"bag-latn-cm",bah:"bah-latn-bs",baj:"baj-latn-id",bal:"bal-arab-pk",ban:"ban-latn-id",bao:"bao-latn-co",bap:"bap-deva-np",bar:"bar-latn-at",bas:"bas-latn-cm",bau:"bau-latn-ng",bav:"bav-latn-zz",baw:"baw-latn-cm",bax:"bax-bamu-cm",bay:"bay-latn-id",bba:"bba-latn-zz",bbb:"bbb-latn-zz",bbc:"bbc-latn-id",bbd:"bbd-latn-zz",bbe:"bbe-latn-cd",bbf:"bbf-latn-pg",bbg:"bbg-latn-ga",bbi:"bbi-latn-cm",bbj:"bbj-latn-cm",bbk:"bbk-latn-cm",bbl:"bbl-geor-ge",bbm:"bbm-latn-cd",bbn:"bbn-latn-pg",bbo:"bbo-latn-bf",bbp:"bbp-latn-zz",bbq:"bbq-latn-cm",bbr:"bbr-latn-zz",bbs:"bbs-latn-ng",bbt:"bbt-latn-ng",bbu:"bbu-latn-ng",bbv:"bbv-latn-pg",bbw:"bbw-latn-cm",bbx:"bbx-latn-cm",bby:"bby-latn-cm",bca:"bca-latn-cn","bca-hani":"bca-hani-cn",bcb:"bcb-latn-sn",bcd:"bcd-latn-id",bce:"bce-latn-cm",bcf:"bcf-latn-zz",bcg:"bcg-latn-gn",bch:"bch-latn-zz",bci:"bci-latn-ci",bcj:"bcj-latn-au",bck:"bck-latn-au",bcm:"bcm-latn-zz",bcn:"bcn-latn-zz",bco:"bco-latn-zz",bcp:"bcp-latn-cd",bcq:"bcq-ethi-zz",bcr:"bcr-latn-ca",bcs:"bcs-latn-ng",bct:"bct-latn-cd",bcu:"bcu-latn-zz",bcv:"bcv-latn-ng",bcw:"bcw-latn-cm",bcy:"bcy-latn-ng",bcz:"bcz-latn-sn",bda:"bda-latn-sn",bdb:"bdb-latn-id",bdc:"bdc-latn-co",bdd:"bdd-latn-zz",bde:"bde-latn-ng",bdf:"bdf-latn-pg",bdg:"bdg-latn-my",bdh:"bdh-latn-ss",bdi:"bdi-latn-sd",bdj:"bdj-latn-ss",bdk:"bdk-latn-az",bdl:"bdl-latn-id",bdm:"bdm-latn-td",bdn:"bdn-latn-cm",bdo:"bdo-latn-td",bdp:"bdp-latn-tz",bdq:"bdq-latn-vn",bdr:"bdr-latn-my",bds:"bds-latn-tz",bdt:"bdt-latn-cf",bdu:"bdu-latn-cm",bdv:"bdv-orya-in",bdw:"bdw-latn-id",bdx:"bdx-latn-id",bdy:"bdy-latn-au",bdz:"bdz-arab-pk",be:"be-cyrl-by",bea:"bea-latn-ca","bea-cans":"bea-cans-ca",beb:"beb-latn-cm",bec:"bec-latn-cm",bed:"bed-latn-id",bee:"bee-deva-in",bef:"bef-latn-zz",beh:"beh-latn-zz",bei:"bei-latn-id",bej:"bej-arab-sd",bek:"bek-latn-pg",bem:"bem-latn-zm",beo:"beo-latn-pg",bep:"bep-latn-id",beq:"beq-latn-cg",bes:"bes-latn-td",bet:"bet-latn-zz",beu:"beu-latn-id",bev:"bev-latn-ci",bew:"bew-latn-id",bex:"bex-latn-zz",bey:"bey-latn-pg",bez:"bez-latn-tz",bfa:"bfa-latn-ss","bfa-arab":"bfa-arab-ss",bfb:"bfb-deva-in",bfc:"bfc-latn-cn",bfd:"bfd-latn-cm",bfe:"bfe-latn-id",bff:"bff-latn-cf",bfg:"bfg-latn-id",bfh:"bfh-latn-pg",bfj:"bfj-latn-cm",bfl:"bfl-latn-cf",bfm:"bfm-latn-cm",bfn:"bfn-latn-tl",bfo:"bfo-latn-bf",bfp:"bfp-latn-cm",bfq:"bfq-taml-in",bfs:"bfs-latn-cn","bfs-hani":"bfs-hani-cn",bft:"bft-arab-pk",bfu:"bfu-tibt-in","bfu-takr":"bfu-takr-in",bfw:"bfw-orya-in",bfx:"bfx-latn-ph",bfy:"bfy-deva-in",bfz:"bfz-deva-in",bg:"bg-cyrl-bg",bga:"bga-latn-ng",bgb:"bgb-latn-id",bgc:"bgc-deva-in",bgd:"bgd-deva-in",bgf:"bgf-latn-cm",bgg:"bgg-latn-in",bgi:"bgi-latn-ph",bgj:"bgj-latn-cm",bgn:"bgn-arab-pk",bgo:"bgo-latn-gn",bgp:"bgp-arab-pk",bgq:"bgq-deva-in",bgr:"bgr-latn-in",bgs:"bgs-latn-ph",bgt:"bgt-latn-sb",bgu:"bgu-latn-ng",bgv:"bgv-latn-id",bgw:"bgw-deva-in",bgx:"bgx-grek-tr",bgy:"bgy-latn-id",bgz:"bgz-latn-id",bha:"bha-deva-in",bhb:"bhb-deva-in",bhc:"bhc-latn-id",bhd:"bhd-deva-in","bhd-arab":"bhd-arab-in","bhd-takr":"bhd-takr-in",bhe:"bhe-arab-pk",bhf:"bhf-latn-pg",bhg:"bhg-latn-zz",bhh:"bhh-cyrl-il","bhh-hebr":"bhh-hebr-il","bhh-latn":"bhh-latn-il",bhi:"bhi-deva-in",bhj:"bhj-deva-np",bhl:"bhl-latn-zz",bhm:"bhm-arab-om",bhn:"bhn-syrc-ge",bho:"bho-deva-in",bhp:"bhp-latn-id",bhq:"bhq-latn-id",bhr:"bhr-latn-mg",bhs:"bhs-latn-cm",bht:"bht-takr-in","bht-deva":"bht-deva-in","bht-latn":"bht-latn-in",bhu:"bhu-deva-in",bhv:"bhv-latn-id",bhw:"bhw-latn-id",bhy:"bhy-latn-zz",bhz:"bhz-latn-id",bi:"bi-latn-vu",bia:"bia-latn-au",bib:"bib-latn-zz",bid:"bid-latn-td",bie:"bie-latn-pg",bif:"bif-latn-gw",big:"big-latn-zz",bik:"bik-latn-ph",bil:"bil-latn-ng",bim:"bim-latn-zz",bin:"bin-latn-ng",bio:"bio-latn-zz",bip:"bip-latn-cd",biq:"biq-latn-zz",bir:"bir-latn-pg",bit:"bit-latn-pg",biu:"biu-latn-in",biv:"biv-latn-gh",biw:"biw-latn-cm",biy:"biy-deva-in",biz:"biz-latn-cd",bja:"bja-latn-cd",bjb:"bjb-latn-au",bjc:"bjc-latn-pg",bjf:"bjf-syrc-il",bjg:"bjg-latn-gw",bjh:"bjh-latn-zz",bji:"bji-ethi-zz",bjj:"bjj-deva-in",bjk:"bjk-latn-pg",bjl:"bjl-latn-pg",bjm:"bjm-arab-iq",bjn:"bjn-latn-id",bjo:"bjo-latn-zz",bjp:"bjp-latn-pg",bjr:"bjr-latn-zz",bjs:"bjs-latn-bb",bjt:"bjt-latn-sn",bju:"bju-latn-cm",bjv:"bjv-latn-td",bjw:"bjw-latn-ci",bjx:"bjx-latn-ph",bjy:"bjy-latn-au",bjz:"bjz-latn-zz",bka:"bka-latn-ng",bkc:"bkc-latn-zz",bkd:"bkd-latn-ph",bkf:"bkf-latn-cd",bkg:"bkg-latn-cf",bkh:"bkh-latn-cm",bki:"bki-latn-vu",bkj:"bkj-latn-cf",bkl:"bkl-latn-id",bkm:"bkm-latn-cm",bkn:"bkn-latn-id",bko:"bko-latn-cm",bkp:"bkp-latn-cd",bkq:"bkq-latn-zz",bkr:"bkr-latn-id",bks:"bks-latn-ph",bkt:"bkt-latn-cd",bku:"bku-latn-ph",bkv:"bkv-latn-zz",bkw:"bkw-latn-cg",bkx:"bkx-latn-tl",bky:"bky-latn-ng",bkz:"bkz-latn-id",bla:"bla-latn-ca",blb:"blb-latn-sb",blc:"blc-latn-ca",bld:"bld-latn-id",ble:"ble-latn-gw",blf:"blf-latn-id",blg:"blg-latn-my",blh:"blh-latn-lr",bli:"bli-latn-cd",blj:"blj-latn-id",blk:"blk-mymr-mm",blm:"blm-latn-ss",bln:"bln-latn-ph",blo:"blo-latn-bj",blp:"blp-latn-sb",blq:"blq-latn-pg",blr:"blr-latn-cn","blr-tale":"blr-tale-cn","blr-thai":"blr-thai-th",bls:"bls-latn-id",blt:"blt-tavt-vn",blv:"blv-latn-ao",blw:"blw-latn-ph",blx:"blx-latn-ph",bly:"bly-latn-bj",blz:"blz-latn-id",bm:"bm-latn-ml",bma:"bma-latn-ng",bmb:"bmb-latn-cd",bmc:"bmc-latn-pg",bmd:"bmd-latn-gn",bme:"bme-latn-cf",bmf:"bmf-latn-sl",bmg:"bmg-latn-cd",bmh:"bmh-latn-zz",bmi:"bmi-latn-td",bmj:"bmj-deva-np",bmk:"bmk-latn-zz",bml:"bml-latn-cd",bmm:"bmm-latn-mg",bmn:"bmn-latn-pg",bmo:"bmo-latn-cm",bmp:"bmp-latn-pg",bmq:"bmq-latn-ml",bmr:"bmr-latn-co",bms:"bms-latn-ne",bmu:"bmu-latn-zz",bmv:"bmv-latn-cm",bmw:"bmw-latn-cg",bmx:"bmx-latn-pg",bmz:"bmz-latn-pg",bn:"bn-beng-bd",bna:"bna-latn-id",bnb:"bnb-latn-my",bnc:"bnc-latn-ph",bnd:"bnd-latn-id",bne:"bne-latn-id",bnf:"bnf-latn-id",bng:"bng-latn-zz",bni:"bni-latn-cd",bnj:"bnj-latn-ph",bnk:"bnk-latn-vu",bnm:"bnm-latn-zz",bnn:"bnn-latn-tw",bno:"bno-latn-ph",bnp:"bnp-latn-zz",bnq:"bnq-latn-id",bnr:"bnr-latn-vu",bns:"bns-deva-in",bnu:"bnu-latn-id",bnv:"bnv-latn-id",bnw:"bnw-latn-pg",bnx:"bnx-latn-cd",bny:"bny-latn-my",bnz:"bnz-latn-cm",bo:"bo-tibt-cn",boa:"boa-latn-pe",bob:"bob-latn-ke",boe:"boe-latn-cm",bof:"bof-latn-bf",boh:"boh-latn-cd",boj:"boj-latn-zz",bok:"bok-latn-cg",bol:"bol-latn-ng",bom:"bom-latn-zz",bon:"bon-latn-zz",boo:"boo-latn-ml",bop:"bop-latn-pg",boq:"boq-latn-pg",bor:"bor-latn-br",bot:"bot-latn-ss",bou:"bou-latn-tz",bov:"bov-latn-gh",bow:"bow-latn-pg",box:"box-latn-bf",boy:"boy-latn-cf",boz:"boz-latn-ml","boz-arab":"boz-arab-ml",bpa:"bpa-latn-vu",bpc:"bpc-latn-cm",bpd:"bpd-latn-cf",bpe:"bpe-latn-pg",bpg:"bpg-latn-id",bph:"bph-cyrl-ru",bpi:"bpi-latn-pg",bpj:"bpj-latn-cd",bpk:"bpk-latn-nc",bpl:"bpl-latn-au",bpm:"bpm-latn-pg",bpo:"bpo-latn-id",bpp:"bpp-latn-id",bpq:"bpq-latn-id",bpr:"bpr-latn-ph",bps:"bps-latn-ph",bpt:"bpt-latn-au",bpu:"bpu-latn-pg",bpv:"bpv-latn-id",bpw:"bpw-latn-pg",bpx:"bpx-deva-in",bpy:"bpy-beng-in",bpz:"bpz-latn-id",bqa:"bqa-latn-bj",bqb:"bqb-latn-id",bqc:"bqc-latn-zz",bqd:"bqd-latn-cm",bqf:"bqf-latn-gn","bqf-arab":"bqf-arab-gn",bqg:"bqg-latn-tg",bqi:"bqi-arab-ir",bqj:"bqj-latn-sn",bqk:"bqk-latn-cf",bql:"bql-latn-pg",bqm:"bqm-latn-cm",bqo:"bqo-latn-cm",bqp:"bqp-latn-zz",bqq:"bqq-latn-id",bqr:"bqr-latn-id",bqs:"bqs-latn-pg",bqt:"bqt-latn-cm",bqu:"bqu-latn-cd",bqv:"bqv-latn-ci",bqw:"bqw-latn-ng",bqx:"bqx-latn-ng",bqz:"bqz-latn-cm",br:"br-latn-fr",bra:"bra-deva-in",brb:"brb-khmr-kh","brb-laoo":"brb-laoo-la","brb-latn":"brb-latn-vn",brc:"brc-latn-gy",brd:"brd-deva-np",brf:"brf-latn-cd",brg:"brg-latn-bo",brh:"brh-arab-pk",bri:"bri-latn-cm",brj:"brj-latn-vu",brk:"brk-arab-sd",brl:"brl-latn-bw",brm:"brm-latn-cd",brn:"brn-latn-cr",brp:"brp-latn-id",brq:"brq-latn-pg",brr:"brr-latn-sb",brs:"brs-latn-id",brt:"brt-latn-ng",bru:"bru-latn-vn","bru-laoo":"bru-laoo-la","bru-thai":"bru-thai-la",brv:"brv-laoo-la",brx:"brx-deva-in",bry:"bry-latn-pg",brz:"brz-latn-zz",bs:"bs-latn-ba",bsa:"bsa-latn-id",bsb:"bsb-latn-bn",bsc:"bsc-latn-sn",bse:"bse-latn-cm",bsf:"bsf-latn-ng",bsh:"bsh-arab-af",bsi:"bsi-latn-cm",bsj:"bsj-latn-zz",bsk:"bsk-arab-pk","bsk-latn":"bsk-latn-pk",bsl:"bsl-latn-ng",bsm:"bsm-latn-id",bsn:"bsn-latn-co",bso:"bso-latn-td",bsp:"bsp-latn-gn",bsq:"bsq-bass-lr",bsr:"bsr-latn-ng",bss:"bss-latn-cm",bst:"bst-ethi-zz",bsu:"bsu-latn-id",bsv:"bsv-latn-gn","bsv-arab":"bsv-arab-gn",bsw:"bsw-latn-et","bsw-ethi":"bsw-ethi-et",bsx:"bsx-latn-ng",bsy:"bsy-latn-my",bta:"bta-latn-ng",btc:"btc-latn-cm",btd:"btd-batk-id",bte:"bte-latn-ng",btf:"btf-latn-td",btg:"btg-latn-ci",bth:"bth-latn-my",bti:"bti-latn-id",btj:"btj-latn-id",btm:"btm-batk-id",btn:"btn-latn-ph",bto:"bto-latn-ph",btp:"btp-latn-pg",btq:"btq-latn-my",btr:"btr-latn-vu",bts:"bts-latn-id","bts-batk":"bts-batk-id",btt:"btt-latn-zz",btu:"btu-latn-ng",btv:"btv-deva-pk",btw:"btw-latn-ph",btx:"btx-latn-id","btx-batk":"btx-batk-id",bty:"bty-latn-id",btz:"btz-latn-id",bua:"bua-cyrl-ru",bub:"bub-latn-td",buc:"buc-latn-yt",bud:"bud-latn-zz",bue:"bue-latn-ca",buf:"buf-latn-cd",bug:"bug-latn-id",buh:"buh-latn-cn",bui:"bui-latn-cg",buj:"buj-latn-ng",buk:"buk-latn-zz",bum:"bum-latn-cm",bun:"bun-latn-sl",buo:"buo-latn-zz",bup:"bup-latn-id",buq:"buq-latn-pg",bus:"bus-latn-zz",but:"but-latn-pg",buu:"buu-latn-zz",buv:"buv-latn-pg",buw:"buw-latn-ga",bux:"bux-latn-ng",buy:"buy-latn-sl",buz:"buz-latn-ng",bva:"bva-latn-td",bvb:"bvb-latn-gq",bvc:"bvc-latn-sb",bvd:"bvd-latn-sb",bve:"bve-latn-id",bvf:"bvf-latn-td",bvg:"bvg-latn-cm",bvh:"bvh-latn-ng",bvi:"bvi-latn-ss",bvj:"bvj-latn-ng",bvk:"bvk-latn-id",bvm:"bvm-latn-cm",bvn:"bvn-latn-pg",bvo:"bvo-latn-td",bvq:"bvq-latn-cf",bvr:"bvr-latn-au",bvt:"bvt-latn-id",bvu:"bvu-latn-id",bvv:"bvv-latn-ve",bvw:"bvw-latn-ng",bvx:"bvx-latn-cg",bvy:"bvy-latn-ph",bvz:"bvz-latn-id",bwa:"bwa-latn-nc",bwb:"bwb-latn-fj",bwc:"bwc-latn-zm",bwd:"bwd-latn-zz",bwe:"bwe-mymr-mm","bwe-latn":"bwe-latn-mm",bwf:"bwf-latn-pg",bwg:"bwg-latn-mz",bwh:"bwh-latn-cm",bwi:"bwi-latn-ve",bwj:"bwj-latn-bf",bwk:"bwk-latn-pg",bwl:"bwl-latn-cd",bwm:"bwm-latn-pg",bwo:"bwo-latn-et","bwo-ethi":"bwo-ethi-et",bwp:"bwp-latn-id",bwq:"bwq-latn-bf",bwr:"bwr-latn-zz",bws:"bws-latn-cd",bwt:"bwt-latn-cm",bwu:"bwu-latn-gh",bww:"bww-latn-cd",bwx:"bwx-latn-cn",bwy:"bwy-latn-bf",bwz:"bwz-latn-cg",bxa:"bxa-latn-sb",bxb:"bxb-latn-ss",bxc:"bxc-latn-gq",bxf:"bxf-latn-pg",bxg:"bxg-latn-cd",bxh:"bxh-latn-zz",bxi:"bxi-latn-au",bxj:"bxj-latn-au",bxl:"bxl-latn-bf",bxm:"bxm-cyrl-mn","bxm-latn":"bxm-latn-mn","bxm-mong":"bxm-mong-mn",bxn:"bxn-latn-au",bxo:"bxo-latn-ng",bxp:"bxp-latn-cm",bxq:"bxq-latn-ng",bxs:"bxs-latn-cm",bxu:"bxu-mong-cn","bxu-cyrl":"bxu-cyrl-cn","bxu-latn":"bxu-latn-cn",bxv:"bxv-latn-td",bxw:"bxw-latn-ml",bxz:"bxz-latn-pg",bya:"bya-latn-ph",byb:"byb-latn-cm",byc:"byc-latn-ng",byd:"byd-latn-id",bye:"bye-latn-zz",byf:"byf-latn-ng",byh:"byh-deva-np",byi:"byi-latn-cd",byj:"byj-latn-ng",byk:"byk-latn-cn",byl:"byl-latn-id",bym:"bym-latn-au",byn:"byn-ethi-er",byp:"byp-latn-ng",byr:"byr-latn-zz",bys:"bys-latn-zz",byv:"byv-latn-cm",byw:"byw-deva-np",byx:"byx-latn-zz",byz:"byz-latn-pg",bza:"bza-latn-zz",bzb:"bzb-latn-id",bzc:"bzc-latn-mg",bzd:"bzd-latn-cr",bze:"bze-latn-ml",bzf:"bzf-latn-zz",bzh:"bzh-latn-zz",bzi:"bzi-thai-th",bzj:"bzj-latn-bz",bzk:"bzk-latn-ni",bzl:"bzl-latn-id",bzm:"bzm-latn-cd",bzn:"bzn-latn-id",bzo:"bzo-latn-cd",bzp:"bzp-latn-id",bzq:"bzq-latn-id",bzr:"bzr-latn-au",bzt:"bzt-latn-001",bzu:"bzu-latn-id",bzv:"bzv-latn-cm",bzw:"bzw-latn-zz",bzx:"bzx-latn-ml",bzy:"bzy-latn-ng",bzz:"bzz-latn-ng",ca:"ca-latn-es",caa:"caa-latn-gt",cab:"cab-latn-hn",cac:"cac-latn-gt",cad:"cad-latn-us",cae:"cae-latn-sn",caf:"caf-latn-ca","caf-cans":"caf-cans-ca",cag:"cag-latn-py",cah:"cah-latn-pe",caj:"caj-latn-ar",cak:"cak-latn-gt",cal:"cal-latn-mp",cam:"cam-latn-nc",can:"can-latn-zz",cao:"cao-latn-bo",cap:"cap-latn-bo",caq:"caq-latn-in",car:"car-latn-ve",cas:"cas-latn-bo",cav:"cav-latn-bo",caw:"caw-latn-bo",cax:"cax-latn-bo",cay:"cay-latn-ca",caz:"caz-latn-bo",cbb:"cbb-latn-co",cbc:"cbc-latn-co",cbd:"cbd-latn-co",cbg:"cbg-latn-co",cbi:"cbi-latn-ec",cbj:"cbj-latn-zz",cbk:"cbk-latn-ph","cbk-brai":"cbk-brai-ph",cbl:"cbl-latn-mm",cbn:"cbn-thai-th",cbo:"cbo-latn-ng",cbq:"cbq-latn-ng",cbr:"cbr-latn-pe",cbs:"cbs-latn-pe",cbt:"cbt-latn-pe",cbu:"cbu-latn-pe",cbv:"cbv-latn-co",cbw:"cbw-latn-ph",cby:"cby-latn-co",ccc:"ccc-latn-pe",ccd:"ccd-latn-br",cce:"cce-latn-mz",ccg:"ccg-latn-ng",cch:"cch-latn-ng",ccj:"ccj-latn-gw",ccl:"ccl-latn-tz",ccm:"ccm-latn-my",cco:"cco-latn-mx",ccp:"ccp-cakm-bd",ccr:"ccr-latn-sv",cde:"cde-telu-in",cdf:"cdf-latn-in","cdf-beng":"cdf-beng-in",cdh:"cdh-deva-in","cdh-takr":"cdh-takr-in",cdi:"cdi-gujr-in",cdj:"cdj-deva-in",cdm:"cdm-deva-np","cdm-latn":"cdm-latn-np",cdo:"cdo-hans-cn","cdo-hant":"cdo-hant-cn","cdo-latn":"cdo-latn-cn",cdr:"cdr-latn-ng",cdz:"cdz-beng-in",ce:"ce-cyrl-ru",cea:"cea-latn-us",ceb:"ceb-latn-ph",ceg:"ceg-latn-py",cek:"cek-latn-mm",cen:"cen-latn-ng",cet:"cet-latn-ng",cey:"cey-latn-mm",cfa:"cfa-latn-zz",cfd:"cfd-latn-ng",cfg:"cfg-latn-ng",cfm:"cfm-latn-mm","cfm-beng":"cfm-beng-in",cga:"cga-latn-pg",cgc:"cgc-latn-ph",cgg:"cgg-latn-ug",cgk:"cgk-tibt-bt",ch:"ch-latn-gu",chb:"chb-latn-co",chd:"chd-latn-mx",chf:"chf-latn-mx",chg:"chg-arab-tm",chh:"chh-latn-us",chj:"chj-latn-mx",chk:"chk-latn-fm",chl:"chl-latn-us",chm:"chm-cyrl-ru",chn:"chn-latn-us","chn-dupl":"chn-dupl-us",cho:"cho-latn-us",chp:"chp-latn-ca",chq:"chq-latn-mx",chr:"chr-cher-us",cht:"cht-latn-pe",chw:"chw-latn-mz",chx:"chx-deva-np",chy:"chy-latn-us",chz:"chz-latn-mx",cia:"cia-latn-id","cia-arab":"cia-arab-id","cia-hang":"cia-hang-id",cib:"cib-latn-bj",cic:"cic-latn-us",cie:"cie-latn-ng",cih:"cih-deva-in",cim:"cim-latn-it",cin:"cin-latn-br",cip:"cip-latn-mx",cir:"cir-latn-nc",ciw:"ciw-latn-us","ciw-cans":"ciw-cans-us",ciy:"ciy-latn-ve",cja:"cja-arab-kh",cje:"cje-latn-vn",cjh:"cjh-latn-us",cji:"cji-cyrl-ru",cjk:"cjk-latn-ao",cjm:"cjm-cham-vn",cjn:"cjn-latn-pg",cjo:"cjo-latn-pe",cjp:"cjp-latn-cr",cjs:"cjs-latn-ru","cjs-cyrl":"cjs-cyrl-ru",cjv:"cjv-latn-zz",cjy:"cjy-hans-cn","cjy-hant":"cjy-hant-cn",ckb:"ckb-arab-iq",ckl:"ckl-latn-zz",ckm:"ckm-latn-hr","ckm-glag":"ckm-glag-hr",ckn:"ckn-latn-mm",cko:"cko-latn-zz",ckq:"ckq-latn-td",ckr:"ckr-latn-pg",cks:"cks-latn-nc",ckt:"ckt-cyrl-ru",cku:"cku-latn-us",ckv:"ckv-latn-tw",ckx:"ckx-latn-cm",cky:"cky-latn-zz",ckz:"ckz-latn-gt",cla:"cla-latn-zz",clc:"clc-latn-ca",cle:"cle-latn-mx",clh:"clh-arab-pk",cli:"cli-latn-gh",clj:"clj-latn-mm",clk:"clk-latn-in","clk-tibt":"clk-tibt-cn",cll:"cll-latn-gh",clm:"clm-latn-us",clo:"clo-latn-mx",clt:"clt-latn-mm",clu:"clu-latn-ph",clw:"clw-cyrl-ru",cly:"cly-latn-mx",cma:"cma-latn-vn",cme:"cme-latn-zz",cmg:"cmg-soyo-mn",cmi:"cmi-latn-co",cml:"cml-latn-id",cmo:"cmo-latn-vn","cmo-kh":"cmo-latn-kh","cmo-khmr":"cmo-khmr-kh",cmr:"cmr-latn-mm",cms:"cms-latn-it",cmt:"cmt-latn-za",cna:"cna-tibt-in",cnb:"cnb-latn-mm",cnc:"cnc-latn-vn",cng:"cng-latn-cn",cnh:"cnh-latn-mm",cni:"cni-latn-pe",cnk:"cnk-latn-mm",cnl:"cnl-latn-mx",cnp:"cnp-hans-cn","cnp-hant":"cnp-hant-cn",cnq:"cnq-latn-cm",cns:"cns-latn-id",cnt:"cnt-latn-mx",cnw:"cnw-latn-mm",cnx:"cnx-latn-gb",co:"co-latn-fr",coa:"coa-latn-au",cob:"cob-latn-mx",coc:"coc-latn-mx",cod:"cod-latn-pe",coe:"coe-latn-co",cof:"cof-latn-ec",cog:"cog-thai-th",coh:"coh-latn-ke",coj:"coj-latn-mx",cok:"cok-latn-mx",col:"col-latn-us",com:"com-latn-us",coo:"coo-latn-ca",cop:"cop-copt-eg",coq:"coq-latn-us",cot:"cot-latn-pe",cou:"cou-latn-sn",cox:"cox-latn-pe",coz:"coz-latn-mx",cpa:"cpa-latn-mx",cpb:"cpb-latn-pe",cpc:"cpc-latn-pe",cpg:"cpg-grek-gr",cpi:"cpi-latn-nr",cpn:"cpn-latn-gh",cpo:"cpo-latn-bf",cps:"cps-latn-ph",cpu:"cpu-latn-pe",cpx:"cpx-latn-cn",cpy:"cpy-latn-pe",cqd:"cqd-latn-cn",cr:"cr-cans-ca",crb:"crb-latn-vc",crc:"crc-latn-vu",crd:"crd-latn-us",crf:"crf-latn-co",crg:"crg-latn-ca",crh:"crh-cyrl-ua",cri:"cri-latn-st",crj:"crj-cans-ca","crj-latn":"crj-latn-ca",crk:"crk-cans-ca",crl:"crl-cans-ca",crm:"crm-cans-ca",crn:"crn-latn-mx",cro:"cro-latn-us",crq:"crq-latn-ar",crs:"crs-latn-sc",crt:"crt-latn-ar",crv:"crv-latn-in",crw:"crw-latn-vn",crx:"crx-latn-ca","crx-cans":"crx-cans-ca",cry:"cry-latn-ng",crz:"crz-latn-us",cs:"cs-latn-cz",csa:"csa-latn-mx",csb:"csb-latn-pl",csh:"csh-mymr-mm","csh-latn":"csh-latn-mm",csj:"csj-latn-mm",csk:"csk-latn-sn",csm:"csm-latn-us",cso:"cso-latn-mx",csp:"csp-hans-cn","csp-hant":"csp-hant-cn",css:"css-latn-us",cst:"cst-latn-us",csv:"csv-latn-mm",csw:"csw-cans-ca",csy:"csy-latn-mm",csz:"csz-latn-us",cta:"cta-latn-mx",ctc:"ctc-latn-us",ctd:"ctd-pauc-mm",cte:"cte-latn-mx",ctg:"ctg-beng-bd","ctg-arab":"ctg-arab-bd","ctg-latn":"ctg-latn-bd",cth:"cth-latn-mm",ctl:"ctl-latn-mx",ctm:"ctm-latn-us",ctn:"ctn-deva-np",cto:"cto-latn-co",ctp:"ctp-latn-mx",cts:"cts-latn-ph",ctt:"ctt-taml-in",ctu:"ctu-latn-mx",ctz:"ctz-latn-mx",cu:"cu-cyrl-ru","cu-glag":"cu-glag-bg",cua:"cua-latn-vn",cub:"cub-latn-co",cuc:"cuc-latn-mx",cuh:"cuh-latn-ke",cui:"cui-latn-co",cuj:"cuj-latn-pe",cuk:"cuk-latn-pa",cul:"cul-latn-br",cuo:"cuo-latn-ve",cup:"cup-latn-us",cut:"cut-latn-mx",cuu:"cuu-lana-cn",cuv:"cuv-latn-cm",cux:"cux-latn-mx",cv:"cv-cyrl-ru",cvg:"cvg-latn-in","cvg-tibt":"cvg-tibt-in",cvn:"cvn-latn-mx",cwa:"cwa-latn-tz",cwb:"cwb-latn-mz",cwe:"cwe-latn-tz",cwg:"cwg-latn-my",cwt:"cwt-latn-sn",cy:"cy-latn-gb",cya:"cya-latn-mx",cyb:"cyb-latn-bo",cyo:"cyo-latn-ph",czh:"czh-hans-cn","czh-hant":"czh-hant-cn",czk:"czk-hebr-cz",czn:"czn-latn-mx",czt:"czt-latn-mm",da:"da-latn-dk",daa:"daa-latn-td",dac:"dac-latn-pg",dad:"dad-latn-zz",dae:"dae-latn-cm",daf:"daf-latn-ci",dag:"dag-latn-zz",dah:"dah-latn-zz",dai:"dai-latn-td",daj:"daj-latn-sd",dak:"dak-latn-us",dal:"dal-latn-ke",dam:"dam-latn-ng",dao:"dao-latn-mm",daq:"daq-deva-in",dar:"dar-cyrl-ru",das:"das-latn-ci",dau:"dau-latn-td",dav:"dav-latn-ke",daw:"daw-latn-ph",dax:"dax-latn-au",daz:"daz-latn-id",dba:"dba-latn-ml",dbb:"dbb-latn-ng",dbd:"dbd-latn-zz",dbe:"dbe-latn-id",dbf:"dbf-latn-id",dbg:"dbg-latn-ml",dbi:"dbi-latn-ng",dbj:"dbj-latn-my","dbj-arab":"dbj-arab-my",dbl:"dbl-latn-au",dbm:"dbm-latn-ng",dbn:"dbn-latn-id",dbo:"dbo-latn-ng",dbp:"dbp-latn-ng",dbq:"dbq-latn-zz",dbt:"dbt-latn-ml",dbu:"dbu-latn-ml",dbv:"dbv-latn-ng",dbw:"dbw-latn-ml",dby:"dby-latn-pg",dcc:"dcc-arab-in",dcr:"dcr-latn-vi",dda:"dda-latn-au",ddd:"ddd-latn-ss",dde:"dde-latn-cg",ddg:"ddg-latn-tl",ddi:"ddi-latn-pg",ddj:"ddj-latn-au",ddn:"ddn-latn-zz",ddo:"ddo-cyrl-ru",ddr:"ddr-latn-au",dds:"dds-latn-ml",ddw:"ddw-latn-id",de:"de-latn-de",dec:"dec-latn-sd",ded:"ded-latn-zz",dee:"dee-latn-lr",def:"def-arab-ir",deg:"deg-latn-ng",deh:"deh-arab-pk",dei:"dei-latn-id",dek:"dek-latn-cm",del:"del-latn-us",dem:"dem-latn-id",den:"den-latn-ca",deq:"deq-latn-cf",der:"der-beng-in","der-latn":"der-latn-in",des:"des-latn-br",dev:"dev-latn-pg",dez:"dez-latn-cd",dga:"dga-latn-zz",dgb:"dgb-latn-ml",dgc:"dgc-latn-ph",dgd:"dgd-latn-bf",dge:"dge-latn-pg",dgg:"dgg-latn-pg",dgh:"dgh-latn-zz",dgi:"dgi-latn-zz",dgk:"dgk-latn-cf",dgl:"dgl-arab-zz",dgn:"dgn-latn-au",dgr:"dgr-latn-ca",dgs:"dgs-latn-bf",dgt:"dgt-latn-au",dgw:"dgw-latn-au",dgx:"dgx-latn-pg",dgz:"dgz-latn-zz",dhg:"dhg-latn-au",dhi:"dhi-deva-np",dhl:"dhl-latn-au",dhm:"dhm-latn-ao",dhn:"dhn-gujr-in",dho:"dho-deva-in",dhr:"dhr-latn-au",dhs:"dhs-latn-tz",dhu:"dhu-latn-au",dhv:"dhv-latn-nc",dhw:"dhw-deva-np",dhx:"dhx-latn-au",dia:"dia-latn-zz",dib:"dib-latn-ss",dic:"dic-latn-ci",did:"did-latn-ss",dif:"dif-latn-au",dig:"dig-latn-ke",dih:"dih-latn-mx",dii:"dii-latn-cm",dij:"dij-latn-id",dil:"dil-latn-sd",din:"din-latn-ss","din-arab":"din-arab-ss",dio:"dio-latn-ng",dip:"dip-latn-ss",dir:"dir-latn-ng",dis:"dis-latn-in","dis-beng":"dis-beng-in",diu:"diu-latn-na",diw:"diw-latn-ss",dix:"dix-latn-vu",diy:"diy-latn-id",diz:"diz-latn-cd",dja:"dja-latn-au",djb:"djb-latn-au",djc:"djc-latn-td",djd:"djd-latn-au",dje:"dje-latn-ne",djf:"djf-latn-au",dji:"dji-latn-au",djj:"djj-latn-au",djk:"djk-latn-sr",djm:"djm-latn-ml",djn:"djn-latn-au",djo:"djo-latn-id",djr:"djr-latn-au",dju:"dju-latn-pg",djw:"djw-latn-au",dka:"dka-tibt-bt",dkg:"dkg-latn-ng",dkk:"dkk-latn-id",dkr:"dkr-latn-my",dks:"dks-latn-ss",dkx:"dkx-latn-cm",dlg:"dlg-cyrl-ru",dlm:"dlm-latn-hr",dln:"dln-latn-in",dma:"dma-latn-ga",dmb:"dmb-latn-ml",dmc:"dmc-latn-pg",dmd:"dmd-latn-au",dme:"dme-latn-cm",dmf:"dmf-medf-ng",dmg:"dmg-latn-my",dmk:"dmk-arab-pk",dml:"dml-arab-pk",dmm:"dmm-latn-cm",dmo:"dmo-latn-cm",dmr:"dmr-latn-id",dms:"dms-latn-id",dmu:"dmu-latn-id",dmv:"dmv-latn-my",dmw:"dmw-latn-au",dmx:"dmx-latn-mz",dmy:"dmy-latn-id",dna:"dna-latn-id",dnd:"dnd-latn-pg",dne:"dne-latn-tz",dng:"dng-cyrl-kg","dng-arab":"dng-arab-kg",dni:"dni-latn-id",dnj:"dnj-latn-ci",dnk:"dnk-latn-id",dnn:"dnn-latn-bf",dno:"dno-latn-cd",dnr:"dnr-latn-pg",dnt:"dnt-latn-id",dnu:"dnu-mymr-mm",dnv:"dnv-mymr-mm",dnw:"dnw-latn-id",dny:"dny-latn-br",doa:"doa-latn-pg",dob:"dob-latn-zz",doc:"doc-latn-cn",doe:"doe-latn-tz",dof:"dof-latn-pg",doh:"doh-latn-ng",doi:"doi-deva-in",dok:"dok-latn-id",dol:"dol-latn-pg",don:"don-latn-pg",doo:"doo-latn-cd",dop:"dop-latn-zz",dor:"dor-latn-sb",dos:"dos-latn-bf",dot:"dot-latn-ng",dov:"dov-latn-zw",dow:"dow-latn-zz",dox:"dox-ethi-et",doy:"doy-latn-gh",dpp:"dpp-latn-my",drc:"drc-latn-pt",dre:"dre-tibt-np",drg:"drg-latn-my",drh:"drh-mong-cn",dri:"dri-latn-zz",drl:"drl-latn-au",drn:"drn-latn-id",dro:"dro-latn-my",drq:"drq-deva-np",drs:"drs-ethi-zz",drt:"drt-latn-nl",dru:"dru-latn-tw",dry:"dry-deva-np",dsb:"dsb-latn-de",dsh:"dsh-latn-ke",dsi:"dsi-latn-td",dsn:"dsn-latn-id",dso:"dso-orya-in",dsq:"dsq-latn-ml","dsq-arab":"dsq-arab-ml",dta:"dta-latn-cn","dta-cyrl":"dta-cyrl-cn","dta-hans":"dta-hans-cn",dtb:"dtb-latn-my",dtd:"dtd-latn-ca",dth:"dth-latn-au",dti:"dti-latn-ml",dtk:"dtk-latn-ml",dtm:"dtm-latn-ml",dto:"dto-latn-ml",dtp:"dtp-latn-my",dtr:"dtr-latn-my",dts:"dts-latn-zz",dtt:"dtt-latn-ml",dtu:"dtu-latn-ml",dty:"dty-deva-np",dua:"dua-latn-cm",dub:"dub-gujr-in",duc:"duc-latn-zz",dud:"dud-latn-zz",due:"due-latn-ph",duf:"duf-latn-nc",dug:"dug-latn-zz",duh:"duh-deva-in","duh-gujr":"duh-gujr-in",dui:"dui-latn-pg",duk:"duk-latn-pg",dul:"dul-latn-ph",dum:"dum-latn-nl",dun:"dun-latn-id",duo:"duo-latn-ph",dup:"dup-latn-id",duq:"duq-latn-id",dur:"dur-latn-cm",dus:"dus-deva-np",duu:"duu-latn-cn",duv:"duv-latn-id",duw:"duw-latn-id",dux:"dux-latn-ml",duy:"duy-latn-ph",duz:"duz-latn-cm",dv:"dv-thaa-mv",dva:"dva-latn-zz",dwa:"dwa-latn-ng",dwk:"dwk-orya-in",dwr:"dwr-latn-et","dwr-ethi":"dwr-ethi-et",dws:"dws-latn-001",dwu:"dwu-latn-au",dww:"dww-latn-zz",dwy:"dwy-latn-au",dwz:"dwz-deva-np",dya:"dya-latn-bf",dyb:"dyb-latn-au",dyd:"dyd-latn-au",dyg:"dyg-latn-ph",dyi:"dyi-latn-ci",dym:"dym-latn-ml",dyn:"dyn-latn-au",dyo:"dyo-latn-sn",dyu:"dyu-latn-bf",dyy:"dyy-latn-au",dz:"dz-tibt-bt",dza:"dza-latn-ng",dze:"dze-latn-au",dzg:"dzg-latn-zz",dzl:"dzl-tibt-bt",dzn:"dzn-latn-cd",eaa:"eaa-latn-au",ebc:"ebc-latn-id",ebg:"ebg-latn-ng",ebk:"ebk-latn-ph",ebo:"ebo-latn-cg",ebr:"ebr-latn-ci",ebu:"ebu-latn-ke",ecr:"ecr-grek-gr",ecy:"ecy-cprt-cy",ee:"ee-latn-gh",efa:"efa-latn-ng",efe:"efe-latn-cd",efi:"efi-latn-ng",ega:"ega-latn-ci",egl:"egl-latn-it",egm:"egm-latn-tz",ego:"ego-latn-ng",egy:"egy-egyp-eg",ehu:"ehu-latn-ng",eip:"eip-latn-id",eit:"eit-latn-pg",eiv:"eiv-latn-pg",eja:"eja-latn-gw",eka:"eka-latn-zz",eke:"eke-latn-ng",ekg:"ekg-latn-id",eki:"eki-latn-ng",ekl:"ekl-latn-bd",ekm:"ekm-latn-cm",eko:"eko-latn-mz","eko-arab":"eko-arab-mz",ekp:"ekp-latn-ng",ekr:"ekr-latn-ng",eky:"eky-kali-mm",el:"el-grek-gr",ele:"ele-latn-pg",elk:"elk-latn-pg",elm:"elm-latn-ng",elo:"elo-latn-ke",elu:"elu-latn-pg",ema:"ema-latn-zz",emb:"emb-latn-id",eme:"eme-latn-gf",emg:"emg-deva-np",emi:"emi-latn-zz",emm:"emm-latn-mx",emn:"emn-latn-cm",emp:"emp-latn-pa",ems:"ems-latn-us","ems-cyrl":"ems-cyrl-us",emu:"emu-deva-in",emw:"emw-latn-id",emx:"emx-latn-fr",emz:"emz-latn-cm",en:"en-latn-us","en-shaw":"en-shaw-gb",ena:"ena-latn-pg",enb:"enb-latn-ke",enc:"enc-latn-vn",end:"end-latn-id",enf:"enf-cyrl-ru",enh:"enh-cyrl-ru",enl:"enl-latn-py",enm:"enm-latn-gb",enn:"enn-latn-zz",eno:"eno-latn-id",enq:"enq-latn-zz",enr:"enr-latn-id",env:"env-latn-ng",enw:"enw-latn-ng",enx:"enx-latn-py",eo:"eo-latn-001",eot:"eot-latn-ci",epi:"epi-latn-ng",era:"era-taml-in",erg:"erg-latn-vu",erh:"erh-latn-ng",eri:"eri-latn-zz",erk:"erk-latn-vu",err:"err-latn-au",ert:"ert-latn-id",erw:"erw-latn-id",es:"es-latn-es",ese:"ese-latn-bo",esg:"esg-gonm-in",esh:"esh-arab-ir",esi:"esi-latn-us",esm:"esm-latn-ci",ess:"ess-latn-us","ess-cyrl":"ess-cyrl-us",esu:"esu-latn-us",esy:"esy-latn-ph",et:"et-latn-ee",etb:"etb-latn-ng",etn:"etn-latn-vu",eto:"eto-latn-cm",etr:"etr-latn-zz",ets:"ets-latn-ng",ett:"ett-ital-it",etu:"etu-latn-zz",etx:"etx-latn-zz",etz:"etz-latn-id",eu:"eu-latn-es",eve:"eve-cyrl-ru",evh:"evh-latn-ng",evn:"evn-cyrl-ru","evn-latn":"evn-latn-cn","evn-mong":"evn-mong-cn",ewo:"ewo-latn-cm",ext:"ext-latn-es",eya:"eya-latn-us",eyo:"eyo-latn-ke",eza:"eza-latn-zz",eze:"eze-latn-ng",fa:"fa-arab-ir",faa:"faa-latn-zz",fab:"fab-latn-zz",fad:"fad-latn-pg",faf:"faf-latn-sb",fag:"fag-latn-zz",fah:"fah-latn-ng",fai:"fai-latn-zz",faj:"faj-latn-pg",fak:"fak-latn-cm",fal:"fal-latn-cm",fam:"fam-latn-ng",fan:"fan-latn-gq",fap:"fap-latn-sn",far:"far-latn-sb",fau:"fau-latn-id",fax:"fax-latn-es",fay:"fay-arab-ir",faz:"faz-arab-ir",fbl:"fbl-latn-ph",fer:"fer-latn-ss",ff:"ff-latn-sn","ff-adlm":"ff-adlm-gn",ffi:"ffi-latn-zz",ffm:"ffm-latn-ml",fgr:"fgr-latn-td",fi:"fi-latn-fi",fia:"fia-arab-sd",fie:"fie-latn-ng",fif:"fif-latn-sa",fil:"fil-latn-ph",fip:"fip-latn-tz",fir:"fir-latn-ng",fit:"fit-latn-se",fiw:"fiw-latn-pg",fj:"fj-latn-fj",fkk:"fkk-latn-ng",fkv:"fkv-latn-no",fla:"fla-latn-us",flh:"flh-latn-id",fli:"fli-latn-ng",fll:"fll-latn-cm",fln:"fln-latn-au",flr:"flr-latn-zz",fly:"fly-latn-za",fmp:"fmp-latn-zz",fmu:"fmu-deva-in",fnb:"fnb-latn-vu",fng:"fng-latn-za",fni:"fni-latn-td",fo:"fo-latn-fo",fod:"fod-latn-zz",foi:"foi-latn-pg",fom:"fom-latn-cd",fon:"fon-latn-bj",for:"for-latn-zz",fos:"fos-latn-tw",fpe:"fpe-latn-zz",fqs:"fqs-latn-zz",fr:"fr-latn-fr",frc:"frc-latn-us",frd:"frd-latn-id",frk:"frk-latn-de",frm:"frm-latn-fr",fro:"fro-latn-fr",frp:"frp-latn-fr",frq:"frq-latn-pg",frr:"frr-latn-de",frs:"frs-latn-de",frt:"frt-latn-vu",fub:"fub-arab-cm",fud:"fud-latn-wf",fue:"fue-latn-zz",fuf:"fuf-latn-gn",fuh:"fuh-latn-zz",fui:"fui-latn-td",fum:"fum-latn-ng",fun:"fun-latn-br",fuq:"fuq-latn-ne",fur:"fur-latn-it",fut:"fut-latn-vu",fuu:"fuu-latn-cd",fuv:"fuv-latn-ng",fuy:"fuy-latn-zz",fvr:"fvr-latn-sd",fwa:"fwa-latn-nc",fwe:"fwe-latn-na",fy:"fy-latn-nl",ga:"ga-latn-ie",gaa:"gaa-latn-gh",gab:"gab-latn-td",gac:"gac-latn-in","gac-deva":"gac-deva-in",gad:"gad-latn-ph",gae:"gae-latn-ve",gaf:"gaf-latn-zz",gag:"gag-latn-md",gah:"gah-latn-zz",gai:"gai-latn-pg",gaj:"gaj-latn-zz",gak:"gak-latn-id",gal:"gal-latn-tl",gam:"gam-latn-zz",gan:"gan-hans-cn",gao:"gao-latn-pg",gap:"gap-latn-pg",gaq:"gaq-orya-in",gar:"gar-latn-pg",gas:"gas-gujr-in",gat:"gat-latn-pg",gau:"gau-telu-in",gaw:"gaw-latn-zz",gax:"gax-latn-et","gax-ethi":"gax-ethi-et",gay:"gay-latn-id",gba:"gba-latn-zz",gbb:"gbb-latn-au",gbd:"gbd-latn-au",gbe:"gbe-latn-pg",gbf:"gbf-latn-zz",gbg:"gbg-latn-cf",gbh:"gbh-latn-bj",gbi:"gbi-latn-id",gbj:"gbj-orya-in",gbk:"gbk-deva-in","gbk-takr":"gbk-takr-in",gbl:"gbl-gujr-in","gbl-deva":"gbl-deva-in",gbm:"gbm-deva-in",gbn:"gbn-latn-ss",gbp:"gbp-latn-cf",gbq:"gbq-latn-cf",gbr:"gbr-latn-ng",gbs:"gbs-latn-bj",gbu:"gbu-latn-au",gbv:"gbv-latn-cf",gbw:"gbw-latn-au",gbx:"gbx-latn-bj",gby:"gby-latn-zz",gbz:"gbz-arab-ir",gcc:"gcc-latn-pg",gcd:"gcd-latn-au",gcf:"gcf-latn-gp",gcl:"gcl-latn-gd",gcn:"gcn-latn-pg",gcr:"gcr-latn-gf",gct:"gct-latn-ve",gd:"gd-latn-gb",gdb:"gdb-orya-in","gdb-telu":"gdb-telu-in",gdc:"gdc-latn-au",gdd:"gdd-latn-pg",gde:"gde-latn-zz",gdf:"gdf-latn-ng",gdg:"gdg-latn-ph",gdh:"gdh-latn-au",gdi:"gdi-latn-cf",gdj:"gdj-latn-au",gdk:"gdk-latn-td",gdl:"gdl-latn-et","gdl-ethi":"gdl-ethi-et",gdm:"gdm-latn-td",gdn:"gdn-latn-zz",gdo:"gdo-cyrl-ru",gdq:"gdq-latn-ye",gdr:"gdr-latn-zz",gdt:"gdt-latn-au",gdu:"gdu-latn-ng",gdx:"gdx-deva-in",gea:"gea-latn-ng",geb:"geb-latn-zz",gec:"gec-latn-lr",ged:"ged-latn-ng",gef:"gef-latn-id",geg:"geg-latn-ng",geh:"geh-latn-ca",gei:"gei-latn-id",gej:"gej-latn-zz",gek:"gek-latn-ng",gel:"gel-latn-zz",geq:"geq-latn-cf",ges:"ges-latn-id",gev:"gev-latn-ga",gew:"gew-latn-ng",gex:"gex-latn-so",gey:"gey-latn-cd",gez:"gez-ethi-et",gfk:"gfk-latn-zz",gga:"gga-latn-sb",ggb:"ggb-latn-lr",ggd:"ggd-latn-au",gge:"gge-latn-au",ggg:"ggg-arab-pk",ggk:"ggk-latn-au",ggl:"ggl-latn-pg",ggn:"ggn-deva-np",ggt:"ggt-latn-pg",ggu:"ggu-latn-ci",ggw:"ggw-latn-pg",gha:"gha-arab-ly","gha-latn":"gha-latn-ly","gha-tfng":"gha-tfng-ly",ghc:"ghc-latn-gb",ghe:"ghe-deva-np",ghk:"ghk-latn-mm",ghn:"ghn-latn-sb",ghr:"ghr-arab-pk",ghs:"ghs-latn-zz",ght:"ght-tibt-np",gia:"gia-latn-au",gib:"gib-latn-ng",gic:"gic-latn-za",gid:"gid-latn-cm",gie:"gie-latn-ci",gig:"gig-arab-pk",gih:"gih-latn-au",gil:"gil-latn-ki",gim:"gim-latn-zz",gin:"gin-cyrl-ru",gip:"gip-latn-pg",giq:"giq-latn-vn",gir:"gir-latn-vn",gis:"gis-latn-cm",git:"git-latn-ca",gix:"gix-latn-cd",giy:"giy-latn-au",giz:"giz-latn-cm",gjk:"gjk-arab-pk",gjm:"gjm-latn-au",gjn:"gjn-latn-zz",gjr:"gjr-latn-au",gju:"gju-arab-pk",gka:"gka-latn-pg",gkd:"gkd-latn-pg",gke:"gke-latn-cm",gkn:"gkn-latn-zz",gko:"gko-latn-au",gkp:"gkp-latn-zz",gku:"gku-latn-za",gl:"gl-latn-es",glb:"glb-latn-ng",glc:"glc-latn-td",gld:"gld-cyrl-ru",glh:"glh-arab-af",glj:"glj-latn-td",glk:"glk-arab-ir",gll:"gll-latn-au",glo:"glo-latn-ng",glr:"glr-latn-lr",glu:"glu-latn-td",glw:"glw-latn-ng",gma:"gma-latn-au",gmb:"gmb-latn-sb",gmd:"gmd-latn-ng",gmg:"gmg-latn-pg",gmh:"gmh-latn-de",gmm:"gmm-latn-zz",gmn:"gmn-latn-cm",gmr:"gmr-latn-au",gmu:"gmu-latn-pg",gmv:"gmv-ethi-zz",gmx:"gmx-latn-tz",gmy:"gmy-linb-gr",gmz:"gmz-latn-ng",gn:"gn-latn-py",gna:"gna-latn-bf",gnb:"gnb-latn-in",gnc:"gnc-latn-es",gnd:"gnd-latn-zz",gne:"gne-latn-ng",gng:"gng-latn-zz",gnh:"gnh-latn-ng",gni:"gni-latn-au",gnj:"gnj-latn-ci",gnk:"gnk-latn-bw",gnl:"gnl-latn-au",gnm:"gnm-latn-pg",gnn:"gnn-latn-au",gnq:"gnq-latn-my",gnr:"gnr-latn-au",gnt:"gnt-latn-pg",gnu:"gnu-latn-pg",gnw:"gnw-latn-bo",gnz:"gnz-latn-cf",goa:"goa-latn-ci",gob:"gob-latn-co",goc:"goc-latn-pg",god:"god-latn-zz",goe:"goe-tibt-bt",gof:"gof-ethi-zz",gog:"gog-latn-tz",goh:"goh-latn-de",goi:"goi-latn-zz",gok:"gok-deva-in",gol:"gol-latn-lr",gom:"gom-deva-in",gon:"gon-telu-in",goo:"goo-latn-fj",gop:"gop-latn-id",goq:"goq-latn-id",gor:"gor-latn-id",gos:"gos-latn-nl",got:"got-goth-ua",gou:"gou-latn-cm",gov:"gov-latn-ci",gow:"gow-latn-tz",gox:"gox-latn-cd",goy:"goy-latn-td",gpa:"gpa-latn-ng",gpe:"gpe-latn-gh",gpn:"gpn-latn-pg",gqa:"gqa-latn-ng",gqn:"gqn-latn-br",gqr:"gqr-latn-td",gra:"gra-deva-in","gra-gujr":"gra-gujr-in",grb:"grb-latn-zz",grc:"grc-cprt-cy","grc-linb":"grc-linb-gr",grd:"grd-latn-ng",grg:"grg-latn-pg",grh:"grh-latn-ng",gri:"gri-latn-sb",grj:"grj-latn-lr",grm:"grm-latn-my",grq:"grq-latn-pg",grs:"grs-latn-id",grt:"grt-beng-in",gru:"gru-ethi-et","gru-latn":"gru-latn-et",grv:"grv-latn-lr",grw:"grw-latn-zz",grx:"grx-latn-pg",gry:"gry-latn-lr",grz:"grz-latn-pg",gsl:"gsl-latn-sn",gsn:"gsn-latn-pg",gso:"gso-latn-cf",gsp:"gsp-latn-pg",gsw:"gsw-latn-ch",gta:"gta-latn-br",gtu:"gtu-latn-au",gu:"gu-gujr-in",gua:"gua-latn-ng",gub:"gub-latn-br",guc:"guc-latn-co",gud:"gud-latn-zz",gue:"gue-latn-au",guf:"guf-latn-au",guh:"guh-latn-co",gui:"gui-latn-bo",guk:"guk-latn-et","guk-ethi":"guk-ethi-et",gul:"gul-latn-us",gum:"gum-latn-co",gun:"gun-latn-br",guo:"guo-latn-co",gup:"gup-latn-au",guq:"guq-latn-py",gur:"gur-latn-gh",gut:"gut-latn-cr",guu:"guu-latn-ve",guw:"guw-latn-zz",gux:"gux-latn-zz",guz:"guz-latn-ke",gv:"gv-latn-im",gva:"gva-latn-py",gvc:"gvc-latn-br",gve:"gve-latn-pg",gvf:"gvf-latn-zz",gvj:"gvj-latn-br",gvl:"gvl-latn-td",gvm:"gvm-latn-ng",gvn:"gvn-latn-au",gvo:"gvo-latn-br",gvp:"gvp-latn-br",gvr:"gvr-deva-np",gvs:"gvs-latn-zz",gvy:"gvy-latn-au",gwa:"gwa-latn-ci",gwb:"gwb-latn-ng",gwc:"gwc-arab-zz",gwd:"gwd-latn-et",gwe:"gwe-latn-tz",gwf:"gwf-arab-pk",gwg:"gwg-latn-ng",gwi:"gwi-latn-ca",gwj:"gwj-latn-bw",gwm:"gwm-latn-au",gwn:"gwn-latn-ng",gwr:"gwr-latn-ug",gwt:"gwt-arab-zz",gwu:"gwu-latn-au",gww:"gww-latn-au",gwx:"gwx-latn-gh",gxx:"gxx-latn-ci",gyb:"gyb-latn-pg",gyd:"gyd-latn-au",gye:"gye-latn-ng",gyf:"gyf-latn-au",gyg:"gyg-latn-cf",gyi:"gyi-latn-zz",gyl:"gyl-latn-et","gyl-ethi":"gyl-ethi-et",gym:"gym-latn-pa",gyn:"gyn-latn-gy",gyo:"gyo-deva-np",gyr:"gyr-latn-bo",gyy:"gyy-latn-au",gyz:"gyz-latn-ng",gza:"gza-latn-sd",gzi:"gzi-arab-ir",gzn:"gzn-latn-id",ha:"ha-latn-ng","ha-cm":"ha-arab-cm","ha-sd":"ha-arab-sd",haa:"haa-latn-us",hac:"hac-arab-ir",had:"had-latn-id",hae:"hae-latn-et",hag:"hag-latn-zz",hah:"hah-latn-pg",hai:"hai-latn-ca",haj:"haj-latn-in","haj-beng":"haj-beng-in",hak:"hak-hans-cn",hal:"hal-latn-vn",ham:"ham-latn-zz",han:"han-latn-tz",hao:"hao-latn-pg",hap:"hap-latn-id",haq:"haq-latn-tz",har:"har-ethi-et","har-arab":"har-arab-et","har-latn":"har-latn-et",has:"has-latn-ca",hav:"hav-latn-cd",haw:"haw-latn-us",hax:"hax-latn-ca",hay:"hay-latn-tz",haz:"haz-arab-af",hba:"hba-latn-cd",hbb:"hbb-latn-zz",hbn:"hbn-latn-sd",hbo:"hbo-hebr-il",hbu:"hbu-latn-tl",hch:"hch-latn-mx",hdy:"hdy-ethi-zz",he:"he-hebr-il",hed:"hed-latn-td",heg:"heg-latn-id",heh:"heh-latn-tz",hei:"hei-latn-ca",hem:"hem-latn-cd",hgm:"hgm-latn-na",hgw:"hgw-latn-pg",hhi:"hhi-latn-pg",hhr:"hhr-latn-sn",hhy:"hhy-latn-zz",hi:"hi-deva-in","hi-latn":"hi-latn-in",hia:"hia-latn-zz",hib:"hib-latn-pe",hid:"hid-latn-us",hif:"hif-latn-fj",hig:"hig-latn-zz",hih:"hih-latn-zz",hii:"hii-takr-in","hii-deva":"hii-deva-in",hij:"hij-latn-cm",hik:"hik-latn-id",hil:"hil-latn-ph",hio:"hio-latn-bw",hir:"hir-latn-br",hit:"hit-xsux-tr",hiw:"hiw-latn-vu",hix:"hix-latn-br",hji:"hji-latn-id",hka:"hka-latn-tz",hke:"hke-latn-cd",hkh:"hkh-arab-in","hkh-deva":"hkh-deva-in","hkh-latn":"hkh-latn-in",hkk:"hkk-latn-pg",hla:"hla-latn-zz",hlb:"hlb-deva-in",hld:"hld-latn-vn",hlt:"hlt-latn-mm",hlu:"hlu-hluw-tr",hma:"hma-latn-cn",hmb:"hmb-latn-ml",hmd:"hmd-plrd-cn",hmf:"hmf-latn-vn",hmj:"hmj-bopo-cn",hmm:"hmm-latn-cn",hmn:"hmn-latn-cn","hmn-bopo":"hmn-bopo-cn","hmn-hmng":"hmn-hmng-cn",hmp:"hmp-latn-cn",hmq:"hmq-bopo-cn",hmr:"hmr-latn-in",hms:"hms-latn-cn",hmt:"hmt-latn-zz",hmu:"hmu-latn-id",hmv:"hmv-latn-vn",hmw:"hmw-latn-cn",hmy:"hmy-latn-cn",hmz:"hmz-latn-cn","hmz-plrd":"hmz-plrd-cn",hna:"hna-latn-cm",hnd:"hnd-arab-pk",hne:"hne-deva-in",hng:"hng-latn-ao",hnh:"hnh-latn-bw",hni:"hni-latn-cn",hnj:"hnj-hmnp-us","hnj-au":"hnj-laoo-au","hnj-cn":"hnj-laoo-cn","hnj-fr":"hnj-laoo-fr","hnj-gf":"hnj-laoo-gf","hnj-la":"hnj-laoo-la","hnj-laoo":"hnj-laoo-la","hnj-mm":"hnj-laoo-mm","hnj-sr":"hnj-laoo-sr","hnj-th":"hnj-laoo-th","hnj-us":"hnj-hmnp-us","hnj-vn":"hnj-laoo-vn",hnn:"hnn-latn-ph",hno:"hno-arab-pk",hns:"hns-latn-sr",ho:"ho-latn-pg",hoa:"hoa-latn-sb",hob:"hob-latn-pg",hoc:"hoc-deva-in",hod:"hod-latn-ng",hoe:"hoe-latn-ng",hoh:"hoh-arab-om",hoi:"hoi-latn-us",hoj:"hoj-deva-in",hol:"hol-latn-ao",hom:"hom-latn-ss",hoo:"hoo-latn-cd",hop:"hop-latn-us",hor:"hor-latn-td",hot:"hot-latn-zz",hov:"hov-latn-id",how:"how-hani-cn",hoy:"hoy-deva-in",hpo:"hpo-mymr-mm",hr:"hr-latn-hr",hra:"hra-latn-in",hrc:"hrc-latn-pg",hre:"hre-latn-vn",hrk:"hrk-latn-id",hrm:"hrm-latn-cn","hrm-hmng":"hrm-hmng-cn",hro:"hro-latn-vn",hrp:"hrp-latn-au",hrt:"hrt-syrc-tr",hru:"hru-latn-in",hrw:"hrw-latn-pg",hrx:"hrx-latn-br",hrz:"hrz-arab-ir",hsb:"hsb-latn-de",hsn:"hsn-hans-cn",hss:"hss-arab-om",ht:"ht-latn-ht",hti:"hti-latn-id",hto:"hto-latn-co",hts:"hts-latn-tz",htu:"htu-latn-id",htx:"htx-xsux-tr",hu:"hu-latn-hu",hub:"hub-latn-pe",huc:"huc-latn-bw",hud:"hud-latn-id",hue:"hue-latn-mx",huf:"huf-latn-pg",hug:"hug-latn-pe",huh:"huh-latn-cl",hui:"hui-latn-zz",huk:"huk-latn-id",hul:"hul-latn-pg",hum:"hum-latn-cd",hup:"hup-latn-us",hur:"hur-latn-ca",hus:"hus-latn-mx",hut:"hut-deva-np","hut-tibt":"hut-tibt-np",huu:"huu-latn-pe",huv:"huv-latn-mx",huw:"huw-latn-id",hux:"hux-latn-pe",huy:"huy-hebr-il",huz:"huz-cyrl-ru",hvc:"hvc-latn-ht",hve:"hve-latn-mx",hvk:"hvk-latn-nc",hvn:"hvn-latn-id",hvv:"hvv-latn-mx",hwa:"hwa-latn-ci",hwc:"hwc-latn-us",hwo:"hwo-latn-ng",hy:"hy-armn-am",hya:"hya-latn-cm",hyw:"hyw-armn-am",hz:"hz-latn-na",ia:"ia-latn-001",iai:"iai-latn-nc",ian:"ian-latn-zz",iar:"iar-latn-zz",iba:"iba-latn-my",ibb:"ibb-latn-ng",ibd:"ibd-latn-au",ibe:"ibe-latn-ng",ibg:"ibg-latn-ph",ibh:"ibh-latn-vn",ibl:"ibl-latn-ph",ibm:"ibm-latn-ng",ibn:"ibn-latn-ng",ibr:"ibr-latn-ng",ibu:"ibu-latn-id",iby:"iby-latn-zz",ica:"ica-latn-zz",ich:"ich-latn-zz",icr:"icr-latn-co",id:"id-latn-id",ida:"ida-latn-ke",idb:"idb-latn-in",idc:"idc-latn-ng",idd:"idd-latn-zz",ide:"ide-latn-ng",idi:"idi-latn-zz",idr:"idr-latn-ss",ids:"ids-latn-ng",idt:"idt-latn-tl",idu:"idu-latn-zz",ie:"ie-latn-001",ifa:"ifa-latn-ph",ifb:"ifb-latn-ph",ife:"ife-latn-tg",iff:"iff-latn-vu",ifk:"ifk-latn-ph",ifm:"ifm-latn-cg",ifu:"ifu-latn-ph",ify:"ify-latn-ph",ig:"ig-latn-ng",igb:"igb-latn-zz",ige:"ige-latn-zz",igg:"igg-latn-pg",igl:"igl-latn-ng",igm:"igm-latn-pg",ign:"ign-latn-bo",igo:"igo-latn-pg",igs:"igs-latn-001","igs-grek":"igs-grek-001",igw:"igw-latn-ng",ihb:"ihb-latn-id",ihi:"ihi-latn-ng",ihp:"ihp-latn-id",ihw:"ihw-latn-au",ii:"ii-yiii-cn",iin:"iin-latn-au",ijc:"ijc-latn-ng",ije:"ije-latn-ng",ijj:"ijj-latn-zz",ijn:"ijn-latn-ng",ijs:"ijs-latn-ng",ik:"ik-latn-us",iki:"iki-latn-ng",ikk:"ikk-latn-zz",ikl:"ikl-latn-ng",iko:"iko-latn-ng",ikp:"ikp-latn-ng",ikr:"ikr-latn-au",ikt:"ikt-latn-ca","ikt-cans":"ikt-cans-ca",ikv:"ikv-latn-ng",ikw:"ikw-latn-zz",ikx:"ikx-latn-zz",ikz:"ikz-latn-tz",ila:"ila-latn-id",ilb:"ilb-latn-zm",ilg:"ilg-latn-au",ili:"ili-latn-cn","ili-arab":"ili-arab-cn","ili-cyrl":"ili-cyrl-kz",ilk:"ilk-latn-ph",ilm:"ilm-latn-my",ilo:"ilo-latn-ph",ilp:"ilp-latn-ph",ilu:"ilu-latn-id",ilv:"ilv-latn-ng",imi:"imi-latn-pg",iml:"iml-latn-us",imn:"imn-latn-pg",imo:"imo-latn-zz",imr:"imr-latn-id",ims:"ims-latn-it",imt:"imt-latn-ss",imy:"imy-lyci-tr",in:"in-latn-id",inb:"inb-latn-co",ing:"ing-latn-us",inh:"inh-cyrl-ru",inj:"inj-latn-co",inn:"inn-latn-ph",ino:"ino-latn-pg",inp:"inp-latn-pe",int:"int-mymr-mm",io:"io-latn-001",ior:"ior-ethi-et",iou:"iou-latn-zz",iow:"iow-latn-us",ipi:"ipi-latn-pg",ipo:"ipo-latn-pg",iqu:"iqu-latn-pe",iqw:"iqw-latn-ng",ire:"ire-latn-id",irh:"irh-latn-id",iri:"iri-latn-zz",irk:"irk-latn-tz",irn:"irn-latn-br",iru:"iru-taml-in","iru-mlym":"iru-mlym-in",irx:"irx-latn-id",iry:"iry-latn-ph",is:"is-latn-is",isa:"isa-latn-pg",isc:"isc-latn-pe",isd:"isd-latn-ph",ish:"ish-latn-ng",isi:"isi-latn-ng",isk:"isk-arab-af","isk-cyrl":"isk-cyrl-tj",ism:"ism-latn-id",isn:"isn-latn-tz",iso:"iso-latn-ng",ist:"ist-latn-hr",isu:"isu-latn-cm",it:"it-latn-it",itb:"itb-latn-ph",itd:"itd-latn-id",ite:"ite-latn-bo",iti:"iti-latn-ph",itk:"itk-hebr-it",itl:"itl-cyrl-ru",itm:"itm-latn-ng",ito:"ito-latn-bo",itr:"itr-latn-pg",its:"its-latn-ng",itt:"itt-latn-ph",itv:"itv-latn-ph",itw:"itw-latn-ng",itx:"itx-latn-id",ity:"ity-latn-ph",itz:"itz-latn-gt",iu:"iu-cans-ca",ium:"ium-latn-cn","ium-hani":"ium-hani-cn","ium-laoo":"ium-laoo-la","ium-thai":"ium-thai-th",ivb:"ivb-latn-ph",ivv:"ivv-latn-ph",iw:"iw-hebr-il",iwk:"iwk-latn-ph",iwm:"iwm-latn-zz",iwo:"iwo-latn-id",iws:"iws-latn-zz",ixc:"ixc-latn-mx",ixl:"ixl-latn-gt",iya:"iya-latn-ng",iyo:"iyo-latn-cm",iyx:"iyx-latn-cg",izh:"izh-latn-ru",izi:"izi-latn-zz",izr:"izr-latn-ng",izz:"izz-latn-ng",ja:"ja-jpan-jp",jaa:"jaa-latn-br",jab:"jab-latn-zz",jac:"jac-latn-gt",jad:"jad-arab-gn",jae:"jae-latn-pg",jaf:"jaf-latn-ng",jah:"jah-latn-my",jaj:"jaj-latn-sb",jak:"jak-latn-my",jal:"jal-latn-id",jam:"jam-latn-jm",jan:"jan-latn-au",jao:"jao-latn-au",jaq:"jaq-latn-id",jar:"jar-latn-zz",jas:"jas-latn-nc",jat:"jat-arab-af",jau:"jau-latn-id",jax:"jax-latn-id",jay:"jay-latn-au",jaz:"jaz-latn-nc",jbe:"jbe-hebr-il",jbi:"jbi-latn-au",jbj:"jbj-latn-id",jbk:"jbk-latn-pg",jbm:"jbm-latn-ng",jbn:"jbn-arab-ly",jbo:"jbo-latn-001",jbr:"jbr-latn-id",jbt:"jbt-latn-br",jbu:"jbu-latn-zz",jbw:"jbw-latn-au",jct:"jct-cyrl-ua","jct-latn":"jct-latn-ua",jda:"jda-tibt-in",jdg:"jdg-arab-pk",jdt:"jdt-cyrl-ru","jdt-hebr":"jdt-hebr-ru","jdt-latn":"jdt-latn-az",jeb:"jeb-latn-pe",jee:"jee-deva-np",jeh:"jeh-latn-vn","jeh-laoo":"jeh-laoo-la",jei:"jei-latn-id",jek:"jek-latn-ci",jel:"jel-latn-id",jen:"jen-latn-zz",jer:"jer-latn-ng",jet:"jet-latn-pg",jeu:"jeu-latn-td",jgb:"jgb-latn-cd",jge:"jge-geor-ge","jge-hebr":"jge-hebr-il",jgk:"jgk-latn-zz",jgo:"jgo-latn-cm",jhi:"jhi-latn-my",ji:"ji-hebr-ua",jia:"jia-latn-cm",jib:"jib-latn-zz",jic:"jic-latn-hn",jid:"jid-latn-ng",jie:"jie-latn-ng",jig:"jig-latn-au",jil:"jil-latn-pg",jim:"jim-latn-cm",jit:"jit-latn-tz",jiu:"jiu-latn-cn",jiv:"jiv-latn-ec",jiy:"jiy-latn-cn",jje:"jje-hang-kr",jjr:"jjr-latn-ng",jka:"jka-latn-id",jkm:"jkm-mymr-mm","jkm-brai":"jkm-brai-mm","jkm-latn":"jkm-latn-mm",jko:"jko-latn-pg",jku:"jku-latn-ng",jle:"jle-latn-sd",jma:"jma-latn-pg",jmb:"jmb-latn-ng",jmc:"jmc-latn-tz",jmd:"jmd-latn-id",jmi:"jmi-latn-ng",jml:"jml-deva-np",jmn:"jmn-latn-mm",jmr:"jmr-latn-gh",jms:"jms-latn-ng",jmw:"jmw-latn-pg",jmx:"jmx-latn-mx",jna:"jna-takr-in",jnd:"jnd-arab-pk",jng:"jng-latn-au",jni:"jni-latn-ng",jnj:"jnj-latn-et","jnj-ethi":"jnj-ethi-et",jnl:"jnl-deva-in",jns:"jns-deva-in","jns-latn":"jns-latn-in","jns-takr":"jns-takr-in",job:"job-latn-cd",jod:"jod-latn-ci",jog:"jog-arab-pk",jor:"jor-latn-bo",jow:"jow-latn-ml",jpa:"jpa-hebr-ps",jpr:"jpr-hebr-il",jqr:"jqr-latn-pe",jra:"jra-latn-zz",jrr:"jrr-latn-ng",jrt:"jrt-latn-ng",jru:"jru-latn-ve",jua:"jua-latn-br",jub:"jub-latn-ng",jud:"jud-latn-ci",juh:"juh-latn-ng",jui:"jui-latn-au",juk:"juk-latn-ng",jul:"jul-deva-np",jum:"jum-latn-sd",jun:"jun-orya-in",juo:"juo-latn-ng",jup:"jup-latn-br",jur:"jur-latn-br",jut:"jut-latn-dk",juu:"juu-latn-ng",juw:"juw-latn-ng",juy:"juy-orya-in",jv:"jv-latn-id",jvd:"jvd-latn-id",jvn:"jvn-latn-sr",jw:"jw-latn-id",jwi:"jwi-latn-gh",jya:"jya-tibt-cn",jye:"jye-hebr-il",jyy:"jyy-latn-td",ka:"ka-geor-ge",kaa:"kaa-cyrl-uz",kab:"kab-latn-dz",kac:"kac-latn-mm",kad:"kad-latn-zz",kag:"kag-latn-my",kah:"kah-latn-cf",kai:"kai-latn-zz",kaj:"kaj-latn-ng",kak:"kak-latn-ph",kam:"kam-latn-ke",kao:"kao-latn-ml",kap:"kap-cyrl-ru",kaq:"kaq-latn-pe",kav:"kav-latn-br",kaw:"kaw-kawi-id",kax:"kax-latn-id",kay:"kay-latn-br",kba:"kba-latn-au",kbb:"kbb-latn-br",kbc:"kbc-latn-br",kbd:"kbd-cyrl-ru",kbe:"kbe-latn-au",kbh:"kbh-latn-co",kbi:"kbi-latn-id",kbj:"kbj-latn-cd",kbk:"kbk-latn-pg",kbl:"kbl-latn-td",kbm:"kbm-latn-zz",kbn:"kbn-latn-cf",kbo:"kbo-latn-ss",kbp:"kbp-latn-zz",kbq:"kbq-latn-zz",kbr:"kbr-latn-et","kbr-ethi":"kbr-ethi-et",kbs:"kbs-latn-ga",kbt:"kbt-latn-pg",kbu:"kbu-arab-pk",kbv:"kbv-latn-id",kbw:"kbw-latn-pg",kbx:"kbx-latn-zz",kby:"kby-arab-ne",kbz:"kbz-latn-ng",kca:"kca-cyrl-ru",kcb:"kcb-latn-pg",kcc:"kcc-latn-ng",kcd:"kcd-latn-id",kce:"kce-latn-ng",kcf:"kcf-latn-ng",kcg:"kcg-latn-ng",kch:"kch-latn-ng",kci:"kci-latn-ng",kcj:"kcj-latn-gw",kck:"kck-latn-zw",kcl:"kcl-latn-zz",kcm:"kcm-latn-cf",kcn:"kcn-latn-ug",kco:"kco-latn-pg",kcp:"kcp-latn-sd",kcq:"kcq-latn-ng",kcs:"kcs-latn-ng",kct:"kct-latn-zz",kcu:"kcu-latn-tz",kcv:"kcv-latn-cd",kcw:"kcw-latn-cd",kcz:"kcz-latn-tz",kda:"kda-latn-au",kdc:"kdc-latn-tz",kdd:"kdd-latn-au",kde:"kde-latn-tz",kdf:"kdf-latn-pg",kdg:"kdg-latn-cd",kdh:"kdh-latn-tg",kdi:"kdi-latn-ug",kdj:"kdj-latn-ug",kdk:"kdk-latn-nc",kdl:"kdl-latn-zz",kdm:"kdm-latn-ng",kdn:"kdn-latn-zw",kdp:"kdp-latn-ng",kdq:"kdq-beng-in",kdr:"kdr-latn-lt","kdr-cyrl":"kdr-cyrl-ua",kdt:"kdt-thai-th",kdw:"kdw-latn-id",kdx:"kdx-latn-ng",kdy:"kdy-latn-id",kdz:"kdz-latn-cm",kea:"kea-latn-cv",keb:"keb-latn-ga",kec:"kec-latn-sd",ked:"ked-latn-tz",kee:"kee-latn-us",kef:"kef-latn-tg",keg:"keg-latn-sd",keh:"keh-latn-pg",kei:"kei-latn-id",kek:"kek-latn-gt",kel:"kel-latn-cd",kem:"kem-latn-tl",ken:"ken-latn-cm",keo:"keo-latn-ug",ker:"ker-latn-td",kes:"kes-latn-ng",ket:"ket-cyrl-ru",keu:"keu-latn-tg",kew:"kew-latn-pg",kex:"kex-deva-in","kex-gujr":"kex-gujr-in",key:"key-telu-in",kez:"kez-latn-zz",kfa:"kfa-knda-in",kfb:"kfb-deva-in",kfc:"kfc-telu-in",kfd:"kfd-knda-in",kfe:"kfe-taml-in",kff:"kff-latn-in","kff-deva":"kff-deva-in","kff-orya":"kff-orya-in","kff-telu":"kff-telu-in",kfh:"kfh-mlym-in",kfi:"kfi-taml-in","kfi-knda":"kfi-knda-in",kfk:"kfk-deva-in","kfk-takr":"kfk-takr-in",kfl:"kfl-latn-cm",kfm:"kfm-arab-ir",kfn:"kfn-latn-cm",kfo:"kfo-latn-ci",kfp:"kfp-deva-in",kfq:"kfq-deva-in",kfr:"kfr-deva-in",kfs:"kfs-deva-in",kfv:"kfv-latn-in",kfw:"kfw-latn-in",kfx:"kfx-deva-in","kfx-takr":"kfx-takr-in",kfy:"kfy-deva-in",kfz:"kfz-latn-bf",kg:"kg-latn-cd",kga:"kga-latn-ci",kgb:"kgb-latn-id",kge:"kge-latn-id",kgf:"kgf-latn-zz",kgj:"kgj-deva-np",kgk:"kgk-latn-br",kgl:"kgl-latn-au",kgm:"kgm-latn-br",kgo:"kgo-latn-sd",kgp:"kgp-latn-br",kgq:"kgq-latn-id",kgr:"kgr-latn-id",kgs:"kgs-latn-au",kgt:"kgt-latn-ng",kgu:"kgu-latn-pg",kgv:"kgv-latn-id",kgw:"kgw-latn-id",kgx:"kgx-latn-id",kgy:"kgy-deva-np",kha:"kha-latn-in",khb:"khb-talu-cn",khc:"khc-latn-id",khd:"khd-latn-id",khe:"khe-latn-id",khf:"khf-thai-la",khg:"khg-tibt-cn",khh:"khh-latn-id",khj:"khj-latn-ng",khl:"khl-latn-pg",khn:"khn-deva-in",khp:"khp-latn-id",khq:"khq-latn-ml",khr:"khr-latn-in","khr-deva":"khr-deva-in",khs:"khs-latn-zz",kht:"kht-mymr-in",khu:"khu-latn-ao",khv:"khv-cyrl-ru",khw:"khw-arab-pk",khx:"khx-latn-cd",khy:"khy-latn-cd",khz:"khz-latn-zz",ki:"ki-latn-ke",kia:"kia-latn-td",kib:"kib-latn-sd",kic:"kic-latn-us",kid:"kid-latn-cm",kie:"kie-latn-td",kif:"kif-deva-np",kig:"kig-latn-id",kih:"kih-latn-pg",kij:"kij-latn-zz",kil:"kil-latn-ng",kim:"kim-cyrl-ru",kio:"kio-latn-us",kip:"kip-deva-np",kiq:"kiq-latn-id",kis:"kis-latn-pg",kit:"kit-latn-pg",kiu:"kiu-latn-tr",kiv:"kiv-latn-tz",kiw:"kiw-latn-zz",kix:"kix-latn-in",kiy:"kiy-latn-id",kiz:"kiz-latn-tz",kj:"kj-latn-na",kja:"kja-latn-id",kjb:"kjb-latn-gt",kjc:"kjc-latn-id",kjd:"kjd-latn-zz",kje:"kje-latn-id",kjg:"kjg-laoo-la",kjh:"kjh-cyrl-ru",kji:"kji-latn-sb",kjj:"kjj-latn-az",kjk:"kjk-latn-id",kjl:"kjl-deva-np",kjm:"kjm-latn-vn",kjn:"kjn-latn-au",kjo:"kjo-deva-in",kjp:"kjp-mymr-mm","kjp-thai":"kjp-thai-th",kjq:"kjq-latn-us",kjr:"kjr-latn-id",kjs:"kjs-latn-zz",kjt:"kjt-thai-th",kju:"kju-latn-us",kjx:"kjx-latn-pg",kjy:"kjy-latn-zz",kk:"kk-cyrl-kz","kk-af":"kk-arab-af","kk-arab":"kk-arab-cn","kk-cn":"kk-arab-cn","kk-ir":"kk-arab-ir","kk-mn":"kk-arab-mn",kka:"kka-latn-ng",kkb:"kkb-latn-id",kkc:"kkc-latn-zz",kkd:"kkd-latn-ng",kke:"kke-latn-gn","kke-arab":"kke-arab-gn",kkf:"kkf-tibt-in",kkg:"kkg-latn-ph",kkh:"kkh-lana-mm",kki:"kki-latn-tz",kkj:"kkj-latn-cm",kkk:"kkk-latn-sb",kkl:"kkl-latn-id",kkm:"kkm-latn-ng",kko:"kko-latn-sd",kkp:"kkp-latn-au",kkq:"kkq-latn-cd",kkr:"kkr-latn-ng",kks:"kks-latn-ng",kkt:"kkt-deva-np",kku:"kku-latn-ng",kkv:"kkv-latn-id",kkw:"kkw-latn-cg",kkx:"kkx-latn-id",kky:"kky-latn-au",kkz:"kkz-latn-ca",kl:"kl-latn-gl",kla:"kla-latn-us",klb:"klb-latn-mx",klc:"klc-latn-cm",kld:"kld-latn-au",kle:"kle-deva-np",klf:"klf-latn-td",klg:"klg-latn-ph",klh:"klh-latn-pg",kli:"kli-latn-id",klj:"klj-arab-ir",klk:"klk-latn-ng",kll:"kll-latn-ph",klm:"klm-latn-pg",kln:"kln-latn-ke",klo:"klo-latn-ng",klp:"klp-latn-pg",klq:"klq-latn-zz",klr:"klr-deva-np",kls:"kls-latn-pk","kls-arab":"kls-arab-pk",klt:"klt-latn-zz",klu:"klu-latn-lr",klv:"klv-latn-vu",klw:"klw-latn-id",klx:"klx-latn-zz",kly:"kly-latn-id",klz:"klz-latn-id",km:"km-khmr-kh",kma:"kma-latn-gh",kmb:"kmb-latn-ao",kmc:"kmc-latn-cn","kmc-hani":"kmc-hani-cn",kmd:"kmd-latn-ph",kme:"kme-latn-cm",kmf:"kmf-latn-pg",kmg:"kmg-latn-pg",kmh:"kmh-latn-zz",kmi:"kmi-latn-ng",kmj:"kmj-deva-in",kmk:"kmk-latn-ph",kml:"kml-latn-ph",kmm:"kmm-latn-in",kmn:"kmn-latn-pg",kmo:"kmo-latn-zz",kmp:"kmp-latn-cm",kmq:"kmq-latn-et",kms:"kms-latn-zz",kmt:"kmt-latn-id",kmu:"kmu-latn-zz",kmv:"kmv-latn-br",kmw:"kmw-latn-zz",kmx:"kmx-latn-pg",kmy:"kmy-latn-ng",kmz:"kmz-arab-ir",kn:"kn-knda-in",kna:"kna-latn-ng",knb:"knb-latn-ph",knd:"knd-latn-id",kne:"kne-latn-ph",knf:"knf-latn-gw",kni:"kni-latn-ng",knj:"knj-latn-gt",knk:"knk-latn-sl","knk-arab":"knk-arab-sl",knl:"knl-latn-id",knm:"knm-latn-br",kno:"kno-latn-sl",knp:"knp-latn-zz",knq:"knq-latn-my",knr:"knr-latn-pg",kns:"kns-latn-my","kns-thai":"kns-thai-th",knt:"knt-latn-br",knu:"knu-latn-gn",knv:"knv-latn-pg",knw:"knw-latn-na",knx:"knx-latn-id",kny:"kny-latn-cd",knz:"knz-latn-bf",ko:"ko-kore-kr",koa:"koa-latn-pg",koc:"koc-latn-ng",kod:"kod-latn-id",koe:"koe-latn-ss",kof:"kof-latn-ng",kog:"kog-latn-co",koh:"koh-latn-cg",koi:"koi-cyrl-ru",kok:"kok-deva-in",kol:"kol-latn-zz",koo:"koo-latn-ug",kop:"kop-latn-pg",koq:"koq-latn-ga",kos:"kos-latn-fm",kot:"kot-latn-cm",kou:"kou-latn-td",kov:"kov-latn-ng",kow:"kow-latn-ng",koy:"koy-latn-us",koz:"koz-latn-zz",kpa:"kpa-latn-ng",kpc:"kpc-latn-co",kpd:"kpd-latn-id",kpe:"kpe-latn-lr",kpf:"kpf-latn-zz",kpg:"kpg-latn-fm",kph:"kph-latn-gh",kpi:"kpi-latn-id",kpj:"kpj-latn-br",kpk:"kpk-latn-ng",kpl:"kpl-latn-cd",kpm:"kpm-latn-vn",kpn:"kpn-latn-br",kpo:"kpo-latn-zz",kpq:"kpq-latn-id",kpr:"kpr-latn-zz",kps:"kps-latn-id",kpt:"kpt-cyrl-ru",kpu:"kpu-latn-id",kpw:"kpw-latn-pg",kpx:"kpx-latn-zz",kpy:"kpy-cyrl-ru",kpz:"kpz-latn-ug",kqa:"kqa-latn-pg",kqb:"kqb-latn-zz",kqc:"kqc-latn-pg",kqd:"kqd-syrc-iq",kqe:"kqe-latn-ph",kqf:"kqf-latn-zz",kqg:"kqg-latn-bf",kqh:"kqh-latn-tz",kqi:"kqi-latn-pg",kqj:"kqj-latn-pg",kqk:"kqk-latn-bj",kql:"kql-latn-pg",kqm:"kqm-latn-ci",kqn:"kqn-latn-zm",kqo:"kqo-latn-lr",kqp:"kqp-latn-td",kqq:"kqq-latn-br",kqr:"kqr-latn-my",kqs:"kqs-latn-zz",kqt:"kqt-latn-my",kqu:"kqu-latn-za",kqv:"kqv-latn-id",kqw:"kqw-latn-pg",kqx:"kqx-latn-cm",kqy:"kqy-ethi-zz",kqz:"kqz-latn-za",kr:"kr-latn-zz",kra:"kra-deva-np",krb:"krb-latn-us",krc:"krc-cyrl-ru",krd:"krd-latn-tl",kre:"kre-latn-br",krf:"krf-latn-vu",krh:"krh-latn-ng",kri:"kri-latn-sl",krj:"krj-latn-ph",krk:"krk-cyrl-ru",krl:"krl-latn-ru",krn:"krn-latn-lr",krp:"krp-latn-ng",krr:"krr-khmr-kh",krs:"krs-latn-zz",krt:"krt-latn-ne",kru:"kru-deva-in",krv:"krv-khmr-kh",krw:"krw-latn-lr",krx:"krx-latn-sn",kry:"kry-latn-az",krz:"krz-latn-id",ks:"ks-arab-in",ksa:"ksa-latn-ng",ksb:"ksb-latn-tz",ksc:"ksc-latn-ph",ksd:"ksd-latn-zz",kse:"kse-latn-pg",ksf:"ksf-latn-cm",ksg:"ksg-latn-sb",ksh:"ksh-latn-de",ksi:"ksi-latn-pg",ksj:"ksj-latn-zz",ksk:"ksk-latn-us",ksl:"ksl-latn-pg",ksm:"ksm-latn-ng",ksn:"ksn-latn-ph",kso:"kso-latn-ng",ksp:"ksp-latn-cf",ksq:"ksq-latn-ng",ksr:"ksr-latn-zz",kss:"kss-latn-lr",kst:"kst-latn-bf",ksu:"ksu-mymr-in",ksv:"ksv-latn-cd",ksw:"ksw-mymr-mm","ksw-latn":"ksw-latn-mm",ksx:"ksx-latn-id",ksz:"ksz-deva-in",kta:"kta-latn-vn",ktb:"ktb-ethi-zz",ktc:"ktc-latn-ng",ktd:"ktd-latn-au",ktf:"ktf-latn-cd",ktg:"ktg-latn-au",kth:"kth-latn-td",kti:"kti-latn-id",ktj:"ktj-latn-ci",ktk:"ktk-latn-pg",ktl:"ktl-arab-ir",ktm:"ktm-latn-zz",ktn:"ktn-latn-br",kto:"kto-latn-zz",ktp:"ktp-plrd-cn",ktq:"ktq-latn-ph",ktr:"ktr-latn-my",kts:"kts-latn-id",ktt:"ktt-latn-id",ktu:"ktu-latn-cd",ktv:"ktv-latn-vn",ktw:"ktw-latn-us",ktx:"ktx-latn-br",kty:"kty-latn-cd",ktz:"ktz-latn-na",ku:"ku-latn-tr","ku-arab":"ku-arab-iq","ku-lb":"ku-arab-lb","ku-yezi":"ku-yezi-ge",kub:"kub-latn-zz",kuc:"kuc-latn-id",kud:"kud-latn-zz",kue:"kue-latn-zz",kuf:"kuf-laoo-la",kug:"kug-latn-ng",kuh:"kuh-latn-ng",kui:"kui-latn-br",kuj:"kuj-latn-zz",kuk:"kuk-latn-id",kul:"kul-latn-ng",kum:"kum-cyrl-ru",kun:"kun-latn-zz",kuo:"kuo-latn-pg",kup:"kup-latn-zz",kuq:"kuq-latn-br",kus:"kus-latn-zz",kut:"kut-latn-ca",kuu:"kuu-latn-us",kuv:"kuv-latn-id",kuw:"kuw-latn-cf",kux:"kux-latn-au",kuy:"kuy-latn-au",kuz:"kuz-latn-cl",kv:"kv-cyrl-ru",kva:"kva-cyrl-ru",kvb:"kvb-latn-id",kvc:"kvc-latn-pg",kvd:"kvd-latn-id",kve:"kve-latn-my",kvf:"kvf-latn-td",kvg:"kvg-latn-zz",kvh:"kvh-latn-id",kvi:"kvi-latn-td",kvj:"kvj-latn-cm",kvl:"kvl-latn-mm",kvm:"kvm-latn-cm",kvn:"kvn-latn-co",kvo:"kvo-latn-id",kvp:"kvp-latn-id",kvq:"kvq-mymr-mm","kvq-latn":"kvq-latn-mm",kvr:"kvr-latn-id",kvt:"kvt-mymr-mm",kvv:"kvv-latn-id",kvw:"kvw-latn-id",kvx:"kvx-arab-pk",kvy:"kvy-kali-mm",kvz:"kvz-latn-id",kw:"kw-latn-gb",kwa:"kwa-latn-br",kwb:"kwb-latn-ng",kwc:"kwc-latn-cg",kwd:"kwd-latn-sb",kwe:"kwe-latn-id",kwf:"kwf-latn-sb",kwg:"kwg-latn-td",kwh:"kwh-latn-id",kwi:"kwi-latn-co",kwj:"kwj-latn-zz",kwk:"kwk-latn-ca",kwl:"kwl-latn-ng",kwm:"kwm-latn-na",kwn:"kwn-latn-na",kwo:"kwo-latn-zz",kwp:"kwp-latn-ci",kwq:"kwq-latn-zz",kwr:"kwr-latn-id",kws:"kws-latn-cd",kwt:"kwt-latn-id",kwu:"kwu-latn-cm",kwv:"kwv-latn-td",kww:"kww-latn-sr",kwy:"kwy-latn-cd",kwz:"kwz-latn-ao",kxa:"kxa-latn-zz",kxb:"kxb-latn-ci",kxc:"kxc-ethi-zz",kxd:"kxd-latn-bn","kxd-arab":"kxd-arab-bn",kxe:"kxe-latn-zz",kxf:"kxf-mymr-mm","kxf-latn":"kxf-latn-mm",kxi:"kxi-latn-my",kxj:"kxj-latn-td",kxk:"kxk-mymr-mm",kxl:"kxl-deva-in",kxm:"kxm-thai-th",kxn:"kxn-latn-my",kxo:"kxo-latn-br",kxp:"kxp-arab-pk",kxq:"kxq-latn-id",kxr:"kxr-latn-pg",kxt:"kxt-latn-pg",kxv:"kxv-orya-in","kxv-latn":"kxv-latn-in","kxv-telu":"kxv-telu-in",kxw:"kxw-latn-zz",kxx:"kxx-latn-cg",kxy:"kxy-latn-vn",kxz:"kxz-latn-zz",ky:"ky-cyrl-kg","ky-arab":"ky-arab-cn","ky-cn":"ky-arab-cn","ky-latn":"ky-latn-tr","ky-tr":"ky-latn-tr",kya:"kya-latn-tz",kyb:"kyb-latn-ph",kyc:"kyc-latn-pg",kyd:"kyd-latn-id",kye:"kye-latn-zz",kyf:"kyf-latn-ci",kyg:"kyg-latn-pg",kyh:"kyh-latn-us",kyi:"kyi-latn-my",kyj:"kyj-latn-ph",kyk:"kyk-latn-ph",kyl:"kyl-latn-us",kym:"kym-latn-cf",kyn:"kyn-latn-ph",kyo:"kyo-latn-id",kyq:"kyq-latn-td",kyr:"kyr-latn-br",kys:"kys-latn-my",kyt:"kyt-latn-id",kyu:"kyu-kali-mm","kyu-latn":"kyu-latn-mm","kyu-mymr":"kyu-mymr-mm",kyv:"kyv-deva-np",kyw:"kyw-deva-in","kyw-beng":"kyw-beng-in","kyw-orya":"kyw-orya-in",kyx:"kyx-latn-zz",kyy:"kyy-latn-pg",kyz:"kyz-latn-br",kza:"kza-latn-bf",kzb:"kzb-latn-id",kzc:"kzc-latn-ci",kzd:"kzd-latn-id",kze:"kze-latn-pg",kzf:"kzf-latn-id",kzh:"kzh-arab-zz",kzi:"kzi-latn-my",kzj:"kzj-latn-my",kzk:"kzk-latn-sb",kzl:"kzl-latn-id",kzm:"kzm-latn-id",kzn:"kzn-latn-mw",kzo:"kzo-latn-ga",kzp:"kzp-latn-id",kzr:"kzr-latn-zz",kzs:"kzs-latn-my",kzt:"kzt-latn-my",kzu:"kzu-latn-id",kzv:"kzv-latn-id",kzw:"kzw-latn-br",kzx:"kzx-latn-id",kzy:"kzy-latn-cd",kzz:"kzz-latn-id",la:"la-latn-va",laa:"laa-latn-ph",lab:"lab-lina-gr",lac:"lac-latn-mx",lad:"lad-hebr-il",lae:"lae-deva-in","lae-tibt":"lae-tibt-in",lag:"lag-latn-tz",lah:"lah-arab-pk",lai:"lai-latn-mw",laj:"laj-latn-ug",lal:"lal-latn-cd",lam:"lam-latn-zm",lan:"lan-latn-ng",lap:"lap-latn-td",laq:"laq-latn-vn",lar:"lar-latn-gh",las:"las-latn-zz",lau:"lau-latn-id",law:"law-latn-id",lax:"lax-latn-in","lax-beng":"lax-beng-in",laz:"laz-latn-pg",lb:"lb-latn-lu",lbb:"lbb-latn-pg",lbc:"lbc-lisu-cn",lbe:"lbe-cyrl-ru",lbf:"lbf-deva-in","lbf-tibt":"lbf-tibt-cn",lbi:"lbi-latn-cm",lbj:"lbj-tibt-in","lbj-arab":"lbj-arab-in",lbl:"lbl-latn-ph",lbm:"lbm-deva-in",lbn:"lbn-latn-la","lbn-laoo":"lbn-laoo-la",lbo:"lbo-laoo-la","lbo-latn":"lbo-latn-us",lbq:"lbq-latn-pg",lbr:"lbr-deva-np",lbt:"lbt-latn-vn",lbu:"lbu-latn-zz",lbv:"lbv-latn-pg",lbw:"lbw-latn-id",lbx:"lbx-latn-id",lby:"lby-latn-au",lbz:"lbz-latn-au",lcc:"lcc-latn-id",lcd:"lcd-latn-id",lce:"lce-latn-id",lcf:"lcf-latn-id",lch:"lch-latn-ao",lcl:"lcl-latn-id",lcm:"lcm-latn-zz",lcp:"lcp-thai-cn",lcq:"lcq-latn-id",lcs:"lcs-latn-id",lda:"lda-latn-ci",ldb:"ldb-latn-zz",ldd:"ldd-latn-ng",ldg:"ldg-latn-ng",ldh:"ldh-latn-ng",ldi:"ldi-latn-cg",ldj:"ldj-latn-ng",ldk:"ldk-latn-ng",ldl:"ldl-latn-ng",ldm:"ldm-latn-gn",ldn:"ldn-latn-001",ldo:"ldo-latn-ng",ldp:"ldp-latn-ng",ldq:"ldq-latn-ng",lea:"lea-latn-cd",leb:"leb-latn-zm",lec:"lec-latn-bo",led:"led-latn-zz",lee:"lee-latn-zz",lef:"lef-latn-gh",leh:"leh-latn-zm",lei:"lei-latn-pg",lej:"lej-latn-cd",lek:"lek-latn-pg",lel:"lel-latn-cd",lem:"lem-latn-zz",len:"len-latn-hn",leo:"leo-latn-cm",lep:"lep-lepc-in",leq:"leq-latn-zz",ler:"ler-latn-pg",les:"les-latn-cd",let:"let-latn-pg",leu:"leu-latn-zz",lev:"lev-latn-id",lew:"lew-latn-id",lex:"lex-latn-id",ley:"ley-latn-id",lez:"lez-cyrl-ru",lfa:"lfa-latn-cm",lfn:"lfn-latn-001","lfn-cyrl":"lfn-cyrl-001",lg:"lg-latn-ug",lga:"lga-latn-sb",lgb:"lgb-latn-sb",lgg:"lgg-latn-zz",lgh:"lgh-latn-vn",lgi:"lgi-latn-id",lgk:"lgk-latn-vu",lgl:"lgl-latn-sb",lgm:"lgm-latn-cd",lgn:"lgn-latn-et",lgo:"lgo-latn-ss",lgq:"lgq-latn-gh",lgr:"lgr-latn-sb",lgt:"lgt-latn-pg",lgu:"lgu-latn-sb",lgz:"lgz-latn-cd",lha:"lha-latn-vn",lhh:"lhh-latn-id",lhi:"lhi-latn-cn",lhm:"lhm-deva-np",lhn:"lhn-latn-my",lhs:"lhs-syrc-sy",lht:"lht-latn-vu",lhu:"lhu-latn-cn",li:"li-latn-nl",lia:"lia-latn-zz",lib:"lib-latn-pg",lic:"lic-latn-cn",lid:"lid-latn-zz",lie:"lie-latn-cd",lif:"lif-deva-np","lif-limb":"lif-limb-in",lig:"lig-latn-zz",lih:"lih-latn-zz",lij:"lij-latn-it",lik:"lik-latn-cd",lil:"lil-latn-ca",lio:"lio-latn-id",lip:"lip-latn-gh",liq:"liq-latn-et",lir:"lir-latn-lr",lis:"lis-lisu-cn",liu:"liu-latn-sd",liv:"liv-latn-lv",liw:"liw-latn-id",lix:"lix-latn-id",liy:"liy-latn-cf",liz:"liz-latn-cd",lja:"lja-latn-au",lje:"lje-latn-id",lji:"lji-latn-id",ljl:"ljl-latn-id",ljp:"ljp-latn-id",ljw:"ljw-latn-au",ljx:"ljx-latn-au",lka:"lka-latn-tl",lkb:"lkb-latn-ke",lkc:"lkc-latn-vn",lkd:"lkd-latn-br",lke:"lke-latn-ug",lkh:"lkh-tibt-bt",lki:"lki-arab-ir",lkj:"lkj-latn-my",lkl:"lkl-latn-pg",lkm:"lkm-latn-au",lkn:"lkn-latn-vu",lko:"lko-latn-ke",lkr:"lkr-latn-ss",lks:"lks-latn-ke",lkt:"lkt-latn-us",lku:"lku-latn-au",lky:"lky-latn-ss",lla:"lla-latn-ng",llb:"llb-latn-mz",llc:"llc-latn-gn",lld:"lld-latn-it",lle:"lle-latn-zz",llf:"llf-latn-pg",llg:"llg-latn-id",lli:"lli-latn-cg",llj:"llj-latn-au",llk:"llk-latn-my",lll:"lll-latn-pg",llm:"llm-latn-id",lln:"lln-latn-zz",llp:"llp-latn-vu",llq:"llq-latn-id",llu:"llu-latn-sb",llx:"llx-latn-fj",lma:"lma-latn-gn",lmb:"lmb-latn-vu",lmc:"lmc-latn-au",lmd:"lmd-latn-sd",lme:"lme-latn-td",lmf:"lmf-latn-id",lmg:"lmg-latn-pg",lmh:"lmh-deva-np",lmi:"lmi-latn-cd",lmj:"lmj-latn-id",lmk:"lmk-latn-in","lmk-mymr":"lmk-mymr-in",lml:"lml-latn-vu",lmn:"lmn-telu-in",lmo:"lmo-latn-it",lmp:"lmp-latn-zz",lmq:"lmq-latn-id",lmr:"lmr-latn-id",lmu:"lmu-latn-vu",lmv:"lmv-latn-fj",lmw:"lmw-latn-us",lmx:"lmx-latn-cm",lmy:"lmy-latn-id",ln:"ln-latn-cd",lna:"lna-latn-cf",lnb:"lnb-latn-na",lnd:"lnd-latn-id",lnh:"lnh-latn-my",lni:"lni-latn-pg",lnj:"lnj-latn-au",lnl:"lnl-latn-cf",lnm:"lnm-latn-pg",lnn:"lnn-latn-vu",lns:"lns-latn-zz",lnu:"lnu-latn-zz",lnw:"lnw-latn-au",lnz:"lnz-latn-cd",lo:"lo-laoo-la",loa:"loa-latn-id",lob:"lob-latn-bf",loc:"loc-latn-ph",loe:"loe-latn-id",log:"log-latn-cd",loh:"loh-latn-ss",loi:"loi-latn-ci",loj:"loj-latn-zz",lok:"lok-latn-zz",lol:"lol-latn-cd",lom:"lom-latn-lr",lon:"lon-latn-mw",loo:"loo-latn-cd",lop:"lop-latn-ng",loq:"loq-latn-cd",lor:"lor-latn-zz",los:"los-latn-zz",lot:"lot-latn-ss","lot-arab":"lot-arab-ss",lou:"lou-latn-us",low:"low-latn-my",lox:"lox-latn-id",loy:"loy-deva-np","loy-tibt":"loy-tibt-np",loz:"loz-latn-zm",lpa:"lpa-latn-vu",lpe:"lpe-latn-id",lpn:"lpn-latn-mm",lpo:"lpo-plrd-cn","lpo-lisu":"lpo-lisu-cn",lpx:"lpx-latn-ss",lqr:"lqr-latn-ss",lra:"lra-latn-my",lrc:"lrc-arab-ir",lrg:"lrg-latn-au",lri:"lri-latn-ke",lrk:"lrk-arab-pk",lrl:"lrl-arab-ir",lrm:"lrm-latn-ke",lrn:"lrn-latn-id",lro:"lro-latn-sd",lrt:"lrt-latn-id",lrv:"lrv-latn-vu",lrz:"lrz-latn-vu",lsa:"lsa-arab-ir",lsd:"lsd-hebr-il",lse:"lse-latn-cd",lsi:"lsi-latn-mm",lsm:"lsm-latn-ug",lsr:"lsr-latn-pg",lss:"lss-arab-pk",lt:"lt-latn-lt",ltg:"ltg-latn-lv",lth:"lth-latn-ug",lti:"lti-latn-id",ltn:"ltn-latn-br",lto:"lto-latn-ke",lts:"lts-latn-ke",ltu:"ltu-latn-id",lu:"lu-latn-cd",lua:"lua-latn-cd",luc:"luc-latn-ug",lud:"lud-latn-ru",lue:"lue-latn-zm",luf:"luf-latn-pg",lui:"lui-latn-us",luj:"luj-latn-cd",luk:"luk-tibt-bt",lul:"lul-latn-ss",lum:"lum-latn-ao",lun:"lun-latn-zm",luo:"luo-latn-ke",lup:"lup-latn-ga",luq:"luq-latn-cu",lur:"lur-latn-id",lus:"lus-latn-in","lus-beng":"lus-beng-bd","lus-brai":"lus-brai-in",lut:"lut-latn-us",luu:"luu-deva-np",luv:"luv-arab-om",luw:"luw-latn-cm",luy:"luy-latn-ke",luz:"luz-arab-ir",lv:"lv-latn-lv",lva:"lva-latn-tl",lvi:"lvi-latn-la",lvk:"lvk-latn-sb",lvu:"lvu-latn-id",lwa:"lwa-latn-cd",lwe:"lwe-latn-id",lwg:"lwg-latn-ke",lwh:"lwh-latn-vn",lwl:"lwl-thai-th",lwm:"lwm-thai-cn",lwo:"lwo-latn-ss","lwo-za":"lwo-latn-za",lwt:"lwt-latn-id",lww:"lww-latn-vu",lxm:"lxm-latn-pg",lya:"lya-tibt-bt",lyn:"lyn-latn-zm",lzh:"lzh-hans-cn",lzl:"lzl-latn-vu",lzn:"lzn-latn-mm",lzz:"lzz-latn-tr",maa:"maa-latn-mx",mab:"mab-latn-mx",mad:"mad-latn-id",mae:"mae-latn-ng",maf:"maf-latn-cm",mag:"mag-deva-in",mai:"mai-deva-in",maj:"maj-latn-mx",mak:"mak-latn-id",mam:"mam-latn-gt",man:"man-latn-gm","man-gn":"man-nkoo-gn","man-nkoo":"man-nkoo-gn",maq:"maq-latn-mx",mas:"mas-latn-ke",mat:"mat-latn-mx",mau:"mau-latn-mx",mav:"mav-latn-br",maw:"maw-latn-zz",max:"max-latn-id",maz:"maz-latn-mx",mba:"mba-latn-ph",mbb:"mbb-latn-ph",mbc:"mbc-latn-br",mbd:"mbd-latn-ph",mbf:"mbf-latn-sg",mbh:"mbh-latn-zz",mbi:"mbi-latn-ph",mbj:"mbj-latn-br",mbk:"mbk-latn-pg",mbl:"mbl-latn-br",mbm:"mbm-latn-cg",mbn:"mbn-latn-co",mbo:"mbo-latn-zz",mbp:"mbp-latn-co",mbq:"mbq-latn-zz",mbr:"mbr-latn-co",mbs:"mbs-latn-ph",mbt:"mbt-latn-ph",mbu:"mbu-latn-zz",mbv:"mbv-latn-gn",mbw:"mbw-latn-zz",mbx:"mbx-latn-pg",mby:"mby-arab-pk",mbz:"mbz-latn-mx",mca:"mca-latn-py",mcb:"mcb-latn-pe",mcc:"mcc-latn-pg",mcd:"mcd-latn-pe",mce:"mce-latn-mx",mcf:"mcf-latn-pe",mcg:"mcg-latn-ve",mch:"mch-latn-ve",mci:"mci-latn-zz",mcj:"mcj-latn-ng",mck:"mck-latn-ao",mcl:"mcl-latn-co",mcm:"mcm-latn-my",mcn:"mcn-latn-td",mco:"mco-latn-mx",mcp:"mcp-latn-zz",mcq:"mcq-latn-zz",mcr:"mcr-latn-zz",mcs:"mcs-latn-cm",mct:"mct-latn-cm",mcu:"mcu-latn-zz",mcv:"mcv-latn-pg",mcw:"mcw-latn-td",mcx:"mcx-latn-cf",mcy:"mcy-latn-pg",mcz:"mcz-latn-pg",mda:"mda-latn-zz",mdb:"mdb-latn-pg",mdc:"mdc-latn-pg",mdd:"mdd-latn-cm",mde:"mde-arab-zz",mdf:"mdf-cyrl-ru",mdg:"mdg-latn-td",mdh:"mdh-latn-ph",mdi:"mdi-latn-cd",mdj:"mdj-latn-zz",mdk:"mdk-latn-cd",mdm:"mdm-latn-cd",mdn:"mdn-latn-cf",mdp:"mdp-latn-cd",mdq:"mdq-latn-cd",mdr:"mdr-latn-id",mds:"mds-latn-pg",mdt:"mdt-latn-cg",mdu:"mdu-latn-cg",mdv:"mdv-latn-mx",mdw:"mdw-latn-cg",mdx:"mdx-ethi-zz",mdy:"mdy-ethi-et","mdy-latn":"mdy-latn-et",mdz:"mdz-latn-br",mea:"mea-latn-cm",meb:"meb-latn-pg",mec:"mec-latn-au",med:"med-latn-zz",mee:"mee-latn-zz",meh:"meh-latn-mx",mej:"mej-latn-id",mek:"mek-latn-zz",mel:"mel-latn-my",mem:"mem-latn-au",men:"men-latn-sl",meo:"meo-latn-my","meo-arab":"meo-arab-my",mep:"mep-latn-au",meq:"meq-latn-cm",mer:"mer-latn-ke",mes:"mes-latn-td",met:"met-latn-zz",meu:"meu-latn-zz",mev:"mev-latn-lr",mew:"mew-latn-ng",mey:"mey-latn-mr","mey-arab":"mey-arab-mr",mez:"mez-latn-us",mfa:"mfa-arab-th",mfb:"mfb-latn-id",mfc:"mfc-latn-cd",mfd:"mfd-latn-cm",mfe:"mfe-latn-mu",mff:"mff-latn-cm",mfg:"mfg-latn-gn","mfg-arab":"mfg-arab-gn",mfh:"mfh-latn-cm",mfi:"mfi-arab-cm","mfi-latn":"mfi-latn-cm",mfj:"mfj-latn-cm",mfk:"mfk-latn-cm",mfl:"mfl-latn-ng",mfm:"mfm-latn-ng",mfn:"mfn-latn-zz",mfo:"mfo-latn-zz",mfp:"mfp-latn-id",mfq:"mfq-latn-zz",mfr:"mfr-latn-au",mft:"mft-latn-pg",mfu:"mfu-latn-ao",mfv:"mfv-latn-gw",mfw:"mfw-latn-pg",mfx:"mfx-latn-et","mfx-ethi":"mfx-ethi-et",mfy:"mfy-latn-mx",mfz:"mfz-latn-ss",mg:"mg-latn-mg",mgb:"mgb-latn-td",mgc:"mgc-latn-ss",mgd:"mgd-latn-ss","mgd-arab":"mgd-arab-ss",mge:"mge-latn-td",mgf:"mgf-latn-id",mgg:"mgg-latn-cm",mgh:"mgh-latn-mz",mgi:"mgi-latn-ng",mgj:"mgj-latn-ng",mgk:"mgk-latn-id",mgl:"mgl-latn-zz",mgm:"mgm-latn-tl",mgn:"mgn-latn-cf",mgo:"mgo-latn-cm",mgp:"mgp-deva-np",mgq:"mgq-latn-tz",mgr:"mgr-latn-zm",mgs:"mgs-latn-tz",mgt:"mgt-latn-pg",mgu:"mgu-latn-pg",mgv:"mgv-latn-tz",mgw:"mgw-latn-tz",mgy:"mgy-latn-tz",mgz:"mgz-latn-tz",mh:"mh-latn-mh",mhb:"mhb-latn-ga",mhc:"mhc-latn-mx",mhd:"mhd-latn-tz",mhe:"mhe-latn-my",mhf:"mhf-latn-pg",mhg:"mhg-latn-au",mhi:"mhi-latn-zz",mhj:"mhj-arab-af",mhk:"mhk-latn-cm",mhl:"mhl-latn-zz",mhm:"mhm-latn-mz",mhn:"mhn-latn-it",mho:"mho-latn-zm",mhp:"mhp-latn-id",mhq:"mhq-latn-us",mhs:"mhs-latn-id",mht:"mht-latn-ve",mhu:"mhu-latn-in",mhw:"mhw-latn-bw",mhx:"mhx-latn-mm",mhy:"mhy-latn-id",mhz:"mhz-latn-id",mi:"mi-latn-nz",mia:"mia-latn-us",mib:"mib-latn-mx",mic:"mic-latn-ca",mid:"mid-mand-iq",mie:"mie-latn-mx",mif:"mif-latn-zz",mig:"mig-latn-mx",mih:"mih-latn-mx",mii:"mii-latn-mx",mij:"mij-latn-cm",mik:"mik-latn-us",mil:"mil-latn-mx",mim:"mim-latn-mx",min:"min-latn-id",mio:"mio-latn-mx",mip:"mip-latn-mx",miq:"miq-latn-ni",mir:"mir-latn-mx",mit:"mit-latn-mx",miu:"miu-latn-mx",miw:"miw-latn-zz",mix:"mix-latn-mx",miy:"miy-latn-mx",miz:"miz-latn-mx",mjb:"mjb-latn-tl",mjc:"mjc-latn-mx",mjd:"mjd-latn-us",mje:"mje-latn-td",mjg:"mjg-latn-cn",mjh:"mjh-latn-tz",mji:"mji-latn-cn",mjj:"mjj-latn-pg",mjk:"mjk-latn-pg",mjl:"mjl-deva-in","mjl-takr":"mjl-takr-in",mjm:"mjm-latn-pg",mjn:"mjn-latn-pg",mjq:"mjq-mlym-in",mjr:"mjr-mlym-in",mjs:"mjs-latn-ng",mjt:"mjt-deva-in","mjt-beng":"mjt-beng-bd",mju:"mju-telu-in",mjv:"mjv-mlym-in",mjw:"mjw-latn-in",mjx:"mjx-latn-bd","mjx-beng":"mjx-beng-bd",mjy:"mjy-latn-us",mjz:"mjz-deva-np",mk:"mk-cyrl-mk",mka:"mka-latn-ci",mkb:"mkb-deva-in",mkc:"mkc-latn-pg",mke:"mke-deva-in",mkf:"mkf-latn-ng",mki:"mki-arab-zz",mkj:"mkj-latn-fm",mkk:"mkk-latn-cm",mkl:"mkl-latn-zz",mkm:"mkm-thai-th",mkn:"mkn-latn-id",mko:"mko-latn-ng",mkp:"mkp-latn-zz",mkr:"mkr-latn-pg",mks:"mks-latn-mx",mkt:"mkt-latn-nc",mku:"mku-latn-gn",mkv:"mkv-latn-vu",mkw:"mkw-latn-zz",mkx:"mkx-latn-ph",mky:"mky-latn-id",mkz:"mkz-latn-tl",ml:"ml-mlym-in",mla:"mla-latn-vu",mlb:"mlb-latn-cm",mlc:"mlc-latn-vn",mle:"mle-latn-zz",mlf:"mlf-thai-la","mlf-latn":"mlf-latn-la",mlh:"mlh-latn-pg",mli:"mli-latn-id",mlj:"mlj-latn-td",mlk:"mlk-latn-ke",mll:"mll-latn-vu",mln:"mln-latn-sb",mlo:"mlo-latn-sn",mlp:"mlp-latn-zz",mlq:"mlq-latn-sn","mlq-arab":"mlq-arab-sn",mlr:"mlr-latn-cm",mls:"mls-latn-sd",mlu:"mlu-latn-sb",mlv:"mlv-latn-vu",mlw:"mlw-latn-cm",mlx:"mlx-latn-vu",mlz:"mlz-latn-ph",mma:"mma-latn-ng",mmb:"mmb-latn-id",mmc:"mmc-latn-mx",mmd:"mmd-latn-cn","mmd-hans":"mmd-hans-cn","mmd-hant":"mmd-hant-cn",mme:"mme-latn-vu",mmf:"mmf-latn-ng",mmg:"mmg-latn-vu",mmh:"mmh-latn-br",mmi:"mmi-latn-pg",mmm:"mmm-latn-vu",mmn:"mmn-latn-ph",mmo:"mmo-latn-zz",mmp:"mmp-latn-pg",mmq:"mmq-latn-pg",mmr:"mmr-latn-cn",mmt:"mmt-latn-pg",mmu:"mmu-latn-zz",mmv:"mmv-latn-br",mmw:"mmw-latn-vu",mmx:"mmx-latn-zz",mmy:"mmy-latn-td",mmz:"mmz-latn-cd",mn:"mn-cyrl-mn","mn-cn":"mn-mong-cn","mn-mong":"mn-mong-cn",mna:"mna-latn-zz",mnb:"mnb-latn-id",mnd:"mnd-latn-br",mne:"mne-latn-td",mnf:"mnf-latn-zz",mng:"mng-latn-vn",mnh:"mnh-latn-cd",mni:"mni-beng-in",mnj:"mnj-arab-af",mnl:"mnl-latn-vu",mnm:"mnm-latn-pg",mnn:"mnn-latn-vn",mnp:"mnp-latn-cn",mnq:"mnq-latn-my",mnr:"mnr-latn-us",mns:"mns-cyrl-ru",mnu:"mnu-latn-id",mnv:"mnv-latn-sb",mnw:"mnw-mymr-mm",mnx:"mnx-latn-id",mny:"mny-latn-mz",mnz:"mnz-latn-id",mo:"mo-latn-ro",moa:"moa-latn-zz",moc:"moc-latn-ar",mod:"mod-latn-us",moe:"moe-latn-ca",mog:"mog-latn-id",moh:"moh-latn-ca",moi:"moi-latn-ng",moj:"moj-latn-cg",mok:"mok-latn-id",mom:"mom-latn-ni",moo:"moo-latn-vn",mop:"mop-latn-bz",moq:"moq-latn-id",mor:"mor-latn-sd",mos:"mos-latn-bf",mot:"mot-latn-co",mou:"mou-latn-td",mov:"mov-latn-us",mow:"mow-latn-cg",mox:"mox-latn-zz",moy:"moy-latn-et","moy-ethi":"moy-ethi-et",moz:"moz-latn-td",mpa:"mpa-latn-tz",mpb:"mpb-latn-au",mpc:"mpc-latn-au",mpd:"mpd-latn-br",mpe:"mpe-latn-et","mpe-ethi":"mpe-ethi-et",mpg:"mpg-latn-td",mph:"mph-latn-au",mpi:"mpi-latn-cm",mpj:"mpj-latn-au",mpk:"mpk-latn-td",mpl:"mpl-latn-pg",mpm:"mpm-latn-mx",mpn:"mpn-latn-pg",mpo:"mpo-latn-pg",mpp:"mpp-latn-zz",mpq:"mpq-latn-br",mpr:"mpr-latn-sb",mps:"mps-latn-zz",mpt:"mpt-latn-zz",mpu:"mpu-latn-br",mpv:"mpv-latn-pg",mpw:"mpw-latn-br",mpx:"mpx-latn-zz",mpy:"mpy-latn-id",mpz:"mpz-thai-th",mqa:"mqa-latn-id",mqb:"mqb-latn-cm",mqc:"mqc-latn-id",mqe:"mqe-latn-pg",mqf:"mqf-latn-id",mqg:"mqg-latn-id",mqh:"mqh-latn-mx",mqi:"mqi-latn-id",mqj:"mqj-latn-id",mqk:"mqk-latn-ph",mql:"mql-latn-zz",mqm:"mqm-latn-pf",mqn:"mqn-latn-id",mqo:"mqo-latn-id",mqp:"mqp-latn-id",mqq:"mqq-latn-my",mqr:"mqr-latn-id",mqs:"mqs-latn-id",mqu:"mqu-latn-ss",mqv:"mqv-latn-pg",mqw:"mqw-latn-pg",mqx:"mqx-latn-id","mqx-bugi":"mqx-bugi-id",mqy:"mqy-latn-id",mqz:"mqz-latn-pg",mr:"mr-deva-in",mra:"mra-thai-th",mrb:"mrb-latn-vu",mrc:"mrc-latn-us",mrd:"mrd-deva-np",mrf:"mrf-latn-id",mrg:"mrg-latn-in","mrg-beng":"mrg-beng-in","mrg-deva":"mrg-deva-in",mrh:"mrh-latn-in",mrj:"mrj-cyrl-ru",mrk:"mrk-latn-nc",mrl:"mrl-latn-fm",mrm:"mrm-latn-vu",mrn:"mrn-latn-sb",mro:"mro-mroo-bd",mrp:"mrp-latn-vu",mrq:"mrq-latn-pf",mrr:"mrr-deva-in",mrs:"mrs-latn-vu",mrt:"mrt-latn-ng",mru:"mru-latn-cm",mrv:"mrv-latn-pf",mrw:"mrw-latn-ph","mrw-arab":"mrw-arab-ph",mrx:"mrx-latn-id",mry:"mry-latn-ph",mrz:"mrz-latn-id",ms:"ms-latn-my","ms-cc":"ms-arab-cc",msb:"msb-latn-ph",msc:"msc-latn-gn",mse:"mse-latn-td",msf:"msf-latn-id",msg:"msg-latn-id",msh:"msh-latn-mg",msi:"msi-latn-my",msj:"msj-latn-cd",msk:"msk-latn-ph",msl:"msl-latn-id",msm:"msm-latn-ph",msn:"msn-latn-vu",mso:"mso-latn-id",msp:"msp-latn-br",msq:"msq-latn-nc",mss:"mss-latn-id",msu:"msu-latn-pg",msv:"msv-latn-cm",msw:"msw-latn-gw",msx:"msx-latn-pg",msy:"msy-latn-pg",msz:"msz-latn-pg",mt:"mt-latn-mt",mta:"mta-latn-ph",mtb:"mtb-latn-ci",mtc:"mtc-latn-zz",mtd:"mtd-latn-id",mte:"mte-latn-sb",mtf:"mtf-latn-zz",mtg:"mtg-latn-id",mth:"mth-latn-id",mti:"mti-latn-zz",mtj:"mtj-latn-id",mtk:"mtk-latn-cm",mtl:"mtl-latn-ng",mtm:"mtm-cyrl-ru",mtn:"mtn-latn-ni",mto:"mto-latn-mx",mtp:"mtp-latn-bo",mtq:"mtq-latn-vn",mtr:"mtr-deva-in",mts:"mts-latn-pe",mtt:"mtt-latn-vu",mtu:"mtu-latn-mx",mtv:"mtv-latn-pg",mtw:"mtw-latn-ph",mtx:"mtx-latn-mx",mty:"mty-latn-pg",mua:"mua-latn-cm",mub:"mub-latn-td",muc:"muc-latn-cm",mud:"mud-cyrl-ru",mue:"mue-latn-ec",mug:"mug-latn-cm",muh:"muh-latn-ss",mui:"mui-latn-id",muj:"muj-latn-td",muk:"muk-tibt-np",mum:"mum-latn-pg",muo:"muo-latn-cm",muq:"muq-latn-cn",mur:"mur-latn-zz",mus:"mus-latn-us",mut:"mut-deva-in",muu:"muu-latn-ke",muv:"muv-taml-in",mux:"mux-latn-pg",muy:"muy-latn-cm",muz:"muz-ethi-et","muz-latn":"muz-latn-et",mva:"mva-latn-zz",mvd:"mvd-latn-id",mvf:"mvf-mong-cn","mvf-phag":"mvf-phag-cn",mvg:"mvg-latn-mx",mvh:"mvh-latn-td",mvk:"mvk-latn-pg",mvl:"mvl-latn-au",mvn:"mvn-latn-zz",mvo:"mvo-latn-sb",mvp:"mvp-latn-id",mvq:"mvq-latn-pg",mvr:"mvr-latn-id",mvs:"mvs-latn-id",mvt:"mvt-latn-vu",mvu:"mvu-latn-td",mvv:"mvv-latn-my",mvw:"mvw-latn-tz",mvx:"mvx-latn-id",mvy:"mvy-arab-pk",mvz:"mvz-ethi-et","mvz-arab":"mvz-arab-et",mwa:"mwa-latn-pg",mwb:"mwb-latn-pg",mwc:"mwc-latn-pg",mwe:"mwe-latn-tz",mwf:"mwf-latn-au",mwg:"mwg-latn-pg",mwh:"mwh-latn-pg",mwi:"mwi-latn-vu",mwk:"mwk-latn-ml",mwl:"mwl-latn-pt",mwm:"mwm-latn-td",mwn:"mwn-latn-zm",mwo:"mwo-latn-vu",mwp:"mwp-latn-au",mwq:"mwq-latn-mm",mwr:"mwr-deva-in",mws:"mws-latn-ke",mwt:"mwt-mymr-mm","mwt-thai":"mwt-thai-th",mwu:"mwu-latn-ss",mwv:"mwv-latn-id",mww:"mww-hmnp-us",mwz:"mwz-latn-cd",mxa:"mxa-latn-mx",mxb:"mxb-latn-mx",mxc:"mxc-latn-zw",mxd:"mxd-latn-id",mxe:"mxe-latn-vu",mxf:"mxf-latn-cm",mxg:"mxg-latn-ao",mxh:"mxh-latn-cd",mxi:"mxi-latn-es",mxj:"mxj-latn-in",mxk:"mxk-latn-pg",mxl:"mxl-latn-bj",mxm:"mxm-latn-zz",mxn:"mxn-latn-id",mxo:"mxo-latn-zm",mxp:"mxp-latn-mx",mxq:"mxq-latn-mx",mxr:"mxr-latn-my",mxs:"mxs-latn-mx",mxt:"mxt-latn-mx",mxu:"mxu-latn-cm",mxv:"mxv-latn-mx",mxw:"mxw-latn-pg",mxx:"mxx-latn-ci",mxy:"mxy-latn-mx",mxz:"mxz-latn-id",my:"my-mymr-mm",myb:"myb-latn-td",myc:"myc-latn-cd",mye:"mye-latn-ga",myf:"myf-latn-et",myg:"myg-latn-cm",myh:"myh-latn-us",myj:"myj-latn-ss",myk:"myk-latn-zz",myl:"myl-latn-id",mym:"mym-ethi-zz",myp:"myp-latn-br",myr:"myr-latn-pe",myu:"myu-latn-br",myv:"myv-cyrl-ru",myw:"myw-latn-zz",myx:"myx-latn-ug",myy:"myy-latn-co",myz:"myz-mand-ir",mza:"mza-latn-mx",mzd:"mzd-latn-cm",mze:"mze-latn-pg",mzh:"mzh-latn-ar",mzi:"mzi-latn-mx",mzj:"mzj-latn-lr",mzk:"mzk-latn-zz",mzl:"mzl-latn-mx",mzm:"mzm-latn-zz",mzn:"mzn-arab-ir",mzo:"mzo-latn-br",mzp:"mzp-latn-zz",mzq:"mzq-latn-id",mzr:"mzr-latn-br",mzt:"mzt-latn-my",mzu:"mzu-latn-pg",mzv:"mzv-latn-cf",mzw:"mzw-latn-zz",mzx:"mzx-latn-gy",mzz:"mzz-latn-zz",na:"na-latn-nr",naa:"naa-latn-id",nab:"nab-latn-br",nac:"nac-latn-zz",nae:"nae-latn-id",naf:"naf-latn-zz",nag:"nag-latn-in",naj:"naj-latn-gn",nak:"nak-latn-zz",nal:"nal-latn-pg",nam:"nam-latn-au",nan:"nan-hans-cn",nao:"nao-deva-np",nap:"nap-latn-it",naq:"naq-latn-na",nar:"nar-latn-ng",nas:"nas-latn-zz",nat:"nat-latn-ng",naw:"naw-latn-gh",nax:"nax-latn-pg",nay:"nay-latn-au",naz:"naz-latn-mx",nb:"nb-latn-no",nba:"nba-latn-ao",nbb:"nbb-latn-ng",nbc:"nbc-latn-in",nbd:"nbd-latn-cd",nbe:"nbe-latn-in",nbh:"nbh-latn-ng",nbi:"nbi-latn-in",nbj:"nbj-latn-au",nbk:"nbk-latn-pg",nbm:"nbm-latn-cf",nbn:"nbn-latn-id",nbo:"nbo-latn-ng",nbp:"nbp-latn-ng",nbq:"nbq-latn-id",nbr:"nbr-latn-ng",nbt:"nbt-latn-in","nbt-deva":"nbt-deva-in",nbu:"nbu-latn-in",nbv:"nbv-latn-cm",nbw:"nbw-latn-cd",nby:"nby-latn-pg",nca:"nca-latn-zz",ncb:"ncb-latn-in","ncb-deva":"ncb-deva-in",ncc:"ncc-latn-pg",ncd:"ncd-deva-np",nce:"nce-latn-zz",ncf:"ncf-latn-zz",ncg:"ncg-latn-ca",nch:"nch-latn-mx",nci:"nci-latn-mx",ncj:"ncj-latn-mx",nck:"nck-latn-au",ncl:"ncl-latn-mx",ncm:"ncm-latn-pg",ncn:"ncn-latn-pg",nco:"nco-latn-zz",ncq:"ncq-laoo-la","ncq-thai":"ncq-thai-la",ncr:"ncr-latn-cm",nct:"nct-latn-in","nct-beng":"nct-beng-in",ncu:"ncu-latn-zz",ncx:"ncx-latn-mx",ncz:"ncz-latn-us",nd:"nd-latn-zw",nda:"nda-latn-cg",ndb:"ndb-latn-cm",ndc:"ndc-latn-mz",ndd:"ndd-latn-ng",ndf:"ndf-cyrl-ru",ndg:"ndg-latn-tz",ndh:"ndh-latn-tz",ndi:"ndi-latn-ng",ndj:"ndj-latn-tz",ndk:"ndk-latn-cd",ndl:"ndl-latn-cd",ndm:"ndm-latn-td",ndn:"ndn-latn-cg",ndp:"ndp-latn-ug",ndq:"ndq-latn-ao",ndr:"ndr-latn-ng",nds:"nds-latn-de",ndt:"ndt-latn-cd",ndu:"ndu-latn-cm",ndv:"ndv-latn-sn",ndw:"ndw-latn-cd",ndx:"ndx-latn-id",ndy:"ndy-latn-cf","ndy-td":"ndy-latn-td",ndz:"ndz-latn-ss",ne:"ne-deva-np",nea:"nea-latn-id",neb:"neb-latn-zz",nec:"nec-latn-id",ned:"ned-latn-ng",nee:"nee-latn-nc",neg:"neg-cyrl-ru",neh:"neh-tibt-bt",nei:"nei-xsux-tr",nej:"nej-latn-pg",nek:"nek-latn-nc",nem:"nem-latn-nc",nen:"nen-latn-nc",neo:"neo-latn-vn",neq:"neq-latn-mx",ner:"ner-latn-id",net:"net-latn-pg",neu:"neu-latn-001",new:"new-deva-np",nex:"nex-latn-zz",ney:"ney-latn-ci",nez:"nez-latn-us",nfa:"nfa-latn-id",nfd:"nfd-latn-ng",nfl:"nfl-latn-sb",nfr:"nfr-latn-zz",nfu:"nfu-latn-cm",ng:"ng-latn-na",nga:"nga-latn-zz",ngb:"ngb-latn-zz",ngc:"ngc-latn-cd",ngd:"ngd-latn-cf",nge:"nge-latn-cm",ngg:"ngg-latn-cf",ngh:"ngh-latn-za",ngi:"ngi-latn-ng",ngj:"ngj-latn-cm",ngk:"ngk-latn-au",ngl:"ngl-latn-mz",ngm:"ngm-latn-fm",ngn:"ngn-latn-cm",ngp:"ngp-latn-tz",ngq:"ngq-latn-tz",ngr:"ngr-latn-sb",ngs:"ngs-latn-ng",ngt:"ngt-laoo-la",ngu:"ngu-latn-mx",ngv:"ngv-latn-cm",ngw:"ngw-latn-ng",ngx:"ngx-latn-ng",ngy:"ngy-latn-cm",ngz:"ngz-latn-cg",nha:"nha-latn-au",nhb:"nhb-latn-zz",nhc:"nhc-latn-mx",nhd:"nhd-latn-py",nhe:"nhe-latn-mx",nhf:"nhf-latn-au",nhg:"nhg-latn-mx",nhi:"nhi-latn-mx",nhk:"nhk-latn-mx",nhm:"nhm-latn-mx",nhn:"nhn-latn-mx",nho:"nho-latn-pg",nhp:"nhp-latn-mx",nhq:"nhq-latn-mx",nhr:"nhr-latn-bw",nht:"nht-latn-mx",nhu:"nhu-latn-cm",nhv:"nhv-latn-mx",nhw:"nhw-latn-mx",nhx:"nhx-latn-mx",nhy:"nhy-latn-mx",nhz:"nhz-latn-mx",nia:"nia-latn-id",nib:"nib-latn-pg",nid:"nid-latn-au",nie:"nie-latn-td",nif:"nif-latn-zz",nig:"nig-latn-au",nih:"nih-latn-tz",nii:"nii-latn-zz",nij:"nij-latn-id",nil:"nil-latn-id",nim:"nim-latn-tz",nin:"nin-latn-zz",nio:"nio-cyrl-ru",niq:"niq-latn-ke",nir:"nir-latn-id",nis:"nis-latn-pg",nit:"nit-telu-in",niu:"niu-latn-nu",niv:"niv-cyrl-ru","niv-latn":"niv-latn-ru",niw:"niw-latn-pg",nix:"nix-latn-cd",niy:"niy-latn-zz",niz:"niz-latn-zz",nja:"nja-latn-ng",njb:"njb-latn-in",njd:"njd-latn-tz",njh:"njh-latn-in",nji:"nji-latn-au",njj:"njj-latn-cm",njl:"njl-latn-ss",njm:"njm-latn-in",njn:"njn-latn-in",njo:"njo-latn-in",njr:"njr-latn-ng",njs:"njs-latn-id",njt:"njt-latn-sr",nju:"nju-latn-au",njx:"njx-latn-cg",njy:"njy-latn-cm",njz:"njz-latn-in","njz-beng":"njz-beng-in",nka:"nka-latn-zm",nkb:"nkb-latn-in",nkc:"nkc-latn-cm",nkd:"nkd-latn-in",nke:"nke-latn-sb",nkf:"nkf-latn-in",nkg:"nkg-latn-zz",nkh:"nkh-latn-in",nki:"nki-latn-in","nki-beng":"nki-beng-in",nkj:"nkj-latn-id",nkk:"nkk-latn-vu",nkm:"nkm-latn-pg",nkn:"nkn-latn-ao",nko:"nko-latn-zz",nkq:"nkq-latn-gh",nkr:"nkr-latn-fm",nks:"nks-latn-id",nkt:"nkt-latn-tz",nku:"nku-latn-ci",nkv:"nkv-latn-mw",nkw:"nkw-latn-cd",nkx:"nkx-latn-ng",nkz:"nkz-latn-ng",nl:"nl-latn-nl",nla:"nla-latn-cm",nlc:"nlc-latn-id",nle:"nle-latn-ke",nlg:"nlg-latn-sb",nli:"nli-arab-af",nlj:"nlj-latn-cd",nlk:"nlk-latn-id",nlm:"nlm-arab-pk",nlo:"nlo-latn-cd",nlq:"nlq-latn-mm",nlu:"nlu-latn-gh",nlv:"nlv-latn-mx",nlw:"nlw-latn-au",nlx:"nlx-deva-in",nly:"nly-latn-au",nlz:"nlz-latn-sb",nma:"nma-latn-in",nmb:"nmb-latn-vu",nmc:"nmc-latn-td",nmd:"nmd-latn-ga",nme:"nme-latn-in",nmf:"nmf-latn-in",nmg:"nmg-latn-cm",nmh:"nmh-latn-in",nmi:"nmi-latn-ng",nmj:"nmj-latn-cf",nmk:"nmk-latn-vu",nml:"nml-latn-cm",nmm:"nmm-deva-np","nmm-tibt":"nmm-tibt-np",nmn:"nmn-latn-bw",nmo:"nmo-latn-in","nmo-beng":"nmo-beng-in",nmp:"nmp-latn-au",nmq:"nmq-latn-zw",nmr:"nmr-latn-cm",nms:"nms-latn-vu",nmt:"nmt-latn-fm",nmu:"nmu-latn-us",nmv:"nmv-latn-au",nmw:"nmw-latn-pg",nmx:"nmx-latn-pg",nmz:"nmz-latn-zz",nn:"nn-latn-no",nna:"nna-latn-au",nnb:"nnb-latn-cd",nnc:"nnc-latn-td",nnd:"nnd-latn-vu",nne:"nne-latn-ao",nnf:"nnf-latn-zz",nng:"nng-latn-in","nng-beng":"nng-beng-in",nnh:"nnh-latn-cm",nni:"nni-latn-id",nnj:"nnj-latn-et",nnk:"nnk-latn-zz",nnl:"nnl-latn-in",nnm:"nnm-latn-zz",nnn:"nnn-latn-td",nnp:"nnp-wcho-in",nnq:"nnq-latn-tz",nnr:"nnr-latn-au",nnt:"nnt-latn-us",nnu:"nnu-latn-gh",nnv:"nnv-latn-au",nnw:"nnw-latn-bf",nny:"nny-latn-au",nnz:"nnz-latn-cm",no:"no-latn-no",noa:"noa-latn-co",noc:"noc-latn-pg",nod:"nod-lana-th",noe:"noe-deva-in",nof:"nof-latn-pg",nog:"nog-cyrl-ru",noh:"noh-latn-pg",noi:"noi-deva-in",noj:"noj-latn-co",nok:"nok-latn-us",nom:"nom-latn-pe",non:"non-runr-se",nop:"nop-latn-zz",noq:"noq-latn-cd",nos:"nos-yiii-cn",not:"not-latn-pe",nou:"nou-latn-zz",nov:"nov-latn-001",now:"now-latn-tz",noy:"noy-latn-td",npb:"npb-tibt-bt",npg:"npg-latn-mm",nph:"nph-latn-in",npl:"npl-latn-mx",npn:"npn-latn-pg",npo:"npo-latn-in",nps:"nps-latn-id",npu:"npu-latn-in",npx:"npx-latn-sb",npy:"npy-latn-id",nqg:"nqg-latn-bj",nqk:"nqk-latn-bj",nql:"nql-latn-ao",nqm:"nqm-latn-id",nqn:"nqn-latn-pg",nqo:"nqo-nkoo-gn",nqq:"nqq-latn-mm",nqt:"nqt-latn-ng",nqy:"nqy-latn-mm",nr:"nr-latn-za",nra:"nra-latn-ga",nrb:"nrb-latn-zz",nre:"nre-latn-in",nrf:"nrf-latn-je",nrg:"nrg-latn-vu",nri:"nri-latn-in",nrk:"nrk-latn-au",nrl:"nrl-latn-au",nrm:"nrm-latn-my",nrp:"nrp-latn-it",nru:"nru-latn-cn","nru-hans":"nru-hans-cn","nru-hant":"nru-hant-cn",nrx:"nrx-latn-au",nrz:"nrz-latn-pg",nsa:"nsa-latn-in",nsb:"nsb-latn-za",nsc:"nsc-latn-ng",nsd:"nsd-yiii-cn",nse:"nse-latn-zm",nsf:"nsf-yiii-cn",nsg:"nsg-latn-tz",nsh:"nsh-latn-cm",nsk:"nsk-cans-ca",nsm:"nsm-latn-in",nsn:"nsn-latn-zz",nso:"nso-latn-za",nsq:"nsq-latn-us",nss:"nss-latn-zz",nst:"nst-tnsa-in",nsu:"nsu-latn-mx",nsv:"nsv-yiii-cn",nsw:"nsw-latn-vu",nsx:"nsx-latn-ao",nsy:"nsy-latn-id",nsz:"nsz-latn-us",ntd:"ntd-latn-my",nte:"nte-latn-mz",ntg:"ntg-latn-au",nti:"nti-latn-bf",ntj:"ntj-latn-au",ntk:"ntk-latn-tz",ntm:"ntm-latn-zz",nto:"nto-latn-cd",ntp:"ntp-latn-mx",ntr:"ntr-latn-zz",ntu:"ntu-latn-sb",ntx:"ntx-latn-mm",nty:"nty-yiii-vn",ntz:"ntz-arab-ir",nua:"nua-latn-nc",nuc:"nuc-latn-br",nud:"nud-latn-pg",nue:"nue-latn-cd",nuf:"nuf-latn-cn",nug:"nug-latn-au",nuh:"nuh-latn-ng",nui:"nui-latn-zz",nuj:"nuj-latn-ug",nuk:"nuk-latn-ca",num:"num-latn-to",nun:"nun-latn-mm",nuo:"nuo-latn-vn",nup:"nup-latn-zz",nuq:"nuq-latn-pg",nur:"nur-latn-pg",nus:"nus-latn-ss",nut:"nut-latn-vn",nuu:"nuu-latn-cd",nuv:"nuv-latn-zz",nuw:"nuw-latn-fm",nux:"nux-latn-zz",nuy:"nuy-latn-au",nuz:"nuz-latn-mx",nv:"nv-latn-us",nvh:"nvh-latn-vu",nvm:"nvm-latn-pg",nvo:"nvo-latn-cm",nwb:"nwb-latn-zz",nwc:"nwc-newa-np","nwc-brah":"nwc-brah-np","nwc-deva":"nwc-deva-np","nwc-sidd":"nwc-sidd-np",nwe:"nwe-latn-cm",nwg:"nwg-latn-au",nwi:"nwi-latn-vu",nwm:"nwm-latn-ss",nwo:"nwo-latn-au",nwr:"nwr-latn-pg",nww:"nww-latn-tz",nwx:"nwx-deva-np",nxa:"nxa-latn-tl",nxd:"nxd-latn-cd",nxe:"nxe-latn-id",nxg:"nxg-latn-id",nxi:"nxi-latn-tz",nxl:"nxl-latn-id",nxn:"nxn-latn-au",nxo:"nxo-latn-ga",nxq:"nxq-latn-cn",nxr:"nxr-latn-zz",nxx:"nxx-latn-id",ny:"ny-latn-mw",nyb:"nyb-latn-gh",nyc:"nyc-latn-cd",nyd:"nyd-latn-ke",nye:"nye-latn-ao",nyf:"nyf-latn-ke",nyg:"nyg-latn-cd",nyh:"nyh-latn-au",nyi:"nyi-latn-sd",nyj:"nyj-latn-cd",nyk:"nyk-latn-ao",nyl:"nyl-thai-th",nym:"nym-latn-tz",nyn:"nyn-latn-ug",nyo:"nyo-latn-ug",nyp:"nyp-latn-ug",nyq:"nyq-arab-ir",nyr:"nyr-latn-mw",nys:"nys-latn-au",nyt:"nyt-latn-au",nyu:"nyu-latn-mz",nyv:"nyv-latn-au",nyx:"nyx-latn-au",nyy:"nyy-latn-tz",nza:"nza-latn-cm",nzb:"nzb-latn-ga",nzd:"nzd-latn-cd",nzi:"nzi-latn-gh",nzk:"nzk-latn-cf",nzm:"nzm-latn-in",nzu:"nzu-latn-cg",nzy:"nzy-latn-td",nzz:"nzz-latn-ml",oaa:"oaa-cyrl-ru",oac:"oac-cyrl-ru",oar:"oar-syrc-sy",oav:"oav-geor-ge",obi:"obi-latn-us",obk:"obk-latn-ph",obl:"obl-latn-cm",obm:"obm-phnx-jo",obo:"obo-latn-ph",obr:"obr-mymr-mm",obt:"obt-latn-fr",obu:"obu-latn-ng",oc:"oc-latn-fr",oca:"oca-latn-pe",oco:"oco-latn-gb",ocu:"ocu-latn-mx",oda:"oda-latn-ng",odk:"odk-arab-pk",odt:"odt-latn-nl",odu:"odu-latn-ng",ofu:"ofu-latn-ng",ogb:"ogb-latn-ng",ogc:"ogc-latn-zz",ogg:"ogg-latn-ng",ogo:"ogo-latn-ng",ogu:"ogu-latn-ng",oht:"oht-xsux-tr",oia:"oia-latn-id",oie:"oie-latn-ss",oin:"oin-latn-pg",oj:"oj-cans-ca",ojb:"ojb-latn-ca","ojb-cans":"ojb-cans-ca",ojc:"ojc-latn-ca",ojs:"ojs-cans-ca",ojv:"ojv-latn-sb",ojw:"ojw-latn-ca","ojw-cans":"ojw-cans-ca",oka:"oka-latn-ca",okb:"okb-latn-ng",okc:"okc-latn-cd",okd:"okd-latn-ng",oke:"oke-latn-ng",okg:"okg-latn-au",oki:"oki-latn-ke",okk:"okk-latn-pg",okm:"okm-hang-kr",oko:"oko-hani-kr",okr:"okr-latn-zz",oks:"oks-latn-ng",oku:"oku-latn-cm",okv:"okv-latn-zz",okx:"okx-latn-ng",okz:"okz-khmr-kh",ola:"ola-deva-np","ola-tibt":"ola-tibt-cn",old:"old-latn-tz",ole:"ole-tibt-bt",olk:"olk-latn-au",olm:"olm-latn-ng",olo:"olo-latn-ru",olr:"olr-latn-vu",olt:"olt-latn-lt",olu:"olu-latn-ao",om:"om-latn-et",oma:"oma-latn-us",omb:"omb-latn-vu",omc:"omc-latn-pe",omg:"omg-latn-pe",omi:"omi-latn-cd",omk:"omk-cyrl-ru",oml:"oml-latn-cd",omo:"omo-latn-pg",omp:"omp-mtei-in",omr:"omr-modi-in",omt:"omt-latn-ke",omu:"omu-latn-pe",omw:"omw-latn-pg",ona:"ona-latn-ar",one:"one-latn-ca",ong:"ong-latn-zz",oni:"oni-latn-id",onj:"onj-latn-pg",onk:"onk-latn-pg",onn:"onn-latn-zz",ono:"ono-latn-ca",onp:"onp-latn-in","onp-deva":"onp-deva-in",onr:"onr-latn-pg",ons:"ons-latn-zz",ont:"ont-latn-pg",onu:"onu-latn-vu",onx:"onx-latn-id",ood:"ood-latn-us",oon:"oon-deva-in",oor:"oor-latn-za",opa:"opa-latn-ng",opk:"opk-latn-id",opm:"opm-latn-zz",opo:"opo-latn-pg",opt:"opt-latn-mx",opy:"opy-latn-br",or:"or-orya-in",ora:"ora-latn-sb",orc:"orc-latn-ke",ore:"ore-latn-pe",org:"org-latn-ng",orn:"orn-latn-my",oro:"oro-latn-zz",orr:"orr-latn-ng",ors:"ors-latn-my",ort:"ort-telu-in",oru:"oru-arab-zz",orv:"orv-cyrl-ru",orw:"orw-latn-br",orx:"orx-latn-ng",orz:"orz-latn-id",os:"os-cyrl-ge",osa:"osa-osge-us",osc:"osc-ital-it","osc-latn":"osc-latn-it",osi:"osi-java-id",oso:"oso-latn-ng",osp:"osp-latn-es",ost:"ost-latn-cm",osu:"osu-latn-pg",osx:"osx-latn-de",ota:"ota-arab-zz",otb:"otb-tibt-cn",otd:"otd-latn-id",ote:"ote-latn-mx",oti:"oti-latn-br",otk:"otk-orkh-mn",otl:"otl-latn-mx",otm:"otm-latn-mx",otn:"otn-latn-mx",otq:"otq-latn-mx",otr:"otr-latn-sd",ots:"ots-latn-mx",ott:"ott-latn-mx",otu:"otu-latn-br",otw:"otw-latn-ca",otx:"otx-latn-mx",oty:"oty-gran-in",otz:"otz-latn-mx",oub:"oub-latn-lr",oue:"oue-latn-pg",oui:"oui-ougr-143",oum:"oum-latn-pg",ovd:"ovd-latn-se",owi:"owi-latn-pg",owl:"owl-latn-gb",oyd:"oyd-latn-et",oym:"oym-latn-br",oyy:"oyy-latn-pg",ozm:"ozm-latn-zz",pa:"pa-guru-in","pa-arab":"pa-arab-pk","pa-pk":"pa-arab-pk",pab:"pab-latn-br",pac:"pac-latn-vn",pad:"pad-latn-br",pae:"pae-latn-cd",paf:"paf-latn-br",pag:"pag-latn-ph",pah:"pah-latn-br",pai:"pai-latn-ng",pak:"pak-latn-br",pal:"pal-phli-ir","pal-phlp":"pal-phlp-cn",pam:"pam-latn-ph",pao:"pao-latn-us",pap:"pap-latn-cw",paq:"paq-cyrl-tj",par:"par-latn-us",pas:"pas-latn-id",pau:"pau-latn-pw",pav:"pav-latn-br",paw:"paw-latn-us",pax:"pax-latn-br",pay:"pay-latn-hn",paz:"paz-latn-br",pbb:"pbb-latn-co",pbc:"pbc-latn-gy",pbe:"pbe-latn-mx",pbf:"pbf-latn-mx",pbg:"pbg-latn-ve",pbh:"pbh-latn-ve",pbi:"pbi-latn-zz",pbl:"pbl-latn-ng",pbm:"pbm-latn-mx",pbn:"pbn-latn-ng",pbo:"pbo-latn-gw",pbp:"pbp-latn-gn",pbr:"pbr-latn-tz",pbs:"pbs-latn-mx",pbt:"pbt-arab-af",pbv:"pbv-latn-in",pby:"pby-latn-pg",pca:"pca-latn-mx",pcb:"pcb-khmr-kh",pcc:"pcc-latn-cn","pcc-hani":"pcc-hani-cn",pcd:"pcd-latn-fr",pce:"pce-mymr-mm","pce-thai":"pce-thai-th",pcf:"pcf-mlym-in",pcg:"pcg-mlym-in","pcg-knda":"pcg-knda-in","pcg-taml":"pcg-taml-in",pch:"pch-deva-in",pci:"pci-deva-in","pci-orya":"pci-orya-in",pcj:"pcj-telu-in",pck:"pck-latn-in",pcm:"pcm-latn-ng",pcn:"pcn-latn-ng",pcp:"pcp-latn-bo",pcw:"pcw-latn-ng",pda:"pda-latn-pg",pdc:"pdc-latn-us",pdn:"pdn-latn-id",pdo:"pdo-latn-id",pdt:"pdt-latn-ca",pdu:"pdu-latn-mm","pdu-mymr":"pdu-mymr-mm",pea:"pea-latn-id",peb:"peb-latn-us",ped:"ped-latn-zz",pee:"pee-latn-id",peg:"peg-orya-in",pei:"pei-latn-mx",pek:"pek-latn-pg",pel:"pel-latn-id",pem:"pem-latn-cd",peo:"peo-xpeo-ir",pep:"pep-latn-pg",peq:"peq-latn-us",pev:"pev-latn-ve",pex:"pex-latn-zz",pey:"pey-latn-id",pez:"pez-latn-my",pfa:"pfa-latn-fm",pfe:"pfe-latn-cm",pfl:"pfl-latn-de",pga:"pga-latn-ss",pgd:"pgd-khar-pk",pgg:"pgg-deva-in",pgi:"pgi-latn-pg",pgk:"pgk-latn-vu",pgl:"pgl-ogam-ie",pgn:"pgn-ital-it",pgs:"pgs-latn-ng",pgu:"pgu-latn-id",phd:"phd-deva-in",phg:"phg-latn-vn",phh:"phh-latn-vn",phk:"phk-mymr-in",phl:"phl-arab-zz",phm:"phm-latn-mz",phn:"phn-phnx-lb",pho:"pho-laoo-la",phr:"phr-arab-pk",pht:"pht-thai-th",phv:"phv-arab-af",phw:"phw-deva-np",pi:"pi-sinh-in","pi-brah":"pi-brah-in","pi-deva":"pi-deva-in","pi-khar":"pi-khar-in","pi-khmr":"pi-khmr-in","pi-mymr":"pi-mymr-in","pi-thai":"pi-thai-in",pia:"pia-latn-mx",pib:"pib-latn-pe",pic:"pic-latn-ga",pid:"pid-latn-ve",pif:"pif-latn-fm",pig:"pig-latn-pe",pih:"pih-latn-nf",pij:"pij-latn-co",pil:"pil-latn-zz",pim:"pim-latn-us",pin:"pin-latn-pg",pio:"pio-latn-co",pip:"pip-latn-zz",pir:"pir-latn-br",pis:"pis-latn-sb",pit:"pit-latn-au",piu:"piu-latn-au",piv:"piv-latn-sb",piw:"piw-latn-tz",pix:"pix-latn-pg",piy:"piy-latn-ng",piz:"piz-latn-nc",pjt:"pjt-latn-au",pka:"pka-brah-in",pkb:"pkb-latn-ke",pkg:"pkg-latn-pg",pkh:"pkh-latn-bd","pkh-deva":"pkh-deva-bd",pkn:"pkn-latn-au",pko:"pko-latn-ke",pkp:"pkp-latn-ck",pkr:"pkr-mlym-in",pku:"pku-latn-id",pl:"pl-latn-pl",pla:"pla-latn-zz",plb:"plb-latn-vu",plc:"plc-latn-ph",pld:"pld-latn-gb",ple:"ple-latn-id",plg:"plg-latn-ar",plh:"plh-latn-id",plj:"plj-latn-ng",plk:"plk-arab-pk",pll:"pll-mymr-mm",pln:"pln-latn-co",plo:"plo-latn-mx",plr:"plr-latn-ci",pls:"pls-latn-mx",plu:"plu-latn-br",plv:"plv-latn-ph",plw:"plw-latn-ph",plz:"plz-latn-my",pma:"pma-latn-vu",pmb:"pmb-latn-cd",pmd:"pmd-latn-au",pme:"pme-latn-nc",pmf:"pmf-latn-id",pmh:"pmh-brah-in",pmi:"pmi-latn-cn",pmj:"pmj-latn-cn",pml:"pml-latn-tn",pmm:"pmm-latn-cm",pmn:"pmn-latn-cm",pmo:"pmo-latn-id",pmq:"pmq-latn-mx",pmr:"pmr-latn-pg",pms:"pms-latn-it",pmt:"pmt-latn-pf",pmw:"pmw-latn-us",pmx:"pmx-latn-in",pmy:"pmy-latn-id",pmz:"pmz-latn-mx",pna:"pna-latn-my",pnc:"pnc-latn-id",pnd:"pnd-latn-ao",pne:"pne-latn-my",png:"png-latn-zz",pnh:"pnh-latn-ck",pni:"pni-latn-id",pnj:"pnj-latn-au",pnk:"pnk-latn-bo",pnl:"pnl-latn-bf",pnm:"pnm-latn-my",pnn:"pnn-latn-zz",pno:"pno-latn-pe",pnp:"pnp-latn-id",pnq:"pnq-latn-bf",pnr:"pnr-latn-pg",pns:"pns-latn-id",pnt:"pnt-grek-gr",pnv:"pnv-latn-au",pnw:"pnw-latn-au",pny:"pny-latn-cm",pnz:"pnz-latn-cf",poc:"poc-latn-gt",poe:"poe-latn-mx",pof:"pof-latn-cd",pog:"pog-latn-br",poh:"poh-latn-gt",poi:"poi-latn-mx",pok:"pok-latn-br",pom:"pom-latn-us",pon:"pon-latn-fm",poo:"poo-latn-us",pop:"pop-latn-nc",poq:"poq-latn-mx",pos:"pos-latn-mx",pot:"pot-latn-us",pov:"pov-latn-gw",pow:"pow-latn-mx",poy:"poy-latn-tz",ppa:"ppa-deva-in",ppe:"ppe-latn-pg",ppi:"ppi-latn-mx",ppk:"ppk-latn-id",ppl:"ppl-latn-sv",ppm:"ppm-latn-id",ppn:"ppn-latn-pg",ppo:"ppo-latn-zz",ppp:"ppp-latn-cd",ppq:"ppq-latn-pg",pps:"pps-latn-mx",ppt:"ppt-latn-pg",pqa:"pqa-latn-ng",pqm:"pqm-latn-ca",pra:"pra-khar-pk",prc:"prc-arab-af",prd:"prd-arab-ir",pre:"pre-latn-st",prf:"prf-latn-ph",prg:"prg-latn-001",prh:"prh-latn-ph",pri:"pri-latn-nc",prk:"prk-latn-mm",prm:"prm-latn-pg",pro:"pro-latn-fr",prp:"prp-gujr-in",prq:"prq-latn-pe",prr:"prr-latn-br",prt:"prt-thai-th",pru:"pru-latn-id",prw:"prw-latn-pg",prx:"prx-arab-in","prx-tibt":"prx-tibt-in",ps:"ps-arab-af",psa:"psa-latn-id",pse:"pse-latn-id",psh:"psh-arab-af",psi:"psi-arab-af",psm:"psm-latn-bo",psn:"psn-latn-id",psq:"psq-latn-pg",pss:"pss-latn-zz",pst:"pst-arab-pk",psw:"psw-latn-vu",pt:"pt-latn-br",pta:"pta-latn-py",pth:"pth-latn-br",pti:"pti-latn-au",ptn:"ptn-latn-id",pto:"pto-latn-br",ptp:"ptp-latn-zz",ptr:"ptr-latn-vu",ptt:"ptt-latn-id",ptu:"ptu-latn-id",ptv:"ptv-latn-vu",pua:"pua-latn-mx",pub:"pub-latn-in",puc:"puc-latn-id",pud:"pud-latn-id",pue:"pue-latn-ar",puf:"puf-latn-id",pug:"pug-latn-bf",pui:"pui-latn-co",puj:"puj-latn-id",pum:"pum-deva-np",puo:"puo-latn-vn",pup:"pup-latn-pg",puq:"puq-latn-pe",pur:"pur-latn-br",put:"put-latn-id",puu:"puu-latn-ga",puw:"puw-latn-fm",pux:"pux-latn-pg",puy:"puy-latn-us",pwa:"pwa-latn-zz",pwb:"pwb-latn-ng",pwg:"pwg-latn-pg",pwm:"pwm-latn-ph",pwn:"pwn-latn-tw",pwo:"pwo-mymr-mm",pwr:"pwr-deva-in",pww:"pww-thai-th",pxm:"pxm-latn-mx",pye:"pye-latn-ci",pym:"pym-latn-ng",pyn:"pyn-latn-br",pyu:"pyu-latn-tw","pyu-hani":"pyu-hani-tw",pyx:"pyx-mymr-mm",pyy:"pyy-latn-mm",pzh:"pzh-latn-tw",pzn:"pzn-latn-mm",qu:"qu-latn-pe",qua:"qua-latn-us",qub:"qub-latn-pe",quc:"quc-latn-gt",qud:"qud-latn-ec",quf:"quf-latn-pe",qug:"qug-latn-ec",qui:"qui-latn-us",quk:"quk-latn-pe",qul:"qul-latn-bo",qum:"qum-latn-gt",qun:"qun-latn-us",qup:"qup-latn-pe",quq:"quq-latn-es",qur:"qur-latn-pe",qus:"qus-latn-ar",quv:"quv-latn-gt",quw:"quw-latn-ec",qux:"qux-latn-pe",quy:"quy-latn-pe",qva:"qva-latn-pe",qvc:"qvc-latn-pe",qve:"qve-latn-pe",qvh:"qvh-latn-pe",qvi:"qvi-latn-ec",qvj:"qvj-latn-ec",qvl:"qvl-latn-pe",qvm:"qvm-latn-pe",qvn:"qvn-latn-pe",qvo:"qvo-latn-pe",qvp:"qvp-latn-pe",qvs:"qvs-latn-pe",qvw:"qvw-latn-pe",qvz:"qvz-latn-ec",qwa:"qwa-latn-pe",qwc:"qwc-latn-pe",qwh:"qwh-latn-pe",qwm:"qwm-latn-ru","qwm-cyrl":"qwm-cyrl-ru","qwm-runr":"qwm-runr-ru",qws:"qws-latn-pe",qwt:"qwt-latn-us",qxa:"qxa-latn-pe",qxc:"qxc-latn-pe",qxh:"qxh-latn-pe",qxl:"qxl-latn-ec",qxn:"qxn-latn-pe",qxo:"qxo-latn-pe",qxp:"qxp-latn-pe",qxq:"qxq-arab-ir",qxr:"qxr-latn-ec",qxt:"qxt-latn-pe",qxu:"qxu-latn-pe",qxw:"qxw-latn-pe",qya:"qya-latn-001",qyp:"qyp-latn-us",raa:"raa-deva-np",rab:"rab-deva-np",rac:"rac-latn-id",rad:"rad-latn-vn",raf:"raf-deva-np",rag:"rag-latn-ke",rah:"rah-beng-in","rah-latn":"rah-latn-in",rai:"rai-latn-zz",raj:"raj-deva-in",rak:"rak-latn-pg",ram:"ram-latn-br",ran:"ran-latn-id",rao:"rao-latn-zz",rap:"rap-latn-cl",rar:"rar-latn-ck",rav:"rav-deva-np",raw:"raw-latn-mm",rax:"rax-latn-ng",ray:"ray-latn-pf",raz:"raz-latn-id",rbb:"rbb-mymr-mm",rbk:"rbk-latn-ph",rbl:"rbl-latn-ph",rbp:"rbp-latn-au",rcf:"rcf-latn-re",rdb:"rdb-arab-ir",rea:"rea-latn-pg",reb:"reb-latn-id",ree:"ree-latn-my",reg:"reg-latn-tz",rei:"rei-orya-in","rei-telu":"rei-telu-in",rej:"rej-latn-id",rel:"rel-latn-zz",rem:"rem-latn-pe",ren:"ren-latn-vn",res:"res-latn-zz",ret:"ret-latn-id",rey:"rey-latn-bo",rga:"rga-latn-vu",rgn:"rgn-latn-it",rgr:"rgr-latn-pe",rgs:"rgs-latn-vn",rgu:"rgu-latn-id",rhg:"rhg-rohg-mm",rhp:"rhp-latn-pg",ria:"ria-latn-in",rif:"rif-latn-ma",ril:"ril-latn-mm",rim:"rim-latn-tz",rin:"rin-latn-ng",rir:"rir-latn-id",rit:"rit-latn-au",riu:"riu-latn-id",rjg:"rjg-latn-id",rji:"rji-deva-np",rjs:"rjs-deva-np",rka:"rka-khmr-kh",rkb:"rkb-latn-br",rkh:"rkh-latn-ck",rki:"rki-mymr-mm",rkm:"rkm-latn-bf",rkt:"rkt-beng-bd",rkw:"rkw-latn-au",rm:"rm-latn-ch",rma:"rma-latn-ni",rmb:"rmb-latn-au",rmc:"rmc-latn-sk",rmd:"rmd-latn-dk",rme:"rme-latn-gb",rmf:"rmf-latn-fi",rmg:"rmg-latn-no",rmh:"rmh-latn-id",rmi:"rmi-armn-am",rmk:"rmk-latn-pg",rml:"rml-latn-pl","rml-cyrl":"rml-cyrl-by",rmm:"rmm-latn-id",rmn:"rmn-latn-rs","rmn-cyrl":"rmn-cyrl-bg","rmn-grek":"rmn-grek-gr",rmo:"rmo-latn-ch",rmp:"rmp-latn-pg",rmq:"rmq-latn-es",rmt:"rmt-arab-ir",rmu:"rmu-latn-se",rmw:"rmw-latn-gb",rmx:"rmx-latn-vn",rmz:"rmz-mymr-in",rn:"rn-latn-bi",rna:"rna-latn-zz",rnd:"rnd-latn-cd",rng:"rng-latn-mz",rnl:"rnl-latn-in",rnn:"rnn-latn-id",rnr:"rnr-latn-au",rnw:"rnw-latn-tz",ro:"ro-latn-ro",rob:"rob-latn-id",roc:"roc-latn-vn",rod:"rod-latn-ng",roe:"roe-latn-pg",rof:"rof-latn-tz",rog:"rog-latn-vn",rol:"rol-latn-ph",rom:"rom-latn-ro","rom-cyrl":"rom-cyrl-ro",roo:"roo-latn-zz",rop:"rop-latn-au",ror:"ror-latn-id",rou:"rou-latn-td",row:"row-latn-id",rpn:"rpn-latn-vu",rpt:"rpt-latn-pg",rri:"rri-latn-sb",rro:"rro-latn-zz",rrt:"rrt-latn-au",rsk:"rsk-cyrl-rs",rtc:"rtc-latn-mm",rth:"rth-latn-id",rtm:"rtm-latn-fj",rtw:"rtw-deva-in",ru:"ru-cyrl-ru",rub:"rub-latn-ug",ruc:"ruc-latn-ug",rue:"rue-cyrl-ua",ruf:"ruf-latn-tz",rug:"rug-latn-sb",rui:"rui-latn-tz",ruk:"ruk-latn-ng",ruo:"ruo-latn-hr",rup:"rup-latn-ro","rup-grek":"rup-grek-gr",ruq:"ruq-latn-gr",rut:"rut-cyrl-ru","rut-latn":"rut-latn-az",ruu:"ruu-latn-my",ruy:"ruy-latn-ng",ruz:"ruz-latn-ng",rw:"rw-latn-rw",rwa:"rwa-latn-pg",rwk:"rwk-latn-tz",rwl:"rwl-latn-tz",rwm:"rwm-latn-ug",rwo:"rwo-latn-zz",rwr:"rwr-deva-in",rxd:"rxd-latn-au",rxw:"rxw-latn-au",ryu:"ryu-kana-jp",sa:"sa-deva-in",saa:"saa-latn-td",sab:"sab-latn-pa",sac:"sac-latn-us",sad:"sad-latn-tz",sae:"sae-latn-br",saf:"saf-latn-gh",sah:"sah-cyrl-ru",saj:"saj-latn-id",sak:"sak-latn-ga",sam:"sam-samr-ps","sam-hebr":"sam-hebr-ps","sam-syrc":"sam-syrc-ps",sao:"sao-latn-id",saq:"saq-latn-ke",sar:"sar-latn-bo",sas:"sas-latn-id",sat:"sat-olck-in",sau:"sau-latn-id",sav:"sav-latn-sn",saw:"saw-latn-id",sax:"sax-latn-vu",say:"say-latn-ng",saz:"saz-saur-in",sba:"sba-latn-zz",sbb:"sbb-latn-sb",sbc:"sbc-latn-pg",sbd:"sbd-latn-bf",sbe:"sbe-latn-zz",sbg:"sbg-latn-id",sbh:"sbh-latn-pg",sbi:"sbi-latn-pg",sbj:"sbj-latn-td",sbk:"sbk-latn-tz",sbl:"sbl-latn-ph",sbm:"sbm-latn-tz",sbn:"sbn-arab-pk",sbo:"sbo-latn-my",sbp:"sbp-latn-tz",sbq:"sbq-latn-pg",sbr:"sbr-latn-id",sbs:"sbs-latn-na",sbt:"sbt-latn-id",sbu:"sbu-tibt-in","sbu-deva":"sbu-deva-in",sbv:"sbv-latn-it",sbw:"sbw-latn-ga",sbx:"sbx-latn-id",sby:"sby-latn-zm",sbz:"sbz-latn-cf",sc:"sc-latn-it",scb:"scb-latn-vn",sce:"sce-latn-cn","sce-arab":"sce-arab-cn",scf:"scf-latn-pa",scg:"scg-latn-id",sch:"sch-latn-in",sci:"sci-latn-lk",sck:"sck-deva-in",scl:"scl-arab-zz",scn:"scn-latn-it",sco:"sco-latn-gb",scp:"scp-deva-np",scs:"scs-latn-ca","scs-cans":"scs-cans-ca",sct:"sct-laoo-la",scu:"scu-takr-in",scv:"scv-latn-ng",scw:"scw-latn-ng",scx:"scx-grek-it",sd:"sd-arab-pk","sd-deva":"sd-deva-in","sd-in":"sd-deva-in","sd-khoj":"sd-khoj-in","sd-sind":"sd-sind-in",sda:"sda-latn-id",sdb:"sdb-arab-iq",sdc:"sdc-latn-it",sde:"sde-latn-ng",sdf:"sdf-arab-iq",sdg:"sdg-arab-af",sdh:"sdh-arab-ir",sdj:"sdj-latn-cg",sdk:"sdk-latn-pg",sdn:"sdn-latn-it",sdo:"sdo-latn-my",sdq:"sdq-latn-id",sds:"sds-arab-tn",sdu:"sdu-latn-id",sdx:"sdx-latn-my",se:"se-latn-no",sea:"sea-latn-my",seb:"seb-latn-ci",sec:"sec-latn-ca",sed:"sed-latn-vn",see:"see-latn-us",sef:"sef-latn-ci",seg:"seg-latn-tz",seh:"seh-latn-mz",sei:"sei-latn-mx",sej:"sej-latn-pg",sek:"sek-latn-ca","sek-cans":"sek-cans-ca",sel:"sel-cyrl-ru",sen:"sen-latn-bf",seo:"seo-latn-pg",sep:"sep-latn-bf",seq:"seq-latn-bf",ser:"ser-latn-us",ses:"ses-latn-ml",set:"set-latn-id",seu:"seu-latn-id",sev:"sev-latn-ci",sew:"sew-latn-pg",sey:"sey-latn-ec",sez:"sez-latn-mm",sfe:"sfe-latn-ph",sfm:"sfm-plrd-cn",sfw:"sfw-latn-gh",sg:"sg-latn-cf",sga:"sga-ogam-ie",sgb:"sgb-latn-ph",sgc:"sgc-latn-ke",sgd:"sgd-latn-ph",sge:"sge-latn-id",sgh:"sgh-cyrl-tj","sgh-arab":"sgh-arab-af","sgh-latn":"sgh-latn-tj",sgi:"sgi-latn-cm",sgj:"sgj-deva-in",sgm:"sgm-latn-ke",sgp:"sgp-latn-in",sgr:"sgr-arab-ir",sgs:"sgs-latn-lt",sgt:"sgt-tibt-bt",sgu:"sgu-latn-id",sgw:"sgw-ethi-zz",sgy:"sgy-arab-af",sgz:"sgz-latn-zz",sha:"sha-latn-ng",shb:"shb-latn-br",shc:"shc-latn-cd",shd:"shd-arab-pk",she:"she-latn-et",shg:"shg-latn-bw",shh:"shh-latn-us",shi:"shi-tfng-ma",shj:"shj-latn-sd",shk:"shk-latn-zz",shm:"shm-arab-ir",shn:"shn-mymr-mm",sho:"sho-latn-ng",shp:"shp-latn-pe",shq:"shq-latn-zm",shr:"shr-latn-cd",shs:"shs-latn-ca",sht:"sht-latn-us",shu:"shu-arab-zz",shv:"shv-arab-om",shw:"shw-latn-sd",shy:"shy-latn-dz","shy-arab":"shy-arab-dz","shy-tfng":"shy-tfng-dz",shz:"shz-latn-ml",si:"si-sinh-lk",sia:"sia-cyrl-ru",sib:"sib-latn-my",sid:"sid-latn-et",sie:"sie-latn-zm",sif:"sif-latn-bf",sig:"sig-latn-zz",sih:"sih-latn-nc",sii:"sii-latn-in",sij:"sij-latn-pg",sik:"sik-latn-br",sil:"sil-latn-zz",sim:"sim-latn-zz",sip:"sip-tibt-in",siq:"siq-latn-pg",sir:"sir-latn-ng",sis:"sis-latn-us",siu:"siu-latn-pg",siv:"siv-latn-pg",siw:"siw-latn-pg",six:"six-latn-pg",siy:"siy-arab-ir",siz:"siz-arab-eg",sja:"sja-latn-co",sjb:"sjb-latn-id",sjd:"sjd-cyrl-ru",sje:"sje-latn-se",sjg:"sjg-latn-td",sjl:"sjl-latn-in",sjm:"sjm-latn-ph",sjp:"sjp-deva-in","sjp-beng":"sjp-beng-in",sjr:"sjr-latn-zz",sjt:"sjt-cyrl-ru",sju:"sju-latn-se",sjw:"sjw-latn-us",sk:"sk-latn-sk",ska:"ska-latn-us",skb:"skb-thai-th",skc:"skc-latn-zz",skd:"skd-latn-us",ske:"ske-latn-vu",skf:"skf-latn-br",skg:"skg-latn-mg",skh:"skh-latn-id",ski:"ski-latn-id",skj:"skj-deva-np",skm:"skm-latn-pg",skn:"skn-latn-ph",sko:"sko-latn-id",skp:"skp-latn-my",skq:"skq-latn-bf",skr:"skr-arab-pk",sks:"sks-latn-zz",skt:"skt-latn-cd",sku:"sku-latn-vu",skv:"skv-latn-id",skw:"skw-latn-gy",skx:"skx-latn-id",sky:"sky-latn-sb",skz:"skz-latn-id",sl:"sl-latn-si",slc:"slc-latn-co",sld:"sld-latn-zz",slg:"slg-latn-id",slh:"slh-latn-us",sli:"sli-latn-pl",slj:"slj-latn-br",sll:"sll-latn-zz",slm:"slm-latn-ph",sln:"sln-latn-us",slp:"slp-latn-id",slq:"slq-arab-ir",slr:"slr-latn-cn",slu:"slu-latn-id",slw:"slw-latn-pg",slx:"slx-latn-cd",sly:"sly-latn-id",slz:"slz-latn-id",sm:"sm-latn-ws",sma:"sma-latn-se",smb:"smb-latn-pg",smc:"smc-latn-pg",smd:"smd-latn-ao",smf:"smf-latn-pg",smg:"smg-latn-pg",smh:"smh-yiii-cn",smj:"smj-latn-se",smk:"smk-latn-ph",sml:"sml-latn-ph",smn:"smn-latn-fi",smp:"smp-samr-il",smq:"smq-latn-zz",smr:"smr-latn-id",sms:"sms-latn-fi",smt:"smt-latn-in",smu:"smu-khmr-kh",smw:"smw-latn-id",smx:"smx-latn-cd",smy:"smy-arab-ir",smz:"smz-latn-pg",sn:"sn-latn-zw",snb:"snb-latn-my",snc:"snc-latn-zz",sne:"sne-latn-my",snf:"snf-latn-sn",sng:"sng-latn-cd","sng-brai":"sng-brai-cd",sni:"sni-latn-pe",snj:"snj-latn-cf",snk:"snk-latn-ml",snl:"snl-latn-ph",snm:"snm-latn-ug",snn:"snn-latn-co",sno:"sno-latn-us",snp:"snp-latn-zz",snq:"snq-latn-ga",snr:"snr-latn-pg",sns:"sns-latn-vu",snu:"snu-latn-id",snv:"snv-latn-my",snw:"snw-latn-gh",snx:"snx-latn-zz",sny:"sny-latn-zz",snz:"snz-latn-pg",so:"so-latn-so",soa:"soa-tavt-th","soa-thai":"soa-thai-th",sob:"sob-latn-id",soc:"soc-latn-cd",sod:"sod-latn-cd",soe:"soe-latn-cd",sog:"sog-sogd-uz",soi:"soi-deva-np",sok:"sok-latn-zz",sol:"sol-latn-pg",soo:"soo-latn-cd",sop:"sop-latn-cd",soq:"soq-latn-zz",sor:"sor-latn-td",sos:"sos-latn-bf",sou:"sou-thai-th",sov:"sov-latn-pw",sow:"sow-latn-pg",sox:"sox-latn-cm",soy:"soy-latn-zz",soz:"soz-latn-tz",spb:"spb-latn-id",spc:"spc-latn-ve",spd:"spd-latn-zz",spe:"spe-latn-pg",spg:"spg-latn-my",spi:"spi-latn-id",spk:"spk-latn-pg",spl:"spl-latn-zz",spm:"spm-latn-pg",spn:"spn-latn-py",spo:"spo-latn-us",spp:"spp-latn-ml",spq:"spq-latn-pe",spr:"spr-latn-id",sps:"sps-latn-zz",spt:"spt-tibt-in",spv:"spv-orya-in",sq:"sq-latn-al",sqa:"sqa-latn-ng",sqh:"sqh-latn-ng",sqm:"sqm-latn-cf",sqo:"sqo-arab-ir",sqq:"sqq-laoo-la",sqt:"sqt-arab-ye","sqt-latn":"sqt-latn-ye",squ:"squ-latn-ca",sr:"sr-cyrl-rs","sr-me":"sr-latn-me","sr-ro":"sr-latn-ro","sr-ru":"sr-latn-ru","sr-tr":"sr-latn-tr",sra:"sra-latn-pg",srb:"srb-sora-in",sre:"sre-latn-id",srf:"srf-latn-pg",srg:"srg-latn-ph",srh:"srh-arab-cn",sri:"sri-latn-co",srk:"srk-latn-my",srl:"srl-latn-id",srm:"srm-latn-sr",srn:"srn-latn-sr",sro:"sro-latn-it",srq:"srq-latn-bo",srr:"srr-latn-sn",srs:"srs-latn-ca",srt:"srt-latn-id",sru:"sru-latn-br",srv:"srv-latn-ph",srw:"srw-latn-id",srx:"srx-deva-in",sry:"sry-latn-pg",srz:"srz-arab-ir",ss:"ss-latn-za",ssb:"ssb-latn-ph",ssc:"ssc-latn-tz",ssd:"ssd-latn-zz",sse:"sse-latn-ph","sse-arab":"sse-arab-ph",ssf:"ssf-latn-tw",ssg:"ssg-latn-zz",ssh:"ssh-arab-ae",ssj:"ssj-latn-pg",ssl:"ssl-latn-gh",ssm:"ssm-latn-my",ssn:"ssn-latn-ke",sso:"sso-latn-pg",ssq:"ssq-latn-id",sss:"sss-laoo-la","sss-thai":"sss-thai-th",sst:"sst-latn-pg",ssu:"ssu-latn-pg",ssv:"ssv-latn-vu",ssx:"ssx-latn-pg",ssy:"ssy-latn-er",ssz:"ssz-latn-pg",st:"st-latn-za",sta:"sta-latn-zm",stb:"stb-latn-ph",ste:"ste-latn-id",stf:"stf-latn-pg",stg:"stg-latn-vn",sth:"sth-latn-ie",sti:"sti-latn-vn","sti-kh":"sti-latn-kh",stj:"stj-latn-bf",stk:"stk-latn-zz",stl:"stl-latn-nl",stm:"stm-latn-pg",stn:"stn-latn-sb",sto:"sto-latn-ca",stp:"stp-latn-mx",stq:"stq-latn-de",str:"str-latn-ca",sts:"sts-arab-af",stt:"stt-latn-vn",stv:"stv-ethi-et","stv-arab":"stv-arab-et",stw:"stw-latn-fm",sty:"sty-cyrl-ru",su:"su-latn-id",sua:"sua-latn-zz",sub:"sub-latn-cd",suc:"suc-latn-ph",sue:"sue-latn-zz",sug:"sug-latn-pg",sui:"sui-latn-pg",suj:"suj-latn-tz",suk:"suk-latn-tz",suo:"suo-latn-pg",suq:"suq-latn-et","suq-ethi":"suq-ethi-et",sur:"sur-latn-zz",sus:"sus-latn-gn",sut:"sut-latn-ni",suv:"suv-latn-in","suv-beng":"suv-beng-in","suv-deva":"suv-deva-in",suw:"suw-latn-tz",suy:"suy-latn-br",suz:"suz-deva-np",sv:"sv-latn-se",sva:"sva-geor-ge","sva-cyrl":"sva-cyrl-ge","sva-latn":"sva-latn-ge",svb:"svb-latn-pg",svc:"svc-latn-vc",sve:"sve-latn-id",svm:"svm-latn-it",svs:"svs-latn-sb",sw:"sw-latn-tz",swb:"swb-arab-yt",swc:"swc-latn-cd",swf:"swf-latn-cd",swg:"swg-latn-de",swi:"swi-hani-cn",swj:"swj-latn-ga",swk:"swk-latn-mw",swm:"swm-latn-pg",swo:"swo-latn-br",swp:"swp-latn-zz",swq:"swq-latn-cm",swr:"swr-latn-id",sws:"sws-latn-id",swt:"swt-latn-id",swu:"swu-latn-id",swv:"swv-deva-in",sww:"sww-latn-vu",swx:"swx-latn-br",swy:"swy-latn-td",sxb:"sxb-latn-ke",sxe:"sxe-latn-ga",sxn:"sxn-latn-id",sxr:"sxr-latn-tw",sxs:"sxs-latn-ng",sxu:"sxu-latn-de","sxu-runr":"sxu-runr-de",sxw:"sxw-latn-zz",sya:"sya-latn-id",syb:"syb-latn-ph",syc:"syc-syrc-tr",syi:"syi-latn-ga",syk:"syk-latn-ng",syl:"syl-beng-bd",sym:"sym-latn-bf",syn:"syn-syrc-ir",syo:"syo-latn-kh",syr:"syr-syrc-iq",sys:"sys-latn-td",syw:"syw-deva-np",syx:"syx-latn-ga",sza:"sza-latn-my",szb:"szb-latn-id",szc:"szc-latn-my",szd:"szd-latn-my",szg:"szg-latn-cd",szl:"szl-latn-pl",szn:"szn-latn-id",szp:"szp-latn-id",szv:"szv-latn-cm",szw:"szw-latn-id",szy:"szy-latn-tw",ta:"ta-taml-in",taa:"taa-latn-us",tab:"tab-cyrl-ru",tac:"tac-latn-mx",tad:"tad-latn-id",tae:"tae-latn-br",taf:"taf-latn-br",tag:"tag-latn-sd",taj:"taj-deva-np",tak:"tak-latn-ng",tal:"tal-latn-zz",tan:"tan-latn-zz",tao:"tao-latn-tw",tap:"tap-latn-cd",taq:"taq-latn-zz",tar:"tar-latn-mx",tas:"tas-latn-vn",tau:"tau-latn-us",tav:"tav-latn-co",taw:"taw-latn-pg",tax:"tax-latn-td",tay:"tay-latn-tw","tay-hans":"tay-hans-tw","tay-hant":"tay-hant-tw",taz:"taz-latn-sd",tba:"tba-latn-br",tbc:"tbc-latn-zz",tbd:"tbd-latn-zz",tbe:"tbe-latn-sb",tbf:"tbf-latn-zz",tbg:"tbg-latn-zz",tbh:"tbh-latn-au",tbi:"tbi-latn-sd",tbj:"tbj-latn-pg",tbk:"tbk-tagb-ph","tbk-hano":"tbk-hano-ph","tbk-latn":"tbk-latn-ph",tbl:"tbl-latn-ph",tbm:"tbm-latn-cd",tbn:"tbn-latn-co",tbo:"tbo-latn-zz",tbp:"tbp-latn-id",tbs:"tbs-latn-pg",tbt:"tbt-latn-cd",tbu:"tbu-latn-mx",tbv:"tbv-latn-pg",tbw:"tbw-latn-ph",tbx:"tbx-latn-pg",tby:"tby-latn-id",tbz:"tbz-latn-zz",tca:"tca-latn-br",tcb:"tcb-latn-us",tcc:"tcc-latn-tz",tcd:"tcd-latn-gh",tce:"tce-latn-ca",tcf:"tcf-latn-mx",tcg:"tcg-latn-id",tch:"tch-latn-tc",tci:"tci-latn-zz",tck:"tck-latn-ga",tcm:"tcm-latn-id",tcn:"tcn-tibt-np",tco:"tco-mymr-mm",tcp:"tcp-latn-mm",tcq:"tcq-latn-id",tcs:"tcs-latn-au",tcu:"tcu-latn-mx",tcw:"tcw-latn-mx",tcx:"tcx-taml-in",tcy:"tcy-knda-in",tcz:"tcz-latn-in",tda:"tda-tfng-ne","tda-arab":"tda-arab-ne","tda-latn":"tda-latn-ne",tdb:"tdb-deva-in","tdb-beng":"tdb-beng-in","tdb-kthi":"tdb-kthi-in",tdc:"tdc-latn-co",tdd:"tdd-tale-cn",tde:"tde-latn-ml",tdg:"tdg-deva-np",tdh:"tdh-deva-np",tdi:"tdi-latn-id",tdj:"tdj-latn-id",tdk:"tdk-latn-ng",tdl:"tdl-latn-ng",tdm:"tdm-latn-gy",tdn:"tdn-latn-id",tdo:"tdo-latn-ng",tdq:"tdq-latn-ng",tdr:"tdr-latn-vn",tds:"tds-latn-id",tdt:"tdt-latn-tl",tdu:"tdu-latn-my",tdv:"tdv-latn-ng",tdx:"tdx-latn-mg",tdy:"tdy-latn-ph",te:"te-telu-in",tea:"tea-latn-my",teb:"teb-latn-ec",tec:"tec-latn-ke",ted:"ted-latn-zz",tee:"tee-latn-mx",teg:"teg-latn-ga",teh:"teh-latn-ar",tei:"tei-latn-pg",tek:"tek-latn-cd",tem:"tem-latn-sl",ten:"ten-latn-co",teo:"teo-latn-ug",tep:"tep-latn-mx",teq:"teq-latn-sd",ter:"ter-latn-br",tes:"tes-java-id",tet:"tet-latn-tl",teu:"teu-latn-ug",tev:"tev-latn-id",tew:"tew-latn-us",tex:"tex-latn-ss",tey:"tey-latn-sd",tfi:"tfi-latn-zz",tfn:"tfn-latn-us",tfo:"tfo-latn-id",tfr:"tfr-latn-pa",tft:"tft-latn-id",tg:"tg-cyrl-tj","tg-arab":"tg-arab-pk","tg-pk":"tg-arab-pk",tga:"tga-latn-ke",tgb:"tgb-latn-my",tgc:"tgc-latn-zz",tgd:"tgd-latn-ng",tge:"tge-deva-np",tgf:"tgf-tibt-bt",tgh:"tgh-latn-tt",tgi:"tgi-latn-pg",tgj:"tgj-latn-in",tgn:"tgn-latn-ph",tgo:"tgo-latn-zz",tgp:"tgp-latn-vu",tgq:"tgq-latn-my",tgs:"tgs-latn-vu",tgt:"tgt-latn-ph","tgt-hano":"tgt-hano-ph","tgt-tagb":"tgt-tagb-ph",tgu:"tgu-latn-zz",tgv:"tgv-latn-br",tgw:"tgw-latn-ci",tgx:"tgx-latn-ca",tgy:"tgy-latn-ss",tgz:"tgz-latn-au",th:"th-thai-th",thd:"thd-latn-au",the:"the-deva-np",thf:"thf-deva-np",thh:"thh-latn-mx",thi:"thi-tale-la",thk:"thk-latn-ke",thl:"thl-deva-np",thm:"thm-thai-th",thp:"thp-latn-ca","thp-dupl":"thp-dupl-ca",thq:"thq-deva-np",thr:"thr-deva-np",ths:"ths-deva-np",tht:"tht-latn-ca",thu:"thu-latn-ss",thv:"thv-latn-dz","thv-arab":"thv-arab-dz","thv-tfng":"thv-tfng-dz",thy:"thy-latn-ng",thz:"thz-latn-ne","thz-tfng":"thz-tfng-ne",ti:"ti-ethi-et",tic:"tic-latn-sd",tif:"tif-latn-zz",tig:"tig-ethi-er",tih:"tih-latn-my",tii:"tii-latn-cd",tij:"tij-deva-np",tik:"tik-latn-zz",til:"til-latn-us",tim:"tim-latn-zz",tin:"tin-cyrl-ru",tio:"tio-latn-zz",tip:"tip-latn-id",tiq:"tiq-latn-bf",tis:"tis-latn-ph",tit:"tit-latn-co",tiu:"tiu-latn-ph",tiv:"tiv-latn-ng",tiw:"tiw-latn-au",tix:"tix-latn-us",tiy:"tiy-latn-ph",tja:"tja-latn-lr",tjg:"tjg-latn-id",tji:"tji-latn-cn",tjj:"tjj-latn-au",tjl:"tjl-mymr-mm",tjn:"tjn-latn-ci",tjo:"tjo-arab-dz",tjp:"tjp-latn-au",tjs:"tjs-latn-cn",tju:"tju-latn-au",tjw:"tjw-latn-au",tk:"tk-latn-tm",tka:"tka-latn-br",tkb:"tkb-deva-in",tkd:"tkd-latn-tl",tke:"tke-latn-mz",tkf:"tkf-latn-br",tkg:"tkg-latn-mg",tkl:"tkl-latn-tk",tkp:"tkp-latn-sb",tkq:"tkq-latn-ng",tkr:"tkr-latn-az",tks:"tks-arab-ir",tkt:"tkt-deva-np",tku:"tku-latn-mx",tkv:"tkv-latn-pg",tkw:"tkw-latn-sb",tkx:"tkx-latn-id",tkz:"tkz-latn-vn",tl:"tl-latn-ph",tla:"tla-latn-mx",tlb:"tlb-latn-id",tlc:"tlc-latn-mx",tld:"tld-latn-id",tlf:"tlf-latn-zz",tlg:"tlg-latn-id",tli:"tli-latn-us","tli-cyrl":"tli-cyrl-us",tlj:"tlj-latn-ug",tlk:"tlk-latn-id",tll:"tll-latn-cd",tlm:"tlm-latn-vu",tln:"tln-latn-id",tlp:"tlp-latn-mx",tlq:"tlq-latn-mm",tlr:"tlr-latn-sb",tls:"tls-latn-vu",tlt:"tlt-latn-id",tlu:"tlu-latn-id",tlv:"tlv-latn-id",tlx:"tlx-latn-zz",tly:"tly-latn-az",tma:"tma-latn-td",tmb:"tmb-latn-vu",tmc:"tmc-latn-td",tmd:"tmd-latn-pg",tme:"tme-latn-br",tmf:"tmf-latn-py",tmg:"tmg-latn-id",tmh:"tmh-latn-ne",tmi:"tmi-latn-vu",tmj:"tmj-latn-id",tmk:"tmk-deva-np",tml:"tml-latn-id",tmm:"tmm-latn-vn",tmn:"tmn-latn-id",tmo:"tmo-latn-my",tmq:"tmq-latn-pg",tmr:"tmr-syrc-il",tmt:"tmt-latn-vu",tmu:"tmu-latn-id",tmv:"tmv-latn-cd",tmw:"tmw-latn-my",tmy:"tmy-latn-zz",tmz:"tmz-latn-ve",tn:"tn-latn-za",tna:"tna-latn-bo",tnb:"tnb-latn-co",tnc:"tnc-latn-co",tnd:"tnd-latn-co",tng:"tng-latn-td",tnh:"tnh-latn-zz",tni:"tni-latn-id",tnk:"tnk-latn-vu",tnl:"tnl-latn-vu",tnm:"tnm-latn-id",tnn:"tnn-latn-vu",tno:"tno-latn-bo",tnp:"tnp-latn-vu",tnq:"tnq-latn-pr",tnr:"tnr-latn-sn",tns:"tns-latn-pg",tnt:"tnt-latn-id",tnv:"tnv-cakm-bd",tnw:"tnw-latn-id",tnx:"tnx-latn-sb",tny:"tny-latn-tz",to:"to-latn-to",tob:"tob-latn-ar",toc:"toc-latn-mx",tod:"tod-latn-gn",tof:"tof-latn-zz",tog:"tog-latn-mw",toh:"toh-latn-mz",toi:"toi-latn-zm",toj:"toj-latn-mx",tok:"tok-latn-001",tol:"tol-latn-us",tom:"tom-latn-id",too:"too-latn-mx",top:"top-latn-mx",toq:"toq-latn-zz",tor:"tor-latn-cd",tos:"tos-latn-mx",tou:"tou-latn-vn",tov:"tov-arab-ir",tow:"tow-latn-us",tox:"tox-latn-pw",toy:"toy-latn-id",toz:"toz-latn-cm",tpa:"tpa-latn-pg",tpc:"tpc-latn-mx",tpe:"tpe-latn-bd","tpe-beng":"tpe-beng-bd",tpf:"tpf-latn-id",tpg:"tpg-latn-id",tpi:"tpi-latn-pg",tpj:"tpj-latn-py",tpk:"tpk-latn-br",tpl:"tpl-latn-mx",tpm:"tpm-latn-zz",tpn:"tpn-latn-br",tpp:"tpp-latn-mx",tpr:"tpr-latn-br",tpt:"tpt-latn-mx",tpu:"tpu-khmr-kh",tpv:"tpv-latn-mp",tpx:"tpx-latn-mx",tpy:"tpy-latn-br",tpz:"tpz-latn-zz",tqb:"tqb-latn-br",tql:"tql-latn-vu",tqm:"tqm-latn-pg",tqn:"tqn-latn-us",tqo:"tqo-latn-zz",tqp:"tqp-latn-pg",tqt:"tqt-latn-mx",tqu:"tqu-latn-sb",tqw:"tqw-latn-us",tr:"tr-latn-tr",tra:"tra-arab-af",trb:"trb-latn-pg",trc:"trc-latn-mx",tre:"tre-latn-id",trf:"trf-latn-tt",trg:"trg-hebr-il",trh:"trh-latn-pg",tri:"tri-latn-sr",trj:"trj-latn-td",trl:"trl-latn-gb",trm:"trm-arab-af",trn:"trn-latn-bo",tro:"tro-latn-in",trp:"trp-latn-in","trp-beng":"trp-beng-in",trq:"trq-latn-mx",trr:"trr-latn-pe",trs:"trs-latn-mx",trt:"trt-latn-id",tru:"tru-latn-tr",trv:"trv-latn-tw",trw:"trw-arab-pk",trx:"trx-latn-my",try:"try-latn-in",trz:"trz-latn-br",ts:"ts-latn-za",tsa:"tsa-latn-cg",tsb:"tsb-latn-et",tsc:"tsc-latn-mz",tsd:"tsd-grek-gr",tsf:"tsf-deva-np",tsg:"tsg-latn-ph",tsh:"tsh-latn-cm",tsi:"tsi-latn-ca",tsj:"tsj-tibt-bt",tsl:"tsl-latn-vn",tsp:"tsp-latn-bf",tsr:"tsr-latn-vu",tst:"tst-latn-ml",tsu:"tsu-latn-tw",tsv:"tsv-latn-ga",tsw:"tsw-latn-zz",tsx:"tsx-latn-pg",tsz:"tsz-latn-mx",tt:"tt-cyrl-ru",ttb:"ttb-latn-ng",ttc:"ttc-latn-gt",ttd:"ttd-latn-zz",tte:"tte-latn-zz",ttf:"ttf-latn-cm",tth:"tth-laoo-la",tti:"tti-latn-id",ttj:"ttj-latn-ug",ttk:"ttk-latn-co",ttl:"ttl-latn-zm",ttm:"ttm-latn-ca",ttn:"ttn-latn-id",tto:"tto-laoo-la",ttp:"ttp-latn-id",ttr:"ttr-latn-zz",tts:"tts-thai-th",ttt:"ttt-latn-az",ttu:"ttu-latn-pg",ttv:"ttv-latn-pg",ttw:"ttw-latn-my",tty:"tty-latn-id",tua:"tua-latn-pg",tub:"tub-latn-us",tuc:"tuc-latn-pg",tud:"tud-latn-br",tue:"tue-latn-co",tuf:"tuf-latn-co",tug:"tug-latn-td",tuh:"tuh-latn-zz",tui:"tui-latn-cm",tuj:"tuj-latn-id",tul:"tul-latn-zz",tum:"tum-latn-mw",tun:"tun-latn-us",tuo:"tuo-latn-br",tuq:"tuq-latn-zz",tus:"tus-latn-ca",tuu:"tuu-latn-us",tuv:"tuv-latn-ke",tux:"tux-latn-br",tuy:"tuy-latn-ke",tuz:"tuz-latn-bf",tva:"tva-latn-sb",tvd:"tvd-latn-zz",tve:"tve-latn-id",tvk:"tvk-latn-vu",tvl:"tvl-latn-tv",tvm:"tvm-latn-id",tvn:"tvn-mymr-mm",tvo:"tvo-latn-id",tvs:"tvs-latn-ke",tvt:"tvt-latn-in",tvu:"tvu-latn-zz",tvw:"tvw-latn-id",tvx:"tvx-latn-tw",twa:"twa-latn-us",twb:"twb-latn-ph",twd:"twd-latn-nl",twe:"twe-latn-id",twf:"twf-latn-us",twg:"twg-latn-id",twh:"twh-latn-zz",twl:"twl-latn-mz",twm:"twm-deva-in",twn:"twn-latn-cm",two:"two-latn-bw",twp:"twp-latn-pg",twq:"twq-latn-ne",twr:"twr-latn-mx",twt:"twt-latn-br",twu:"twu-latn-id",tww:"tww-latn-pg",twx:"twx-latn-mz",twy:"twy-latn-id",txa:"txa-latn-my",txe:"txe-latn-id",txg:"txg-tang-cn",txi:"txi-latn-br",txj:"txj-latn-ng",txm:"txm-latn-id",txn:"txn-latn-id",txo:"txo-toto-in",txq:"txq-latn-id",txs:"txs-latn-id",txt:"txt-latn-id",txu:"txu-latn-br",txx:"txx-latn-my",txy:"txy-latn-mg",ty:"ty-latn-pf",tya:"tya-latn-zz",tye:"tye-latn-ng",tyh:"tyh-latn-vn",tyi:"tyi-latn-cg",tyj:"tyj-latn-vn",tyl:"tyl-latn-vn",tyn:"tyn-latn-id",typ:"typ-latn-au",tyr:"tyr-tavt-vn",tys:"tys-latn-vn",tyt:"tyt-latn-vn","tyt-tavt":"tyt-tavt-vn",tyu:"tyu-latn-bw",tyv:"tyv-cyrl-ru",tyx:"tyx-latn-cg",tyy:"tyy-latn-ng",tyz:"tyz-latn-vn",tzh:"tzh-latn-mx",tzj:"tzj-latn-gt",tzl:"tzl-latn-001",tzm:"tzm-latn-ma",tzn:"tzn-latn-id",tzo:"tzo-latn-mx",tzx:"tzx-latn-pg",uam:"uam-latn-br",uar:"uar-latn-pg",uba:"uba-latn-ng",ubi:"ubi-latn-td",ubl:"ubl-latn-ph",ubr:"ubr-latn-pg",ubu:"ubu-latn-zz",uda:"uda-latn-ng",ude:"ude-cyrl-ru",udg:"udg-mlym-in",udi:"udi-aghb-ru",udj:"udj-latn-id",udl:"udl-latn-cm",udm:"udm-cyrl-ru",udu:"udu-latn-sd",ues:"ues-latn-id",ufi:"ufi-latn-pg",ug:"ug-arab-cn","ug-cyrl":"ug-cyrl-kz","ug-kz":"ug-cyrl-kz","ug-mn":"ug-cyrl-mn",uga:"uga-ugar-sy",ugb:"ugb-latn-au",uge:"uge-latn-sb",ugh:"ugh-cyrl-ru",ugo:"ugo-thai-th",uha:"uha-latn-ng",uhn:"uhn-latn-id",uis:"uis-latn-pg",uiv:"uiv-latn-cm",uji:"uji-latn-ng",uk:"uk-cyrl-ua",uka:"uka-latn-id",ukg:"ukg-latn-pg",ukh:"ukh-latn-cf",uki:"uki-orya-in",ukk:"ukk-latn-mm",ukp:"ukp-latn-ng",ukq:"ukq-latn-ng",uku:"uku-latn-ng",ukv:"ukv-latn-ss",ukw:"ukw-latn-ng",uky:"uky-latn-au",ula:"ula-latn-ng",ulb:"ulb-latn-ng",ulc:"ulc-cyrl-ru",ule:"ule-latn-ar",ulf:"ulf-latn-id",uli:"uli-latn-fm",ulk:"ulk-latn-au",ulm:"ulm-latn-id",uln:"uln-latn-pg",ulu:"ulu-latn-id",ulw:"ulw-latn-ni",uma:"uma-latn-us",umb:"umb-latn-ao",umd:"umd-latn-au",umg:"umg-latn-au",umi:"umi-latn-my",umm:"umm-latn-ng",umn:"umn-latn-mm",umo:"umo-latn-br",ump:"ump-latn-au",umr:"umr-latn-au",ums:"ums-latn-id",una:"una-latn-pg",und:"en-latn-us","und-002":"en-latn-ng","und-003":"en-latn-us","und-005":"pt-latn-br","und-009":"en-latn-au","und-011":"en-latn-ng","und-013":"es-latn-mx","und-014":"sw-latn-tz","und-015":"ar-arab-eg","und-017":"sw-latn-cd","und-018":"en-latn-za","und-019":"en-latn-us","und-021":"en-latn-us","und-029":"es-latn-cu","und-030":"zh-hans-cn","und-034":"hi-deva-in","und-035":"id-latn-id","und-039":"it-latn-it","und-053":"en-latn-au","und-054":"en-latn-pg","und-057":"en-latn-gu","und-061":"sm-latn-ws","und-142":"zh-hans-cn","und-143":"uz-latn-uz","und-145":"ar-arab-sa","und-150":"ru-cyrl-ru","und-151":"ru-cyrl-ru","und-154":"en-latn-gb","und-155":"de-latn-de","und-202":"en-latn-ng","und-419":"es-latn-419","und-ad":"ca-latn-ad","und-adlm":"ff-adlm-gn","und-ae":"ar-arab-ae","und-af":"fa-arab-af","und-aghb":"udi-aghb-ru","und-ahom":"aho-ahom-in","und-al":"sq-latn-al","und-am":"hy-armn-am","und-ao":"pt-latn-ao","und-aq":"und-latn-aq","und-ar":"es-latn-ar","und-arab":"ar-arab-eg","und-arab-cc":"ms-arab-cc","und-arab-cn":"ug-arab-cn","und-arab-gb":"ur-arab-gb","und-arab-id":"ms-arab-id","und-arab-in":"ur-arab-in","und-arab-kh":"cja-arab-kh","und-arab-mm":"rhg-arab-mm","und-arab-mn":"kk-arab-mn","und-arab-mu":"ur-arab-mu","und-arab-ng":"ha-arab-ng","und-arab-pk":"ur-arab-pk","und-arab-tg":"apd-arab-tg","und-arab-th":"mfa-arab-th","und-arab-tj":"fa-arab-tj","und-arab-tr":"apc-arab-tr","und-arab-yt":"swb-arab-yt","und-armi":"arc-armi-ir","und-armn":"hy-armn-am","und-as":"sm-latn-as","und-at":"de-latn-at","und-avst":"ae-avst-ir","und-aw":"nl-latn-aw","und-ax":"sv-latn-ax","und-az":"az-latn-az","und-ba":"bs-latn-ba","und-bali":"ban-bali-id","und-bamu":"bax-bamu-cm","und-bass":"bsq-bass-lr","und-batk":"bbc-batk-id","und-bd":"bn-beng-bd","und-be":"nl-latn-be","und-beng":"bn-beng-bd","und-bf":"fr-latn-bf","und-bg":"bg-cyrl-bg","und-bh":"ar-arab-bh","und-bhks":"sa-bhks-in","und-bi":"rn-latn-bi","und-bj":"fr-latn-bj","und-bl":"fr-latn-bl","und-bn":"ms-latn-bn","und-bo":"es-latn-bo","und-bopo":"zh-bopo-tw","und-bq":"pap-latn-bq","und-br":"pt-latn-br","und-brah":"pka-brah-in","und-brai":"fr-brai-fr","und-bt":"dz-tibt-bt","und-bugi":"bug-bugi-id","und-buhd":"bku-buhd-ph","und-bv":"und-latn-bv","und-by":"be-cyrl-by","und-cakm":"ccp-cakm-bd","und-cans":"iu-cans-ca","und-cari":"xcr-cari-tr","und-cd":"sw-latn-cd","und-cf":"fr-latn-cf","und-cg":"fr-latn-cg","und-ch":"de-latn-ch","und-cham":"cjm-cham-vn","und-cher":"chr-cher-us","und-chrs":"xco-chrs-uz","und-ci":"fr-latn-ci","und-cl":"es-latn-cl","und-cm":"fr-latn-cm","und-cn":"zh-hans-cn","und-co":"es-latn-co","und-copt":"cop-copt-eg","und-cp":"und-latn-cp","und-cpmn":"und-cpmn-cy","und-cpmn-cy":"und-cpmn-cy","und-cprt":"grc-cprt-cy","und-cr":"es-latn-cr","und-cu":"es-latn-cu","und-cv":"pt-latn-cv","und-cw":"pap-latn-cw","und-cy":"el-grek-cy","und-cyrl":"ru-cyrl-ru","und-cyrl-al":"mk-cyrl-al","und-cyrl-ba":"sr-cyrl-ba","und-cyrl-ge":"ab-cyrl-ge","und-cyrl-gr":"mk-cyrl-gr","und-cyrl-md":"uk-cyrl-md","und-cyrl-ro":"bg-cyrl-ro","und-cyrl-sk":"uk-cyrl-sk","und-cyrl-tr":"kbd-cyrl-tr","und-cyrl-xk":"sr-cyrl-xk","und-cz":"cs-latn-cz","und-de":"de-latn-de","und-deva":"hi-deva-in","und-deva-bt":"ne-deva-bt","und-deva-fj":"hif-deva-fj","und-deva-mu":"bho-deva-mu","und-deva-pk":"btv-deva-pk","und-diak":"dv-diak-mv","und-dj":"aa-latn-dj","und-dk":"da-latn-dk","und-do":"es-latn-do","und-dogr":"doi-dogr-in","und-dupl":"fr-dupl-fr","und-dz":"ar-arab-dz","und-ea":"es-latn-ea","und-ec":"es-latn-ec","und-ee":"et-latn-ee","und-eg":"ar-arab-eg","und-egyp":"egy-egyp-eg","und-eh":"ar-arab-eh","und-elba":"sq-elba-al","und-elym":"arc-elym-ir","und-er":"ti-ethi-er","und-es":"es-latn-es","und-et":"am-ethi-et","und-ethi":"am-ethi-et","und-eu":"en-latn-ie","und-ez":"de-latn-ez","und-fi":"fi-latn-fi","und-fo":"fo-latn-fo","und-fr":"fr-latn-fr","und-ga":"fr-latn-ga","und-ge":"ka-geor-ge","und-geor":"ka-geor-ge","und-gf":"fr-latn-gf","und-gh":"ak-latn-gh","und-gl":"kl-latn-gl","und-glag":"cu-glag-bg","und-gn":"fr-latn-gn","und-gong":"wsg-gong-in","und-gonm":"esg-gonm-in","und-goth":"got-goth-ua","und-gp":"fr-latn-gp","und-gq":"es-latn-gq","und-gr":"el-grek-gr","und-gran":"sa-gran-in","und-grek":"el-grek-gr","und-grek-tr":"bgx-grek-tr","und-gs":"und-latn-gs","und-gt":"es-latn-gt","und-gujr":"gu-gujr-in","und-guru":"pa-guru-in","und-gw":"pt-latn-gw","und-hanb":"zh-hanb-tw","und-hang":"ko-hang-kr","und-hani":"zh-hani-cn","und-hano":"hnn-hano-ph","und-hans":"zh-hans-cn","und-hant":"zh-hant-tw","und-hant-ca":"yue-hant-ca","und-hebr":"he-hebr-il","und-hebr-se":"yi-hebr-se","und-hebr-ua":"yi-hebr-ua","und-hebr-us":"yi-hebr-us","und-hira":"ja-hira-jp","und-hk":"zh-hant-hk","und-hluw":"hlu-hluw-tr","und-hm":"und-latn-hm","und-hmng":"hnj-hmng-la","und-hmnp":"hnj-hmnp-us","und-hn":"es-latn-hn","und-hr":"hr-latn-hr","und-ht":"ht-latn-ht","und-hu":"hu-latn-hu","und-hung":"hu-hung-hu","und-ic":"es-latn-ic","und-id":"id-latn-id","und-il":"he-hebr-il","und-in":"hi-deva-in","und-iq":"ar-arab-iq","und-ir":"fa-arab-ir","und-is":"is-latn-is","und-it":"it-latn-it","und-ital":"ett-ital-it","und-jamo":"ko-jamo-kr","und-java":"jv-java-id","und-jo":"ar-arab-jo","und-jp":"ja-jpan-jp","und-jpan":"ja-jpan-jp","und-kali":"eky-kali-mm","und-kana":"ja-kana-jp","und-kawi":"kaw-kawi-id","und-ke":"sw-latn-ke","und-kg":"ky-cyrl-kg","und-kh":"km-khmr-kh","und-khar":"pra-khar-pk","und-khmr":"km-khmr-kh","und-khoj":"sd-khoj-in","und-kits":"zkt-kits-cn","und-km":"ar-arab-km","und-knda":"kn-knda-in","und-kore":"ko-kore-kr","und-kp":"ko-kore-kp","und-kr":"ko-kore-kr","und-kthi":"bho-kthi-in","und-kw":"ar-arab-kw","und-kz":"ru-cyrl-kz","und-la":"lo-laoo-la","und-lana":"nod-lana-th","und-laoo":"lo-laoo-la","und-laoo-au":"hnj-laoo-au","und-laoo-cn":"hnj-laoo-cn","und-laoo-fr":"hnj-laoo-fr","und-laoo-gf":"hnj-laoo-gf","und-laoo-mm":"hnj-laoo-mm","und-laoo-sr":"hnj-laoo-sr","und-laoo-th":"hnj-laoo-th","und-laoo-us":"hnj-laoo-us","und-laoo-vn":"hnj-laoo-vn","und-latn-af":"tk-latn-af","und-latn-am":"ku-latn-am","und-latn-cn":"za-latn-cn","und-latn-cy":"tr-latn-cy","und-latn-dz":"fr-latn-dz","und-latn-et":"en-latn-et","und-latn-ge":"ku-latn-ge","und-latn-ir":"tk-latn-ir","und-latn-km":"fr-latn-km","und-latn-ma":"fr-latn-ma","und-latn-mk":"sq-latn-mk","und-latn-mm":"kac-latn-mm","und-latn-mo":"pt-latn-mo","und-latn-mr":"fr-latn-mr","und-latn-ru":"krl-latn-ru","und-latn-sy":"fr-latn-sy","und-latn-tn":"fr-latn-tn","und-latn-tw":"trv-latn-tw","und-latn-ua":"pl-latn-ua","und-lb":"ar-arab-lb","und-lepc":"lep-lepc-in","und-li":"de-latn-li","und-limb":"lif-limb-in","und-lina":"lab-lina-gr","und-linb":"grc-linb-gr","und-lisu":"lis-lisu-cn","und-lk":"si-sinh-lk","und-ls":"st-latn-ls","und-lt":"lt-latn-lt","und-lu":"fr-latn-lu","und-lv":"lv-latn-lv","und-ly":"ar-arab-ly","und-lyci":"xlc-lyci-tr","und-lydi":"xld-lydi-tr","und-ma":"ar-arab-ma","und-mahj":"hi-mahj-in","und-maka":"mak-maka-id","und-mand":"myz-mand-ir","und-mani":"xmn-mani-cn","und-marc":"bo-marc-cn","und-mc":"fr-latn-mc","und-md":"ro-latn-md","und-me":"sr-latn-me","und-medf":"dmf-medf-ng","und-mend":"men-mend-sl","und-merc":"xmr-merc-sd","und-mero":"xmr-mero-sd","und-mf":"fr-latn-mf","und-mg":"mg-latn-mg","und-mk":"mk-cyrl-mk","und-ml":"bm-latn-ml","und-mlym":"ml-mlym-in","und-mm":"my-mymr-mm","und-mn":"mn-cyrl-mn","und-mo":"zh-hant-mo","und-modi":"mr-modi-in","und-mong":"mn-mong-cn","und-mq":"fr-latn-mq","und-mr":"ar-arab-mr","und-mroo":"mro-mroo-bd","und-mt":"mt-latn-mt","und-mtei":"mni-mtei-in","und-mu":"mfe-latn-mu","und-mult":"skr-mult-pk","und-mv":"dv-thaa-mv","und-mx":"es-latn-mx","und-my":"ms-latn-my","und-mymr":"my-mymr-mm","und-mymr-in":"kht-mymr-in","und-mymr-th":"mnw-mymr-th","und-mz":"pt-latn-mz","und-na":"af-latn-na","und-nagm":"unr-nagm-in","und-nand":"sa-nand-in","und-narb":"xna-narb-sa","und-nbat":"arc-nbat-jo","und-nc":"fr-latn-nc","und-ne":"ha-latn-ne","und-newa":"new-newa-np","und-ni":"es-latn-ni","und-nkoo":"man-nkoo-gn","und-nl":"nl-latn-nl","und-no":"nb-latn-no","und-np":"ne-deva-np","und-nshu":"zhx-nshu-cn","und-ogam":"sga-ogam-ie","und-olck":"sat-olck-in","und-om":"ar-arab-om","und-orkh":"otk-orkh-mn","und-orya":"or-orya-in","und-osge":"osa-osge-us","und-osma":"so-osma-so","und-ougr":"oui-ougr-143","und-pa":"es-latn-pa","und-palm":"arc-palm-sy","und-pauc":"ctd-pauc-mm","und-pe":"es-latn-pe","und-perm":"kv-perm-ru","und-pf":"fr-latn-pf","und-pg":"tpi-latn-pg","und-ph":"fil-latn-ph","und-phag":"lzh-phag-cn","und-phli":"pal-phli-ir","und-phlp":"pal-phlp-cn","und-phnx":"phn-phnx-lb","und-pk":"ur-arab-pk","und-pl":"pl-latn-pl","und-plrd":"hmd-plrd-cn","und-pm":"fr-latn-pm","und-pr":"es-latn-pr","und-prti":"xpr-prti-ir","und-ps":"ar-arab-ps","und-pt":"pt-latn-pt","und-pw":"pau-latn-pw","und-py":"gn-latn-py","und-qa":"ar-arab-qa","und-qo":"en-latn-dg","und-re":"fr-latn-re","und-rjng":"rej-rjng-id","und-ro":"ro-latn-ro","und-rohg":"rhg-rohg-mm","und-rs":"sr-cyrl-rs","und-ru":"ru-cyrl-ru","und-runr":"non-runr-se","und-rw":"rw-latn-rw","und-sa":"ar-arab-sa","und-samr":"smp-samr-il","und-sarb":"xsa-sarb-ye","und-saur":"saz-saur-in","und-sc":"fr-latn-sc","und-sd":"ar-arab-sd","und-se":"sv-latn-se","und-sgnw":"ase-sgnw-us","und-shaw":"en-shaw-gb","und-shrd":"sa-shrd-in","und-si":"sl-latn-si","und-sidd":"sa-sidd-in","und-sind":"sd-sind-in","und-sinh":"si-sinh-lk","und-sj":"nb-latn-sj","und-sk":"sk-latn-sk","und-sm":"it-latn-sm","und-sn":"fr-latn-sn","und-so":"so-latn-so","und-sogd":"sog-sogd-uz","und-sogo":"sog-sogo-uz","und-sora":"srb-sora-in","und-soyo":"cmg-soyo-mn","und-sr":"nl-latn-sr","und-st":"pt-latn-st","und-sund":"su-sund-id","und-sv":"es-latn-sv","und-sy":"ar-arab-sy","und-sylo":"syl-sylo-bd","und-syrc":"syr-syrc-iq","und-tagb":"tbw-tagb-ph","und-takr":"doi-takr-in","und-tale":"tdd-tale-cn","und-talu":"khb-talu-cn","und-taml":"ta-taml-in","und-tang":"txg-tang-cn","und-tavt":"blt-tavt-vn","und-td":"fr-latn-td","und-telu":"te-telu-in","und-tf":"fr-latn-tf","und-tfng":"zgh-tfng-ma","und-tg":"fr-latn-tg","und-tglg":"fil-tglg-ph","und-th":"th-thai-th","und-thaa":"dv-thaa-mv","und-thai":"th-thai-th","und-thai-cn":"lcp-thai-cn","und-thai-kh":"kdt-thai-kh","und-thai-la":"kdt-thai-la","und-tibt":"bo-tibt-cn","und-tirh":"mai-tirh-in","und-tj":"tg-cyrl-tj","und-tk":"tkl-latn-tk","und-tl":"pt-latn-tl","und-tm":"tk-latn-tm","und-tn":"ar-arab-tn","und-tnsa":"nst-tnsa-in","und-to":"to-latn-to","und-toto":"txo-toto-in","und-tr":"tr-latn-tr","und-tv":"tvl-latn-tv","und-tw":"zh-hant-tw","und-tz":"sw-latn-tz","und-ua":"uk-cyrl-ua","und-ug":"sw-latn-ug","und-ugar":"uga-ugar-sy","und-uy":"es-latn-uy","und-uz":"uz-latn-uz","und-va":"it-latn-va","und-vaii":"vai-vaii-lr","und-ve":"es-latn-ve","und-vith":"sq-vith-al","und-vn":"vi-latn-vn","und-vu":"bi-latn-vu","und-wara":"hoc-wara-in","und-wcho":"nnp-wcho-in","und-wf":"fr-latn-wf","und-ws":"sm-latn-ws","und-xk":"sq-latn-xk","und-xpeo":"peo-xpeo-ir","und-xsux":"akk-xsux-iq","und-ye":"ar-arab-ye","und-yezi":"ku-yezi-ge","und-yiii":"ii-yiii-cn","und-yt":"fr-latn-yt","und-zanb":"cmg-zanb-mn","und-zw":"sn-latn-zw",une:"une-latn-ng",ung:"ung-latn-au",uni:"uni-latn-pg",unk:"unk-latn-br",unm:"unm-latn-us",unn:"unn-latn-au",unr:"unr-beng-in","unr-deva":"unr-deva-np","unr-np":"unr-deva-np",unu:"unu-latn-pg",unx:"unx-beng-in",unz:"unz-latn-id",uok:"uok-latn-zz",uon:"uon-latn-tw",upi:"upi-latn-pg",upv:"upv-latn-vu",ur:"ur-arab-pk",ura:"ura-latn-pe",urb:"urb-latn-br",urc:"urc-latn-au",ure:"ure-latn-bo",urf:"urf-latn-au",urg:"urg-latn-pg",urh:"urh-latn-ng",uri:"uri-latn-zz",urk:"urk-thai-th",urm:"urm-latn-pg",urn:"urn-latn-id",uro:"uro-latn-pg",urp:"urp-latn-br",urr:"urr-latn-vu",urt:"urt-latn-zz",uru:"uru-latn-br",urv:"urv-latn-pg",urw:"urw-latn-zz",urx:"urx-latn-pg",ury:"ury-latn-id",urz:"urz-latn-br",usa:"usa-latn-zz",ush:"ush-arab-pk",usi:"usi-latn-bd","usi-beng":"usi-beng-bd",usk:"usk-latn-cm",usp:"usp-latn-gt",uss:"uss-latn-ng",usu:"usu-latn-pg",uta:"uta-latn-ng",ute:"ute-latn-us",uth:"uth-latn-zz",utp:"utp-latn-sb",utr:"utr-latn-zz",utu:"utu-latn-pg",uum:"uum-grek-ge","uum-cyrl":"uum-cyrl-ge",uur:"uur-latn-vu",uve:"uve-latn-nc",uvh:"uvh-latn-zz",uvl:"uvl-latn-zz",uwa:"uwa-latn-au",uya:"uya-latn-ng",uz:"uz-latn-uz","uz-af":"uz-arab-af","uz-arab":"uz-arab-af","uz-cn":"uz-cyrl-cn",uzs:"uzs-arab-af",vaa:"vaa-taml-in",vae:"vae-latn-cf",vaf:"vaf-arab-ir",vag:"vag-latn-zz",vah:"vah-deva-in",vai:"vai-vaii-lr",vaj:"vaj-latn-na",val:"val-latn-pg",vam:"vam-latn-pg",van:"van-latn-zz",vao:"vao-latn-vu",vap:"vap-latn-in",var:"var-latn-mx",vas:"vas-deva-in","vas-gujr":"vas-gujr-in",vau:"vau-latn-cd",vav:"vav-deva-in","vav-gujr":"vav-gujr-in",vay:"vay-deva-np",vbb:"vbb-latn-id",vbk:"vbk-latn-ph",ve:"ve-latn-za",vec:"vec-latn-it",vem:"vem-latn-ng",veo:"veo-latn-us",vep:"vep-latn-ru",ver:"ver-latn-ng",vgr:"vgr-arab-pk",vi:"vi-latn-vn",vic:"vic-latn-sx",vid:"vid-latn-tz",vif:"vif-latn-cg",vig:"vig-latn-bf",vil:"vil-latn-ar",vin:"vin-latn-tz",vit:"vit-latn-ng",viv:"viv-latn-zz",vka:"vka-latn-au",vkj:"vkj-latn-td",vkk:"vkk-latn-id",vkl:"vkl-latn-id",vkm:"vkm-latn-br",vkn:"vkn-latn-ng",vko:"vko-latn-id",vkp:"vkp-latn-in","vkp-deva":"vkp-deva-in",vkt:"vkt-latn-id",vku:"vku-latn-au",vkz:"vkz-latn-ng",vlp:"vlp-latn-vu",vls:"vls-latn-be",vma:"vma-latn-au",vmb:"vmb-latn-au",vmc:"vmc-latn-mx",vmd:"vmd-knda-in",vme:"vme-latn-id",vmf:"vmf-latn-de",vmg:"vmg-latn-pg",vmh:"vmh-arab-ir",vmi:"vmi-latn-au",vmj:"vmj-latn-mx",vmk:"vmk-latn-mz",vml:"vml-latn-au",vmm:"vmm-latn-mx",vmp:"vmp-latn-mx",vmq:"vmq-latn-mx",vmr:"vmr-latn-mz",vms:"vms-latn-id",vmu:"vmu-latn-au",vmw:"vmw-latn-mz",vmx:"vmx-latn-mx",vmy:"vmy-latn-mx",vmz:"vmz-latn-mx",vnk:"vnk-latn-sb",vnm:"vnm-latn-vu",vnp:"vnp-latn-vu",vo:"vo-latn-001",vor:"vor-latn-ng",vot:"vot-latn-ru",vra:"vra-latn-vu",vro:"vro-latn-ee",vrs:"vrs-latn-sb",vrt:"vrt-latn-vu",vto:"vto-latn-id",vum:"vum-latn-ga",vun:"vun-latn-tz",vut:"vut-latn-zz",vwa:"vwa-latn-cn","vwa-mymr":"vwa-mymr-cn",wa:"wa-latn-be",waa:"waa-latn-us",wab:"wab-latn-pg",wac:"wac-latn-us",wad:"wad-latn-id",wae:"wae-latn-ch",waf:"waf-latn-br",wag:"wag-latn-pg",wah:"wah-latn-id",wai:"wai-latn-id",waj:"waj-latn-zz",wal:"wal-ethi-et",wam:"wam-latn-us",wan:"wan-latn-zz",wap:"wap-latn-gy",waq:"waq-latn-au",war:"war-latn-ph",was:"was-latn-us",wat:"wat-latn-pg",wau:"wau-latn-br",wav:"wav-latn-ng",waw:"waw-latn-br",wax:"wax-latn-pg",way:"way-latn-sr",waz:"waz-latn-pg",wba:"wba-latn-ve",wbb:"wbb-latn-id",wbe:"wbe-latn-id",wbf:"wbf-latn-bf",wbh:"wbh-latn-tz",wbi:"wbi-latn-tz",wbj:"wbj-latn-tz",wbk:"wbk-arab-af",wbl:"wbl-latn-pk","wbl-arab":"wbl-arab-af","wbl-cyrl":"wbl-cyrl-tj",wbm:"wbm-latn-cn",wbp:"wbp-latn-au",wbq:"wbq-telu-in",wbr:"wbr-deva-in",wbt:"wbt-latn-au",wbv:"wbv-latn-au",wbw:"wbw-latn-id",wca:"wca-latn-br",wci:"wci-latn-zz",wdd:"wdd-latn-ga",wdg:"wdg-latn-pg",wdj:"wdj-latn-au",wdk:"wdk-latn-au",wdt:"wdt-latn-ca",wdu:"wdu-latn-au",wdy:"wdy-latn-au",wec:"wec-latn-ci",wed:"wed-latn-pg",weg:"weg-latn-au",weh:"weh-latn-cm",wei:"wei-latn-pg",wem:"wem-latn-bj",weo:"weo-latn-id",wep:"wep-latn-de",wer:"wer-latn-zz",wes:"wes-latn-cm",wet:"wet-latn-id",weu:"weu-latn-mm",wew:"wew-latn-id",wfg:"wfg-latn-id",wga:"wga-latn-au",wgb:"wgb-latn-pg",wgg:"wgg-latn-au",wgi:"wgi-latn-zz",wgo:"wgo-latn-id",wgu:"wgu-latn-au",wgy:"wgy-latn-au",wha:"wha-latn-id",whg:"whg-latn-zz",whk:"whk-latn-id",whu:"whu-latn-id",wib:"wib-latn-zz",wic:"wic-latn-us",wie:"wie-latn-au",wif:"wif-latn-au",wig:"wig-latn-au",wih:"wih-latn-au",wii:"wii-latn-pg",wij:"wij-latn-au",wik:"wik-latn-au",wil:"wil-latn-au",wim:"wim-latn-au",win:"win-latn-us",wir:"wir-latn-br",wiu:"wiu-latn-zz",wiv:"wiv-latn-zz",wiy:"wiy-latn-us",wja:"wja-latn-zz",wji:"wji-latn-zz",wka:"wka-latn-tz",wkd:"wkd-latn-id",wkr:"wkr-latn-au",wkw:"wkw-latn-au",wky:"wky-latn-au",wla:"wla-latn-pg",wlg:"wlg-latn-au",wlh:"wlh-latn-tl",wli:"wli-latn-id",wlm:"wlm-latn-gb",wlo:"wlo-arab-id",wlr:"wlr-latn-vu",wls:"wls-latn-wf",wlu:"wlu-latn-au",wlv:"wlv-latn-ar",wlw:"wlw-latn-id",wlx:"wlx-latn-gh",wma:"wma-latn-ng",wmb:"wmb-latn-au",wmc:"wmc-latn-pg",wmd:"wmd-latn-br",wme:"wme-deva-np",wmh:"wmh-latn-tl",wmi:"wmi-latn-au",wmm:"wmm-latn-id",wmn:"wmn-latn-nc",wmo:"wmo-latn-zz",wms:"wms-latn-id",wmt:"wmt-latn-au",wmw:"wmw-latn-mz","wmw-arab":"wmw-arab-mz",wmx:"wmx-latn-pg",wnb:"wnb-latn-pg",wnc:"wnc-latn-zz",wnd:"wnd-latn-au",wne:"wne-arab-pk",wng:"wng-latn-id",wni:"wni-arab-km",wnk:"wnk-latn-id",wnm:"wnm-latn-au",wnn:"wnn-latn-au",wno:"wno-latn-id",wnp:"wnp-latn-pg",wnu:"wnu-latn-zz",wnw:"wnw-latn-us",wny:"wny-latn-au",wo:"wo-latn-sn",woa:"woa-latn-au",wob:"wob-latn-zz",woc:"woc-latn-pg",wod:"wod-latn-id",woe:"woe-latn-fm",wof:"wof-latn-gm","wof-arab":"wof-arab-gm",wog:"wog-latn-pg",woi:"woi-latn-id",wok:"wok-latn-cm",wom:"wom-latn-ng",won:"won-latn-cd",woo:"woo-latn-id",wor:"wor-latn-id",wos:"wos-latn-zz",wow:"wow-latn-id",wpc:"wpc-latn-ve",wrb:"wrb-latn-au",wrg:"wrg-latn-au",wrh:"wrh-latn-au",wri:"wri-latn-au",wrk:"wrk-latn-au",wrl:"wrl-latn-au",wrm:"wrm-latn-au",wro:"wro-latn-au",wrp:"wrp-latn-id",wrr:"wrr-latn-au",wrs:"wrs-latn-zz",wru:"wru-latn-id",wrv:"wrv-latn-pg",wrw:"wrw-latn-au",wrx:"wrx-latn-id",wrz:"wrz-latn-au",wsa:"wsa-latn-id",wsg:"wsg-gong-in",wsi:"wsi-latn-vu",wsk:"wsk-latn-zz",wsr:"wsr-latn-pg",wss:"wss-latn-gh",wsu:"wsu-latn-br",wsv:"wsv-arab-af",wtf:"wtf-latn-pg",wth:"wth-latn-au",wti:"wti-latn-et",wtk:"wtk-latn-pg",wtm:"wtm-deva-in",wtw:"wtw-latn-id","wtw-bugi":"wtw-bugi-id",wua:"wua-latn-au",wub:"wub-latn-au",wud:"wud-latn-tg",wul:"wul-latn-id",wum:"wum-latn-ga",wun:"wun-latn-tz",wur:"wur-latn-au",wut:"wut-latn-pg",wuu:"wuu-hans-cn",wuv:"wuv-latn-zz",wux:"wux-latn-au",wuy:"wuy-latn-id",wwa:"wwa-latn-zz",wwb:"wwb-latn-au",wwo:"wwo-latn-vu",wwr:"wwr-latn-au",www:"www-latn-cm",wxw:"wxw-latn-au",wyb:"wyb-latn-au",wyi:"wyi-latn-au",wym:"wym-latn-pl",wyn:"wyn-latn-us",wyr:"wyr-latn-br",wyy:"wyy-latn-fj",xaa:"xaa-latn-es",xab:"xab-latn-ng",xai:"xai-latn-br",xaj:"xaj-latn-br",xak:"xak-latn-ve",xal:"xal-cyrl-ru",xam:"xam-latn-za",xan:"xan-ethi-et",xao:"xao-latn-vn",xar:"xar-latn-pg",xas:"xas-cyrl-ru",xat:"xat-latn-br",xau:"xau-latn-id",xav:"xav-latn-br",xaw:"xaw-latn-us",xay:"xay-latn-id",xbb:"xbb-latn-au",xbd:"xbd-latn-au",xbe:"xbe-latn-au",xbg:"xbg-latn-au",xbi:"xbi-latn-zz",xbj:"xbj-latn-au",xbm:"xbm-latn-fr",xbn:"xbn-latn-my",xbp:"xbp-latn-au",xbr:"xbr-latn-id",xbw:"xbw-latn-br",xby:"xby-latn-au",xch:"xch-latn-us",xco:"xco-chrs-uz",xcr:"xcr-cari-tr",xda:"xda-latn-au",xdk:"xdk-latn-au",xdo:"xdo-latn-ao",xdq:"xdq-cyrl-ru",xdy:"xdy-latn-id",xed:"xed-latn-cm",xeg:"xeg-latn-za",xem:"xem-latn-id",xer:"xer-latn-br",xes:"xes-latn-zz",xet:"xet-latn-br",xeu:"xeu-latn-pg",xgb:"xgb-latn-ci",xgd:"xgd-latn-au",xgg:"xgg-latn-au",xgi:"xgi-latn-au",xgm:"xgm-latn-au",xgu:"xgu-latn-au",xgw:"xgw-latn-au",xh:"xh-latn-za",xhe:"xhe-arab-pk",xhm:"xhm-khmr-kh",xhv:"xhv-latn-vn",xii:"xii-latn-za",xin:"xin-latn-gt",xir:"xir-latn-br",xis:"xis-orya-in",xiy:"xiy-latn-br",xjb:"xjb-latn-au",xjt:"xjt-latn-au",xka:"xka-arab-pk",xkb:"xkb-latn-bj",xkc:"xkc-arab-ir",xkd:"xkd-latn-id",xke:"xke-latn-id",xkg:"xkg-latn-ml",xkj:"xkj-arab-ir",xkl:"xkl-latn-id",xkn:"xkn-latn-id",xkp:"xkp-arab-ir",xkq:"xkq-latn-id",xkr:"xkr-latn-br",xks:"xks-latn-id",xkt:"xkt-latn-gh",xku:"xku-latn-cg",xkv:"xkv-latn-bw",xkw:"xkw-latn-id",xkx:"xkx-latn-pg",xky:"xky-latn-my",xkz:"xkz-latn-bt",xla:"xla-latn-zz",xlc:"xlc-lyci-tr",xld:"xld-lydi-tr",xly:"xly-elym-ir",xma:"xma-latn-so",xmb:"xmb-latn-cm",xmc:"xmc-latn-mz",xmd:"xmd-latn-cm",xmf:"xmf-geor-ge",xmg:"xmg-latn-cm",xmh:"xmh-latn-au",xmj:"xmj-latn-cm",xmm:"xmm-latn-id",xmn:"xmn-mani-cn",xmo:"xmo-latn-br",xmp:"xmp-latn-au",xmq:"xmq-latn-au",xmr:"xmr-merc-sd",xmt:"xmt-latn-id",xmu:"xmu-latn-au",xmv:"xmv-latn-mg",xmw:"xmw-latn-mg",xmx:"xmx-latn-id",xmy:"xmy-latn-au",xmz:"xmz-latn-id",xna:"xna-narb-sa",xnb:"xnb-latn-tw",xni:"xni-latn-au",xnj:"xnj-latn-tz",xnk:"xnk-latn-au",xnm:"xnm-latn-au",xnn:"xnn-latn-ph",xnq:"xnq-latn-mz",xnr:"xnr-deva-in",xnt:"xnt-latn-us",xnu:"xnu-latn-au",xny:"xny-latn-au",xnz:"xnz-latn-eg","xnz-arab":"xnz-arab-eg",xoc:"xoc-latn-ng",xod:"xod-latn-id",xog:"xog-latn-ug",xoi:"xoi-latn-pg",xok:"xok-latn-br",xom:"xom-latn-sd","xom-ethi":"xom-ethi-et",xon:"xon-latn-zz",xoo:"xoo-latn-br",xop:"xop-latn-pg",xor:"xor-latn-br",xow:"xow-latn-pg",xpa:"xpa-latn-au",xpb:"xpb-latn-au",xpd:"xpd-latn-au",xpf:"xpf-latn-au",xpg:"xpg-grek-tr",xph:"xph-latn-au",xpi:"xpi-ogam-gb",xpj:"xpj-latn-au",xpk:"xpk-latn-br",xpl:"xpl-latn-au",xpm:"xpm-cyrl-ru",xpn:"xpn-latn-br",xpo:"xpo-latn-mx",xpq:"xpq-latn-us",xpr:"xpr-prti-ir",xpt:"xpt-latn-au",xpv:"xpv-latn-au",xpw:"xpw-latn-au",xpx:"xpx-latn-au",xpz:"xpz-latn-au",xra:"xra-latn-br",xrb:"xrb-latn-zz",xrd:"xrd-latn-au",xre:"xre-latn-br",xrg:"xrg-latn-au",xri:"xri-latn-br",xrm:"xrm-cyrl-ru",xrn:"xrn-cyrl-ru",xrr:"xrr-latn-it",xru:"xru-latn-au",xrw:"xrw-latn-pg",xsa:"xsa-sarb-ye",xsb:"xsb-latn-ph",xse:"xse-latn-id",xsh:"xsh-latn-ng",xsi:"xsi-latn-zz",xsm:"xsm-latn-zz",xsn:"xsn-latn-ng",xsp:"xsp-latn-pg",xsq:"xsq-latn-mz",xsr:"xsr-deva-np",xss:"xss-cyrl-ru",xsu:"xsu-latn-ve",xsy:"xsy-latn-tw",xta:"xta-latn-mx",xtb:"xtb-latn-mx",xtc:"xtc-latn-sd",xtd:"xtd-latn-mx",xte:"xte-latn-id",xth:"xth-latn-au",xti:"xti-latn-mx",xtj:"xtj-latn-mx",xtl:"xtl-latn-mx",xtm:"xtm-latn-mx",xtn:"xtn-latn-mx",xtp:"xtp-latn-mx",xts:"xts-latn-mx",xtt:"xtt-latn-mx",xtu:"xtu-latn-mx",xtv:"xtv-latn-au",xtw:"xtw-latn-br",xty:"xty-latn-mx",xub:"xub-taml-in","xub-knda":"xub-knda-in","xub-mlym":"xub-mlym-in",xud:"xud-latn-au",xuj:"xuj-taml-in",xul:"xul-latn-au",xum:"xum-latn-it","xum-ital":"xum-ital-it",xun:"xun-latn-au",xuo:"xuo-latn-td",xut:"xut-latn-au",xuu:"xuu-latn-na",xve:"xve-ital-it",xvi:"xvi-arab-af",xvn:"xvn-latn-es",xvo:"xvo-latn-it",xvs:"xvs-latn-it",xwa:"xwa-latn-br",xwd:"xwd-latn-au",xwe:"xwe-latn-zz",xwj:"xwj-latn-au",xwk:"xwk-latn-au",xwl:"xwl-latn-bj",xwo:"xwo-cyrl-ru",xwr:"xwr-latn-id",xwt:"xwt-latn-au",xww:"xww-latn-au",xxb:"xxb-latn-gh",xxk:"xxk-latn-id",xxm:"xxm-latn-au",xxr:"xxr-latn-br",xxt:"xxt-latn-id",xya:"xya-latn-au",xyb:"xyb-latn-au",xyj:"xyj-latn-au",xyk:"xyk-latn-au",xyl:"xyl-latn-br",xyt:"xyt-latn-au",xyy:"xyy-latn-au",xzh:"xzh-marc-cn",xzp:"xzp-latn-mx",yaa:"yaa-latn-pe",yab:"yab-latn-br",yac:"yac-latn-id",yad:"yad-latn-pe",yae:"yae-latn-ve",yaf:"yaf-latn-cd",yag:"yag-latn-cl",yai:"yai-cyrl-tj",yaj:"yaj-latn-cf",yak:"yak-latn-us",yal:"yal-latn-gn","yal-arab":"yal-arab-gn",yam:"yam-latn-zz",yan:"yan-latn-ni",yao:"yao-latn-mz",yap:"yap-latn-fm",yaq:"yaq-latn-mx",yar:"yar-latn-ve",yas:"yas-latn-zz",yat:"yat-latn-zz",yau:"yau-latn-ve",yav:"yav-latn-cm",yaw:"yaw-latn-br",yax:"yax-latn-ao",yay:"yay-latn-zz",yaz:"yaz-latn-zz",yba:"yba-latn-zz",ybb:"ybb-latn-cm",ybe:"ybe-latn-cn","ybe-ougr":"ybe-ougr-cn",ybh:"ybh-deva-np",ybi:"ybi-deva-np",ybj:"ybj-latn-ng",ybl:"ybl-latn-ng",ybm:"ybm-latn-pg",ybn:"ybn-latn-br",ybo:"ybo-latn-pg",ybx:"ybx-latn-pg",yby:"yby-latn-zz",ycl:"ycl-latn-cn",ycn:"ycn-latn-co",yda:"yda-latn-au",yde:"yde-latn-pg",ydg:"ydg-arab-pk",ydk:"ydk-latn-pg",yea:"yea-mlym-in","yea-knda":"yea-knda-in",yec:"yec-latn-de",yee:"yee-latn-pg",yei:"yei-latn-cm",yej:"yej-grek-il",yel:"yel-latn-cd",yer:"yer-latn-zz",yes:"yes-latn-ng",yet:"yet-latn-id",yeu:"yeu-telu-in",yev:"yev-latn-pg",yey:"yey-latn-bw",yga:"yga-latn-au",ygi:"ygi-latn-au",ygl:"ygl-latn-pg",ygm:"ygm-latn-pg",ygp:"ygp-plrd-cn",ygr:"ygr-latn-zz",ygu:"ygu-latn-au",ygw:"ygw-latn-zz",yhd:"yhd-hebr-il",yi:"yi-hebr-001",yia:"yia-latn-au",yig:"yig-yiii-cn",yih:"yih-hebr-de",yii:"yii-latn-au",yij:"yij-latn-au",yil:"yil-latn-au",yim:"yim-latn-in",yir:"yir-latn-id",yis:"yis-latn-pg",yiv:"yiv-yiii-cn",yka:"yka-latn-ph","yka-arab":"yka-arab-ph",ykg:"ykg-cyrl-ru",yki:"yki-latn-id",ykk:"ykk-latn-pg",ykm:"ykm-latn-pg",yko:"yko-latn-zz",ykr:"ykr-latn-pg",yky:"yky-latn-cf",yla:"yla-latn-pg",ylb:"ylb-latn-pg",yle:"yle-latn-zz",ylg:"ylg-latn-zz",yli:"yli-latn-id",yll:"yll-latn-zz",ylr:"ylr-latn-au",ylu:"ylu-latn-pg",yly:"yly-latn-nc",ymb:"ymb-latn-pg",yme:"yme-latn-pe",ymg:"ymg-latn-cd",ymk:"ymk-latn-mz","ymk-arab":"ymk-arab-mz",yml:"yml-latn-zz",ymm:"ymm-latn-so",ymn:"ymn-latn-id",ymo:"ymo-latn-pg",ymp:"ymp-latn-pg",yna:"yna-plrd-cn",ynd:"ynd-latn-au",yng:"yng-latn-cd",ynk:"ynk-cyrl-ru",ynl:"ynl-latn-pg",ynq:"ynq-latn-ng",yns:"yns-latn-cd",ynu:"ynu-latn-co",yo:"yo-latn-ng",yob:"yob-latn-pg",yog:"yog-latn-ph",yoi:"yoi-jpan-jp",yok:"yok-latn-us",yol:"yol-latn-gb",yom:"yom-latn-cd",yon:"yon-latn-zz",yot:"yot-latn-ng",yoy:"yoy-thai-th",yra:"yra-latn-pg",yrb:"yrb-latn-zz",yre:"yre-latn-zz",yrk:"yrk-cyrl-ru",yrl:"yrl-latn-br",yrm:"yrm-latn-au",yro:"yro-latn-br",yrs:"yrs-latn-id",yrw:"yrw-latn-pg",yry:"yry-latn-au",ysd:"ysd-yiii-cn",ysn:"ysn-yiii-cn",ysp:"ysp-yiii-cn",ysr:"ysr-cyrl-ru",yss:"yss-latn-zz",ysy:"ysy-plrd-cn",ytw:"ytw-latn-pg",yty:"yty-latn-au",yua:"yua-latn-mx",yub:"yub-latn-au",yuc:"yuc-latn-us",yud:"yud-hebr-il",yue:"yue-hant-hk","yue-cn":"yue-hans-cn","yue-hans":"yue-hans-cn",yuf:"yuf-latn-us",yug:"yug-cyrl-ru",yui:"yui-latn-co",yuj:"yuj-latn-zz",yul:"yul-latn-cf",yum:"yum-latn-us",yun:"yun-latn-ng",yup:"yup-latn-co",yuq:"yuq-latn-bo",yur:"yur-latn-us",yut:"yut-latn-zz",yuw:"yuw-latn-zz",yux:"yux-cyrl-ru",yuz:"yuz-latn-bo",yva:"yva-latn-id",yvt:"yvt-latn-ve",ywa:"ywa-latn-pg",ywg:"ywg-latn-au",ywn:"ywn-latn-br",ywq:"ywq-plrd-cn","ywq-yiii":"ywq-yiii-cn",ywr:"ywr-latn-au",ywu:"ywu-plrd-cn","ywu-yiii":"ywu-yiii-cn",yww:"yww-latn-au",yxa:"yxa-latn-au",yxg:"yxg-latn-au",yxl:"yxl-latn-au",yxm:"yxm-latn-au",yxu:"yxu-latn-au",yxy:"yxy-latn-au",yyr:"yyr-latn-au",yyu:"yyu-latn-pg",za:"za-latn-cn",zaa:"zaa-latn-mx",zab:"zab-latn-mx",zac:"zac-latn-mx",zad:"zad-latn-mx",zae:"zae-latn-mx",zaf:"zaf-latn-mx",zag:"zag-latn-sd",zah:"zah-latn-ng",zaj:"zaj-latn-tz",zak:"zak-latn-tz",zam:"zam-latn-mx",zao:"zao-latn-mx",zap:"zap-latn-mx",zaq:"zaq-latn-mx",zar:"zar-latn-mx",zas:"zas-latn-mx",zat:"zat-latn-mx",zau:"zau-tibt-in","zau-arab":"zau-arab-in",zav:"zav-latn-mx",zaw:"zaw-latn-mx",zax:"zax-latn-mx",zay:"zay-latn-et","zay-ethi":"zay-ethi-et",zaz:"zaz-latn-ng",zba:"zba-arab-001",zbc:"zbc-latn-my",zbe:"zbe-latn-my",zbt:"zbt-latn-id",zbu:"zbu-latn-ng",zbw:"zbw-latn-my",zca:"zca-latn-mx",zch:"zch-hani-cn",zdj:"zdj-arab-km",zea:"zea-latn-nl",zeg:"zeg-latn-pg",zeh:"zeh-hani-cn",zen:"zen-tfng-mr","zen-arab":"zen-arab-mr",zga:"zga-latn-tz",zgb:"zgb-hani-cn",zgh:"zgh-tfng-ma",zgm:"zgm-hani-cn",zgn:"zgn-hani-cn",zgr:"zgr-latn-pg",zh:"zh-hans-cn","zh-au":"zh-hant-au","zh-bn":"zh-hant-bn","zh-bopo":"zh-bopo-tw","zh-gb":"zh-hant-gb","zh-gf":"zh-hant-gf","zh-hanb":"zh-hanb-tw","zh-hant":"zh-hant-tw","zh-hk":"zh-hant-hk","zh-id":"zh-hant-id","zh-mo":"zh-hant-mo","zh-pa":"zh-hant-pa","zh-pf":"zh-hant-pf","zh-ph":"zh-hant-ph","zh-sr":"zh-hant-sr","zh-th":"zh-hant-th","zh-tw":"zh-hant-tw","zh-us":"zh-hant-us","zh-vn":"zh-hant-vn",zhd:"zhd-hani-cn","zhd-latn":"zhd-latn-vn",zhi:"zhi-latn-ng",zhn:"zhn-latn-cn","zhn-hani":"zhn-hani-cn",zhw:"zhw-latn-cm",zhx:"zhx-nshu-cn",zia:"zia-latn-zz",zik:"zik-latn-pg",zil:"zil-latn-gn",zim:"zim-latn-td",zin:"zin-latn-tz",ziw:"ziw-latn-tz",ziz:"ziz-latn-ng",zka:"zka-latn-id",zkb:"zkb-cyrl-ru",zkd:"zkd-latn-mm",zko:"zko-cyrl-ru",zkp:"zkp-latn-br",zkt:"zkt-kits-cn",zku:"zku-latn-au",zkz:"zkz-cyrl-ru",zla:"zla-latn-cd",zlj:"zlj-hani-cn","zlj-latn":"zlj-latn-cn",zlm:"zlm-latn-tg",zln:"zln-hani-cn",zlq:"zlq-hani-cn",zma:"zma-latn-au",zmb:"zmb-latn-cd",zmc:"zmc-latn-au",zmd:"zmd-latn-au",zme:"zme-latn-au",zmf:"zmf-latn-cd",zmg:"zmg-latn-au",zmh:"zmh-latn-pg",zmi:"zmi-latn-my",zmj:"zmj-latn-au",zmk:"zmk-latn-au",zml:"zml-latn-au",zmm:"zmm-latn-au",zmn:"zmn-latn-ga",zmo:"zmo-latn-sd",zmp:"zmp-latn-cd",zmq:"zmq-latn-cd",zmr:"zmr-latn-au",zms:"zms-latn-cd",zmt:"zmt-latn-au",zmu:"zmu-latn-au",zmv:"zmv-latn-au",zmw:"zmw-latn-cd",zmx:"zmx-latn-cg",zmy:"zmy-latn-au",zmz:"zmz-latn-cd",zna:"zna-latn-td",zne:"zne-latn-zz",zng:"zng-latn-vn",znk:"znk-latn-au",zns:"zns-latn-ng",zoc:"zoc-latn-mx",zoh:"zoh-latn-mx",zom:"zom-latn-in",zoo:"zoo-latn-mx",zoq:"zoq-latn-mx",zor:"zor-latn-mx",zos:"zos-latn-mx",zpa:"zpa-latn-mx",zpb:"zpb-latn-mx",zpc:"zpc-latn-mx",zpd:"zpd-latn-mx",zpe:"zpe-latn-mx",zpf:"zpf-latn-mx",zpg:"zpg-latn-mx",zph:"zph-latn-mx",zpi:"zpi-latn-mx",zpj:"zpj-latn-mx",zpk:"zpk-latn-mx",zpl:"zpl-latn-mx",zpm:"zpm-latn-mx",zpn:"zpn-latn-mx",zpo:"zpo-latn-mx",zpp:"zpp-latn-mx",zpq:"zpq-latn-mx",zpr:"zpr-latn-mx",zps:"zps-latn-mx",zpt:"zpt-latn-mx",zpu:"zpu-latn-mx",zpv:"zpv-latn-mx",zpw:"zpw-latn-mx",zpx:"zpx-latn-mx",zpy:"zpy-latn-mx",zpz:"zpz-latn-mx",zqe:"zqe-hani-cn","zqe-latn":"zqe-latn-cn",zrn:"zrn-latn-td",zro:"zro-latn-ec",zrp:"zrp-hebr-fr",zrs:"zrs-latn-id",zsa:"zsa-latn-pg",zsr:"zsr-latn-mx",zsu:"zsu-latn-pg",zte:"zte-latn-mx",ztg:"ztg-latn-mx",ztl:"ztl-latn-mx",ztm:"ztm-latn-mx",ztn:"ztn-latn-mx",ztp:"ztp-latn-mx",ztq:"ztq-latn-mx",zts:"zts-latn-mx",ztt:"ztt-latn-mx",ztu:"ztu-latn-mx",ztx:"ztx-latn-mx",zty:"zty-latn-mx",zu:"zu-latn-za",zua:"zua-latn-ng",zuh:"zuh-latn-pg",zum:"zum-arab-om",zun:"zun-latn-us",zuy:"zuy-latn-cm",zyg:"zyg-hani-cn",zyj:"zyj-latn-cn","zyj-hani":"zyj-hani-cn",zyn:"zyn-hani-cn",zyp:"zyp-latn-mm",zza:"zza-latn-tr",zzj:"zzj-hani-cn"},nl={}.hasOwnProperty;function _a(S){const{language:b,script:_,region:R}=S;let I;var w,z;return _&&R&&(I=zi[wi({language:b,script:_,region:R})])?(S.script=void 0,S.region=void 0):_&&(I=zi[wi({language:b,script:_})])?S.script=void 0:R&&(I=zi[wi({language:b,region:R})])?S.region=void 0:b&&(I=zi[b]),I&&(S.language=void 0,w=S,z=Ua(I),w.language||(w.language=z.language),w.script||(w.script=z.script),w.region||(w.region=z.region),z.variants&&w.variants.push(...z.variants)),wi(S)}function Xl(S,b){const _={},R=Ua(String(S||"").toLowerCase(),_),I=wi(R);if(!I)return I;let w=-1;for(;++w<tl.length;){let z=tl[w].from;z.slice(0,4)==="und-"&&R.language&&(z=R.language+z.slice(3)),Ms(I,z).length>0&&ec(R,z,tl[w].to)}for(w=-1;++w<Ja.length;)Ps(R,Ja[w].from.field,Ja[w].from.value)&&tc(R,Ja[w].to.field,Ja[w].to.value);if(function(z){_a(z);const{language:O,script:M,region:q}=z;if(!O)return z;const G=wi({language:O,script:M,region:q});G===_a(Ua(O))?(z.script=void 0,z.region=void 0):q&&G===_a(Ua(O+"-"+q))?z.script=void 0:M&&G===_a(Ua(O+"-"+M))&&(z.region=void 0)}(R),R.variants.sort(),R.extensions.sort(Yd),_.warning){let z;for(z in Kd)if(nl.call(Kd,z)){const O=Kd[z],M=R[z];if(M&&nl.call(O,M)){const q=O[M];_.warning("Deprecated "+z+" `"+M+"`, expected one of `"+q.join("`, `")+"`",-1,7)}}}return R.script&&(R.script=R.script.charAt(0).toUpperCase()+R.script.slice(1)),R.region&&(R.region=R.region.toUpperCase()),wi(R)}function ec(S,b,_){const R=Ua(b),I=Ua(_),w=[],z=R.language;let O;for(O in R)if(nl.call(R,O)){const M=R[O];M&&Ps(S,O,M)&&w.push(O)}for(O in I)if(nl.call(I,O)){const M=I[O];z&&M&&(w.includes(O)||!S[O])&&tc(S,O,O==="language"&&M==="und"?z:M)}}function Ps(S,b,_){let R,I=!1;if(_){const w=S[b];if(R=w,Array.isArray(w)){R=[];let z=-1;for(;++z<w.length;){const O=w[z];_.includes(O)?I=!0:R.push(O)}}else w===_&&(R=null,I=!0);S[b]=R}return I}function tc(S,b,_){const R=S[b];if(Array.isArray(R)){const I=Array.isArray(_)?_:[_];let w=-1;for(;++w<I.length;){const z=I[w];R.includes(z)||R.push(z)}}else S[b]=_}function Yd(S,b){return S.singleton>b.singleton?1:S.singleton<b.singleton?-1:0}function Hi(S,b=!1){if(typeof TextDecoder<"u"){const M=new TextDecoder("utf-8").decode(S);if(b){const q=M.indexOf("\0");return q!==-1?M.substring(0,q):M}return M.replace(/\0/g,"")}const _=S.length;let R,I,w,z="",O=0;for(;O<_;){if(R=S[O++],R===0&&b)return z;if(R!==0&&R!==3)switch(R>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:z+=String.fromCharCode(R);break;case 12:case 13:I=S[O++],z+=String.fromCharCode((31&R)<<6|63&I);break;case 14:I=S[O++],w=S[O++],z+=String.fromCharCode((15&R)<<12|(63&I)<<6|63&w)}}return z}function zs(S,b=0,_=1/0){return function(R,I,w,z){const O=(M=R)instanceof ArrayBuffer?M:M.buffer;var M;let q=1;"BYTES_PER_ELEMENT"in z&&(q=z.BYTES_PER_ELEMENT);const G=(H=R)&&H.buffer instanceof ArrayBuffer&&H.byteLength!==void 0&&H.byteOffset!==void 0?R.byteOffset:0,C=(G+R.byteLength)/q,P=(G+I)/q,U=Math.floor(Math.max(0,Math.min(P,C)));var H;return new z(O,U,Math.floor(Math.min(U+Math.max(w,0),C))-U)}(S,b,_,Uint8Array)}function nc(S){return S.type==="PRIV"?function(b){if(b.size<2)return;const _=Hi(b.data,!0),R=new Uint8Array(b.data.subarray(_.length+1));return{key:b.type,info:_,data:R.buffer}}(S):S.type[0]==="W"?function(b){if(b.type==="WXXX"){if(b.size<2)return;let R=1;const I=Hi(b.data.subarray(R),!0);R+=I.length+1;const w=Hi(b.data.subarray(R));return{key:b.type,info:I,data:w}}const _=Hi(b.data);return{key:b.type,info:"",data:_}}(S):S.type==="APIC"?function(b){const _={key:b.type,description:"",data:"",mimeType:null,pictureType:null};if(b.size<2)return;if(b.data[0]!==3)return void console.log("Ignore frame with unrecognized character encoding");const R=b.data.subarray(1).indexOf(0);if(R===-1)return;const I=Hi(zs(b.data,1,R)),w=b.data[2+R],z=b.data.subarray(3+R).indexOf(0);if(z===-1)return;const O=Hi(zs(b.data,3+R,z));let M;return M=I==="-->"?Hi(zs(b.data,4+R+z)):(q=b.data.subarray(4+R+z))instanceof ArrayBuffer?q:q.byteOffset==0&&q.byteLength==q.buffer.byteLength?q.buffer:new Uint8Array(q).buffer,_.mimeType=I,_.pictureType=w,_.description=O,_.data=M,_;var q}(S):function(b){if(b.size<2)return;if(b.type==="TXXX"){let R=1;const I=Hi(b.data.subarray(R),!0);R+=I.length+1;const w=Hi(b.data.subarray(R));return{key:b.type,info:I,data:w}}const _=Hi(b.data.subarray(1));return{key:b.type,info:"",data:_}}(S)}function Ql(S,b){let _=0;return _=(127&S[b])<<21,_|=(127&S[b+1])<<14,_|=(127&S[b+2])<<7,_|=127&S[b+3],_}function Aa(S){const b=String.fromCharCode(S[0],S[1],S[2],S[3]),_=Ql(S,4);return{type:b,size:_,data:S.subarray(10,10+_)}}function Ra(S,b){return b+10<=S.length&&S[b]===51&&S[b+1]===68&&S[b+2]===73&&S[b+3]<255&&S[b+4]<255&&S[b+6]<128&&S[b+7]<128&&S[b+8]<128&&S[b+9]<128}function vo(S,b){return b+10<=S.length&&S[b]===73&&S[b+1]===68&&S[b+2]===51&&S[b+3]<255&&S[b+4]<255&&S[b+6]<128&&S[b+7]<128&&S[b+8]<128&&S[b+9]<128}function es(){let S,b,_,R,I,w,z;const O=this.context;function M(Y,D){const te=D?D.index:0,ye=b.getAdaptationsForType(I[te].mpd.manifest,te,Y);if(!ye||ye.length===0)return null;if(ye.length>1&&D){for(let we=0,Ce=ye.length;we<Ce;we++)if(le=ye[we],b.getRolesForAdaptation(le).filter(function(Me){return Me.schemeIdUri===p.default.DASH_ROLE_SCHEME_ID&&Me.value===De.default.MAIN})[0])return ye[we]}var le;return ye[0]}function q(Y,D,te,ye,le,we){let Ce,Me,Ke,Oe,W,oe,ve=[];if(!ye||ye.length===0)return[];const de=b.getAdaptationsForPeriod(D);for(Oe=0,oe=ye.length;Oe<oe;Oe++)if(Ce=ye[Oe],Ke=b.getIndexForAdaptation(Ce,Y,te.index),Me=re(de[Ke]),we){let V=Me.accessibility.length;for(W=0;W<V;W++){if(!Me)continue;let ce=Me.accessibility[W];if(ce.schemeIdUri===w.ACCESSIBILITY_CEA608_SCHEME)if(ce.value&&ce.value!==""){let se=ce.value.split(";");if(se[0].substring(0,2)==="CC")for(W=0;W<se.length;W++)Me||(Me=re.call(this,de[Ke])),fe(Me,se[W].substring(0,3),se[W].substring(4)),ve.push(Me),Me=null;else for(W=0;W<se.length;W++)Me||(Me=re.call(this,de[Ke])),fe(Me,"CC"+(W+1),se[W]),ve.push(Me),Me=null}else fe(Me,w.CC1,"eng"),ve.push(Me),Me=null}}else le===w.IMAGE?(Me.type=w.IMAGE,ve.push(Me),Me=null):Me&&ve.push(Me);if(R.get().streaming.includePreselectionsInMediainfoArray){const V=b.getPreselectionsForPeriod(D);for(Oe=0,oe=V.length;Oe<oe;Oe++){const ce=V[Oe];ce.hasOwnProperty("type")&&ce.type===le&&(Me=ae(V[Oe]),Me&&ve.push(Me))}}return ve}function G(Y){const D=C(Y);return b.getRegularPeriods(D)}function C(Y){const D=U(Y);return b.getMpd(D)}function P(){I=[]}function U(Y){return Y||(I.length>0?I[0].mpd.manifest:null)}function H(Y){try{const D=J(Y.streamInfo,I),te=b.getAdaptationsForPeriod(D);return Y&&Y.streamInfo&&Y.streamInfo.id!==void 0&&te?te[Y.index]:null}catch{return null}}function J(Y,D){const te=D.length;for(let ye=0;ye<te;ye++){let le=D[ye];if(Y&&Y.id===le.id)return le}return null}function re(Y){if(!Y)return null;let D=new Wl;const te=Y.period.mpd.manifest.Period[Y.period.index].AdaptationSet[Y.index];D.id=Y.id,D.index=Y.index,D.codec=b.getCodec(te);const ye=R.get().streaming.enhancement.codecs;return D.type=ye.some(le=>{var we;return(we=D.codec)==null?void 0:we.includes(le)})?p.default.ENHANCEMENT:Y.type,D.streamInfo=he(Y.period),D.representationCount=b.getRepresentationCount(te),D.labels=b.getLabelsForAdaptation(te),D.lang=b.getLanguageForAdaptation(te),D.segmentAlignment=b.getSegmentAlignment(te),D.subSegmentAlignment=b.getSubSegmentAlignment(te),D.viewpoint=b.getViewpointForAdaptation(te),D.accessibility=b.getAccessibilityForAdaptation(te),D.accessibility.filter(function(le){if(le.schemeIdUri&&le.schemeIdUri.search("cea-608")>=0&&z!==void 0)return!0})[0]&&(D.embeddedCaptions=!0),D.audioChannelConfiguration=b.getAudioChannelConfigurationForAdaptation(te),D.audioChannelConfiguration.length===0&&te.Representation&&te.Representation.length>0&&(D.audioChannelConfiguration=b.getAudioChannelConfigurationForRepresentation(te.Representation[0])),D.roles=b.getRolesForAdaptation(te),D.mimeType=b.getMimeType(te),D.contentProtection=b.getContentProtectionByAdaptation(te),D.bitrateList=b.getBitrateListForAdaptation(te),D.selectionPriority=b.getSelectionPriority(te),D.contentProtection&&D.contentProtection.length>0&&(D.contentProtection=function(le,we){if(!le||!le.length||!we)return le;const Ce=b.getContentProtectionByManifest(we);if(!Ce||!Ce.length)return le;const Me=Ce.reduce((Ke,Oe)=>(Oe.refId&&Ke.set(Oe.refId,Oe),Ke),new Map);return le.map(Ke=>{if(Ke.ref){const Oe=Me.get(Ke.ref);Oe&&Ke.mergeAttributesFromReference(Oe)}return Ke})}(D.contentProtection,Y.period.mpd.manifest),D.contentProtection=function(le){const we=le.map(Ce=>Ce.cencDefaultKid).filter(Ce=>Ce!==null);if(we.length){const Ce=we[0];le.forEach(Me=>{Me.keyId=Ce})}return le}(D.contentProtection),D.normalizedKeyIds=function(le){const we=new Set;return le.forEach(Ce=>{Ce.cencDefaultKid&&typeof Ce.cencDefaultKid=="string"&&we.add(Ce.cencDefaultKid.replace(/-/g,"").toLowerCase())}),we}(D.contentProtection)),D.isText=b.getIsText(te),D.essentialProperties=b.getCombinedEssentialPropertiesForAdaptationSet(te),D.supplementalProperties=b.getCombinedSupplementalPropertiesForAdaptationSet(te),D.isFragmented=b.getIsFragmented(te),D.isEmbedded=!1,D.adaptationSetSwitchingCompatibleIds=function(le){if(!le||!le.supplementalProperties)return[];let we=[];const Ce=le.supplementalProperties.filter(Me=>Me.schemeIdUri===De.default.ADAPTATION_SET_SWITCHING_SCHEME_ID_URI);return Ce&&Ce.length>0&&(we=Ce[0].value.toString().split(",").map(Me=>Me)),we}(D),D.segmentSequenceProperties=b.getSegmentSequencePropertiesForAdaptationSet(te),D}function ae(Y){if(!Y)return null;let D=new Wl;const te=Y.period.mpd.manifest.Period[Y.period.index].Preselection[Y.index],ye=Y.period.mpd.manifest.Period[Y.period.index].AdaptationSet,le=b.getAdaptationsForPeriod(Y.period);return D=re(b.getMainAdaptationSetForPreselection(te,le)),D&&(D.isPreselection=!0,D.tag=Y.tag,D.id=Y.id,D.codec=b.getCodecForPreselection(te,ye),D.selectionPriority=b.getSelectionPriority(te),D.labels=b.getLabelsForAdaptation(te),D.lang=b.getLanguageForAdaptation(te),D.viewpoint=b.getViewpointForAdaptation(te),D.accessibility=b.getAccessibilityForAdaptation(te),D.audioChannelConfiguration=b.getAudioChannelConfigurationForAdaptation(te),D.roles=b.getRolesForAdaptation(te),D.essentialProperties=b.getCombinedEssentialPropertiesForAdaptationSet(te),D.supplementalProperties=b.getCombinedSupplementalPropertiesForAdaptationSet(te)),D}function fe(Y,D,te){Y.id=D,Y.index=100+parseInt(D.substring(2,3)),Y.type=w.TEXT,Y.codec="cea-608-in-SEI",Y.isEmbedded=!0,Y.isFragmented=!1,Y.lang=Xl(te),Y.roles=[{schemeIdUri:"urn:mpeg:dash:role:2011",value:"caption"}]}function he(Y){let D=new cg;return D.id=Y.id,D.index=Y.index,D.start=Y.start,D.duration=Y.duration,D.manifestInfo=function(te){let ye=new ry;return ye.dvrWindowSize=te.timeShiftBufferDepth,ye.loadedTime=te.manifest.loadedTime,ye.availableFrom=te.availabilityStartTime,ye.minBufferTime=te.manifest.minBufferTime,ye.maxFragmentDuration=te.maxSegmentDuration,ye.duration=b.getDuration(te.manifest),ye.isDynamic=b.getIsDynamic(te.manifest),ye.serviceDescriptions=b.getServiceDescriptions(te.manifest),ye.protocol=te.manifest.protocol,ye}(Y.mpd),D.isLast=Y.mpd.manifest.Period.length===1||Math.abs(D.start+D.duration-D.manifestInfo.duration)<1,D.isEncrypted=Y.isEncrypted,D}function ge(){if(!w)throw new Error("setConfig function has to be called previously")}function Se(Y){return I.length>0?I[0].mpd.manifest.Period[Y]:null}function ee(Y,D,te){let ye,le,we,Ce,Me,Ke;if(Y){for(le=Y.AdaptationSet,Me=0;Me<le.length;Me+=1)for(ye=le[Me],Ce=ye.Representation,Ke=0;Ke<Ce.length;Ke+=1)if(we=Ce[Ke],D===we.id)return te?Ke:we}return null}return S={applyPatchToManifest:function(Y,D){_.getPatchOperations(D).forEach(te=>{let ye=te.getMpdTarget(Y);if(ye===null)return;let{name:le,target:we,leaf:Ce}=ye;if(te.xpath.findsAttribute()||le==="__text"){switch(te.action){case"add":case"replace":we[le]=te.value;break;case"remove":delete we[le]}return}let Me=(we[le]||[]).indexOf(Ce),Ke=te.position==="prepend"||te.position==="before";if(te.action==="remove"||te.action==="replace")if(Array.isArray(we[le])){if(Me!=-1){let Oe=we[le];Oe.splice(Me,1),Oe.length>0?we[le]=Oe:delete we[le]}}else delete we[le];te.action!=="add"&&te.action!=="replace"||Object.keys(te.value).forEach(Oe=>{let W=te.value[Oe],oe=we[Oe]||[];if(oe.length===0&&we[Oe]&&oe.push(we[Oe]),oe.length===0)oe=W;else{let ve=oe.length;ve=Oe==le&&Me!=-1?Me+(Ke?0:1)+(te.action==="replace"?-1:0):Ke?0:oe.length,oe.splice.apply(oe,[ve,0].concat(W))}we[Oe]=oe})})},areMediaInfosEqual:function(Y,D){if(!Y||!D)return!1;const te=Y.id===D.id,ye=Y.codec===D.codec,le=JSON.stringify(Y.viewpoint)===JSON.stringify(D.viewpoint),we=Y.lang===D.lang,Ce=JSON.stringify(Y.roles)===JSON.stringify(D.roles),Me=JSON.stringify(Y.accessibility)===JSON.stringify(D.accessibility),Ke=JSON.stringify(Y.audioChannelConfiguration)===JSON.stringify(D.audioChannelConfiguration);return te&&ye&&le&&we&&Ce&&Me&&Ke},getAllMediaInfoForType:function(Y,D,te){let ye=I,le=te,we=[];if(le)ge(),ye=G(le);else{if(!(I.length>0))return we;le=I[0].mpd.manifest}const Ce=J(Y,ye);let Me=b.getAdaptationsForType(le,Y?Y.index:null,D);return we=q(le,Ce,Y,Me,D),D===w.TEXT&&(Me=b.getAdaptationsForType(le,Y?Y.index:null,w.VIDEO),we=we.concat(q(le,Ce,Y,Me,D,!0))),we},getAvailabilityStartTime:function(Y){const D=C(Y);return b.getAvailabilityStartTime(D)},getBandwidthForRepresentation:function(Y,D){let te;return te=ee(Se(D),Y),te?te.bandwidth:null},getBaseURLsFromElement:function(Y){return b.getBaseURLsFromElement(Y)},getCodec:function(Y,D,te){return b.getCodec(Y,D,te)},getCodecForPreselection:function(Y,D){return b.getCodecForPreselection(Y,D)},getContentSteering:function(Y){return b.getContentSteering(Y)},getDuration:function(Y){const D=U(Y);return b.getDuration(D)},getEssentialProperties:function(Y){try{return b.getEssentialProperties(Y)}catch{return[]}},getEvent:function(Y,D,te,ye){try{if(!Y||!D||isNaN(te)||!ye)return null;const le=Y.scheme_id_uri,we=Y.value;if(!D[le+"/"+we])return null;const Ce=new si,Me=Y.timescale||1,Ke=ye.adaptation.period.start,Oe=D[le+"/"+we],W=isNaN(ye.presentationTimeOffset)?isNaN(Oe.presentationTimeOffset)?0:Oe.presentationTimeOffset:ye.presentationTimeOffset;let oe,ve=Y.presentation_time_delta/Me;oe=Y.version===0?Ke+te-W+ve:Ke-W+ve;const de=Y.event_duration/Me,V=Y.id,ce=Y.message_data;return Ce.eventStream=Oe,Ce.eventStream.value=we,Ce.eventStream.timescale=Me,Ce.duration=de,Ce.id=V,Ce.calculatedPresentationTime=oe,Ce.messageData=ce,Ce.presentationTimeDelta=ve,Ce.parsedMessageData=le===p.default.ID3_SCHEME_ID_URI?function(se){let Ae=0;const Re=[];for(;vo(se,Ae);){const Le=Ql(se,Ae+6);se[Ae+5]>>6&1&&(Ae+=10),Ae+=10;const je=Ae+Le;for(;Ae+10<je;){const Ue=Aa(se.subarray(Ae)),at=nc(Ue);at&&Re.push(at),Ae+=Ue.size+10}Ra(se,Ae)&&(Ae+=10)}return Re}(ce):null,Ce}catch{return null}},getEventsFor:function(Y,D,te){let ye=[];if(I.length>0){const le=I[0].mpd.manifest;if(Y instanceof cg){const we=J(Y,I);ye=b.getEventsForPeriod(we)}else if(Y instanceof Wl){const we=J(te,I);ye=b.getEventStreamForAdaptationSet(le,H(Y),we)}else if(Y instanceof xn){const we=J(te,I);ye=b.getEventStreamForRepresentation(le,D,we)}}return ye},getFramerate:function(Y){return b.getFramerate(Y)},getIndexForRepresentation:function(Y,D){return function(te,ye){const le=ee(te,ye,!0);return le!==null?le:-1}(Se(D),Y)},getIsDVB:function(Y){return b.hasProfile(Y,"urn:dvb:dash:profile:dvb-dash:2014")},getIsDynamic:function(Y){const D=U(Y);return b.getIsDynamic(D)},getIsPatch:function(Y){return _.getIsPatch(Y)},getIsTextTrack:function(Y){return b.getIsText(Y)},getIsTypeOf:function(Y,D){return b.getIsTypeOf(Y,D)},getLocation:function(Y){return b.getLocation(Y)},getMainAdaptationForType:M,getMainAdaptationSetForPreselection:function(Y,D){return b.getMainAdaptationSetForPreselection(Y,D)},getCommonRepresentationForPreselection:function(Y,D){return b.getCommonRepresentationForPreselection(Y,D)},getManifestUpdatePeriod:function(Y,D=0){return b.getManifestUpdatePeriod(Y,D)},getMediaInfoForType:function(Y,D){if(I.length===0||!Y)return null;let te=J(Y,I);if(!te)return null;const ye=b.getAdaptationsForPeriod(te);let le=M(D,Y);return le?re(ye[b.getIndexForAdaptation(le,I[0].mpd.manifest,Y.index)]):null},getMpd:C,getPatchLocation:function(Y){const D=b.getPatchLocation(Y),te=b.getPublishTime(Y);return D&&D.length!==0&&te?D.filter(ye=>isNaN(ye.ttl)||te.getTime()+ye.ttl>new Date().getTime()):[]},getPeriodById:function(Y){if(!Y||I.length===0)return null;const D=I.filter(te=>te.id===Y);return D&&D.length>0?D[0]:null},getPreselectionIsTypeOf:function(Y,D,te){return b.getPreselectionIsTypeOf(Y,D,te)},getProducerReferenceTimes:function(Y,D){let te,ye;const le=J(Y,I);return te=D?D.id:null,I.length>0&&le&&(ye=te?b.getAdaptationForId(te,I[0].mpd.manifest,le.index):b.getAdaptationForIndex(D?D.index:null,I[0].mpd.manifest,le.index)),ye?b.getProducerReferenceTimesForAdaptation(ye):[]},getPublishTime:function(Y){return b.getPublishTime(Y)},getRealAdaptation:function(Y,D){let te,ye;const le=J(Y,I);return te=D?D.id:null,I.length>0&&le&&(ye=te?b.getAdaptationForId(te,I[0].mpd.manifest,le.index):b.getAdaptationForIndex(D?D.index:null,I[0].mpd.manifest,le.index)),ye},getRealPeriodByIndex:function(Y){return b.getRealPeriodForIndex(Y,I[0].mpd.manifest)},getRegularPeriods:G,getRepresentationSortFunction:function(){return b.getRepresentationSortFunction()},getStreamsInfo:function(Y,D){const te=[];let ye=I;if(Y&&(ge(),ye=G(Y)),ye.length>0){(!D||D>ye.length)&&(D=ye.length);for(let le=0;le<D;le++)te.push(he(ye[le]))}return te},getSuggestedPresentationDelay:function(){const Y=I.length>0?I[0].mpd:null;return b.getSuggestedPresentationDelay(Y)},getSupplementalCodecs:function(Y){const D=Y[De.default.SUPPLEMENTAL_CODECS];return D?D.split(" ").map(te=>Y.mimeType+';codecs="'+te+'"'):[]},getUTCTimingSources:function(){const Y=U();return b.getUTCTimingSources(Y)},getVoRepresentations:function(Y){let D;const te=H(Y);return D=b.getRepresentationsForAdaptation(te,Y),D},isPatchValid:function(Y,D){let te=b.getId(Y),ye=_.getMpdId(D),le=b.getPublishTime(Y),we=_.getPublishTime(D),Ce=_.getOriginalPublishTime(D);return!!(te&&ye&&te==ye&&le&&Ce&&le.getTime()==Ce.getTime()&&we&&le.getTime()<we.getTime())},reset:P,setConfig:function(Y){Y&&(Y.constants&&(w=Y.constants),Y.cea608parser&&(z=Y.cea608parser),Y.errHandler&&b.setConfig({errHandler:Y.errHandler}),Y.BASE64&&b.setConfig({BASE64:Y.BASE64}))},updatePeriods:function(Y){if(!Y)return null;ge(),I=G(Y)}},b=pr(O).getInstance(),_=$d(O).getInstance(),R=(0,d.default)(O).getInstance(),P(),S}es.__dashjs_factory_name="DashAdapter";var bs=n.default.getSingletonFactory(es);class To{static round10(b,_){return function(R,I,w){return w===void 0||+w==0?Math[R](I):(w=+w,(I=+I)===null||isNaN(I)||typeof w!="number"||w%1!=0?NaN:(I=I.toString().split("e"),+((I=(I=Math[R](+(I[0]+"e"+(I[1]?+I[1]-w:-w)))).toString().split("e"))[0]+"e"+(I[1]?+I[1]+w:w))))}("round",b,_)}}var fg=class{constructor(){this.TcpList=[],this.HttpList=[],this.RepSwitchList=[],this.BufferLevel=[],this.BufferState=[],this.PlayList=[],this.DroppedFrames=[],this.SchedulingInfo=[],this.DVRInfo=[],this.ManifestUpdate=[],this.RequestsQueue=null,this.DVBErrors=[]}},Wd=class{constructor(){this.t=null,this.mt=null,this.to=null,this.lto=null}},Xd=class{constructor(){this.t=null,this.level=null}},Vi=class{constructor(){this.target=null,this.state=o.BUFFER_EMPTY}},ri=class{constructor(){this.time=null,this.range=null,this.manifestInfo=null}},Ir=class{constructor(){this.time=null,this.droppedFrames=null}};class So{constructor(){this.mediaType=null,this.type=null,this.requestTime=null,this.fetchTime=null,this.availabilityStartTime=null,this.presentationStartTime=0,this.clientTimeOffset=0,this.currentTime=null,this.buffered=null,this.latency=0,this.streamInfo=[],this.representationInfo=[]}}class ts{constructor(){this.id=null,this.index=null,this.start=null,this.duration=null}}class Qd{constructor(){this.id=null,this.index=null,this.mediaType=null,this.presentationTimeOffset=null,this.startNumber=null}}var _o=class{constructor(){this.mediaType=null,this.t=null,this.type=null,this.startTime=null,this.availabilityStartTime=null,this.duration=null,this.bandwidth=null,this.range=null,this.state=null}},hg=class{constructor(){this.loadingRequests=[],this.executedRequests=[]}};function Zd(S){const b=(S=S||{}).settings;let _,R,I=this.context,w=(0,y.default)(I).getInstance();function z(){w.trigger(m.default.METRICS_CHANGED)}function O(U){w.trigger(m.default.METRIC_CHANGED,{mediaType:U}),z()}function M(U,H,J){w.trigger(m.default.METRIC_UPDATED,{mediaType:U,metric:H,value:J}),O(U)}function q(U,H,J){w.trigger(m.default.METRIC_ADDED,{mediaType:U,metric:H,value:J}),O(U)}function G(U,H){let J=null;return U&&(R.hasOwnProperty(U)?J=R[U]:H||(J=new fg,R[U]=J)),J}function C(U,H,J){let re=G(U);re!==null&&(re[H].push(J),re[H].length>b.get().streaming.metrics.maxListDepth&&re[H].shift())}function P(U,H,J){C(U,H,J),q(U,H,J)}return _={addBufferLevel:function(U,H,J){let re=new Xd;re.t=H,re.level=J,P(U,o.BUFFER_LEVEL,re)},addBufferState:function(U,H,J){let re=new Vi;re.target=J,re.state=H,P(U,o.BUFFER_STATE,re)},addDVBErrors:function(U){P(p.default.STREAM,o.DVB_ERRORS,U)},addDVRInfo:function(U,H,J,re){let ae=new ri;ae.time=H,ae.range=re,ae.manifestInfo=J,P(U,o.DVR_INFO,ae)},addDroppedFrames:function(U,H){let J=new Ir,re=G(U).DroppedFrames;H&&(J.time=H.creationTime,J.droppedFrames=H.droppedVideoFrames,re.length>0&&re[re.length-1]==J||P(U,o.DROPPED_FRAMES,J))},addHttpRequest:function U(H,J,re,ae){let fe=new Te.HTTPRequest;J.url&&J.url!==H.url&&(U({mediaType:H.mediaType,type:H.type,url:H.url,serviceLocation:null,range:H.range,startDate:H.startDate,firstByteDate:null,endDate:null,duration:H.duration,fileLoaderType:H.fileLoaderType,resourceTimingValues:H.resourceTimingValues},{url:null,status:null,headers:null},null,ae),fe.actualurl=J.url),fe.tcpid=null,fe.type=H.type,fe.url=H.url,fe.range=H.range||null,fe.trequest=H.startDate,fe.tresponse=H.firstByteDate,fe.responsecode=J.status,fe.cmsd=ae,fe._tfinish=H.endDate,fe._stream=H.mediaType,fe._mediaduration=H.duration,fe._responseHeaders="";for(const he in J.headers)fe._responseHeaders+=he+": "+J.headers[he]+`\r
`;fe._serviceLocation=H.serviceLocation||null,fe._fileLoaderType=H.fileLoaderType,fe._resourceTimingValues=H.resourceTimingValues,fe._streamId=H&&H.representation&&H.representation.mediaInfo&&H.representation.mediaInfo.streamInfo?H.representation.mediaInfo.streamInfo.id:null,re?re.forEach(he=>{(function(ge,Se,ee,Y){let D=new Te.HTTPRequestTrace;D.s=Se,D.d=ee,D.b=Y,ge.trace.push(D),ge.interval||(ge.interval=0),ge.interval+=ee})(fe,he.s,he.d,he.b,he.t)}):(delete fe.interval,delete fe.trace),P(H.mediaType,o.HTTP_REQUEST,fe)},addManifestUpdate:function(U,H,J,re){let ae=new So;ae.mediaType=U,ae.type=H,ae.requestTime=J,ae.fetchTime=re,C(p.default.STREAM,o.MANIFEST_UPDATE,ae),q(U,o.MANIFEST_UPDATE,ae)},addManifestUpdateRepresentationInfo:function(U,H,J){if(U&&U.representationInfo){const re=new Qd;re.id=H?H.id:null,re.index=H?H.index:null,re.mediaType=J,re.startNumber=H?H.startNumber:null,re.presentationTimeOffset=H?H.presentationTimeOffset:null,U.representationInfo.push(re),M(U.mediaType,o.MANIFEST_UPDATE_TRACK_INFO,U)}},addManifestUpdateStreamInfo:function(U,H,J,re,ae){if(U){let fe=new ts;fe.id=H,fe.index=J,fe.start=re,fe.duration=ae,U.streamInfo.push(fe),M(U.mediaType,o.MANIFEST_UPDATE_STREAM_INFO,U)}},addPlayList:function(U){U.trace&&Array.isArray(U.trace)?U.trace.forEach(H=>{H.hasOwnProperty("subreplevel")&&!H.subreplevel&&delete H.subreplevel}):delete U.trace,P(p.default.STREAM,o.PLAY_LIST,U)},addRepresentationSwitch:function(U,H,J,re,ae){let fe=new Wd;fe.t=H,fe.mt=J,fe.to=re,ae?fe.lto=ae:delete fe.lto,P(U,o.TRACK_SWITCH,fe)},addRequestsQueue:function(U,H,J){let re=new hg;re.loadingRequests=H,re.executedRequests=J,G(U).RequestsQueue=re,q(U,o.REQUESTS_QUEUE,re)},addSchedulingInfo:function(U,H,J,re,ae,fe,he,ge,Se){let ee=new _o;ee.mediaType=U,ee.t=H,ee.type=J,ee.startTime=re,ee.availabilityStartTime=ae,ee.duration=fe,ee.bandwidth=he,ee.range=ge,ee.state=Se,P(U,o.SCHEDULING_INFO,ee)},clearAllCurrentMetrics:function(){R={},z()},clearCurrentMetricsForType:function(U){delete R[U],O(U)},getMetricsFor:G,updateManifestUpdateInfo:function(U,H){if(U){for(let J in H)U[J]=H[J];M(U.mediaType,o.MANIFEST_UPDATE,U)}}},R={},_}Zd.__dashjs_factory_name="MetricsModel";var Zl=n.default.getSingletonFactory(Zd);class xa{constructor(){this.start=null,this.mstart=null,this.starttype=null,this.trace=[]}}xa.INITIAL_PLAYOUT_START_REASON="initial_playout",xa.SEEK_START_REASON="seek",xa.RESUME_FROM_PAUSE_START_REASON="resume",xa.METRICS_COLLECTION_START_REASON="metrics_collection_start";class Ci{constructor(){this.representationid=null,this.subreplevel=null,this.start=null,this.mstart=null,this.duration=null,this.playbackspeed=null,this.stopreason=null}}function rl(S){S=S||{};const b=this.context;let _,R,I,w,z=S.metricsModel;function O(G){const C=z.getMetricsFor(G,!0);if(!C)return null;const P=C.HttpList;let U,H=null;if(!P||P.length<=0)return null;for(U=P.length-1;U>=0;){if(P[U].responsecode){H=P[U];break}U--}return H}function M(G){const C=z.getMetricsFor(G,!0);return C&&C.HttpList?C.HttpList:[]}function q(G,C){if(!G)return null;const P=G[C];return P&&P.length!==0?P[P.length-1]:null}return _={getCurrentRepresentationSwitch:function(G){return q(z.getMetricsFor(G,!0),o.TRACK_SWITCH)},getCurrentBufferState:function(G){return q(z.getMetricsFor(G,!0),o.BUFFER_STATE)},getCurrentBufferLevel:function(G){const C=q(z.getMetricsFor(G,!0),o.BUFFER_LEVEL);return C?To.round10(C.level/1e3,-3):0},getCurrentHttpRequest:O,getHttpRequests:M,getCurrentDroppedFrames:function(){return q(z.getMetricsFor(p.default.VIDEO,!0),o.DROPPED_FRAMES)},getCurrentSchedulingInfo:function(G){return q(z.getMetricsFor(G,!0),o.SCHEDULING_INFO)},getCurrentDVRInfo:function(G){return q(G?z.getMetricsFor(G,!0):z.getMetricsFor(p.default.VIDEO,!0)||z.getMetricsFor(p.default.AUDIO,!0),o.DVR_INFO)},getCurrentManifestUpdate:function(){return q(z.getMetricsFor(p.default.STREAM),o.MANIFEST_UPDATE)},getLatestFragmentRequestHeaderValueByID:function(G,C){if(!C)return null;let P={},U=O(G);U&&(P=gt.default.parseHttpHeaders(U._responseHeaders));const H=P[C.toLowerCase()];return H===void 0?null:H},getLatestMPDRequestHeaderValueByID:function(G){if(!G)return null;let C,P,U,H={};for(C=M(p.default.STREAM),U=C.length-1;U>=0;U--)if(P=C[U],P.type===Te.HTTPRequest.MPD_TYPE){H=gt.default.parseHttpHeaders(P._responseHeaders);break}const J=H[G.toLowerCase()];return J===void 0?null:J},addRepresentationSwitch:function(G,C,P,U,H){z.addRepresentationSwitch(G,C,P,U,H)},addDVRInfo:function(G,C,P,U){z.addDVRInfo(G,C,P,U)},updateManifestUpdateInfo:function(G){const C=this.getCurrentManifestUpdate();z.updateManifestUpdateInfo(C,G)},addManifestUpdateStreamInfo:function(G){if(G){const C=this.getCurrentManifestUpdate();z.addManifestUpdateStreamInfo(C,G.id,G.index,G.start,G.duration)}},addManifestUpdateRepresentationInfo:function(G,C){if(G){const P=this.getCurrentManifestUpdate();z.addManifestUpdateRepresentationInfo(P,G,C)}},addManifestUpdate:function(G){z.addManifestUpdate(p.default.STREAM,G.type,G.startDate,G.endDate)},addHttpRequest:function(G,C,P,U,H,J){const re={status:P,headers:U,url:C};z.addHttpRequest(G,re,H,J)},addSchedulingInfo:function(G,C){z.addSchedulingInfo(G.mediaType,new Date,G.type,G.startTime,G.availabilityStartTime,G.duration,G.bandwidth,G.range,C)},addRequestsQueue:function(G,C,P){z.addRequestsQueue(G,C,P)},addBufferLevel:function(G,C,P){z.addBufferLevel(G,C,P)},addBufferState:function(G,C,P){z.addBufferState(G,C,P)},addDroppedFrames:function(G){z.addDroppedFrames(p.default.VIDEO,G)},addPlayList:function(){w&&(z.addPlayList(w),w=null)},addDVBErrors:function(G){z.addDVBErrors(G)},createPlaylistMetrics:function(G,C){w=new xa,w.start=new Date,w.mstart=G,w.starttype=C},createPlaylistTraceMetrics:function(G,C,P){R===!0&&(R=!1,I=new Ci,I.representationid=G,I.start=new Date,I.mstart=C,I.playbackspeed=P!==null?P.toString():null)},updatePlayListTraceMetrics:function(G){if(I)for(let C in I)I[C]=G[C]},pushPlayListTraceMetrics:function(G,C){if(R===!1&&w&&I&&I.start){const P=I.start;I.duration=G.getTime()-P.getTime(),I.stopreason=C,w.trace.push(I),R=!0}},clearAllCurrentMetrics:function(){z.clearAllCurrentMetrics()}},z=z||Zl(b).getInstance({settings:S.settings}),R=!0,I=null,w=null,_}Ci.REPRESENTATION_SWITCH_STOP_REASON="representation_switch",Ci.REBUFFERING_REASON="rebuffering",Ci.USER_REQUEST_STOP_REASON="user_request",Ci.END_OF_PERIOD_STOP_REASON="end_of_period",Ci.END_OF_CONTENT_STOP_REASON="end_of_content",Ci.METRICS_COLLECTION_STOP_REASON="metrics_collection_end",Ci.FAILURE_STOP_REASON="failure",rl.__dashjs_factory_name="DashMetrics";var Jd=n.default.getSingletonFactory(rl);function Fs(){let S;const b=this.context,_=(0,y.default)(b).getInstance();return S={error:function(R){_.trigger(m.default.ERROR,{error:R})}},S}Fs.__dashjs_factory_name="ErrorHandler";var Es=n.default.getSingletonFactory(Fs),Us=t(5560);function ns(){const S=this.context,b=(0,y.default)(S).getInstance();let _,R,I,w,z,O,M,q,G,C,P,U;function H(){U.debug("Stopping the gap controller"),z&&(clearInterval(z),z=null),function(){b.off(m.default.WALLCLOCK_TIME_UPDATED,he,this),b.off(m.default.INITIAL_STREAM_SWITCH,fe,this),b.off(m.default.PLAYBACK_SEEKING,J,this),b.off(m.default.BUFFER_REPLACEMENT_STARTED,re,_),b.off(m.default.TRACK_CHANGE_RENDERED,ae,_)}(),z=null,O=NaN,w=0,C=null,P={}}function J(){C&&(clearTimeout(C),C=null)}function re(ee){try{if(ee.streamId!==q.getActiveStreamInfo().id||ee.mediaType!==p.default.VIDEO&&ee.mediaType!==p.default.AUDIO)return;ee.streamId===q.getActiveStreamInfo().id&&(P[ee.mediaType]=!0)}catch(Y){U.error(Y)}}function ae(ee){ee&&ee.mediaType&&(P[ee.mediaType]=!1)}function fe(){z||function(){try{z||(U.debug("Starting the gap controller"),z=setInterval(()=>{ge()&&Se(M.getTime())},100))}catch{}}()}function he(){if(ge(I.get().streaming.gaps.enableSeekFix)&&(w++,w>=10)){const ee=M.getTime();R===ee?Se(ee,!0):(R=ee,O=NaN),w=0}}function ge(ee=!1){if(!q.getActiveStream())return!1;const Y=Object.keys(P).some(te=>P[te]),D=!!ee&&function(){const te=q.getActiveStream(),ye=parseFloat((te.getStartTime()+te.getDuration()).toFixed(5));return M.getTime()+I.get().streaming.gaps.threshold>=ye}();return!Y&&I.get().streaming.gaps.jumpGaps&&q.getActiveStreamProcessors().length>0&&(!M.isSeeking()||D)&&!M.isPaused()&&!q.getIsStreamSwitchInProgress()&&!q.getHasMediaOrInitialisationError()}function Se(ee,Y=!1){const D=I.get().streaming.gaps.enableStallFix,te=I.get().streaming.gaps.stallSeek,ye=I.get().streaming.gaps.smallGapLimit,le=I.get().streaming.gaps.jumpLargeGaps,we=G.getBufferRange();let Ce,Me=NaN,Ke=!1;if(Ce=function(W,oe){try{if(!W||W.length<=1&&oe>0)return NaN;let ve=NaN,de=0;for(;isNaN(ve)&&de<W.length;){const V=de>0?W.end(de-1):0;oe<W.start(de)&&V-oe<I.get().streaming.gaps.threshold&&(ve=de),de+=1}return ve}catch{return null}}(we,ee),!isNaN(Ce)){const W=we.start(Ce),oe=W-ee;oe>0&&(oe<=ye||le)&&(Me=W)}const Oe=M.getTimeToStreamEnd();if(isNaN(Me)&&Y&&isFinite(Oe)&&!isNaN(Oe)&&Oe<ye&&(Me=parseFloat(M.getStreamEndTime().toFixed(5)),Ke=!0),D&&isNaN(Me)&&Y&&isNaN(Ce)&&function(W,oe){for(let ve=0,de=W.length;ve<de;ve++)if(oe>=W.start(ve)&&oe<=W.end(ve))return!0;return!1}(we,ee)&&(te===0?(U.warn("Toggle play pause to break stall"),G.pause(),G.play()):(U.warn(`Jumping ${te}s to break stall`),Me=ee+te)),Me>0&&O!==Me&&Me>ee&&!C){const W=Me-ee;if(Ke){const oe=q.getStreamForTime(Me),ve=oe&&!!oe.getPreloaded();U.warn(`Jumping to end of stream because of gap from ${ee} to ${Me}. Gap duration: ${W}`),M.seek(Me,!0,ve)}else{const oe=M.getIsDynamic(),ve=Ce>0?we.end(Ce-1):ee,de=oe?1e3*Math.max(0,W-.1):0;C=window.setTimeout(()=>{M.seek(Me,!0,!0);const V=q.getActiveStream();V&&U.warn(`Jumping gap occuring in period ${V.getStreamId()} starting at ${ve} and ending at ${Me}. Jumping by: ${Me-ve}`),C=null},de)}O=Me}}return _={reset:H,setConfig:function(ee){ee&&(ee.settings&&(I=ee.settings),ee.playbackController&&(M=ee.playbackController),ee.streamController&&(q=ee.streamController),ee.videoModel&&(G=ee.videoModel))},initialize:function(){(function(){b.on(m.default.WALLCLOCK_TIME_UPDATED,he,this),b.on(m.default.INITIAL_STREAM_SWITCH,fe,this),b.on(m.default.PLAYBACK_SEEKING,J,this),b.on(m.default.BUFFER_REPLACEMENT_STARTED,re,_),b.on(m.default.TRACK_CHANGE_RENDERED,ae,_)})()}},U=(0,u.default)(S).getInstance().getLogger(_),H(),_}ns.__dashjs_factory_name="GapController";var ef=n.default.getSingletonFactory(ns),rc=class extends pe{constructor(S,b){super(),this.url=S||null,this.type=b||null,this.mediaType=p.default.STREAM,this.responseType=""}};function il(S){S=S||{};const b=this.context,_=(0,y.default)(b).getInstance();let R,I=yo(b).create({errHandler:S.errHandler,dashMetrics:S.dashMetrics,mediaPlayerModel:S.mediaPlayerModel,errors:Tn});return R={load:function(w,z,O){const M=function(q,G){z.resolved=!0,z.resolvedContent=q||null,_.trigger(m.default.XLINK_ELEMENT_LOADED,{element:z,resolveObject:O,error:q||G?null:new ln.default(Tn.XLINK_LOADER_LOADING_FAILURE_ERROR_CODE,Tn.XLINK_LOADER_LOADING_FAILURE_ERROR_MESSAGE+w)})};if(w==="urn:mpeg:dash:resolve-to-zero:2013")M(null,!0);else{const q=new rc(w,Te.HTTPRequest.XLINK_EXPANSION_TYPE);I.load({request:q,success:function(G){M(G)},error:function(){M(null)}})}},reset:function(){I&&(I.abort(),I=null)}},R}il.__dashjs_factory_name="XlinkLoader";var ic=n.default.getClassFactory(il);const Ia="onLoad";function Di(S){S=S||{};let b=this.context,_=(0,y.default)(b).getInstance();const R=Rr(b).getInstance();let I,w,z,O;function M(U,H,J){let re,ae,fe={};fe.elements=U,fe.type=H,fe.resolveType=J,fe.elements.length===0&&G(fe);for(let he=0;he<fe.elements.length;he++)re=fe.elements[he],ae=R.isHTTPURL(re.url)?re.url:re.originalContent.BaseURL+re.url,O.load(ae,re,fe)}function q(U){let H,J,re="";if(H=U.element,J=U.resolveObject,H.resolvedContent){let ae=0;H.resolvedContent.indexOf("<?xml")===0&&(ae=H.resolvedContent.indexOf("?>")+2),re=H.resolvedContent.substr(0,ae)+"<response>"+H.resolvedContent.substr(ae)+"</response>",H.resolvedContent=w.parseXml(re).response}(function(ae){let fe,he;for(fe=0;fe<ae.elements.length;fe++)if(he=ae.elements[fe],he.resolved===!1)return!1;return!0})(J)&&G(J)}function G(U){let H,J,re=[];if(function(ae){let fe,he,ge,Se,ee,Y,D=[];for(Se=ae.elements.length-1;Se>=0;Se--){if(fe=ae.elements[Se],he=fe.type,fe.resolvedContent){if(fe.resolvedContent)for(ee=0;ee<fe.resolvedContent[he].length;ee++)ge=fe.resolvedContent[he][ee],D.push(ge)}else delete fe.originalContent["xlink:actuate"],delete fe.originalContent["xlink:href"],D.push(fe.originalContent);for(fe.parentElement[he].splice(fe.index,1),Y=0;Y<D.length;Y++)fe.parentElement[he].splice(fe.index+Y,0,D[Y]);D=[]}ae.elements.length>0&&w.getIron().run(z)}(U),U.resolveType==="onActuate"&&_.trigger(m.default.XLINK_READY,{manifest:z}),U.resolveType===Ia)switch(U.type){case De.default.PERIOD:for(H=0;H<z[De.default.PERIOD].length;H++)J=z[De.default.PERIOD][H],J.hasOwnProperty(De.default.ADAPTATION_SET)&&(re=re.concat(C(J[De.default.ADAPTATION_SET],J,De.default.ADAPTATION_SET,Ia))),J.hasOwnProperty(De.default.EVENT_STREAM)&&(re=re.concat(C(J[De.default.EVENT_STREAM],J,De.default.EVENT_STREAM,Ia)));M(re,De.default.ADAPTATION_SET,Ia);break;case De.default.ADAPTATION_SET:_.trigger(m.default.XLINK_READY,{manifest:z})}}function C(U,H,J,re){let ae,fe,he,ge=[];for(fe=U.length-1;fe>=0;fe--)ae=U[fe],ae.hasOwnProperty("xlink:href")&&ae["xlink:href"]==="urn:mpeg:dash:resolve-to-zero:2013"&&U.splice(fe,1);for(fe=0;fe<U.length;fe++)ae=U[fe],ae.hasOwnProperty("xlink:href")&&ae.hasOwnProperty("xlink:actuate")&&ae["xlink:actuate"]===re&&(he=P(ae["xlink:href"],H,J,fe,re,ae),ge.push(he));return ge}function P(U,H,J,re,ae,fe){return{url:U,parentElement:H,type:J,index:re,resolveType:ae,originalContent:fe,resolvedContent:null,resolved:!1}}return I={resolveManifestOnLoad:function(U){let H;z=U,z.Period?(H=C(z.Period,z,De.default.PERIOD,Ia),M(H,De.default.PERIOD,Ia)):_.trigger(m.default.XLINK_READY,{manifest:z})},setParser:function(U){U&&(w=U)},reset:function(){_.off(m.default.XLINK_ELEMENT_LOADED,q,I),O&&(O.reset(),O=null)}},_.on(m.default.XLINK_ELEMENT_LOADED,q,I),O=ic(b).create({errHandler:S.errHandler,dashMetrics:S.dashMetrics,mediaPlayerModel:S.mediaPlayerModel,settings:S.settings}),I}Di.__dashjs_factory_name="XlinkController";var ac=n.default.getClassFactory(Di);function tf(S){function b(I,w){for(let z in I)w.hasOwnProperty(z)||(w[z]=I[z])}function _(I,w,z){for(let O=0,M=I.length;O<M;++O){const q=I[O];if(w[q.name])if(z[q.name]){if(q.merge){const G=w[q.name],C=z[q.name];typeof G=="object"&&typeof C=="object"?b(G,C):z[q.name]=G+C}}else z[q.name]=w[q.name]}}function R(I,w){for(let z=0,O=I.children.length;z<O;++z){const M=I.children[z],q=w[M.name];if(q)for(let G=0,C=q.length;G<C;++G){const P=q[G];_(I.properties,w,P),R(M,P)}}}return{run:function(I){if(I===null||typeof I!="object")return I;if(I.Period&&"period"in S){const w=S.period,z=I.Period;for(let O=0,M=z.length;O<M;++O){const q=z[O];if(R(w,q),"adaptationset"in S){const G=q.AdaptationSet;if(G){const C=S.adaptationset;for(let P=0,U=G.length;P<U;++P)R(C,G[P])}}}}return I}}}tf.__dashjs_factory_name="ObjectIron";var ay=n.default.getClassFactory(tf),sc=class{constructor(S,b){this._test=S,this._converter=b}get test(){return this._test}get converter(){return this._converter}};const gg=/^([-])?P(([\d.]*)Y)?(([\d.]*)M)?(([\d.]*)D)?T?(([\d.]*)H)?(([\d.]*)M)?(([\d.]*)S)?/;var bi=class extends sc{constructor(){super((S,b,_)=>{const R=[De.default.MIN_BUFFER_TIME,De.default.MEDIA_PRESENTATION_DURATION,De.default.MINIMUM_UPDATE_PERIOD,De.default.TIMESHIFT_BUFFER_DEPTH,De.default.MAX_SEGMENT_DURATION,De.default.MAX_SUBSEGMENT_DURATION,De.default.SUGGESTED_PRESENTATION_DELAY,De.default.START,p.default.START_TIME,De.default.DURATION],I=R.length;for(let w=0;w<I;w++)if(b===R[w])return gg.test(_);return!1},S=>{const b=gg.exec(S);let _=31536e3*parseFloat(b[3]||0)+2592e3*parseFloat(b[5]||0)+86400*parseFloat(b[7]||0)+3600*parseFloat(b[9]||0)+60*parseFloat(b[11]||0)+parseFloat(b[13]||0);return b[1]!==void 0&&(_=-_),_})}};const oc=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+-])([0-9]{2})(?::?)([0-9]{2}))?/;var Jl=class extends sc{constructor(){super((S,b,_)=>oc.test(_),S=>{const b=oc.exec(S);let _;if(_=Date.UTC(parseInt(b[1],10),parseInt(b[2],10)-1,parseInt(b[3],10),parseInt(b[4],10),parseInt(b[5],10),b[6]&&parseInt(b[6],10)||0,b[7]&&1e3*parseFloat(b[7])||0),b[9]&&b[10]){const R=60*parseInt(b[9],10)+parseInt(b[10],10);_+=(b[8]==="+"?-1:1)*R*60*1e3}return new Date(_)})}};const eu=/^[-+]?[0-9]+[.]?[0-9]*([eE][-+]?[0-9]+)?$/,nf=[De.default.ID];var al=class extends sc{constructor(){super((S,b,_)=>eu.test(_)&&nf.indexOf(b)===-1,S=>parseFloat(S))}},sl=class extends sc{constructor(){super((S,b)=>{const _={[De.default.ADAPTATION_SET]:[De.default.LANG],[De.default.REPRESENTATION]:[De.default.LANG],[De.default.CONTENT_COMPONENT]:[De.default.LANG],[De.default.LABEL]:[De.default.LANG],[De.default.GROUP_LABEL]:[De.default.LANG]};if(_.hasOwnProperty(S)){let R=_[S];return R!==void 0&&R.indexOf(b)>=0}return!1},S=>Xl(S)||String(S))}},sy=class{constructor(S){var b;this._name=S,this._merge=(b=S)&&b.length&&b.charAt(0)===b.charAt(0).toUpperCase()}get name(){return this._name}get merge(){return this._merge}},Ao=class{constructor(S,b,_){this._name=S||"",this._properties=[],this._children=_||[],Array.isArray(b)&&b.forEach(R=>{this._properties.push(new sy(R))})}get name(){return this._name}get children(){return this._children}get properties(){return this._properties}},oy=class extends Ao{constructor(){const S=[De.default.AUDIO_CHANNEL_CONFIGURATION,De.default.AUDIO_SAMPLING_RATE,De.default.CODECS,De.default.CODING_DEPENDENCY,De.default.CONTENT_PROTECTION,De.default.FRAMERATE,De.default.FRAME_PACKING,De.default.HEIGHT,De.default.INBAND_EVENT_STREAM,De.default.MAXIMUM_SAP_PERIOD,De.default.MAX_PLAYOUT_RATE,De.default.MIME_TYPE,De.default.PROFILES,De.default.SAR,De.default.SCAN_TYPE,De.default.SEGMENT_PROFILES,De.default.SEGMENT_SEQUENCE_PROPERTIES,De.default.START_WITH_SAP,De.default.WIDTH];super(De.default.ADAPTATION_SET,S,[new Ao(De.default.REPRESENTATION,S,[new Ao(De.default.SUB_REPRESENTATION,S)])])}},mg=class extends Ao{constructor(){const S=[De.default.SEGMENT_BASE,De.default.SEGMENT_TEMPLATE,De.default.SEGMENT_LIST];super(De.default.PERIOD,S,[new Ao(De.default.ADAPTATION_SET,S,[new Ao(De.default.REPRESENTATION,S)])])}};const Ro=/&(?:amp|lt|gt|quot|apos|nbsp|lrm|rlm|#[xX]?[0-9a-fA-F]+);/g;function lc(S){return S.indexOf("&")===-1?S:S.replace(Ro,b=>{switch(b){case"&amp;":return"&";case"&lt;":return"<";case"&gt;":return">";case"&quot;":return'"';case"&apos;":return"'";case"&nbsp;":return"";case"&lrm;":return"";case"&rlm;":return"";default:if(b[1]==="#"){const _=b[2]==="x"||b[2]==="X"?parseInt(b.slice(3),16):parseInt(b.slice(2),10);return String.fromCodePoint(_)}return b}})}const uc=[De.default.ACCESSIBILITY,De.default.ADAPTATION_SET,De.default.ADD,De.default.AUDIO_CHANNEL_CONFIGURATION,De.default.BASE_URL,De.default.CONTENT_COMPONENT,De.default.CONTENT_PROTECTION,De.default.CONTENT_STEERING,De.default.ESSENTIAL_PROPERTY,De.default.EVENT,De.default.EVENT_STREAM,De.default.INBAND_EVENT_STREAM,De.default.LABEL,De.default.LOCATION,De.default.METRICS,De.default.PATCH_LOCATION,De.default.PERIOD,De.default.PRESELECTION,De.default.PRODUCER_REFERENCE_TIME,De.default.REMOVE,De.default.REPLACE,De.default.REPORTING,De.default.REPRESENTATION,De.default.ROLE,De.default.S,De.default.SEGMENT_SEQUENCE_PROPERTIES,De.default.SEGMENT_URL,De.default.SERVICE_DESCRIPTION,De.default.SUPPLEMENTAL_PROPERTY,De.default.UTC_TIMING];function rf(S){S=S||{};const b=this.context,_=S.debug;let R,I,w,z;function O(M){try{const q=function(G){const C=function(U,H={}){let J=H.pos||0;const re=U.length,ae=!!H.keepComments,fe=!!H.keepWhitespace,he="<",ge=60,Se=">",ee=62,Y=45,D=47,te=63,ye=33,le=39,we=34,Ce=91,Me=93,Ke=`\r
	>/= `;function Oe(ce,se="#text"){return{nodeName:se,nodeValue:ce,attributes:{},childNodes:[]}}function W(ce=""){const se=[];for(;U[J];)if(U.charCodeAt(J)==ge){if(U.charCodeAt(J+1)===D){const Re=J+2;if(J=U.indexOf(Se,J),!U.startsWith(ce,Re)){const Le=U.substring(0,J).split(`
`);throw new Error(`Unexpected close tag
Line: `+(Le.length-1)+`
Column: `+(Le[Le.length-1].length+1)+`
Char: `+U[J])}return J+1&&(J+=1),se}if(U.charCodeAt(J+1)===te){J=U.indexOf(Se,J),J++;continue}if(U.charCodeAt(J+1)===ye){if(U.charCodeAt(J+2)==Y){const Re=J;for(;J!==-1&&(U.charCodeAt(J)!==ee||U.charCodeAt(J-1)!=Y||U.charCodeAt(J-2)!=Y||J==-1);)J=U.indexOf(Se,J+1);J===-1&&(J=re),ae&&se.push(Oe(U.substring(Re,J+1),"#comment"))}else{if(U.charCodeAt(J+2)===Ce&&U.charCodeAt(J+8)===Ce&&U.startsWith("CDATA",J+3)){const Re=U.indexOf("]]>",J);Re==-1?(se.push(Oe(U.substr(J+9),"#cdata")),J=re):(se.push(Oe(U.substring(J+9,Re),"#cdata")),J=Re+3);continue}{const Re=J+1;J+=2;let Le=!1;for(;(U.charCodeAt(J)!==ee||Le===!0)&&U[J];)U.charCodeAt(J)===Ce?Le=!0:Le===!0&&U.charCodeAt(J)===Me&&(Le=!1),J++;se.push(Oe(U.substring(Re,J),"#doctype"))}}J++;continue}const Ae=de();se.push(Ae)}else{const Ae=oe();if(fe)Ae.length>0&&se.push(Oe(Ae));else{const Re=Ae.trim();Re.length>0&&se.push(Oe(Re))}J++}return se}function oe(){const ce=J;return J=U.indexOf(he,J)-1,J===-2&&(J=re),lc(U.slice(ce,J+1))}function ve(){const ce=J;for(;Ke.indexOf(U[J])===-1&&U[J];)J++;return U.slice(ce,J)}function de(){J++;const ce=ve();let se=ce,Ae=null;const Re=ce.indexOf(":");Re!==-1&&(Ae=ce.slice(0,Re),se=ce.slice(Re+1));const Le=function(){const at={};for(;U.charCodeAt(J)!==ee&&U[J];){const Tt=U.charCodeAt(J);if(Tt>64&&Tt<91||Tt>96&&Tt<123){const zt=ve();let Yt="",pn=U.charCodeAt(J);for(;pn!==le&&pn!==we;)J++,pn=U.charCodeAt(J);if(pn===le||pn===we){if(Yt=V(),J===-1)throw new Error("Missing closing quote")}else J--;at[zt]=lc(Yt)}J++}return at}();let je=[];const Ue=U.charCodeAt(J-1);return J++,Ue!==D&&(je=W(ce)),{nodeName:ce,nodeValue:null,attributes:Le,childNodes:je,prefix:Ae,localName:se}}function V(){const ce=U[J],se=J+1;return J=U.indexOf(ce,se),U.slice(se,J)}return{nodeName:"#document",nodeValue:null,childNodes:W(""),attributes:{}}}(G),P=C.childNodes.find(U=>U.nodeName==="MPD"||U.nodeName==="Patch")||C.childNodes[0];return function U(H){H.nodeName.indexOf(":")!==-1&&(H.__prefix=H.prefix,H.nodeName=H.localName);const{childNodes:J,attributes:re,nodeName:ae}=H;H.tagName=ae;for(let he in re){let ge=re[he];if(ae==="S")ge=parseInt(ge);else for(let Se=0,ee=w.length;Se<ee;Se++){const Y=w[Se];if(Y.test(ae,he,ge)){ge=Y.converter(ge);break}}H[he]=ge}const fe=J==null?void 0:J.length;for(let he=0;he<fe;he++){const ge=J[he];if(ge.nodeName==="#text"){H.__text=ge.nodeValue;continue}U(ge);const{nodeName:Se}=ge;Array.isArray(H[Se])?H[Se].push(ge):uc.indexOf(Se)!==-1?(H[Se]||(H[Se]=[]),H[Se].push(ge)):H[Se]=ge}H.__children=J}(P),P}(M);return{[q.tagName]:q}}catch{return null}}return R={getIron:function(){return z},parseXml:O,parse:function(M){let q;const G=window.performance.now();if(q=O(M),!q)throw new Error("failed to parse the manifest");q.Patch?(q=q.Patch,q.add&&q.add.forEach(P=>z.run(P)),q.replace&&q.replace.forEach(P=>z.run(P))):(q=q.MPD,z.run(q));const C=window.performance.now();return I.info("Parsing complete: "+(C-G).toPrecision(3)+"ms"),q.protocol="DASH",q}},I=_.getLogger(R),w=[new bi,new Jl,new al,new sl],z=ay(b).create({adaptationset:new oy,period:new mg}),R}rf.__dashjs_factory_name="DashParser";var tu=n.default.getClassFactory(rf);function af(S){S=S||{};const b=this.context,_=S.debug,R=S.settings,I=(0,y.default)(b).getInstance(),w=Rr(b).getInstance();let z,O,M,q,G,C=S.mssHandler,P=S.errHandler;function U(H){I.trigger(m.default.INTERNAL_MANIFEST_LOADED,{manifest:H.manifest})}return z={load:function(H,J=null,re=null){const ae=new Date,fe=new rc(H,Te.HTTPRequest.MPD_TYPE);J&&(fe.serviceLocation=J),re&&(fe.queryParams=re),fe.startDate||(fe.startDate=ae),I.trigger(m.default.MANIFEST_LOADING_STARTED,{request:fe}),M.load({request:fe,success:function(he,ge,Se){if(!q)return;let ee,Y,D;if(Se&&Se!==H?(Y=w.parseBaseUrl(Se),ee=Se):(w.isRelative(H)&&(H=w.resolve(H,window.location.href)),Y=w.parseBaseUrl(H)),ge!="No Content")if(G===null&&(G=function(te){let ye=null;return te.indexOf("SmoothStreamingMedia")>-1?(C&&(ye=C.createMssParser(),C.createMssFragmentProcessor(),C.registerEvents()),ye):te.indexOf("MPD")>-1||te.indexOf("Patch")>-1?tu(b).create({debug:_}):ye}(he)),G!==null){q.setParser(G);try{D=G.parse(he)}catch{return void I.trigger(m.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new ln.default(Tn.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,Tn.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+`${H}`)})}if(D){if(D.url=ee||H,D.originalUrl||(D.originalUrl=D.url),R&&R.get().streaming.enableManifestDurationMismatchFix&&D.mediaPresentationDuration&&D.Period.length>1){const te=D.Period.reduce((ye,le)=>ye+le.duration,0);!isNaN(te)&&D.mediaPresentationDuration>te&&(O.warn("Media presentation duration greater than duration of all periods. Setting duration to total period duration"),D.mediaPresentationDuration=te)}D.baseUri=Y,D.loadedTime=new Date,q.resolveManifestOnLoad(D),I.trigger(m.default.ORIGINAL_MANIFEST_LOADED,{originalManifest:he})}else I.trigger(m.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new ln.default(Tn.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,Tn.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+`${H}`)})}else I.trigger(m.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new ln.default(Tn.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,Tn.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+`${H}`)});else I.trigger(m.default.INTERNAL_MANIFEST_LOADED,{manifest:null})},error:function(he,ge,Se){I.trigger(m.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new ln.default(Tn.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE,Tn.MANIFEST_LOADER_LOADING_FAILURE_ERROR_MESSAGE+`${H}, ${Se}`)})}})},reset:function(){I.off(m.default.XLINK_READY,U,z),C&&C.reset(),q&&(q.reset(),q=null),M&&(M.abort(),M=null)}},O=_.getLogger(z),I.on(m.default.XLINK_READY,U,z),M=yo(b).create({errHandler:S.errHandler,dashMetrics:S.dashMetrics,mediaPlayerModel:S.mediaPlayerModel,urlUtils:w,constants:p.default,dashConstants:De.default,errors:Tn,requestTimeout:S.settings.get().streaming.manifestRequestTimeout}),q=ac(b).create({errHandler:P,dashMetrics:S.dashMetrics,mediaPlayerModel:S.mediaPlayerModel,settings:S.settings}),G=null,z}af.__dashjs_factory_name="ManifestLoader";var cc=n.default.getClassFactory(af);function dc(){let S,b,_=this.context,R=(0,y.default)(_).getInstance();return S={getValue:function(){return b},setValue:function(I){b=I,I&&R.trigger(m.default.MANIFEST_LOADED,{data:I})}},S}dc.__dashjs_factory_name="ManifestModel";var pg=n.default.getSingletonFactory(dc);function nu(){const S=this.context,b=(0,d.default)(S).getInstance();let _,R,I;return _={select:function(w){if(!w||w.length===0)return null;let z=null;return b.get().streaming.applyContentSteering&&(z=function(O){const M=I.getCurrentSteeringResponseData();return M&&M.pathwayPriority&&M.pathwayPriority.length>0?function(q=[],G=[]){let C=0,P=null;for(;C<q.length;){const U=q[C],H=G.findIndex(J=>J.serviceLocation&&J.serviceLocation===U);if(H!==-1&&!R.contains(G[H].serviceLocation)){P=G[H];break}C+=1}return P}(M.pathwayPriority,O):null}(w)),z||(z=function(O){return O[0]}(w)),z},setConfig:function(w){w.blacklistController&&(R=w.blacklistController),w.contentSteeringController&&(I=w.contentSteeringController)},reset:function(){R.reset()}},R=wn(S).create({updateEventName:m.default.SERVICE_LOCATION_LOCATION_BLACKLIST_CHANGED,addBlacklistEventName:m.default.SERVICE_LOCATION_LOCATION_BLACKLIST_ADD}),I=Xu(S).getInstance(),_}nu.__dashjs_factory_name="LocationSelector";var yg=n.default.getClassFactory(nu);function ol(){const S=this.context,b=(0,y.default)(S).getInstance(),_=Rr(S).getInstance();let R,I,w,z,O,M,q,G,C,P,U,H,J,re,ae;function fe(){J=NaN,G=!1,M=!0,q=!1,he()}function he(){re!==null&&(clearTimeout(re),re=null)}function ge(Ce){he(),q||(isNaN(Ce)&&!isNaN(J)&&(Ce=1e3*J),isNaN(Ce)||(P.debug("Refresh manifest in "+Ce+" milliseconds."),re=setTimeout(Y,Ce)))}function Se(Ce=!1){G=!0;const Me=H.getValue();let Ke=Me.url;Ke&&(Ke=gt.default.removeQueryParameterFromUrl(Ke,p.default.CMCD_QUERY_KEY));let Oe=null;const W=R.getPatchLocation(Me),oe=C.select(W);let ve=null;if(oe&&!Ce)Ke=oe.url,Oe=oe.serviceLocation,ve=oe.queryParams;else{const de=function(ce){const se=R.getLocation(ce),Ae=I.getSynthesizedLocationElements(se);return se.concat(Ae)}(Me),V=C.select(de);V&&(Ke=V.url,Oe=V.serviceLocation,ve=V.queryParams)}_.isRelative(Ke)&&(Ke=_.resolve(Ke,Me.url)),U.load(Ke,Oe,ve)}function ee(Ce){if(Ce){if(R.getIsPatch(Ce)){let Oe=Ce;Ce=H.getValue();let W=R.isPatchValid(Ce,Oe),oe=W;if(W){let ve=R.getPublishTime(Ce);R.applyPatchToManifest(Ce,Oe);let de=R.getPublishTime(Ce);oe=ve.getTime()!==de.getTime()}if(!oe)return P.debug("Patch provided is invalid, performing full manifest refresh"),void Se(!0);Ce.loadedTime=new Date}}else(Ce=H.getValue()).loadedTime=new Date;if(H.getValue()&&H.getValue().type===De.default.DYNAMIC&&Ce.type===De.default.STATIC)return b.trigger(m.default.DYNAMIC_TO_STATIC),G=!1,void(q=!0);H.setValue(Ce);const Me=new Date,Ke=(Me.getTime()-Ce.loadedTime.getTime())/1e3;J=R.getManifestUpdatePeriod(Ce,Ke),1e3*J>2147483647&&(J=2147483647e-3),b.trigger(m.default.MANIFEST_UPDATED,{manifest:Ce}),P.info("Manifest has been refreshed at "+Me+"["+Me.getTime()/1e3+"] "),M||ge()}function Y(){M||(G?ge(ae.get().streaming.manifestUpdateRetryInterval):Se())}function D(Ce){if(Ce.error)Ce.error.code===Tn.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE&&z.error(Ce.error);else{const Me=Ce.manifest;(function(Ke){(function(Oe){const W=w.getExternalSubtitles();if(!W||W.length===0)return;const oe=Oe&&Oe.Period?Oe.Period.length:0;W.forEach(ve=>{if(ve.periodId===null&&oe>1)P.warn(`External subtitle with id ${ve.id} has no periodId and the MPD contains more than one period. Unable to add the external subtitle as it is not clear which period shall be used.`);else if(oe===1)te(Oe.Period[0],ve);else{const de=Oe.Period.find(V=>V.id===ve.periodId);de?te(de,ve):P.warn(`External subtitle with id ${ve.id} has periodId ${ve.periodId} but the MPD does not contain a period with that id. Unable to add the external subtitle.`)}})})(Ke)})(Me),ee(Me)}}function te(Ce,Me){if(!Ce||!Ce.AdaptationSet)return Ce;Ce.AdaptationSet.push(Me.serializeToMpdParserFormat())}function ye(){M=!1,ge()}function le(){M=!ae.get().streaming.scheduling.scheduleWhilePaused,M&&he()}function we(){G=!1}return O={getIsUpdating:function(){return G},initialize:function(){fe(),b.on(m.default.STREAMS_COMPOSED,we,this),b.on(T.default.PLAYBACK_STARTED,ye,this),b.on(T.default.PLAYBACK_PAUSED,le,this),b.on(m.default.INTERNAL_MANIFEST_LOADED,D,this)},refreshManifest:Se,reset:function(){b.off(T.default.PLAYBACK_STARTED,ye,this),b.off(T.default.PLAYBACK_PAUSED,le,this),b.off(m.default.STREAMS_COMPOSED,we,this),b.off(m.default.INTERNAL_MANIFEST_LOADED,D,this),fe()},setConfig:function(Ce){Ce&&(Ce.manifestModel&&(H=Ce.manifestModel),Ce.adapter&&(R=Ce.adapter),Ce.manifestLoader&&(U=Ce.manifestLoader),Ce.errHandler&&(z=Ce.errHandler),Ce.locationSelector&&(C=Ce.locationSelector),Ce.settings&&(ae=Ce.settings),Ce.contentSteeringController&&(I=Ce.contentSteeringController),Ce.customParametersModel&&(w=Ce.customParametersModel))},setManifest:function(Ce){ee(Ce)}},P=(0,u.default)(S).getInstance().getLogger(O),C=yg(S).create(),w=(0,Ku.default)(S).getInstance(),O}ol.__dashjs_factory_name="ManifestUpdater";var sf=n.default.getClassFactory(ol);const bg={0:void 0,1:1,2:2,3:3,4:4,5:5,6:5,7:7,8:2,9:3,10:4,11:6,12:7,13:22,14:7,15:10,16:9,17:11,18:13,19:11,20:13};function vs(S){return S==0?0:S.toString(2).match(/1/g).length}function ru(S,b){let _,R=parseInt("0x"+S,16),I=R&b[0],w=R&b[1];return _=vs(I)+2*vs(w),_}function iu(){const S=this.context,b=(0,y.default)(S).getInstance();let _,R,I,w,z,O,M,q,G,C,P;function U(se){if(!(se&&se.currentRepresentation&&se.currentRepresentation.mediaInfo&&se.currentRepresentation.mediaInfo.type))return;const Ae=se.currentRepresentation.mediaInfo.type;M[Ae]=se.currentRepresentation}function H(se,Ae){return se&&I[Ae]&&I[Ae][se]?I[Ae][se].list:[]}function J(se,Ae){return se&&I[Ae]&&I[Ae][se]?I[Ae][se].current:null}function re(se,Ae={}){if(!se||!se.streamInfo)return;const Re=se.type,Le=se.streamInfo.id,je=J(Re,Le);if(I[Le]&&I[Le][Re]&&(I[Le][Re].current=se,I[Le][Re].current&&(Re!==p.default.TEXT&&!he(se,je)||Re===p.default.TEXT&&se.isFragmented)&&b.trigger(m.default.CURRENT_TRACK_CHANGED,{oldMediaInfo:je,newMediaInfo:se,switchMode:w.get().streaming.trackSwitchMode[Re],options:Ae},{streamId:Le}),!Ae.hasOwnProperty("noSettingsSave")||!Ae.noSettingsSave)){let Ue=function(at){const Tt={lang:at.lang,viewpoint:at.viewpoint,roles:at.roles,accessibility:at.accessibility,audioChannelConfiguration:at.audioChannelConfiguration,codec:at.codec};return Tt.lang||Tt.viewpoint||Tt.role&&Tt.role.length>0||Tt.accessibility&&Tt.accessibility.length>0||Tt.audioChannelConfiguration&&Tt.audioChannelConfiguration.length>0?Tt:null}(se);if(!Ue||!I[Le][Re].storeLastSettings)return;Ue.roles&&(Ue.role=Ue.roles[0],delete Ue.roles),Ue.accessibility&&(Ue.accessibility=Ue.accessibility[0]),Ue.audioChannelConfiguration&&(Ue.audioChannelConfiguration=Ue.audioChannelConfiguration[0]),O[Re]=Ue,P.setSavedMediaSettings(Re,Ue)}}function ae(se,Ae){se&&Ae&&(z[se]=Ae)}function fe(se){return se?z[se]:null}function he(se,Ae){if(!se&&!Ae)return!0;if(!se||!Ae||se.isPreselection!==Ae.isPreselection)return!1;const Re=se.id===Ae.id,Le=JSON.stringify(se.viewpoint)===JSON.stringify(Ae.viewpoint),je=se.lang===Ae.lang,Ue=se.codec===Ae.codec,at=JSON.stringify(se.roles)===JSON.stringify(Ae.roles),Tt=JSON.stringify(se.accessibility)===JSON.stringify(Ae.accessibility),zt=JSON.stringify(se.audioChannelConfiguration)===JSON.stringify(Ae.audioChannelConfiguration);return Re&&Ue&&Le&&je&&at&&Tt&&zt}function ge(){I={},O={},M={},z={audio:null,video:null,text:null},b.off(T.default.REPRESENTATION_SWITCH,U,_)}function Se(se,Ae,Re){let Le=[];return se.forEach(function(je){Ae(Re,je)&&Le.push(je)}),Le.length!==0||Ae===ye&&w.get().streaming.assumeDefaultRoleAsMain&&ce(Re.role,{schemeIdUri:p.default.DASH_ROLE_SCHEME_ID,value:De.default.MAIN})&&(R.info("no track with Role set to main - assuming main as default and searching again"),Le=Se(se,le,null),Le.length!==0)?Le:(R.info("Filter-Function ("+Ae.name+") resulted in no tracks; setting ignored"),se)}function ee(se,Ae){try{return!se.lang||se.lang instanceof RegExp?Ae.lang.match(se.lang):Ae.lang!==""&&Ms(Ae.lang,Xl(se.lang)).length>0}catch{return!1}}function Y(se,Ae){return se.index===void 0||se.index===null||Ae.index===se.index}function D(se,Ae){return se.id===void 0||se.id===null||Ae.id===se.id}function te(se,Ae){return!se.viewpoint||!!Ae.viewpoint.filter(function(Re){return ce(Re,se.viewpoint)})[0]}function ye(se,Ae,Re=!1){return!!Ae.roles&&(!se.role||!!Ae.roles.filter(function(Le){return ce(Le,se.role)})[0]||Ae.type===p.default.AUDIO&&Re)}function le(se,Ae){return!Ae.roles||Ae.roles.length===0}function we(se,Ae){let Re;return Re=se.accessibility?!!Ae.accessibility.filter(function(Le){return ce(Le,se.accessibility)})[0]:!Ae.accessibility.length,Re}function Ce(se,Ae){return!se.audioChannelConfiguration||!!Ae.audioChannelConfiguration.filter(function(Re){return ce(Re,se.audioChannelConfiguration)})[0]}function Me(se,Ae){return!se.codec||se.codec===Ae.codec}function Ke(se){let Ae=0,Re=[];return se.forEach(Le=>{isNaN(Le.selectionPriority)||(Le.selectionPriority>Ae?(Ae=Le.selectionPriority,Re=[Le]):Le.selectionPriority===Ae&&Re.push(Le))}),Re}function Oe(se){let Ae,Re=0,Le=[];return se.forEach(function(je){Ae=Math.max.apply(Math,je.bitrateList.map(function(Ue){return Ue.bandwidth})),Ae>Re?(Re=Ae,Le=[je]):Ae===Re&&Le.push(je)}),Le}function W(se){return se[0]&&se[0].type===p.default.VIDEO?function(Ae){let Re,Le=1/0,je=[];return Ae.forEach(function(Ue){Re=Ue.bitrateList.reduce(function(Tt,zt){const Yt=Math.max(1,zt.width*zt.height);return Tt+zt.bandwidth/Yt},0)/Ue.bitrateList.length,Re<Le?(Le=Re,je=[Ue]):Re===Le&&je.push(Ue)}),je}(se):se[0]&&se[0].type===p.default.AUDIO?function(Ae){let Re=1/0,Le=[];return Ae.forEach(function(je){let Ue=je.audioChannelConfiguration.reduce(function(Tt,zt){return Tt+(function(Yt){let pn;if(!Yt||!Yt.schemeIdUri||!Yt.value)return;const Ut=Yt.schemeIdUri,dn=Yt.value;return Ut==="urn:mpeg:dash:23003:3:audio_channel_configuration:2011"||Ut==="urn:mpeg:mpegB:cicp:ChannelConfiguration"?pn=bg[dn]:Ut==="tag:dolby.com,2014:dash:audio_channel_configuration:2011"?pn=function(An){if(An.length===4)return ru(An,[63880,1648])}(dn):Ut==="tag:dolby.com,2015:dash:audio_channel_configuration:2015"?pn=function(An){if(An.length===6)return An==="800000"?24:ru(An,[52738,205245])}(dn):Ut==="tag:dts.com,2014:dash:audio_channel_configuration:2012"?pn=parseInt(dn):Ut==="tag:dts.com,2018:uhd:audio_channel_configuration"&&(pn=function(An){if(!(An.length>8))return ru(An,[4294901727,0])}(dn)),pn}(zt)||0)},0)/je.audioChannelConfiguration.length;je.hasOwnProperty("supplementalProperties")&&je.supplementalProperties.some(Tt=>Tt.schemeIdUri==="tag:dolby.com,2018:dash:EC3_ExtensionType:2018"&&Tt.value==="JOC")&&(Ue=16),Ue||(Ue=1);let at=je.bitrateList.reduce(function(Tt,zt){return Tt+zt.bandwidth/Ue},0)/je.bitrateList.length;at<Re?(Re=at,Le=[je]):at===Re&&Le.push(je)}),Le}(se):se}function oe(se){let Ae,Re=0,Le=[];return se.forEach(function(je){Ae=je.representationCount,Ae>Re?(Re=Ae,Le=[je]):Ae===Re&&Le.push(je)}),Le}function ve(se,Ae){if(se===p.default.TEXT)return function(je){if(!je||je.length===0)return null;const Ue=je.filter(at=>!(at&&at.roles&&at.roles.length>0)||at.roles.every(Tt=>Tt.schemeIdUri!==p.default.DASH_ROLE_SCHEME_ID||Tt.value!==De.default.FORCED_SUBTITLE));return Ue.length>0?Ue[0]:je[0]}(Ae);let Re;const Le=q.getCustomInitialTrackSelectionFunction();if(Re=function(je){try{let Ue;return Ue=function(at){try{const Tt=at.filter(zt=>{const Yt=zt.type;return zt.bitrateList.some(pn=>{const Ut=G.getAbrBitrateParameter("maxBitrate",Yt),dn=G.getAbrBitrateParameter("minBitrate",Yt);return!(Ut>-1&&pn.bandwidth>1e3*Ut||dn>-1&&pn.bandwidth<1e3*dn)})});return Tt.length>0?Tt:at}catch(Tt){return R.error(Tt),at}}(je),Ue=function(at){try{if(!w.get().streaming.abr.limitBitrateByPortal)return at;const{elementWidth:Tt}=C.getVideoElementSize(),zt=at.filter(Yt=>Yt.type!==p.default.VIDEO||Yt.bitrateList.some(pn=>pn.width<=Tt));return zt.length>0?zt:at}catch(Tt){return R.error(Tt),at}}(Ue),Ue}catch(Ue){return R.error(Ue),je}}(Ae),Le&&typeof Le=="function")Re=Le(Re);else if(M[se])Re=function(je,Ue){if(!je||je.length===0||!Ue||!M[Ue])return je;const at=M[Ue].bandwidth;if(!at||isNaN(at))return je;let Tt={min:NaN,track:null};return je.forEach(zt=>{zt.bitrateList.forEach(Yt=>{const pn=Math.abs(Yt.bandwidth-at);(isNaN(Tt.min)||pn<Tt.min)&&(Tt.min=pn,Tt.track=zt)})}),Tt.track?[Tt.track]:je}(Re,se);else if(w.get().streaming.ignoreSelectionPriority||(R.info("Trying to find track with highest selectionPriority"),Re=function(je){return Ke(je)}(Re)),Re.length>1&&w.get().streaming.prioritizeRoleMain&&(R.info("Trying to find a main track"),Re=Se(Re,ye,{role:{schemeIdUri:p.default.DASH_ROLE_SCHEME_ID,value:De.default.MAIN}})),Re.length>1){R.info("Selecting track based on selectionModeForInitialTrack");let je=w.get().streaming.selectionModeForInitialTrack;switch(je){case p.default.TRACK_SELECTION_MODE_HIGHEST_BITRATE:Re=function(Ue){let at=Oe(Ue);return at.length>1&&(at=oe(at)),at}(Re);break;case p.default.TRACK_SELECTION_MODE_FIRST_TRACK:Re=de(Re);break;case p.default.TRACK_SELECTION_MODE_HIGHEST_EFFICIENCY:Re=V(Re);break;case p.default.TRACK_SELECTION_MODE_WIDEST_RANGE:Re=function(Ue){let at=oe(Ue);return at.length>1&&(at=Oe(Ue)),at}(Re);break;case p.default.TRACK_SELECTION_MODE_LOWEST_STARTUP_DELAY:Re=function(Ue){let at=Ue.filter(Tt=>!(!Tt.segmentSequenceProperties||Tt.segmentSequenceProperties.length===0)&&Tt.segmentSequenceProperties.some(zt=>zt.cadence===1&&(zt.sapType===0||zt.sapType===1)));return V(at.length>0?at:Ue)}(Re);break;default:R.warn(`Track selection mode ${je} is not supported. Falling back to TRACK_SELECTION_MODE_FIRST_TRACK`),Re=de(Re)}}return Re.length>0?Re[0]:Ae[0]}function de(se){return se[0]}function V(se){let Ae=W(se);return Ae.length>1&&(Ae=Oe(Ae)),Ae}function ce(se,Ae){return!(!se||!Ae)&&JSON.stringify({schemeIdUri:se.schemeIdUri,value:se.value})===JSON.stringify({schemeIdUri:Ae.schemeIdUri,value:Ae.value})}return _={addTrack:function(se){if(!se)return;R.info("addTrack with track.codec='"+se.codec+"', track.type='"+se.type+"'");const Ae=se.type;if((Re=Ae)!==p.default.AUDIO&&Re!==p.default.VIDEO&&Re!==p.default.TEXT&&Re!==p.default.IMAGE)return;var Re;let Le=se.streamInfo.id;I[Le]||(I[Le]=function(){const Ue=w.get().streaming.saveLastMediaSettingsForCurrentStreamingSession;return{audio:{list:[],storeLastSettings:Ue,current:null},video:{list:[],storeLastSettings:Ue,current:null},text:{list:[],storeLastSettings:Ue,current:null},image:{list:[],storeLastSettings:Ue,current:null}}}());const je=I[Le][Ae].list;for(let Ue=0,at=je.length;Ue<at;++Ue)if(he(je[Ue],se))return;je.push(se)},areTracksEqual:he,clearDataForStream:function(se){I[se]&&delete I[se]},getCurrentTrackFor:J,getInitialSettings:fe,getTracksFor:H,getTracksWithHighestSelectionPriority:Ke,getTracksWithHighestBitrate:Oe,getTracksWithHighestEfficiency:W,getTracksWithWidestRange:oe,initialize:function(){b.on(T.default.REPRESENTATION_SWITCH,U,_)},isCurrentTrack:function(se){if(!se)return!1;const Ae=se.type,Re=se.streamInfo.id;return I[Re]&&I[Re][Ae]&&he(I[Re][Ae].current,se)},matchSettings:function(se,Ae,Re=!1){try{let Le=!1;if(se.lang){if(se.lang instanceof RegExp)Le=Ae.lang.match(se.lang);else if(Ae.lang!==""){const Yt=Xl(se.lang);Yt&&(Le=Ms(Ae.lang,Yt).length>0)}}else Le=!0;const je=se.index===void 0||se.index===null||Ae.index===se.index,Ue=!se.viewpoint||!!Ae.viewpoint.filter(function(Yt){return ce(Yt,se.viewpoint)})[0],at=!se.role||!!Ae.roles.filter(function(Yt){return ce(Yt,se.role)})[0];let Tt=!se.accessibility||!!Ae.accessibility.filter(function(Yt){return ce(Yt,se.accessibility)})[0],zt=!se.audioChannelConfiguration||!!Ae.audioChannelConfiguration.filter(function(Yt){return ce(Yt,se.audioChannelConfiguration)})[0];return Le&&je&&Ue&&(at||Ae.type===p.default.AUDIO&&Re)&&Tt&&zt}catch{return!1}},matchSettingsAccessibility:we,matchSettingsAudioChannelConfig:Ce,matchSettingsIndex:Y,matchSettingsLang:ee,matchSettingsRole:ye,matchSettingsViewPoint:te,reset:ge,saveTextSettingsDisabled:function(){P.setSavedMediaSettings(p.default.TEXT,null)},selectInitialTrack:ve,setConfig:function(se){se&&(se.domStorage&&(P=se.domStorage),se.settings&&(w=se.settings),se.customParametersModel&&(q=se.customParametersModel),se.mediaPlayerModel&&(G=se.mediaPlayerModel),se.videoModel&&(C=se.videoModel))},setInitialMediaSettingsForType:function(se,Ae){let Re=O[se]||fe(se);const Le=H(se,Ae.id);let je=[];Re&&Object.keys(Re).length!==0||(Re=P.getSavedMediaSettings(se),Re&&delete Re.codec,ae(se,Re)),Le&&Le.length!==0&&(je=w.get().streaming.includePreselectionsForInitialTrackSelection?Array.from(Le):Le.filter(Ue=>!Ue.isPreselection),Re&&(R.info("Filtering "+je.length+" "+se+" tracks based on settings"),je=Se(je,D,Re),je=Se(je,ee,Re),je=Se(je,Y,Re),je=Se(je,te,Re),se===p.default.AUDIO&&O[se]||(je=Se(je,ye,Re)),je=Se(je,we,Re),je=Se(je,Ce,Re),je=Se(je,Me,Re),R.info("Filtering "+se+" tracks ended, found "+je.length+" matching track(s).")),je.length>1?re(ve(se,je)):re(je[0]))},setInitialSettings:ae,setTrack:re},R=(0,u.default)(S).getInstance().getLogger(_),ge(),_}iu.__dashjs_factory_name="MediaController";const Ts=n.default.getSingletonFactory(iu);n.default.updateSingletonFactory(iu.__dashjs_factory_name,Ts);var Bs=Ts;function ll(){let S,b,_,R;const I=this.context,w=(0,d.default)(I).getInstance();function z(C,P){return isNaN(C)?0:C>0?(P&&b.warn("Supplied minimum playback rate is a positive value when it should be negative or 0. The supplied rate will not be applied and set to 0: 100% playback speed."),0):C<-.5?(P&&b.warn("Supplied minimum playback rate is out of range and will be limited to -0.5: -50% playback speed."),-.5):C}function O(C,P){return isNaN(C)?0:C<0?(P&&b.warn("Supplied maximum playback rate is a negative value when it should be negative or 0. The supplied rate will not be applied and set to 0: 100% playback speed."),0):C>1?(P&&b.warn("Supplied maximum playback rate is out of range and will be limited to 1: 200% playback speed."),1):C}function M(){const C=q(),P=_.getLiveDelay();return!isNaN(P)&&P>0?Math.min(C,P):C}function q(){return w.get().streaming.buffer.bufferTimeDefault>0?w.get().streaming.buffer.bufferTimeDefault:G()?20:12}function G(){return w.get().streaming.buffer.fastSwitchEnabled!==null?w.get().streaming.buffer.fastSwitchEnabled:!_.getLowLatencyModeEnabled()}return S={getAbrBitrateParameter:function(C,P){try{const U=w.get().streaming.abr[C][P];if(!isNaN(U)&&U!==-1)return U;const H=R.getServiceDescriptionSettings();return H&&H[C]&&!isNaN(H[C][P])?H[C][P]:-1}catch{return-1}},getBufferTimeDefault:M,getBufferTimeDefaultUnadjusted:q,getCatchupMaxDrift:function(){if(!isNaN(w.get().streaming.liveCatchup.maxDrift)&&w.get().streaming.liveCatchup.maxDrift>=0)return w.get().streaming.liveCatchup.maxDrift;const C=R.getServiceDescriptionSettings();return C&&C.liveCatchup&&!isNaN(C.liveCatchup.maxDrift)&&C.liveCatchup.maxDrift>=0?C.liveCatchup.maxDrift:12},getCatchupModeEnabled:function(){return w.get().streaming.liveCatchup.enabled!==null?w.get().streaming.liveCatchup.enabled:_.getInitialCatchupModeActivated()},getCatchupPlaybackRates:function(C){const P=w.get().streaming.liveCatchup.playbackRate;if(!isNaN(P.min)||!isNaN(P.max))return{min:z(P.min,C),max:O(P.max,C)};const U=R.getServiceDescriptionSettings();if(U&&U.liveCatchup&&(!isNaN(U.liveCatchup.playbackRate.min)||!isNaN(U.liveCatchup.playbackRate.max))){const H=U.liveCatchup.playbackRate;return{min:z(H.min,C),max:O(H.max,C)}}return{min:-.5,max:.5}},getFastSwitchEnabled:G,getInitialBufferLevel:function(){const C=w.get().streaming.buffer.initialBufferLevel;return isNaN(C)||C<0?0:Math.min(M(),C)},getRetryAttemptsForType:function(C){const P=isNaN(w.get().streaming.retryAttempts.lowLatencyMultiplyFactor)?5:w.get().streaming.retryAttempts.lowLatencyMultiplyFactor;return _.getLowLatencyModeEnabled()?w.get().streaming.retryAttempts[C]*P:w.get().streaming.retryAttempts[C]},getRetryIntervalsForType:function(C){const P=isNaN(w.get().streaming.retryIntervals.lowLatencyReductionFactor)?10:w.get().streaming.retryIntervals.lowLatencyReductionFactor;return _.getLowLatencyModeEnabled()?w.get().streaming.retryIntervals[C]/P:w.get().streaming.retryIntervals[C]},getScheduleTimeout:function(){return _.getLowLatencyModeEnabled()?w.get().streaming.scheduling.lowLatencyTimeout:w.get().streaming.scheduling.defaultTimeout},reset:function(){},setConfig:function(C){C.playbackController&&(_=C.playbackController),C.serviceDescriptionController&&(R=C.serviceDescriptionController)}},b=(0,u.default)(I).getInstance().getLogger(S),S}ll.__dashjs_factory_name="MediaPlayerModel";var of=n.default.getSingletonFactory(ll);function fc(){const S=this.context,b=(0,y.default)(S).getInstance();let _,R,I,w,z,O,M,q,G,C,P,U,H,J,re,ae,fe,he,ge,Se,ee,Y,D,te;function ye(){Me(),re=!1,C=0,J=0,R=0,H=!1,U=!1,w=!1,fe=NaN,G=NaN,D&&(b.off(m.default.DATA_UPDATE_COMPLETED,Ue,z),b.off(m.default.MANIFEST_UPDATED,lt,z),b.off(m.default.STREAMS_COMPOSED,Nt,z),b.off(T.default.PLAYBACK_ENDED,vn,z),b.off(T.default.STREAM_INITIALIZING,Pt,z),b.off(T.default.REPRESENTATION_SWITCH,Ve,z),b.off(T.default.BUFFER_LEVEL_STATE_CHANGED,zt,z),je(),D.removeEventListener("canplay",at),D.removeEventListener("canplaythrough",Tt),D.removeEventListener("play",Yt),D.removeEventListener("waiting",pn),D.removeEventListener("playing",Ut),D.removeEventListener("pause",dn),D.removeEventListener("error",At),D.removeEventListener("seeking",An),D.removeEventListener("seeked",Gn),D.removeEventListener("timeupdate",Yn),D.removeEventListener("progress",Bn),D.removeEventListener("ratechange",Nn),D.removeEventListener("loadedmetadata",it),D.removeEventListener("loadeddata",Bt),D.removeEventListener("stalled",wt),D.removeEventListener("ended",It),D.removeEventListener("volumechange",Vt)),te=null,D=null,ee=null,M=null}function le(ct=null){return parseFloat((we(ct)-oe()).toFixed(5))}function we(ct){const Kt=ct||ee;return Kt.start+Kt.duration}function Ce(ct=!1){ee&&D&&D.getElement()?(ct&&M&&W(oe()),D.play()):re=!0}function Me(){ee&&D&&D.pause()}function Ke(ct,Kt=!1,Zt=!1,ze=!1){ee&&D&&D.getElement()&&ct!==(isNaN(fe)?D.getTime():fe)&&(O=Zt===!0,O||(fe=ct),P.info("Requesting seek to time: "+ct+(O?" (internal)":"")),M&&ze&&W(ct),D.setCurrentTime(ct,Kt))}function Oe(){if(!ee||!D||!M)return;const ct=Se&&Se.hasVideoTrack()?p.default.VIDEO:p.default.AUDIO,Kt=I.getCurrentDVRInfo(ct);return Kt&&Kt.range?Kt.range.end:0}function W(ct){const Kt=new Date(Y.getClientReferenceTime()),Zt=_.getRegularPeriods()[0];C=Y.calcPresentationTimeFromWallTime(Kt,Zt)-ct}function oe(){return ee&&D?D.getTime():null}function ve(){return ee&&D?D.isPaused():null}function de(){return ee&&D?D.isSeeking():null}function V(){return ee&&D?D.isStalled():null}function ce(){return ee&&D?D.getPlaybackRate():null}function se(){return ee&&D?D.getEnded():null}function Ae(){return M}function Re(ct=null){if(ve()||!M||D.getReadyState()===0||de()||H)return;ct||(ct=Se.hasVideoTrack()?p.default.VIDEO:p.default.AUDIO);const Kt=oe(),Zt=function(ze,ut){const Qt=I.getCurrentDVRInfo(ut),sn=Qt?Qt.range:null;let $n;return sn?($n=ze>sn.end?Math.max(sn.end-C,sn.start):ze>0&&ze+.25<sn.start&&Math.abs(ze-sn.start)<31536e4?U?Math.max(sn.end-C,sn.start):sn.start:ze,$n):NaN}(Kt,ct);!isNaN(Zt)&&Zt!==Kt&&!de()&&(V()||ae||D.getReadyState()===1)&&(P.debug(`UpdateCurrentTime: Seek to actual time: ${Zt} from currentTime: ${Kt}`),Ke(Zt,!1,!1))}function Le(){te===null&&(te=setInterval(()=>{(function(){if(b.trigger(m.default.WALLCLOCK_TIME_UPDATED,{isDynamic:M,time:new Date}),Ae()){const ct=Date.now();(isNaN(G)||ct>G+ge.get().streaming.liveUpdateTimeThresholdInMilliseconds)&&(Se.addDVRMetric(),ve()?function(){const Kt=Date.now();(!q||Kt>q+500)&&(q=Kt,Yn())}():Re(),G=ct)}})()},ge.get().streaming.wallclockTimeUpdateInterval))}function je(){clearInterval(te),te=null}function Ue(ct){const Kt=ct.currentRepresentation,Zt=Kt?Kt.mediaInfo.streamInfo:null;Zt!==null&&ee.id===Zt.id&&(ee=Zt)}function at(){b.trigger(m.default.CAN_PLAY)}function Tt(){b.trigger(m.default.CAN_PLAY_THROUGH)}function zt(ct){ct.streamId===Se.getActiveStreamInfo().id&&(ae=ct.state===o.BUFFER_EMPTY,ge.get().streaming.buffer.setStallState&&D.setStallState(ct.mediaType,ct.state===o.BUFFER_EMPTY))}function Yt(){P.info("Native video element event: play"),Re(),Le(),b.trigger(m.default.PLAYBACK_STARTED,{startTime:oe()})}function pn(){P.info("Native video element event: waiting"),b.trigger(m.default.PLAYBACK_WAITING,{playingTime:oe()})}function Ut(){P.info("Native video element event: playing"),O=!1,b.trigger(m.default.PLAYBACK_PLAYING,{playingTime:oe()})}function dn(){P.info("Native video element event: pause"),b.trigger(m.default.PLAYBACK_PAUSED,{ended:se()})}function An(){if(O)return;let ct=oe();isNaN(fe)||fe===ct||(ct=fe),fe=NaN,P.info("Seeking to: "+ct),Le(),b.trigger(m.default.PLAYBACK_SEEKING,{seekTime:ct,streamId:ee.id})}function Gn(){P.info("Native video element event: seeked"),O=!1,b.trigger(m.default.PLAYBACK_SEEKED,{streamId:ee.id})}function Yn(){ee&&b.trigger(m.default.PLAYBACK_TIME_UPDATED,{timeToEnd:le(),time:oe(),streamId:ee.id})}function Bn(){b.trigger(m.default.PLAYBACK_PROGRESS,{streamId:ee.id})}function Nn(){const ct=ce();P.info("Native video element event: ratechange: ",ct),b.trigger(m.default.PLAYBACK_RATE_CHANGED,{playbackRate:ct})}function it(){P.info("Native video element event: loadedmetadata"),b.trigger(m.default.PLAYBACK_METADATA_LOADED),Le()}function Bt(){P.info("Native video element event: loadeddata"),b.trigger(m.default.PLAYBACK_LOADED_DATA)}function It(){P.info("Native video element event: ended"),Me(),je();const ct=Se?Se.getActiveStreamInfo():null;ct&&b.trigger(m.default.PLAYBACK_ENDED,{isLast:ct.isLast})}function Vt(){b.trigger(m.default.PLAYBACK_VOLUME_CHANGED)}function vn(ct){if(te&&ct.isLast){P.info("onPlaybackEnded -- PLAYBACK_ENDED but native video element didn't fire ended");const Kt=ct.seekTime?ct.seekTime:we();D.setCurrentTime(Kt),Me(),je()}}function At(ct){const Kt=ct.target||ct.srcElement;b.trigger(m.default.PLAYBACK_ERROR,{error:Kt.error})}function Ct(){M=!1}function wt(ct){b.trigger(m.default.PLAYBACK_STALLED,{e:ct})}function Pt(ct){var Kt;(Kt=ct.mediaInfo)&&Kt.supplementalProperties&&Kt.supplementalProperties.find(Zt=>Zt.schemeIdUri===p.default.SUPPLEMENTAL_PROPERTY_DVB_LL_SCHEME)&&(P.debug("Low Latency critical SupplementalProperty set: Enabling low Latency"),U=!0)}function Ve(ct){const Kt=Se.getActiveStreamInfo();ct&&Kt&&ct.currentRepresentation&&ct.streamId&&ct.streamId===Kt.id&&ct.mediaType&&(ct.mediaType===p.default.VIDEO||ct.mediaType===p.default.AUDIO)&&(U=ct.currentRepresentation.availabilityTimeComplete===!1,U&&!w&&(w=!0))}function lt(){H=!0}function Nt(){H=!1}return z={computeAndSetLiveDelay:function(ct,Kt){let Zt,ze,ut;const Qt=!isNaN(ct)&&isFinite(ct)?ct:NaN;let sn=_.getSuggestedPresentationDelay();const $n=he.getServiceDescriptionSettings();return Zt=isNaN(ge.get().streaming.delay.liveDelay)?ge.get().streaming.delay.liveDelayFragmentCount===null||isNaN(ge.get().streaming.delay.liveDelayFragmentCount)||isNaN(Qt)?$n&&!isNaN($n.liveDelay)&&$n.liveDelay>0?$n.liveDelay:ge.get().streaming.delay.useSuggestedPresentationDelay===!0&&sn!==null&&!isNaN(sn)&&sn>0?sn:isNaN(Qt)?Kt&&!isNaN(Kt.minBufferTime)?4*Kt.minBufferTime:4*ee.manifestInfo.minBufferTime:4*Qt:Qt*ge.get().streaming.delay.liveDelayFragmentCount:ge.get().streaming.delay.liveDelay,ut=_.getAvailabilityStartTime(),ut!==null&&(R=ut),ze=Kt&&Kt.dvrWindowSize>0?Math.min(Zt,Kt.dvrWindowSize):Zt,C=ze,J=ze,ze},getAvailabilityStartTime:function(){return R},getBufferLevel:function(ct=null){let Kt=null;return Se.getActiveStreamProcessors().forEach(Zt=>{if(!ct||ct.length===0||ct.indexOf(Zt.getType())===-1){const ze=Zt.getBufferLevel();Kt=Kt===null?ze:Math.min(Kt,ze)}}),Kt},getCurrentLiveLatency:function(){if(!M||isNaN(R))return NaN;let ct=oe();if(isNaN(ct)||ct===0)return 0;const Kt=new Date().getTime()+1e3*Y.getClientTimeOffset();return Math.max(((Kt-R-1e3*ct)/1e3).toFixed(3),0)},getEnded:se,getInitialCatchupModeActivated:function(){return w},getIsDynamic:Ae,getIsManifestUpdateInProgress:function(){return H},getLiveDelay:function(){return C},getLowLatencyModeEnabled:function(){return U},getOriginalLiveDelay:function(){return J},getPlaybackRate:ce,getPlaybackStalled:function(){return ae},getPlayedRanges:function(){return ee&&D?D.getPlayedRanges():null},getStreamController:function(){return Se},getStreamEndTime:we,getTime:oe,getTimeToStreamEnd:le,initialize:function(ct,Kt){ee=ct,Kt!==!0&&(D.addEventListener("canplay",at),D.addEventListener("canplaythrough",Tt),D.addEventListener("play",Yt),D.addEventListener("waiting",pn),D.addEventListener("playing",Ut),D.addEventListener("pause",dn),D.addEventListener("error",At),D.addEventListener("seeking",An),D.addEventListener("seeked",Gn),D.addEventListener("timeupdate",Yn),D.addEventListener("progress",Bn),D.addEventListener("ratechange",Nn),D.addEventListener("loadedmetadata",it),D.addEventListener("loadeddata",Bt),D.addEventListener("stalled",wt),D.addEventListener("ended",It),D.addEventListener("volumechange",Vt),M=ee.manifestInfo.isDynamic,ae=!1,O=!1,b.on(m.default.DATA_UPDATE_COMPLETED,Ue,z),b.on(m.default.MANIFEST_UPDATED,lt,z),b.on(m.default.STREAMS_COMPOSED,Nt,z),b.on(T.default.PLAYBACK_ENDED,vn,z,{priority:y.default.EVENT_PRIORITY_HIGH}),b.on(T.default.STREAM_INITIALIZING,Pt,z),b.on(T.default.REPRESENTATION_SWITCH,Ve,z),b.on(T.default.BUFFER_LEVEL_STATE_CHANGED,zt,z),b.on(T.default.DYNAMIC_TO_STATIC,Ct,z),re&&(re=!1,Ce()))},isPaused:ve,isProgressing:function(ct=500){return new Promise(Kt=>{let Zt=-1,ze=null;const ut=sn=>{clearTimeout(ze),ze=null,b.off(T.default.PLAYBACK_TIME_UPDATED,Qt,z),Kt(sn)},Qt=sn=>{Zt<0?Zt=sn.time:sn.time>Zt+.1&&ut(!0)};ze=setTimeout(()=>{ut(!1)},ct),b.on(T.default.PLAYBACK_TIME_UPDATED,Qt,z)})},isSeeking:de,isStalled:V,pause:Me,play:Ce,reset:ye,seek:Ke,seekToCurrentLive:function(ct=!1,Kt=!1,Zt=!1){const ze=Oe();ze!==0&&Ke(ze-C,ct,Kt,Zt)},seekToOriginalLive:function(ct=!1,Kt=!1,Zt=!1){const ze=Oe();ze!==0&&(C=J,Ke(ze-C,ct,Kt,Zt))},setConfig:function(ct){ct&&(ct.streamController&&(Se=ct.streamController),ct.serviceDescriptionController&&(he=ct.serviceDescriptionController),ct.dashMetrics&&(I=ct.dashMetrics),ct.adapter&&(_=ct.adapter),ct.videoModel&&(D=ct.videoModel),ct.timelineConverter&&(Y=ct.timelineConverter),ct.settings&&(ge=ct.settings))},updateCurrentTime:Re},P=(0,u.default)(S).getInstance().getLogger(z),ye(),z}fc.__dashjs_factory_name="PlaybackController";var au=n.default.getSingletonFactory(fc),ul=class{constructor(){this.availabilityEndTime=NaN,this.availabilityStartTime=NaN,this.duration=NaN,this.index=null,this.indexRange=null,this.isPartialSegment=!1,this.media=null,this.mediaRange=null,this.mediaUrl=null,this.mediaStartTime=NaN,this.presentationStartTime=NaN,this.replacementNumber=NaN,this.replacementTime=null,this.representation=null,this.wallStartTime=NaN}assignAttributes(S){for(let b in S)S.hasOwnProperty(b)&&this.hasOwnProperty(b)&&(this[b]=S[b])}},hc=class extends ul{constructor(){super()}};function lf(){const S=this.context;let b,_,R,I,w,z,O,M,q,G,C,P;function U(ae,fe,he,ge){let Se=null;const ee=ae?P.resolve(ae.path):null,Y=ge||{init:!0,url:ee?ee.url:void 0,range:{start:0,end:1500},searching:!1,bytesLoaded:0,bytesToLoad:1500,mediaType:fe,representation:ae};_.debug("Start searching for initialization.");const D=re(Y);O.load({request:D,success:function(te){if(Y.bytesLoaded=Y.range.end,Se=I.findInitRange(te),!Se)return Y.range.end=Y.bytesLoaded+Y.bytesToLoad,U(ae,fe,he,Y);ae.range=Se,he(ae)},error:function(){he(ae)}}),_.debug("Perform init search: "+Y.url)}function H(ae,fe,he,ge,Se,ee){if(he&&(he.start===void 0||he.end===void 0)){const Ce=he?he.toString().split("-"):null;he=Ce?{start:parseFloat(Ce[0]),end:parseFloat(Ce[1])}:null}Se=Se||J;let Y=null,D=null;const te=!!he,ye=ae?P.resolve(ae.path):null,le={init:!1,url:ye?ye.url:void 0,range:te?he:{start:0,end:1500},searching:!te,bytesLoaded:ee?ee.bytesLoaded:0,bytesToLoad:1500,mediaType:fe,representation:ae},we=re(le);O.load({request:we,success:function(Ce){const Me=le.bytesToLoad,Ke=Ce.byteLength;if(le.bytesLoaded=le.range.end-le.range.start,Y=I.parse(Ce),D=Y.getBox("sidx"),D&&D.isComplete){const Oe=D.references;let W,oe;if(Oe!=null&&Oe.length>0&&(W=Oe[0].reference_type===1),W){let ve,de,V,ce,se;_.debug("Initiate multiple SIDX load."),le.range.end=le.range.start+D.size;let Ae=[],Re=0,Le=(D.offset||le.range.start)+D.size;const je=function(Ue){Ue?(Ae=Ae.concat(Ue),Re++,Re>=de&&(Ae.sort(function(at,Tt){return at.startTime-Tt.startTime<0?-1:0}),Se(Ae,ae,ge))):Se(null,ae,ge)};for(ve=0,de=Oe.length;ve<de;ve++)V=Le,ce=Le+Oe[ve].referenced_size-1,Le+=Oe[ve].referenced_size,se={start:V,end:ce},H(ae,fe,se,ge,je,le)}else _.debug("Parsing segments from SIDX. representation "+fe+" - id: "+ae.id+" for range : "+le.range.start+" - "+le.range.end),oe=function(ve,de){const V=ve.references,ce=V.length,se=ve.timescale;let Ae=ve.earliest_presentation_time,Re=de.range.start+ve.offset+ve.first_offset+ve.size;const Le=[];let je,Ue,at,Tt;for(let zt=0;zt<ce;zt++)at=V[zt].subsegment_duration,Tt=V[zt].referenced_size,je=new hc,je.duration=at,je.startTime=Ae,je.timescale=se,Ue=Re+Tt-1,je.mediaRange=Re+"-"+Ue,Le.push(je),Ae+=at,Re+=Tt;return Le}(D,le),Se(oe,ae,ge)}else{if(D)le.range.start=D.offset||le.range.start,le.range.end=le.range.start+(D.size||Me);else{if(Ke<le.bytesLoaded)return void Se(null,ae,ge);{const Oe=Y.getLastBox();Oe&&Oe.size?(le.range.start=Oe.offset+Oe.size,le.range.end=le.range.start+Me):le.range.end+=Me}}H(ae,fe,le.range,ge,null,le)}},error:function(){Se(null,ae,ge)}}),_.debug(`Perform SIDX load for type ${fe} : ${le.url} with range ${le.range.start} - ${le.range.end}`)}function J(ae,fe,he){he({segments:ae,representation:fe,error:ae?void 0:new ln.default(M.SEGMENT_BASE_LOADER_ERROR_CODE,M.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})}function re(ae){if(!ae.url)return;const fe=new pe;return fe.setInfo(ae),fe}return b={setConfig:function(ae){ae.baseURLController&&(P=ae.baseURLController),ae.dashMetrics&&(w=ae.dashMetrics),ae.mediaPlayerModel&&(z=ae.mediaPlayerModel),ae.errHandler&&(R=ae.errHandler),ae.boxParser&&(I=ae.boxParser),ae.debug&&(_=ae.debug.getLogger(b)),ae.errors&&(M=ae.errors),ae.urlUtils&&(C=ae.urlUtils),ae.constants&&(q=ae.constants),ae.dashConstants&&(G=ae.dashConstants)},initialize:function(){O=yo(S).create({errHandler:R,dashMetrics:w,mediaPlayerModel:z,boxParser:I,errors:M,urlUtils:C,constants:q,dashConstants:G})},loadInitialization:function(ae,fe){return new Promise(he=>{U(ae,fe,he)})},loadSegments:function(ae,fe,he){return new Promise(ge=>{H(ae,fe,he,ge)})},reset:function(){O&&(O.abort(),O=null)}},b}lf.__dashjs_factory_name="SegmentBaseLoader";var cl=n.default.getSingletonFactory(lf);function su(S){let b;S=S||{};let _=new DataView(S.data),R=0;function I(z,O){let M,q,G=!0,C=0;if(O===void 0&&(O=!1),z.tag>16777215?(_.getUint32(R)!==z.tag&&(G=!1),C=4):z.tag>65535?(M=_.getUint16(R),q=_.getUint8(R+2),256*M+q!==z.tag&&(G=!1),C=3):z.tag>255?(_.getUint16(R)!==z.tag&&(G=!1),C=2):(_.getUint8(R)!==z.tag&&(G=!1),C=1),!G&&z.required&&!O)throw new Error("required tag not found");return G&&(R+=C),G}function w(z){let O=1,M=128,q=-1,G=0,C=_.getUint8(R),P=0;for(P=0;P<8;P+=1){if((C&M)===M){G=z===void 0?C&~M:C,q=P;break}M>>=1}for(P=0;P<q;P+=1,O+=1)G=G<<8|255&_.getUint8(R+O);return R+=O,G}return b={getPos:function(){return R},setPos:function(z){R=z},consumeTag:I,consumeTagAndSize:function(z,O){let M=I(z,O);return M&&w(),M},parseTag:function(z){let O;return I(z),O=w(),b[z.parse](O)},skipOverElement:function(z,O){let M,q=I(z,O);return q&&(M=w(),R+=M),q},getMatroskaCodedNum:w,getMatroskaFloat:function(z){let O;switch(z){case 4:O=_.getFloat32(R),R+=4;break;case 8:O=_.getFloat64(R),R+=8}return O},getMatroskaUint:function(z){if(z>4)return function(M){const q=Math.floor(Number.MAX_SAFE_INTEGER/256);let G=0;for(let C=0;C<M;C+=1){if(G>q)throw new Error("Value exceeds safe integer limit");G*=256;const P=_.getUint8(R+C);if(G>Number.MAX_SAFE_INTEGER-P)throw new Error("Value exceeds safe integer limit");G+=P}return R+=M,G}(z);let O=0;for(let M=0;M<z;M+=1)O<<=8,O|=255&_.getUint8(R+M);return R+=z,O>>>0},moreData:function(){return R<_.byteLength}},b}su.__dashjs_factory_name="EBMLParser";var uf=n.default.getClassFactory(su);function gc(){const S=this.context;let b,_,R,I,w,z,O,M,q;function G(C){const P=new pe;return P.setInfo(C),P}return b={setConfig:function(C){if(!(C.baseURLController&&C.dashMetrics&&C.mediaPlayerModel&&C.errHandler))throw new Error(p.default.MISSING_CONFIG_ERROR);q=C.baseURLController,w=C.dashMetrics,z=C.mediaPlayerModel,I=C.errHandler,M=C.errors,_=C.debug.getLogger(b)},initialize:function(){O=yo(S).create({errHandler:I,dashMetrics:w,mediaPlayerModel:z,errors:M})},loadInitialization:function(C,P){return new Promise(U=>{let H=null,J=C?q.resolve(C.path):null,re=C?C.range.split("-"):null,ae={range:{start:re?parseFloat(re[0]):null,end:re?parseFloat(re[1]):null},request:H,url:J?J.url:void 0,init:!0,mediaType:P};_.info("Start loading initialization."),H=G(ae),O.load({request:H,success:function(){U(C)},error:function(){U(C)}}),_.debug("Perform init load: "+ae.url)})},loadSegments:function(C,P,U){return new Promise(H=>{let J=null,re=C?q.resolve(C.path):null,ae=re?re.url:void 0;J=G({bytesLoaded:0,bytesToLoad:8192,range:{start:0,end:8192},request:J,url:ae,init:!1,mediaType:P,representation:C}),_.debug("Parsing ebml header"),O.load({request:J,success:function(fe){(function(he,ge,Se,ee){if(!he||he.byteLength===0)return void ee(null);let Y,D,te,ye,le=uf(S).create({data:he}),we=Se?Se.split("-"):null,Ce=null,Me={url:ge,range:{start:we?parseFloat(we[0]):null,end:we?parseFloat(we[1]):null},request:Ce};for(_.debug("Parse EBML header: "+Me.url),le.skipOverElement(R.EBML),le.consumeTag(R.Segment),te=le.getMatroskaCodedNum(),te+=le.getPos(),ye=le.getPos();le.moreData()&&!le.consumeTagAndSize(R.Segment.Info,!0);)if(!(le.skipOverElement(R.Segment.SeekHead,!0)||le.skipOverElement(R.Segment.Tracks,!0)||le.skipOverElement(R.Segment.Cues,!0)||le.skipOverElement(R.Void,!0)))throw new Error("no valid top level element found");for(;Y===void 0;){let Ke=le.getMatroskaCodedNum(!0),Oe=le.getMatroskaCodedNum();Ke===R.Segment.Info.Duration.tag?Y=le[R.Segment.Info.Duration.parse](Oe):le.setPos(le.getPos()+Oe)}Ce=G(Me),O.load({request:Ce,success:function(Ke){D=function(Oe,W,oe,ve){let de,V,ce,se,Ae,Re,Le,je;for(V=function(Ue){let at,Tt,zt=[],Yt=uf(S).create({data:Ue});for(Yt.consumeTagAndSize(R.Segment.Cues);Yt.moreData()&&Yt.consumeTagAndSize(R.Segment.Cues.CuePoint,!0);){for(at={},at.CueTime=Yt.parseTag(R.Segment.Cues.CuePoint.CueTime),at.CueTracks=[];Yt.moreData()&&Yt.consumeTag(R.Segment.Cues.CuePoint.CueTrackPositions,!0);){const pn=Yt.getMatroskaCodedNum(),Ut=Yt.getPos();if(Tt={},Tt.Track=Yt.parseTag(R.Segment.Cues.CuePoint.CueTrackPositions.CueTrack),Tt.Track===0)throw new Error("Cue track cannot be 0");Tt.ClusterPosition=Yt.parseTag(R.Segment.Cues.CuePoint.CueTrackPositions.CueClusterPosition),at.CueTracks.push(Tt),Yt.setPos(Ut+pn)}if(at.CueTracks.length===0)throw new Error("Mandatory cuetrack not found");zt.push(at)}if(zt.length===0)throw new Error("mandatory cuepoint not found");return zt}(Oe),ce=[],Ae=0,Re=V.length;Ae<Re;Ae+=1)se=new hc,de=0,de=Ae<V.length-1?V[Ae+1].CueTime-V[Ae].CueTime:ve-V[Ae].CueTime,se.duration=de,se.startTime=V[Ae].CueTime,se.timescale=1e3,Le=V[Ae].CueTracks[0].ClusterPosition+W,je=Ae<V.length-1?V[Ae+1].CueTracks[0].ClusterPosition+W-1:oe-1,se.mediaRange=Le+"-"+je,ce.push(se);return _.debug("Parsed cues: "+ce.length+" cues."),ce}(Ke,ye,te,Y),ee(D)},error:function(){_.error("Download Error: Cues "+Me.url),ee(null)}}),_.debug("Perform cues load: "+Me.url+" bytes="+Me.range.start+"-"+Me.range.end)})(fe,ae,U,function(he){H({segments:he,representation:C,error:he?void 0:new ln.default(M.SEGMENT_BASE_LOADER_ERROR_CODE,M.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})})},error:function(){H({representation:C,error:new ln.default(M.SEGMENT_BASE_LOADER_ERROR_CODE,M.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})}})})},reset:function(){O&&(O.abort(),O=null)}},R={EBML:{tag:440786851,required:!0},Segment:{tag:408125543,required:!0,SeekHead:{tag:290298740,required:!0},Info:{tag:357149030,required:!0,TimecodeScale:{tag:2807729,required:!0,parse:"getMatroskaUint"},Duration:{tag:17545,required:!0,parse:"getMatroskaFloat"}},Tracks:{tag:374648427,required:!0},Cues:{tag:475249515,required:!0,CuePoint:{tag:187,required:!0,CueTime:{tag:179,required:!0,parse:"getMatroskaUint"},CueTrackPositions:{tag:183,required:!0,CueTrack:{tag:247,required:!0,parse:"getMatroskaUint"},CueClusterPosition:{tag:241,required:!0,parse:"getMatroskaUint"}}}}},Void:{tag:236,required:!0}},b}gc.__dashjs_factory_name="WebmSegmentBaseLoader";var cf=n.default.getSingletonFactory(gc);function Ss(S){S=S||{};const b=this.context,_=S.eventBus,R=S.events,I=S.dashMetrics,w=S.mediaPlayerModel,z=S.errHandler,O=S.baseURLController,M=S.debug,q=S.boxParser,G=S.errors;let C,P,U;function H(J){return(J?J.split("/")[1]:"").toLowerCase()==="webm"}return C={initialize:function(){P.initialize(),U.initialize()},getSegmentBaseInitSegment:function(J){return H(J.representation.mimeType)?U.loadInitialization(J.representation,J.mediaType):P.loadInitialization(J.representation,J.mediaType)},getSegmentList:function(J){return H(J.mimeType)?U.loadSegments(J.representation,J.mediaType,J.representation?J.representation.indexRange:null):P.loadSegments(J.representation,J.mediaType,J.representation?J.representation.indexRange:null)},reset:function(){P.reset(),U.reset()}},P=cl(b).getInstance(),U=cf(b).getInstance(),P.setConfig({baseURLController:O,dashMetrics:I,mediaPlayerModel:w,errHandler:z,eventBus:_,events:R,errors:G,debug:M,boxParser:q}),U.setConfig({baseURLController:O,dashMetrics:I,mediaPlayerModel:w,errHandler:z,eventBus:_,events:R,errors:G,debug:M}),C}Ss.__dashjs_factory_name="SegmentBaseController";var hr=n.default.getSingletonFactory(Ss);const zr=[p.default.SERVICE_DESCRIPTION_DVB_LL_SCHEME],oi="video",ou="audio";function xo(){const S=this.context;let b,_,R,I,w;function z(){_={liveDelay:NaN,liveCatchup:{maxDrift:NaN,playbackRate:{min:NaN,max:NaN}},minBitrate:{},maxBitrate:{},initialBitrate:{},contentSteering:null,clientDataReporting:null},R=[]}function O(M,q,G){try{_[M][q]=G/1e3}catch(C){I.error(C)}}return b={getServiceDescriptionSettings:function(){return _},getProducerReferenceTimeOffsets:function(){return R},calculateProducerReferenceTimeOffsets:function(M){try{let q=[];if(M&&M.length>0){const G=[p.default.VIDEO,p.default.AUDIO,p.default.TEXT],C=w.getAvailabilityStartTime()/1e3;M.forEach(P=>{const U=G.reduce((H,J)=>H.concat(w.getAllMediaInfoForType(P,J)),[]).reduce((H,J)=>(w.getProducerReferenceTimes(P,J).forEach(re=>{const ae=w.getVoRepresentations(J);if(ae&&ae.length>0&&ae[0].adaptation&&ae[0].segmentInfoType===De.default.SEGMENT_TEMPLATE){const fe=ae[0],he=new Date(re[De.default.WALL_CLOCK_TIME]).getTime()/1e3-(re[De.default.PRESENTATION_TIME]/fe[De.default.TIMESCALE]-fe[De.default.PRESENTATION_TIME_OFFSET]+P.start),ge=C-he;H.push({id:re[De.default.ID],to:ge})}}),H),[]);q=q.concat(U)})}R=q}catch(q){I.error(q),R=[]}},applyServiceDescription:function(M){if(!M||!M.serviceDescriptions)return;const q=M.serviceDescriptions.filter(P=>zr.includes(P.schemeIdUri)),G=M.serviceDescriptions.filter(P=>P.schemeIdUri==null);let C=q.length>0?q[q.length-1]:G[G.length-1];C&&(C.latency&&C.latency.target>0&&function(P){let U;if(P.schemeIdUri,p.default.SERVICE_DESCRIPTION_DVB_LL_SCHEME,U=function(H){return{liveDelay:H.latency.target/1e3,maxDrift:!isNaN(H.latency.max)&&H.latency.max>H.latency.target?(H.latency.max-H.latency.target+500)/1e3:NaN,referenceId:H.latency.referenceId||NaN}}(P),R.length>0){let{to:H,id:J}=function(re){let ae,fe=0,he=R.filter(ge=>ge.id===re.referenceId);return he.length===0?(fe=R.length>0?R[0].to:0,ae=R[0].id||NaN):(fe=he[0].to||0,ae=he[0].id||NaN),{to:fe,id:ae}}(U);_.liveDelay=U.liveDelay-H,_.liveCatchup.maxDrift=U.maxDrift,I.debug(`
                Found latency properties coming from service description. Applied time offset of ${H} from ProducerReferenceTime element with id ${J}.
                Live Delay: ${U.liveDelay-H}, Live catchup max drift: ${U.maxDrift}
            `)}else _.liveDelay=U.liveDelay,_.liveCatchup.maxDrift=U.maxDrift,I.debug(`Found latency properties coming from service description: Live Delay: ${U.liveDelay}, Live catchup max drift: ${U.maxDrift}`)}(C),C.playbackRate&&function(P){const U=P.playbackRate.min?Math.round(1e3*(P.playbackRate.min-1))/1e3:NaN,H=P.playbackRate.max?Math.round(1e3*(P.playbackRate.max-1))/1e3:NaN;_.liveCatchup.playbackRate.min=U,_.liveCatchup.playbackRate.max=H,I.debug(`Found latency properties coming from service description: Live catchup min playback rate: ${U}`),I.debug(`Found latency properties coming from service description: Live catchup max playback rate: ${H}`)}(C),C.operatingQuality,C.operatingBandwidth&&function(P){if(!P||!P.operatingBandwidth||!P.operatingBandwidth.mediaType||P.operatingBandwidth.mediaType==="all")return;const U={};U.minBandwidth=P.operatingBandwidth.min,U.maxBandwidth=P.operatingBandwidth.max,U.targetBandwidth=P.operatingBandwidth.target;const H=[];P.operatingBandwidth.mediaType===oi||P.operatingBandwidth.mediaType===ou?H.push(P.operatingBandwidth.mediaType):P.operatingBandwidth.mediaType==="any"&&(H.push(ou),H.push(oi)),H.forEach(J=>{isNaN(U.minBandwidth)||O("minBitrate",J,U.minBandwidth),isNaN(U.maxBandwidth)||O("maxBitrate",J,U.maxBandwidth),isNaN(U.targetBandwidth)||O("initialBitrate",J,U.targetBandwidth)})}(C),C.contentSteering&&function(P){_.contentSteering=P.contentSteering}(C),C.clientDataReporting&&function(P){_.clientDataReporting=P.clientDataReporting}(C))},reset:function(){z()},setConfig:function(M){M&&M.adapter&&(w=M.adapter)}},I=(0,u.default)(S).getInstance().getLogger(b),z(),b}xo.__dashjs_factory_name="ServiceDescriptionController";var Io=n.default.getSingletonFactory(xo);class mc{constructor(b){this._ranges=[];for(const _ of b){const R=this._ranges,I={start:_.start,end:_.end},w=R.length?R[R.length-1]:null;!w||I.start>w.end?R.push(I):w.end=I.end}}get length(){return this._ranges.length}start(b){return this._ranges[b].start}end(b){return this._ranges[b].end}}var dl=class{constructor(S,b){this.eventBus=b,this.mimeType=S,this.updating=!1,this.chunks=[],this.appendWindowStart=0,this.appendWindowEnd=1/0,this.timestampOffset=0,this.mode="segments"}appendBuffer(S,b,_){if(this.updating)throw new Error("SourceBuffer is currently updating");this.updating=!0,this.eventBus.trigger("externalSourceBufferUpdateStart",{mimeType:this.mimeType,request:"appendBuffer",data:S,start:b,end:_}),Number.isNaN(b)||(this.chunks.push({data:S,start:b,end:_}),this.chunks.sort((R,I)=>R.start-I.start)),setTimeout(()=>{this.updating=!1,this.eventBus.trigger("externalSourceBufferUpdating",{mimeType:this.mimeType}),this.eventBus.trigger("externalSourceBufferUpdateEnd",{mimeType:this.mimeType})},10)}abort(){this.updating&&(this.updating=!1,this.eventBus.trigger("externalSourceBufferAbort",{mimeType:this.mimeType}),this.eventBus.trigger("externalSourceBufferUpdateEnd",{mimeType:this.mimeType}))}remove(S,b){if(this.updating)throw new Error("SourceBuffer is currently updating");this.updating=!0,this.eventBus.trigger("externalSourceBufferUpdateStart",{mimeType:this.mimeType,request:"remove",start:S,end:b}),this.chunks=this.chunks.filter(_=>_.end<=S||_.start>=b),setTimeout(()=>{this.updating=!1,this.eventBus.trigger("externalSourceBufferUpdating",{mimeType:this.mimeType}),this.eventBus.trigger("externalSourceBufferUpdateEnd",{mimeType:this.mimeType})},10)}get buffered(){return new mc(this.chunks)}};function wo(S){const b=this.context,_=(0,d.default)(b).getInstance(),R=S.textController,I=S.eventBus;let w,z,O,M,q,G,C=[],P=[],U=!1,H=S.mediaSource,J=null;function re(le){return le.mimeType+';codecs="'+le.codecs+'"'}function ae(le){return M=R.getTextSourceBuffer(le),Promise.resolve()}function fe(){if(typeof M.addEventListener=="function")try{M.addEventListener("updateend",D,!1),M.addEventListener("error",te,!1),M.addEventListener("abort",te,!1)}catch{G=setInterval(D,50)}else G=setInterval(D,50)}function he(){try{typeof M.removeEventListener=="function"&&(M.removeEventListener("updateend",D,!1),M.removeEventListener("error",te,!1),M.removeEventListener("abort",te,!1)),clearInterval(G)}catch(le){O.error(le)}}function ge(le){return new Promise(we=>{M&&_.get().streaming.buffer.useAppendWindow?ye(()=>{try{if(!M)return void we();let Ce=H.duration,Me=0;le&&!isNaN(le.start)&&!isNaN(le.duration)&&isFinite(le.duration)&&(Ce=le.start+le.duration),le&&!isNaN(le.start)&&(Me=le.start),M.appendWindowEnd===Ce&&M.appendWindowStart===Me||(M.appendWindowStart=0,M.appendWindowEnd=Ce+.01,M.appendWindowStart=Math.max(Me-.1,0),O.debug(`Updated append window for ${q.type}. Set start to ${M.appendWindowStart} and end to ${M.appendWindowEnd}`)),we()}catch{O.warn("Failed to set append window"),we()}}):we()})}function Se(le){return new Promise(we=>{M?ye(()=>{try{M.timestampOffset===le||isNaN(le)||(M.timestampOffset=le,O.debug(`Set MSE timestamp offset to ${le}`)),we()}catch{we()}}):we()})}function ee(){if(!U&&P.length>0){U=!0;const le=P[0];P.splice(0,1);const we=function(){U=!1,P.length>0&&ee.call(this),le&&le.data&&le.data.segmentType&&le.data.segmentType!==Te.HTTPRequest.INIT_SEGMENT_TYPE&&delete le.data.bytes,le.promise.resolve({chunk:le.data})};try{if(J=le.request,le.data.bytes.byteLength===0)we.call(this);else{try{O.debug(`Appending ${le.data.segmentType} from period ${le.data.streamId} to buffer. Request URL: ${le.request.url}, Representation: ID: ${le.data.representation.id}, bitrate: ${le.data.representation.bitrateInKbit}`)}catch{}M instanceof dl?M.appendBuffer(le.data.bytes,le.data.start,le.data.end):M.appendBuffer?M.appendBuffer(le.data.bytes):M.append(le.data.bytes,le.data),ye(we.bind(this))}}catch(Ce){O.fatal('SourceBuffer append failed "'+Ce+'"'),P.length>0?ee():U=!1,delete le.data.bytes,le.promise.reject({chunk:le.data,error:new ln.default(Ce.code,Ce.message)})}}}function Y(){C.length>0&&!M.updating&&(C.shift()(),Y())}function D(){M.updating||Y()}function te(le){const we=le.target||{};(function(Ce,Me){let Ke=Me||{};I.trigger(Ce,Ke,{streamId:q.streamInfo.id,mediaType:z})})(m.default.SOURCE_BUFFER_ERROR,{error:we,lastRequestAppended:J})}function ye(le){try{C.push(le),M&&!M.updating&&Y()}catch(we){O.error(we)}}return w={abort:function(){return new Promise(le=>{try{P=[],H.readyState==="open"?ye(()=>{try{M&&M.abort(),le()}catch{le()}}):(M&&M.setTextTrack&&H.readyState==="ended"&&M.abort(),le())}catch{le()}})},abortBeforeAppend:function(){return new Promise(le=>{ye(()=>{const we=M.appendWindowStart,Ce=M.appendWindowEnd;M&&(M.abort(),M.appendWindowStart=we,M.appendWindowEnd=Ce),le()})})},append:function(le,we=null){return new Promise((Ce,Me)=>{le?(P.push({data:le,promise:{resolve:Ce,reject:Me},request:we}),ye(ee.bind(this))):Me({chunk:le,error:new ln.default(Tn.APPEND_ERROR_CODE,Tn.APPEND_ERROR_MESSAGE)})})},changeType:function(le){const we=re(le);return new Promise(Ce=>{ye(()=>{M.changeType&&(O.debug(`Changing SourceBuffer codec to ${we}`),M.changeType(we)),Ce()})})},getAllBufferRanges:function(){try{return M==null?void 0:M.buffered}catch(le){return O.error("getAllBufferRanges exception: "+le.message),null}},getBuffer:function(){return M},getType:function(){return z},initializeForFirstUse:function(le,we){q=le;const Ce=le.streamInfo;z=q.type;const Me=we?re(we):le.codec;try{if(Me.match(/application\/mp4;\s*codecs="(stpp|wvtt).*"/i))return ae(Ce);M=H.addSourceBuffer(Me),fe();const Ke=[];return Ke.push(ge(q.streamInfo)),we&&we.mseTimeOffset!==void 0&&Ke.push(Se(we.mseTimeOffset)),Promise.all(Ke)}catch(Ke){return q.type==p.default.TEXT&&!q.isFragmented||Me.indexOf('codecs="stpp')!==-1||Me.indexOf('codecs="vtt')!==-1||Me.indexOf("text/vtt")!==-1?ae(Ce):Promise.reject(Ke)}},initializeForStreamSwitch:function(le,we,Ce){q=le,z=q.type,function(Me){M=Me.getBuffer()}(Ce),fe()},remove:function(le){return new Promise((we,Ce)=>{const Me=le.start,Ke=le.end;Me>=0&&Ke>Me?ye(function(){try{M.remove(Me,Ke),ye(function(){we({from:Me,to:Ke,unintended:!1}),le.resolve&&le.resolve()})}catch(Oe){Ce({from:Me,to:Ke,unintended:!1,error:new ln.default(Tn.REMOVE_ERROR_CODE,Tn.REMOVE_ERROR_MESSAGE)}),le.reject&&le.reject(Oe)}}):we()})},removeEventListeners:he,reset:function(){if(M){try{C=[],he(),U=!1,P=[],M.getClassName&&M.getClassName()==="TextSourceBuffer"||(O.debug("Removing sourcebuffer from media source"),H.removeSourceBuffer(M))}catch{}M=null}J=null},updateAppendWindow:ge,updateTimestampOffset:Se},O=(0,u.default)(b).getInstance().getLogger(w),w}wo.__dashjs_factory_name="SourceBufferSink";var Eg=n.default.getClassFactory(wo);function ii(S){const b=this.context;let _,R,I,w=[],z=S;function O(M,q){return w=w.filter(G=>!((isNaN(q)||G.start<q)&&(isNaN(M)||G.end>M))),Promise.resolve()}return _={getAllBufferRanges:function(){let M=[];for(let G=0;G<w.length;G++){let C=w[G];M.length===0||C.start>M[M.length-1].end?M.push({start:C.start,end:C.end}):M[M.length-1].end=C.end}const q={start:function(G){return M[G].start},end:function(G){return M[G].end}};return Object.defineProperty(q,"length",{get:function(){return M.length}}),q},append:function(M){return M.segmentType!=="InitializationSegment"?(w.push(M),w.sort(function(q,G){return q.start-G.start}),I=null):I=M,R.debug("PreBufferSink appended chunk s: "+M.start+"; e: "+M.end),z&&z({chunk:M}),Promise.resolve()},remove:O,abort:function(){return Promise.resolve()},discharge:function(M,q){const G=function(C,P){return w.filter(U=>(isNaN(P)||U.start<P)&&(isNaN(C)||U.end>C))}(M,q);return I&&(G.push(I),I=null),O(M,q),G},reset:function(){w=[],I=null,z=null},updateTimestampOffset:function(){return Promise.resolve()},waitForUpdateEnd:function(M){M()},getBuffer:function(){return this}},R=(0,u.default)(b).getInstance().getLogger(_),_}ii.__dashjs_factory_name="PreBufferSink";var df=n.default.getClassFactory(ii);function pc(){let S={};return{save:function(b){const _=b.streamId,R=b.representation.id;S[_]=S[_]||{},S[_][R]=b},extract:function(b,_){return S&&S[b]&&S[b][_]?S[b][_]:null},reset:function(){S={}}}}pc.__dashjs_factory_name="InitCache";var yc=n.default.getSingletonFactory(pc);const bc=.01,vg="BufferController";function Ec(S){const b=(S=S||{}).capabilities,_=this.context,R=(0,y.default)(_).getInstance(),I=S.fragmentModel,w=S.playbackController,z=S.representationController,O=S.settings,M=S.streamInfo,q=S.textController,G=S.type;let C,P,U,H,J,re,ae,fe,he,ge,Se,ee,Y,D,te,ye,le,we,Ce,Me,Ke;function Oe(Ve,lt=null){return new Promise((Nt,ct)=>{re=Ve,he&&lt&&typeof he.discharge=="function"?(ge=he,W(lt).then(()=>{Nt()}).catch(Kt=>{ct(Kt)})):Nt()})}function W(Ve,lt=new Map,Nt){return new Promise((ct,Kt)=>{we&&Ve?re?(Se=!1,function(Zt,ze,ut){return new Promise(Qt=>{he=Eg(_).create({mediaSource:re,textController:q,eventBus:R}),function(sn,$n,St){const hn=z.getCurrentRepresentation();let On=null;return G!==p.default.VIDEO&&G!==p.default.AUDIO||(On=$n.get(G)),On?function(kn,Xn,Fn,yr){he.initializeForStreamSwitch(kn,Xn,Fn);const wr=[];return wr.push(he.abortBeforeAppend()),wr.push(it()),wr.push(Ae(Xn,yr)),Xn&&Xn.mseTimeOffset!==void 0&&wr.push(Nn(Xn)),Promise.allSettled(wr)}(sn,hn,On,St):function(kn,Xn){return he.initializeForFirstUse(kn,Xn)}(sn,hn)}(Zt,ze,ut).then(()=>Nn(z.getCurrentRepresentation())).then(()=>{Qt(he)}).catch(sn=>{P.warn("Caught error on create SourceBuffer: "+sn),Qt(he)})})}(Ve,lt,Nt).then(Zt=>{ct(Zt)}).catch(Zt=>{Kt(Zt)})):(Se=!0,function(){return new Promise((Zt,ze)=>{he=df(_).create(ce.bind(this)),Nn(z.getCurrentRepresentation()).then(()=>{Zt(he)}).catch(()=>{ze()})})}().then(Zt=>{ct(Zt)}).catch(Zt=>{Kt(Zt)})):ct(null)})}function oe(Ve){O.get().streaming.cacheInitSegments&&(P.info("Init fragment finished loading saving to",G+"'s init cache"),we.save(Ve.chunk)),P.debug(`Appending init fragment for type ${G}, representationId ${Ve.chunk.representation.id} and bandwidth ${Ve.chunk.representation.bandwidth}`),de(Ve.chunk)}function ve(Ve){de(Ve.chunk,Ve.request)}function de(Ve,lt=null){he&&(he.append(Ve,lt).then(Nt=>{ce(Nt)}).catch(Nt=>{ce(Nt)}),Ve.representation.mediaInfo.type===p.default.VIDEO&&wt(m.default.VIDEO_CHUNK_RECEIVED,{chunk:Ve}))}function V(Ve){if(Ve&&Ve.length>0)for(let lt=0,Nt=Ve.length;lt<Nt;lt++)P.debug("Buffered range: "+Ve.start(lt)+" - "+Ve.end(lt)+", currentTime = ",w.getTime())}function ce(Ve){if(Ve.error)return Ve.error.code===22&&function(){if(le=!0,J=.8*vn(),P.warn("Quota exceeded, Critical Buffer: "+J),J>0){const ct=Math.max(.2*J,1),Kt=J-ct,Zt=Math.min(O.get().streaming.buffer.bufferTimeAtTopQuality,.9*Kt),ze=Math.min(O.get().streaming.buffer.bufferTimeAtTopQualityLongForm,.9*Kt),ut={streaming:{buffer:{bufferToKeep:parseFloat(ct.toFixed(5)),bufferTimeAtTopQuality:parseFloat(Zt.toFixed(5)),bufferTimeAtTopQualityLongForm:parseFloat(ze.toFixed(5))}}};O.update(ut)}}(),void(Ve.error.code!==22&&Ct()||(P.warn("Clearing playback buffer to overcome quota exceed situation"),wt(m.default.QUOTA_EXCEEDED,{criticalBufferLevel:J,quotaExceededTime:Ve.chunk.start}),Gn(An())));if(!he||(zt(),le=!1,D=Ve.chunk,!D||!D.endFragment))return;D&&!isNaN(D.index)&&(ae=Math.max(D.index,ae),Yt());const lt=he.getAllBufferRanges();D.segmentType===Te.HTTPRequest.MEDIA_SEGMENT_TYPE&&(V(lt),je(),function(){if(isNaN(Ke)||Se)return;if(G!==p.default.AUDIO&&G!==p.default.VIDEO)return void(Ke=NaN);const ct=w.getTime(),Kt=Tt(ct,0),Zt=Tt(Ke,0);if(Kt&&Zt&&Kt.start===Zt.start)return void(Ke=NaN);const ze=z.getCurrentRepresentation().segmentDuration,ut=Tt(Ke,ze);ut&&(O.get().streaming.buffer.enableSeekDecorrelationFix&&Math.abs(ct-Ke)>ze?Ke<=ut.end&&w.seek(Math.max(Ke,ut.start),!1,!0):ct<ut.start&&w.seek(ut.start,!1,!0))}());let Nt=!1;ee&&(ee.indexOf(D)>0&&(Nt=!0),ee=null),D&&!Nt&&wt(m.default.BYTES_APPENDED_END_FRAGMENT,{startTime:D.start,index:D.index,bufferedRanges:lt,segmentType:D.segmentType,mediaType:G,representationId:D.representation.id})}function se(Ve,lt){const Nt=[];return Nt.push(Nn(Ve)),Nt.push(he?he.abort():Promise.resolve()),Nt.push(Ae(Ve,lt)),Promise.allSettled(Nt)}function Ae(Ve,lt){if(!Ve||!lt)return P.warn("BufferController._changeCodec() is missing the information about the Representations. Doing nothing"),Promise.resolve();if(Ve&&lt&&Ve.mimeType===lt.mimeType&&Ve.codecFamily===lt.codecFamily)return P.debug(`Switching to new codec ${Ve.codecs} without changeType as previous codec ${lt.codecs} is compatible.`),Promise.resolve();if(!O.get().streaming.buffer.useChangeType||!b.supportsChangeType())return P.debug("changeType() not available"),Promise.resolve();P.debug(`Using changeType() to switch from codec ${lt.codecs} to ${Ve.codecs}`);const Nt=Ve.dependentRepresentation?Ve.dependentRepresentation:Ve;return he.changeType(Nt)}function Re(){return new Promise((Ve,lt)=>{let Nt=Le();if(!Nt||Nt.length===0)return je(),void Ve();Gn(Nt).then(()=>{Ve()}).catch(ct=>{lt(ct)})})}function Le(Ve){const lt=[],Nt=he.getAllBufferRanges();if(!Nt||Nt.length===0)return lt;if(!Ve&&Ve!==0||isNaN(Ve))lt.push({start:Nt.start(0),end:Nt.end(Nt.length-1)+.5});else{const ct=function(Zt,ze){const ut=O.get().streaming.buffer.bufferToKeep,Qt=ze.start(0);if(Zt-Qt>ut){let sn=Math.max(0,Zt-ut);const $n=I.getRequests({state:We.FRAGMENT_MODEL_EXECUTED,time:Zt,threshold:bc})[0];if($n&&(sn=Math.min($n.startTime,sn)),sn>0)return{start:Qt,end:sn}}return null}(Ve,Nt),Kt=function(Zt,ze){const ut=ze.end(ze.length-1)+.5,Qt=At(Zt),sn=M.manifestInfo.duration>=O.get().streaming.buffer.longFormContentDurationThreshold?O.get().streaming.buffer.bufferTimeAtTopQualityLongForm:O.get().streaming.buffer.bufferTimeAtTopQuality;let $n=isNaN(Qt)?Zt:Math.min(Qt,Zt+sn);if($n>=ze.end(ze.length-1))return null;const St=I.getRequests({state:We.FRAGMENT_MODEL_EXECUTED,time:Zt,threshold:bc})[0];if(St&&($n=Math.max(St.startTime+St.duration,$n)),O.get().streaming.buffer.avoidCurrentTimeRangePruning){for(let hn=0;hn<ze.length;hn++)if(ze.start(hn)<=Zt&&Zt<=ze.end(hn)&&ze.start(hn)<=$n&&$n<=ze.end(hn)){let On=$n;$n=hn+1<ze.length?ze.start(hn+1):ze.end(hn)+1,P.debug("Buffered range ["+ze.start(hn)+", "+ze.end(hn)+"] overlaps with targetTime "+Zt+" and range to be pruned ["+On+", "+ut+"], using ["+$n+", "+ut+"] instead"+($n<ut?"":" (no actual pruning)"));break}}return $n<ze.end(ze.length-1)?{start:$n,end:ut}:null}(Ve,Nt);ct&&lt.push(ct),Kt&&lt.push(Kt)}return lt}function je(){(!Me||G===p.default.TEXT&&q.isTextEnabled())&&zt()}function Ue(){pn()}function at(){pn(),Ke=NaN}function Tt(Ve,lt){if(!he)return null;const Nt=he.getAllBufferRanges();let ct,Kt,Zt=0,ze=0,ut=null,Qt=null,sn=0;const $n=isNaN(lt)?.15:lt;if(Nt!=null){for(Kt=0,ct=Nt.length;Kt<ct;Kt++)if(Zt=Nt.start(Kt),ze=Nt.end(Kt),ut===null)sn=Math.abs(Zt-Ve),(Ve>=Zt&&Ve<ze||sn<=$n)&&(ut=Zt,Qt=ze);else{if(sn=Zt-Qt,!(sn<=$n))break;Qt=ze}if(ut!==null)return{start:ut,end:Qt}}return null}function zt(){if(w){let Ve=w.getTime()||0;Se&&(Ve=isNaN(Ke)?0:Ke);const lt=O.get().streaming.gaps.jumpGaps&&!isNaN(O.get().streaming.gaps.smallGapLimit)?O.get().streaming.gaps.smallGapLimit:NaN;H=Math.max(function(Nt,ct){let Kt,Zt;return O.get().streaming.gaps.jumpGaps&&(ct=O.get().streaming.gaps.smallGapLimit),Kt=Tt(Nt,ct),Zt=Kt===null?0:Kt.end-Nt,Zt}(Ve,lt),0),wt(m.default.BUFFER_LEVEL_UPDATED,{mediaType:G,bufferLevel:H}),pn()}}function Yt(){const Ve=ae>=fe-1,lt=w.getTimeToStreamEnd(M)-H<1e-5;!Ve&&!lt||U||(Vt(!0),P.debug(`checkIfBufferingCompleted trigger BUFFERING_COMPLETED for stream id ${M.id} and type ${G}`))}function pn(){if(G!==p.default.AUDIO&&G!==p.default.VIDEO)return;const Ve=w.getLowLatencyModeEnabled()?O.get().streaming.buffer.lowLatencyStallThreshold:O.get().streaming.buffer.stallThreshold;H<=Ve&&!U?Ut(o.BUFFER_EMPTY):(U||H>Ve)&&Ut(o.BUFFER_LOADED)}function Ut(Ve){Y===Ve||Ve===o.BUFFER_EMPTY&&w.getTime()===0||G===p.default.TEXT&&!q.isTextEnabled()||(Y=Ve,wt(m.default.BUFFER_LEVEL_STATE_CHANGED,{state:Ve}),wt(Ve===o.BUFFER_LOADED?m.default.BUFFER_LOADED:m.default.BUFFER_EMPTY),P.debug(Ve===o.BUFFER_LOADED?"Got enough buffer to start":"Waiting for more buffer before starting playback"))}function dn(){he&&G!==p.default.TEXT&&(U||Gn(An()))}function An(){const Ve=[],lt=he.getAllBufferRanges();if(!lt||lt.length===0)return Ve;const Nt=w.getTime();let ct=Math.max(0,Nt-O.get().streaming.buffer.bufferToKeep);const Kt=I.getRequests({state:We.FRAGMENT_MODEL_EXECUTED,time:Nt,threshold:bc})[0];if(Kt)ct=Math.min(Kt.startTime,ct);else if(Nt===0&&w.getIsDynamic())return[];if(lt.start(0)<=ct){const Zt={start:0,end:ct};for(let ze=0;ze<lt.length&&lt.end(ze)<=ct;ze++)Zt.end=lt.end(ze);Zt.start<Zt.end&&Ve.push(Zt)}return Ve}function Gn(Ve){return new Promise((lt,Nt)=>{if(!Ve||!he||Ve.length===0)return zt(),void lt();const ct=[];Ve.forEach(Kt=>{ct.push(function(Zt){return new Promise((ze,ut)=>{Zt.resolve=ze,Zt.reject=ut,Ce.push(Zt)})}(Kt))}),ye||Yn(),Promise.all(ct).then(()=>{lt()}).catch(Kt=>{Nt(Kt)})})}function Yn(){try{if(Ce.length===0||!he)return P.debug("Nothing to prune, halt pruning"),Ce=[],void(ye=!1);const Ve=he.getBuffer();if(!Ve||!Ve.buffered||Ve.buffered.length===0)return P.debug("SourceBuffer is empty (or does not exist), halt pruning"),Ce=[],void(ye=!1);const lt=Ce.shift();P.debug(`${G}: Removing buffer from: ${lt.start} to ${lt.end}`),ye=!0,w.getTime()<lt.end&&Vt(!1),he.remove(lt).then(Nt=>{Bn(Nt)}).catch(Nt=>{Bn(Nt)})}catch{ye=!1}}function Bn(Ve){P.debug("onRemoved buffer from:",Ve.from,"to",Ve.to),he&&(V(he.getAllBufferRanges()),Ce.length===0&&(ye=!1,zt()),Ve.unintended&&(P.warn("Detected unintended removal from:",Ve.from,"to",Ve.to,"setting streamprocessor time to",Ve.from),wt(m.default.SEEK_TARGET,{time:Ve.from})),ye?Yn():(Me?Me=!1:zt(),wt(m.default.BUFFER_CLEARED,{from:Ve.from,to:Ve.to,unintended:Ve.unintended,hasEnoughSpaceToAppend:Ct(),quotaExceeded:le})))}function Nn(Ve){return new Promise(lt=>{Ve&&Ve.mseTimeOffset!==void 0&&he&&he.updateTimestampOffset?he.updateTimestampOffset(Ve.mseTimeOffset).then(()=>{lt()}).catch(()=>{lt()}):lt()})}function it(){return he&&!U?he.updateAppendWindow(M):Promise.resolve()}function Bt(){te++,te*(O.get().streaming.wallclockTimeUpdateInterval/1e3)>=O.get().streaming.buffer.bufferPruningInterval&&(te=0,dn())}function It(){pn()}function Vt(Ve){U=Ve,U?wt(m.default.BUFFERING_COMPLETED):fe=Number.POSITIVE_INFINITY}function vn(){try{const Ve=he.getAllBufferRanges();let lt,Nt,ct=0;if(!Ve)return ct;for(Nt=0,lt=Ve.length;Nt<lt;Nt++)ct+=Ve.end(Nt)-Ve.start(Nt);return ct}catch{return 0}}function At(Ve){try{let lt=Ve;const Nt=he.getAllBufferRanges();if(!Nt||Nt.length===0)return NaN;let ct=0;for(;lt===Ve&&ct<Nt.length;){const Kt=Nt.start(ct),Zt=Nt.end(ct);lt>=Kt&&lt<=Zt&&(lt=Zt),ct+=1}return lt===Ve?NaN:lt}catch{return NaN}}function Ct(){const Ve=vn();return isNaN(Ve)||Ve<J}function wt(Ve,lt){let Nt=lt||{};R.trigger(Ve,Nt,{streamId:M.id,mediaType:G})}function Pt(Ve,lt){if(J=Number.POSITIVE_INFINITY,Y=void 0,fe=Number.POSITIVE_INFINITY,ae=0,D=null,U=!1,ye=!1,le=!1,H=0,te=0,Ce=[],Ke=NaN,Se=!1,he){let Nt=he;he=null,Ve||(lt?Nt.removeEventListeners():Nt.abort().then(()=>{Nt.reset(lt),Nt=null}))}Me=!1}return C={appendInitSegmentFromCache:function(Ve){const lt=we.extract(M.id,Ve);return!!lt&&(P.debug(`Appending init fragment for type ${G}, representationId ${lt.representation.id} and bandwidth ${lt.representation.bandwidth}`),de(lt),!0)},clearBuffers:Gn,createBufferSink:W,dischargePreBuffer:function(){if(he&&ge&&typeof ge.discharge=="function"){const Ve=ge.getAllBufferRanges();if(Ve.length>0){let ct="Beginning "+G+"PreBuffer discharge, adding buffer for:";for(let Kt=0;Kt<Ve.length;Kt++)ct+=" start: "+Ve.start(Kt)+", end: "+Ve.end(Kt)+";";P.debug(ct)}else P.debug("PreBuffer discharge requested, but there were no media segments in the PreBuffer.");ee=[];let lt=ge.discharge(),Nt=null;for(let ct=0;ct<lt.length;ct++){const Kt=lt[ct];if(Kt.segmentType!==Te.HTTPRequest.INIT_SEGMENT_TYPE){const Zt=we.extract(Kt.streamId,Kt.representation.id);Zt&&Nt!==Zt&&(ee.push(Zt),he.append(Zt),Nt=Zt)}ee.push(Kt),he.append(Kt)}ge.reset(),ge=null}},getAllRangesWithSafetyFactor:Le,getBuffer:function(){return he},getBufferControllerType:function(){return vg},getBufferLevel:function(){return H},getContinuousBufferTimeForTargetTime:At,getIsBufferingCompleted:function(){return U},getIsPruningInProgress:function(){return ye},getMediaSource:function(){return re},getRangeAt:Tt,getStreamId:function(){return M.id},getType:function(){return G},hasBufferAtTime:function(Ve){try{const lt=he.getAllBufferRanges();if(!lt||lt.length===0)return!1;let Nt=0;for(;Nt<lt.length;){const ct=lt.start(Nt),Kt=lt.end(Nt);if(Ve>=ct&&Ve<=Kt)return!0;Nt+=1}return!1}catch(lt){return P.error(lt),!1}},initialize:function(Ve){Oe(Ve),R.on(m.default.INIT_FRAGMENT_LOADED,oe,C),R.on(m.default.MEDIA_FRAGMENT_LOADED,ve,C),R.on(m.default.WALLCLOCK_TIME_UPDATED,Bt,C),R.on(T.default.PLAYBACK_PLAYING,at,C),R.on(T.default.PLAYBACK_PROGRESS,je,C),R.on(T.default.PLAYBACK_TIME_UPDATED,je,C),R.on(T.default.PLAYBACK_RATE_CHANGED,It,C),R.on(T.default.PLAYBACK_STALLED,Ue,C)},prepareForAbandonQualitySwitch:function(Ve,lt){return se(Ve,lt)},prepareForDefaultQualitySwitch:function(Ve,lt){return se(Ve,lt)},prepareForFastQualitySwitch:function(Ve,lt){return se(Ve,lt)},prepareForForceReplacementQualitySwitch:function(Ve,lt){return new Promise(Nt=>{const ct=[];ct.push(he.abort()),ct.push(it()),ct.push(Re()),ct.push(Nn(Ve)),ct.push(Ae(Ve,lt)),Promise.allSettled(ct).then(()=>{Vt(!1),Nt()})})},prepareForNonReplacementTrackSwitch:function(Ve,lt){return new Promise(Nt=>{const ct=[];ct.push(it()),ct.push(Ae(Ve,lt)),Promise.allSettled(ct).then(()=>{Nt()})})},prepareForPlaybackSeek:function(){return U&&Vt(!1),he.abort()},prepareForReplacementTrackSwitch:function(Ve,lt){return new Promise(Nt=>{const ct=[];ct.push(he.abort()),ct.push(it()),ct.push(Ae(Ve,lt)),ct.push(Re()),ct.push(Nn(Ve)),Promise.allSettled(ct).then(()=>{Vt(!1),Nt()})})},pruneAllSafely:Re,pruneBuffer:dn,reset:function(Ve,lt){R.off(m.default.INIT_FRAGMENT_LOADED,oe,this),R.off(m.default.MEDIA_FRAGMENT_LOADED,ve,this),R.off(m.default.WALLCLOCK_TIME_UPDATED,Bt,this),R.off(T.default.PLAYBACK_PLAYING,at,this),R.off(T.default.PLAYBACK_PROGRESS,je,this),R.off(T.default.PLAYBACK_TIME_UPDATED,je,this),R.off(T.default.PLAYBACK_RATE_CHANGED,It,this),R.off(T.default.PLAYBACK_STALLED,Ue,this),Pt(Ve,lt)},segmentRequestingCompleted:function(Ve){isNaN(Ve)||(fe=Ve,Yt())},setIsBufferingCompleted:Vt,setMediaSource:Oe,setSeekTarget:function(Ve){Ke=Ve},updateAppendWindow:it,updateBufferTimestampOffset:Nn},P=(0,u.default)(_).getInstance().getLogger(C),we=yc(_).getInstance(),Pt(),C}Ec.__dashjs_factory_name=vg;var ff=n.default.getClassFactory(Ec);const vc="NotFragmentedTextBufferController";function Ki(S){S=S||{};const b=this.context,_=(0,y.default)(b).getInstance(),R=S.textController,I=S.errHandler,w=S.streamInfo,z=S.type;let O,M,q,G,C,P;function U(re){G=re}function H(re){M!==re&&(M=re,M&&function(ae){let fe={};_.trigger(ae,fe,{streamId:w.id,mediaType:z})}(m.default.BUFFERING_COMPLETED))}function J(re){re.chunk.bytes&&!M&&(P.save(re.chunk),C.append(re.chunk),H(!0))}return O={initialize:function(re){U(re)},getStreamId:function(){return w.id},getType:function(){return z},getBufferControllerType:function(){return vc},createBufferSink:function(re){return new Promise((ae,fe)=>{try{C=Eg(b).create({mediaSource:G,textController:R,eventBus:_}),C.initializeForFirstUse(re),q||(C.getBuffer()&&typeof C.getBuffer().initialize=="function"&&C.getBuffer().initialize(),q=!0),ae(C)}catch(he){I.error(new ln.default(Tn.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,Tn.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+z)),fe(he)}})},dischargePreBuffer:function(){},getBuffer:function(){return C},getBufferLevel:function(){return 0},getRangeAt:function(){return null},pruneBuffer:function(){},hasBufferAtTime:function(){return!0},getAllRangesWithSafetyFactor:function(){return[]},getContinuousBufferTimeForTargetTime:function(){return Number.POSITIVE_INFINITY},setMediaSource:U,getMediaSource:function(){return G},appendInitSegmentFromCache:function(re){return P.extract(w.id,re)!==null},getIsBufferingCompleted:function(){return M},setIsBufferingCompleted:H,getIsPruningInProgress:function(){return!1},reset:function(re){_.off(m.default.INIT_FRAGMENT_LOADED,J,O),!re&&C&&(C.abort(),C.reset(),C=null)},clearBuffers:function(){return Promise.resolve()},prepareForPlaybackSeek:function(){return Promise.resolve()},prepareForReplacementTrackSwitch:function(){return M=!1,Promise.resolve()},setSeekTarget:function(){},updateAppendWindow:function(){return Promise.resolve()},pruneAllSafely:function(){return Promise.resolve()},updateBufferTimestampOffset:function(){return Promise.resolve()},segmentRequestingCompleted:function(){}},q=!1,G=null,M=!1,P=yc(b).getInstance(),_.on(m.default.INIT_FRAGMENT_LOADED,J,O),O}Ki.__dashjs_factory_name=vc;var ci=n.default.getClassFactory(Ki);function Tc(S){S=S||{};const b=this.context,_=(0,y.default)(b).getInstance(),R=S.dashMetrics,I=S.mediaPlayerModel,w=S.fragmentModel,z=S.abrController,O=S.playbackController,M=S.textController,q=S.type,G=S.bufferController,C=S.representationController,P=S.settings;let U,H,J,re,ae,fe,he,ge,Se,ee,Y,D;function te(){he=(0,u.default)(b).getInstance().getLogger(re),V(),ee=S.streamInfo}function ye(){ge=!0}function le(){ge=!1}function we(ce){if(G.getIsBufferingCompleted())return;Ce();const se=isNaN(ce)?0:ce;Se=setTimeout(Me,se)}function Ce(){Se&&(clearTimeout(Se),Se=null)}function Me(){const ce=I.getScheduleTimeout();try{if(function(){try{return q===p.default.TEXT&&!M.isTextEnabled()||O.isPaused()&&(!O.getStreamController().getInitialPlayback()||!O.getStreamController().getAutoPlay())&&!P.get().streaming.scheduling.scheduleWhilePaused}catch{return!1}}())return void Ce();(function(){try{return!!ge&&C.getCurrentRepresentation()&&(fe==null||Y||function(){const se=C.getCurrentRepresentation();if(!q||!se)return!0;let Ae=se&&se.segmentDuration&&!isNaN(se.segmentDuration)?se.segmentDuration:0;const Re=R.getCurrentBufferLevel(q),Le=Ke();return(Le<=Ae||O.getLowLatencyModeEnabled()||q===p.default.AUDIO&&H)&&(Ae=0),Re+Ae<Le}())}catch{return!1}})()?function(){if(z.handlePendingManualQualitySwitch(ee.id,q))return;let se=!1;U&&(se=z.checkPlaybackQuality(q,ee.id)),se||function(){const Ae=C.getCurrentRepresentation();J||Ae.id!==fe||Y?function(Re){Y?(he.debug("Switch track for "+q+", representation id = "+Re.id),Y=!1):he.debug("Quality has changed, get init request for representationid = "+Re.id),_.trigger(m.default.INIT_FRAGMENT_NEEDED,{representationId:Re.id,sender:re},{streamId:ee.id,mediaType:q}),U=!1,J=!1}(Ae):(he.debug(`Media segment needed for ${q} and stream id ${ee.id}`),_.trigger(m.default.MEDIA_FRAGMENT_NEEDED,{},{streamId:ee.id,mediaType:q}),U=!0)}()}():we(ce)}catch{we(ce)}}function Ke(){let ce=NaN;const se=C.getCurrentRepresentation();return q&&se&&(ce=q===p.default.TEXT?function(){try{if(M.isTextEnabled()){const Ae=C.getCurrentRepresentation();if(isNaN(Ae.fragmentDuration)){const Re=R.getCurrentSchedulingInfo(o.SCHEDULING_INFO);return Re?Re.duration:0}return Ae.fragmentDuration}return 0}catch{return 0}}():q===p.default.AUDIO&&H?function(){try{const Ae=R.getCurrentBufferLevel(p.default.VIDEO),Re=C.getCurrentRepresentation();return isNaN(Re.fragmentDuration)?Ae+1:Math.max(Ae+1,Re.fragmentDuration)}catch{return 0}}():function(){try{const Ae=C.getCurrentRepresentation(),Re=Ae.mediaInfo.streamInfo;return z.isPlayingAtTopQuality(Ae)?Re.manifestInfo.duration>=P.get().streaming.buffer.longFormContentDurationThreshold?P.get().streaming.buffer.bufferTimeAtTopQualityLongForm:P.get().streaming.buffer.bufferTimeAtTopQuality:I.getBufferTimeDefaultUnadjusted()}catch{return I.getBufferTimeDefaultUnadjusted()}}()),ce}function Oe(){W(!0)}function W(ce){if(O&&w){const se=w.getRequests({state:We.FRAGMENT_MODEL_EXECUTED,time:O.getTime(),threshold:0})[0];se&&O.getTime()>=se.startTime&&((!ae.representation||se.representation.mediaInfo.type===ae.representation.mediaInfo.type&&se.representation.mediaInfo.index!==ae.representation.mediaInfo.index)&&ce&&function(Ae){he.debug(`Track change rendered for streamId ${ee.id} and type ${q}`),_.trigger(m.default.TRACK_CHANGE_RENDERED,{mediaType:q,oldMediaInfo:ae&&ae.representation&&ae.representation.mediaInfo?ae.representation.mediaInfo:null,newMediaInfo:Ae.representation.mediaInfo,streamId:ee.id})}(se),ae.representation&&se.representation.id===ae.representation.id||!ce||function(Ae){he.debug(`Quality change rendered for streamId ${ee.id} and type ${q}`),_.trigger(m.default.QUALITY_CHANGE_RENDERED,{mediaType:q,oldRepresentation:ae.representation?ae.representation:null,newRepresentation:Ae.representation,streamId:ee.id})}(se),ae.representation=se.representation)}}function oe(){w.abortRequests(),Ce()}function ve(){P.get().streaming.scheduling.scheduleWhilePaused||we()}function de(ce){R.updatePlayListTraceMetrics({playbackspeed:ce.playbackRate.toString()})}function V(){U=!0,D=0,fe=null,ae={representation:null},Y=!1,J=!1,ge=!0}return re={clearScheduleTimer:Ce,getBufferTarget:Ke,getPlaybackController:function(){return O},getStreamId:function(){return ee.id},getSwitchTrack:function(){return Y},getTimeToLoadDelay:function(){return D},getType:function(){return q},initialize:function(ce){H=ce,_.on(m.default.URL_RESOLUTION_FAILED,oe,re),_.on(T.default.PLAYBACK_STARTED,ve,re),_.on(T.default.PLAYBACK_RATE_CHANGED,de,re),_.on(T.default.PLAYBACK_TIME_UPDATED,Oe,re),_.on(T.default.MANAGED_MEDIA_SOURCE_START_STREAMING,ye,re),_.on(T.default.MANAGED_MEDIA_SOURCE_END_STREAMING,le,re)},reset:function(){_.off(m.default.URL_RESOLUTION_FAILED,oe,re),_.off(T.default.PLAYBACK_STARTED,ve,re),_.off(T.default.PLAYBACK_RATE_CHANGED,de,re),_.off(T.default.PLAYBACK_TIME_UPDATED,Oe,re),_.off(T.default.MANAGED_MEDIA_SOURCE_START_STREAMING,ye,re),_.off(T.default.MANAGED_MEDIA_SOURCE_END_STREAMING,le,re),Ce(),W(!1),V(),ee=null},setShouldCheckPlaybackQuality:function(ce){U=ce},setInitSegmentRequired:function(ce){J=ce},setLastInitializedRepresentationId:function(ce){fe=ce},setup:te,setSwitchTrack:function(ce){Y=ce},setTimeToLoadDelay:function(ce){D=ce},startScheduleTimer:we},te(),re}Tc.__dashjs_factory_name="ScheduleController";var lu=n.default.getClassFactory(Tc);const Sc=/\$(RepresentationID|Number|SubNumber|Bandwidth|Time)?(?:%0([0-9]+)([diouxX]))?\$/g;var hf=class extends ul{constructor(){super(),this.isPartialSegment=!0,this.replacementSubNumber=NaN,this.totalNumberOfPartialSegments=NaN}};function rs(S){return S?S.totalNumberOfPartialSegments&&!isNaN(S.totalNumberOfPartialSegments)&&S.totalNumberOfPartialSegments>0&&!isNaN(S.subNumberOfPartialSegmentToRequest)?function(b){const _=function(R,I){const w=new hf,z=R.segmentDurationInSeconds/R.totalNumberOfPartialSegments,{representation:O,timelineConverter:M,isDynamic:q,index:G,totalNumberOfPartialSegments:C}=R,P=uu({representation:O,segmentDurationInSeconds:z,presentationStartTime:R.presentationStartTime+I*z,presentationEndTime:R.presentationStartTime+(I+1)*z,timelineConverter:M,isDynamic:q,mediaTimeInSeconds:R.mediaTimeInSeconds+I*z,index:G});return w.assignAttributes(P),w.replacementSubNumber=I,w.totalNumberOfPartialSegments=C,w}(b,b.subNumberOfPartialSegmentToRequest);return _c(_,b),_}(S):function(b){const _=new hc,R=uu(b);return _.assignAttributes(R),_c(_,b),_}(S):null}function uu(S){const{representation:b,segmentDurationInSeconds:_,presentationStartTime:R,presentationEndTime:I,mediaTimeInSeconds:w,timelineConverter:z,isDynamic:O,index:M}=S,q={availabilityEndTime:z.calcAvailabilityEndTimeFromPresentationTime(I+_,b,O),availabilityStartTime:z.calcAvailabilityStartTimeFromPresentationTime(I,b,O),duration:_,index:M,mediaStartTime:w,presentationStartTime:R,replacementNumber:b.startNumber+M,representation:b};return q.wallStartTime=z.calcWallTimeForSegment(q,O),q}function _c(S,b){const{tManifest:_,mediaTime:R,mediaUrl:I,mediaRange:w}=b;S.replacementTime=_||R,S.media=fl(I,S.representation.id,S.replacementNumber,S.replacementSubNumber,S.representation.bandwidth,S.replacementTime),S.mediaRange=w,S.mediaUrl=I}function Ac(S,b,_,R){const I=b.adaptation.period;if(isFinite(I.duration)&&I.start+I.duration<=_.presentationStartTime)return!1;if(R){if(b.availabilityTimeOffset==="INF")return!0;const w=S.getClientReferenceTime();return _.availabilityStartTime.getTime()<=w&&(!isFinite(_.availabilityEndTime)||_.availabilityEndTime.getTime()>=w)}return!0}function fl(S,b,_,R,I,w){return S&&function(z,O,M,q,G,C){return z.replace(Sc,(P,U,H,J)=>{let re,ae;switch(U){case void 0:return"$";case"RepresentationID":re=O;break;case"Number":re=M;break;case"SubNumber":re=q;break;case"Bandwidth":re=G;break;case"Time":if(typeof C=="string")return C;re=C&&Math.round(C);break;default:re=null}if(re==null)return P;switch(J){case void 0:case"d":case"i":case"u":ae=re.toString();break;case"o":ae=re.toString(8);break;case"x":ae=re.toString(16);break;case"X":ae=re.toString(16).toUpperCase();break;default:ae=re.toString()}const fe=parseInt(H,10)||1;return ae.padStart(fe,"0")})}(S,b,_,R,I,w)}function gf(S){const{index:b,isDynamic:_,mediaRange:R,mediaTime:I,mediaUrl:w,representation:z,subNumberOfPartialSegmentToRequest:O,timelineConverter:M,totalNumberOfPartialSegments:q}=S;let G,C,P;G=z.segmentDuration,isNaN(G)&&(G=z.adaptation.period.duration),C=parseFloat((z.adaptation.period.start+b*G).toFixed(5)),P=parseFloat((C+G).toFixed(5));const U=rs({index:b,isDynamic:_,mediaRange:R,mediaTime:I,mediaTimeInSeconds:M.calcMediaTimeFromPresentationTime(C,z),mediaUrl:w,presentationEndTime:P,presentationStartTime:C,representation:z,segmentDurationInSeconds:G,subNumberOfPartialSegmentToRequest:O,timelineConverter:M,totalNumberOfPartialSegments:q});return Ac(M,z,U,_)?U:null}function Rc(S){const{durationInTimescale:b,fTimescale:_,index:R,subNumberOfPartialSegmentToRequest:I,isDynamic:w,mediaRange:z,mediaTime:O,mediaUrl:M,totalNumberOfPartialSegments:q,representation:G,tManifest:C,timelineConverter:P}=S,U=O/_,H=b/_;let J=P.calcPresentationTimeFromMediaTime(U,G),re=rs({representation:G,segmentDurationInSeconds:H,presentationStartTime:J,presentationEndTime:J+H,mediaTimeInSeconds:U,timelineConverter:P,isDynamic:w,index:R,totalNumberOfPartialSegments:q,subNumberOfPartialSegmentToRequest:I,mediaUrl:M,mediaRange:z,tManifest:C,mediaTime:O});return Ac(P,G,re,w)?re:null}function xc(S){return S.k}function mf(S){const b=(S=S||{}).eventBus,_=S.events,R=S.abrController,I=S.dashMetrics,w=S.playbackController,z=S.timelineConverter,O=S.type,M=S.streamInfo,q=S.segmentsController,G=S.isDynamic;let C,P,U;function H(){return O}function J(){return(U==null?void 0:U.mediaInfo.type)===O?U:function(){let ee=U==null?void 0:U.dependentRepresentation;if(ee){if(!ee.mediaInfo)throw new Error("dependentRepresentation has no mediaInfo!");if(ee.mediaInfo.type===O)return ee}return null}()}function re(){U=null,P=[]}function ae(ee){return new Promise((Y,D)=>{const te=ee.hasInitialization(),ye=ee.hasSegments(),le=[];le.push(q.updateInitData(ee,te)),le.push(q.updateSegmentData(ee,ye)),Promise.all(le).then(we=>{var Ce;we[0]&&!we[0].error&&(ee=function(Me,Ke){return Ke&&!Ke.error&&Ke.representation?Ke.representation:Me}(ee,we[0])),we[1]&&!we[1].error&&(ee=function(Me,Ke){if(!Ke||Ke.error)return;const Oe=Ke.segments,W=[];let oe,ve,de,V,ce=0;for(oe=0,ve=Oe?Oe.length:0;oe<ve;oe++)de=Oe[oe],V=Rc({durationInTimescale:de.duration,fTimescale:de.timescale,index:ce,isDynamic:G,mediaRange:de.mediaRange,mediaTime:de.startTime,mediaUrl:de.media,representation:Me,timelineConverter:z}),V&&(W.push(V),V=null,ce++);return W.length>0&&(Me.segments=W),Me}(ee,we[1])),ee.fragmentDuration=ee.segmentDuration?ee.segmentDuration:ee.segments&&ee.segments.length>0?ee.segments[0].duration:NaN,(Ce=ee).mediaFinishedInformation=q.getMediaFinishedInformation(Ce),function(Me){let Ke,Oe=I.getCurrentManifestUpdate(),W=!1;if(Oe){for(let oe=0;oe<Oe.representationInfo.length;oe++)if(Ke=Oe.representationInfo[oe],Ke.index===Me.index&&Ke.mediaType===H()){W=!0;break}W||I.addManifestUpdateRepresentationInfo(Me,H())}}(ee),Y()}).catch(we=>{D(we)})})}function fe(ee){if(!P||P.length===0)return null;const Y=P.filter(D=>D.id===ee);return Y.length>0?Y[0]:null}function he(ee){b.trigger(_.DATA_UPDATE_COMPLETED,{currentRepresentation:U,error:ee},{streamId:M.id,mediaType:O})}function ge(ee){U&&U.id===ee.id||function(Y){(function(){if(!(R&&I&&w&&z))throw new Error(p.default.MISSING_CONFIG_ERROR)})();const D=new Date,te=1e3*w.getTime();Y&&I.addRepresentationSwitch(Y.adaptation.type,D,te,Y.id),b.trigger(T.default.REPRESENTATION_SWITCH,{mediaType:O,streamId:M.id,currentRepresentation:Y},{streamId:M.id,mediaType:O})}(ee),U=ee}function Se(ee){if(ee.newDuration){const Y=J();Y&&Y.adaptation.period&&(Y.adaptation.period.duration=ee.newDuration)}}return C={getCurrentCompositeRepresentation:function(){return U},getCurrentRepresentation:J,getRepresentationById:fe,getStreamId:function(){return M.id},getType:H,prepareQualityChange:function(ee){const Y=P.filter(D=>D.id===ee.id);Y.length>0&&ge(Y[0])},reset:function(){b.off(T.default.MANIFEST_VALIDITY_CHANGED,Se,C),re()},updateData:function(ee,Y,D){return new Promise((te,ye)=>{if(P=ee,ge(fe(D)),O!==p.default.VIDEO&&O!==p.default.ENHANCEMENT&&O!==p.default.AUDIO&&(O!==p.default.TEXT||!Y))return he(),void te();const le=[];for(let we=0,Ce=P.length;we<Ce;we++){const Me=P[we];le.push(ae(Me))}Promise.all(le).then(()=>{(function(){R.setPlaybackQuality(O,M,U);const we=I.getCurrentDVRInfo(O);we&&I.updateManifestUpdateInfo({latency:we.range.end-w.getTime()}),he()})(),te()}).catch(we=>{ye(we)})})}},re(),b.on(T.default.MANIFEST_VALIDITY_CHANGED,Se,C),C}mf.__dashjs_factory_name="RepresentationController";var Tg=n.default.getClassFactory(mf);function Ic(S){const b=(S=S||{}).eventBus,_=S.debug,R=S.urlUtils,I=S.type,w=S.streamInfo,z=S.segmentsController,O=S.timelineConverter,M=S.baseURLController;let q,G,C,P,U;function H(){return I}function J(){C=null}function re(ee,Y,D){const te=M.resolve(D.path);let ye,le,we={};return te&&Y!==te.url&&R.isRelative(Y)?(ye=te.url,le=te.serviceLocation,we=te.queryParams,Y&&(ye=R.resolve(Y,ye))):ye=Y,!R.isRelative(ye)&&(ee.url=ye,ee.serviceLocation=le,ee.queryParams=we,!0)}function ae(ee,Y,D){let te=null;if(!Y||!Y.segmentInfoType)return te;const ye=z.getSegmentByTime(Y,D);return ye&&(C=ye,G.debug("Index for time "+D+" is "+ye.index),te=fe(0,ye)),te}function fe(ee,Y){if(Y==null)return null;const D=new pe,te=Y.representation,ye=te.bandwidth,le=fl(Y.media,te.id,Y.replacementNumber,Y.replacementSubNumber,ye,Y.replacementTime);return D.adaptationIndex=te.adaptation.index,D.availabilityEndTime=Y.availabilityEndTime,D.availabilityStartTime=Y.availabilityStartTime,D.availabilityTimeComplete=te.availabilityTimeComplete,D.bandwidth=te.bandwidth,D.duration=Y.duration,D.index=Y.index,D.isPartialSegmentRequest=Y.isPartialSegment,D.mediaStartTime=Y.mediaStartTime,D.mediaType=H(),D.presentationStartTime=Y.presentationStartTime,D.range=Y.mediaRange,D.representation=te,D.startTime=Y.presentationStartTime,D.timescale=te.timescale,D.type=Te.HTTPRequest.MEDIA_SEGMENT_TYPE,D.wallStartTime=Y.wallStartTime,re(D,le,te)?D:void 0}function he(ee){if(!ee)return{indexToRequest:0,subNumberOfPartialSegmentToRequest:NaN};const Y=ee.isPartialSegment,D=!isNaN(ee.replacementSubNumber),te=!isNaN(ee.totalNumberOfPartialSegments);if(Y&&D&&te){const ye=ee.replacementSubNumber+1;return ye<ee.totalNumberOfPartialSegments?{indexToRequest:ee.index,subNumberOfPartialSegmentToRequest:ye}:{indexToRequest:ee.index+1,subNumberOfPartialSegmentToRequest:0}}return{indexToRequest:ee.index+1,subNumberOfPartialSegmentToRequest:NaN}}function ge(ee,Y,D,te){let ye=null;const le=z.getSegmentByIndex(Y,D,te,C);if(le)ye=fe(0,le),C=le;else{if(P&&!U)return G.debug(H()+" No segment found at index: "+D+". Wait for next loop"),null;U=!0}return ye}function Se(){G.debug("Dynamic stream complete"),U=!0}return q={getCurrentIndex:function(){return C?C.index:-1},getInitRequest:function(ee,Y){return Y?function(D,te,ye){const le=new pe,we=te.adaptation.period,Ce=we.start;if(le.mediaType=ye,le.type=Te.HTTPRequest.INIT_SEGMENT_TYPE,le.range=te.range,le.availabilityStartTime=O.calcAvailabilityStartTimeFromPresentationTime(Ce,te,P),le.availabilityEndTime=O.calcAvailabilityEndTimeFromPresentationTime(Ce+we.duration,te,P),le.representation=te,re(le,te.initialization,te))return le.url=fl(le.url,te.id,void 0,void 0,te.bandwidth),le}(0,Y,H()):null},getLastSegment:function(){return C},getNextSegmentRequest:function(ee,Y){if(!Y||!Y.segmentInfoType)return null;if(function(ye){return ye&&C&&ye.endNumber&&C.replacementNumber&&C.replacementNumber>=ye.endNumber}(Y))return U=!0,null;let{indexToRequest:D,subNumberOfPartialSegmentToRequest:te}=he(C);return ge(0,Y,D,te)},getNextSegmentRequestIdempotent:function(ee,Y){let D=null,{indexToRequest:te,subNumberOfPartialSegmentToRequest:ye}=he(C);const le=z.getSegmentByIndex(Y,te,ye,C);return le?(D=fe(0,le),D):null},getSegmentRequestForTime:ae,getStreamId:function(){return w.id},getStreamInfo:function(){return w},getType:H,getValidTimeAheadOfTargetTime:function(ee,Y,D,te){try{if(isNaN(ee)||!Y||!D)return NaN;if(ee<0&&(ee=0),isNaN(te)&&(te=.5),ae(0,D,ee))return ee;if(D.adaptation.period.start+D.adaptation.period.duration<ee)return NaN;const ye=isFinite(D.adaptation.period.duration)?D.adaptation.period.start+D.adaptation.period.duration:ee+30;let le=Math.min(ee+te,ye),we=NaN,Ce=null;for(;le<=ye;){let Me=null;if(le<=ye&&(Me=ae(0,D,le)),Me){we=le,Ce=Me;break}le+=te}if(Ce){const Me=Ce.startTime+Ce.duration;return ee>Ce.startTime&&Me-ee>te?ee:!isNaN(Ce.startTime)&&ee<Ce.startTime&&we>Ce.startTime?Ce.startTime+.001:Math.min(Me-te,we)}return we}catch{return NaN}},initialize:function(ee){P=ee,U=!1,z.initialize(ee)},isLastSegmentRequested:function(ee,Y){return!ee||!C?!1:U?!0:!isFinite(ee.adaptation.period.duration)||C.presentationStartTime+C.duration>Y?!1:ee.mediaFinishedInformation&&!isNaN(ee.mediaFinishedInformation.numberOfSegments)&&!isNaN(C.index)&&C.index>=ee.mediaFinishedInformation.numberOfSegments-1&&(!P||ee.segmentInfoType===De.default.SEGMENT_TEMPLATE||P&&ee.segmentInfoType===De.default.SEGMENT_LIST&&ee.adaptation.period.nextPeriodId)?!0:!!(P&&ee.adaptation.period.nextPeriodId&&ee.segmentInfoType===De.default.SEGMENT_TIMELINE&&ee.mediaFinishedInformation&&!isNaN(ee.mediaFinishedInformation.mediaTimeOfLastSignaledSegment)&&C&&!isNaN(C.mediaStartTime)&&!isNaN(C.duration)&&C.mediaStartTime+C.duration>=ee.mediaFinishedInformation.mediaTimeOfLastSignaledSegment-.05)},repeatSegmentRequest:function(ee,Y){return Y&&Y.segmentInfoType?ge(0,Y,C?C.index:0,C&&C.isPartialSegment&&!isNaN(C.replacementSubNumber)?C.replacementSubNumber:NaN):null},reset:function(){J(),b.off(T.default.DYNAMIC_TO_STATIC,Se,q)}},G=_.getLogger(q),J(),b.on(T.default.DYNAMIC_TO_STATIC,Se,q),q}Ic.__dashjs_factory_name="DashHandler";var pf=n.default.getClassFactory(Ic);function Sg(S,b){const _=(S=S||{}).timelineConverter,R=S.dashMetrics;let I;function w(O,M){if(function(){if(!_)throw new Error(p.default.MISSING_CONFIG_ERROR)}(),!O)return null;M===void 0&&(M=null);let q=null;const G=_.calcMediaTimeFromPresentationTime(M,O);return function(C,P){const U=function(ye){return ye.adaptation.period.mpd.manifest.Period[ye.adaptation.period.index].AdaptationSet[ye.adaptation.index].Representation[ye.index].SegmentTemplate||ye.adaptation.period.mpd.manifest.Period[ye.adaptation.period.index].AdaptationSet[ye.adaptation.index].Representation[ye.index].SegmentList}(C),H=U.SegmentTimeline,J=U.SegmentURL;let re,ae,fe,he,ge,Se,ee=0,Y=-1;Se=C.timescale,re=H.S;let D=!1;const te=re.length;for(fe=0;fe<te&&!D;fe++)for(ae=re[fe],ge=0,ae.hasOwnProperty("r")&&(ge=ae.r),ae.hasOwnProperty("t")&&(ee=ae.t),ge<0&&(ge=z(C,re[fe+1],ae,Se,ee/Se)),he=0;he<=ge&&!D;he++)Y++,D=P({mediaTime:ee,segmentBase:U,segmentURL:J,currentSElement:ae,sElementCounterIncludingRepeats:Y,sElementCounter:fe}),D&&(C.segmentDuration=ae.d/Se),ee+=ae.d}(O,function(C){const P=O.timescale;return function(U,H){const{mediaTime:J,segmentBase:re,segmentURL:ae,currentSElement:fe,sElementCounterIncludingRepeats:he,sElementCounter:ge}=H,Se=fe.d,ee=O.timescale;return U<J+Se&&U>=J&&(function(Y){const{segmentBase:D,segmentURL:te,sElementCounter:ye,currentSElement:le,mediaTime:we,durationInTimescale:Ce,fTimescale:Me,requiredMediaTimeInTimescaleUnits:Ke,sElementCounterIncludingRepeats:Oe}=Y;let W=function(V,ce,se){let Ae=V.media;return ce&&(Ae=ce[se].media||""),Ae}(D,te,ye),oe=function(V,ce,se){let Ae=V.mediaRange;return ce&&(Ae=ce[se].mediaRange),Ae}(le,te,ye);const ve=xc(le),de=function(V){if(!V||V.totalNumberOfPartialSegments===void 0||isNaN(V.totalNumberOfPartialSegments)||V.totalNumberOfPartialSegments<1)return;const{durationInTimescale:ce,requiredMediaTimeInTimescaleUnits:se,mediaTime:Ae,totalNumberOfPartialSegments:Re}=V,Le=ce/Re;for(let je=0;je<Re;je++){const Ue=Ae+je*Le;if(se>=Ue&&se<Ue+Le)return je}return NaN}({durationInTimescale:Ce,requiredMediaTimeInTimescaleUnits:Ke,mediaTime:we,totalNumberOfPartialSegments:ve});q=Rc({timelineConverter:_,isDynamic:b,representation:O,mediaTime:we,durationInTimescale:Ce,fTimescale:Me,mediaUrl:W,mediaRange:oe,index:Oe,tManifest:le.tManifest,totalNumberOfPartialSegments:ve,subNumberOfPartialSegmentToRequest:de})}({segmentBase:re,segmentURL:ae,sElementCounter:ge,currentSElement:fe,mediaTime:J,durationInTimescale:Se,fTimescale:ee,requiredMediaTimeInTimescaleUnits:U,sElementCounterIncludingRepeats:he}),!0)}(parseFloat((G*P).toPrecision(15)),C)}),q}function z(O,M,q,G,C){let P;if(M&&M.hasOwnProperty("t"))P=M.t/G;else try{let U=0;if(isNaN(O.adaptation.period.start)||isNaN(O.adaptation.period.duration)||!isFinite(O.adaptation.period.duration)){const H=R.getCurrentDVRInfo();U=isNaN(H.end)?0:H.end}else U=O.adaptation.period.start+O.adaptation.period.duration;P=_.calcMediaTimeFromPresentationTime(U,O),O.segmentDuration=q.d/G}catch{P=0}return Math.max(Math.ceil((P-C)/(q.d/G))-1,0)}return I={getMediaFinishedInformation:function(O){if(!O)return 0;const M=(O.adaptation.period.mpd.manifest.Period[O.adaptation.period.index].AdaptationSet[O.adaptation.index].Representation[O.index].SegmentTemplate||O.adaptation.period.mpd.manifest.Period[O.adaptation.period.index].AdaptationSet[O.adaptation.index].Representation[O.index].SegmentList).SegmentTimeline;let q,G,C,P,U,H,J=0,re=0,ae=0;H=O.timescale,q=M.S;const fe=q.length;for(C=0;C<fe;C++)for(G=q[C],U=0,G.hasOwnProperty("r")&&(U=G.r),G.hasOwnProperty("t")&&(J=G.t,re=J/H),U<0&&(U=z(O,q[C+1],G,H,re)),P=0;P<=U;P++)ae++,J+=G.d,re=J/H;return{numberOfSegments:ae,mediaTimeOfLastSignaledSegment:re}},getSegmentByIndex:function(O,M){return O?w(O,M&&!isNaN(M.presentationStartTime)?M.presentationStartTime+M.duration+.01:0):null},getSegmentByTime:w},I}Sg.__dashjs_factory_name="TimelineSegmentsGetter";var _g=n.default.getClassFactory(Sg);function yf(S,b){const _=(S=S||{}).timelineConverter;let R;function I(z,O,M){if(!z)return null;const q=w(z),G=xc(q);G!==void 0&&G>=0&&(M=M!==void 0&&M<G?M:0);const C=gf({index:O=Math.max(O,0),isDynamic:b,mediaTime:Math.round(O*z.segmentDuration*z.timescale,10),mediaUrl:q.media,representation:z,subNumberOfPartialSegmentToRequest:M,timelineConverter:_,totalNumberOfPartialSegments:G});return C&&z.endNumber&&C.replacementNumber>z.endNumber?null:C}function w(z){return z.adaptation.period.mpd.manifest.Period[z.adaptation.period.index].AdaptationSet[z.adaptation.index].Representation[z.index].SegmentTemplate}return R={getMediaFinishedInformation:function(z){const O={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};if(!z)return O;const M=z.segmentDuration;return isNaN(M)?O.numberOfSegments=1:O.numberOfSegments=Math.ceil(z.adaptation.period.duration/M),O},getSegmentByIndex:I,getSegmentByTime:function(z,O){if(!z)return null;const M=z.segmentDuration;if(isNaN(M))return null;let q=_.calcPeriodRelativeTimeFromMpdRelativeTime(z,O);const G=w(z),C=Math.floor(q/M),P=function(U){if(!U||U.totalNumberOfPartialSegments===void 0||isNaN(U.totalNumberOfPartialSegments)||U.totalNumberOfPartialSegments<1)return;const{totalNumberOfPartialSegments:H,representation:J,requestedTimeRelativeToPeriodStart:re,indexWithoutStartNumber:ae}=U,fe=ae*J.segmentDuration,he=J.segmentDuration/H,ge=re-fe;let Se=Math.floor(ge/he);return Se=Math.max(0,Math.min(Se,H-1)),Se}({totalNumberOfPartialSegments:xc(G),representation:z,requestedTimeRelativeToPeriodStart:q,indexWithoutStartNumber:C});return I(z,C,P)}},R}yf.__dashjs_factory_name="TemplateSegmentsGetter";var Ag=n.default.getClassFactory(yf);function wc(S,b){const _=(S=S||{}).timelineConverter;let R;function I(){if(!_||!_.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(p.default.MISSING_CONFIG_ERROR)}function w(z,O){if(I(),!z)return null;const M=z.adaptation.period.mpd.manifest.Period[z.adaptation.period.index].AdaptationSet[z.adaptation.index].Representation[z.index].SegmentList,q=M.SegmentURL.length,G=z&&!isNaN(z.startNumber)?z.startNumber:1,C=Math.max(G-1,0),P=Math.max(O-C,0);let U=null;if(P<q){const H=M.SegmentURL[P];U=gf({index:O,isDynamic:b,mediaRange:H.mediaRange,mediaTime:(G+O-1)*z.segmentDuration,representation:z,timelineConverter:_}),U&&(U.media=H.media?H.media:"",U.indexRange=H.indexRange)}return U}return R={getSegmentByIndex:w,getSegmentByTime:function(z,O){if(I(),!z)return null;const M=z.segmentDuration;if(isNaN(M))return null;const q=_.calcPeriodRelativeTimeFromMpdRelativeTime(z,O);return w(z,Math.floor(q/M))},getMediaFinishedInformation:function(z){const O={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};if(!z)return O;const M=z.adaptation.period.mpd.manifest.Period[z.adaptation.period.index].AdaptationSet[z.adaptation.index].Representation[z.index].SegmentList,q=z&&!isNaN(z.startNumber)?z.startNumber:1,G=Math.max(q-1,0);return O.numberOfSegments=G+M.SegmentURL.length,O}},R}wc.__dashjs_factory_name="ListSegmentsGetter";var Rg=n.default.getClassFactory(wc);function bf(S){const b=(S=S||{}).timelineConverter;let _;function R(){if(!b||!b.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(p.default.MISSING_CONFIG_ERROR)}function I(w,z){if(R(),!w)return null;const O=w.segments?w.segments.length:-1;let M;if(z<O&&(M=w.segments[z],M&&M.index===z))return M;for(let q=0;q<O;q++)if(M=w.segments[q],M&&M.index===z)return M;return null}return _={getSegmentByIndex:I,getSegmentByTime:function(w,z){R();const O=function(M,q){if(!M)return-1;const G=M.segments,C=G?G.length:null;let P,U,H,J,re,ae=-1;if(G&&C>0){for(re=0;re<C;re++)if(U=G[re],H=U.presentationStartTime,J=U.duration,P=J/2,q+P>=H&&q-P<H+J){ae=U.index;break}}return ae}(w,z);return I(w,O)},getMediaFinishedInformation:function(w){const z={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};return w&&w.segments&&(z.numberOfSegments=w.segments.length),z}},_}bf.__dashjs_factory_name="SegmentBaseGetter";var xg=n.default.getClassFactory(bf);function Ef(S){S=S||{};const b=this.context,_=S.dashConstants,R=S.type,I=S.segmentBaseController;let w,z;function O(M){return M?M.segments?z[_.SEGMENT_BASE]:z[M.segmentInfoType]:null}return w={initialize:function(M){z[_.SEGMENT_TIMELINE]=_g(b).create(S,M),z[_.SEGMENT_TEMPLATE]=Ag(b).create(S,M),z[_.SEGMENT_LIST]=Rg(b).create(S,M),z[_.SEGMENT_BASE]=xg(b).create(S,M)},updateInitData:function(M,q){return q?Promise.resolve():I.getSegmentBaseInitSegment({representation:M,mediaType:R})},updateSegmentData:function(M,q){return q?Promise.resolve():I.getSegmentList({mimeType:M.mimeType,representation:M,mediaType:R})},getSegmentByIndex:function(M,q,G,C){const P=O(M);return P?M.segmentInfoType?M.segmentInfoType===_.SEGMENT_TIMELINE?P.getSegmentByIndex(M,C):M.segmentInfoType===_.SEGMENT_TEMPLATE?P.getSegmentByIndex(M,q,G):P.getSegmentByIndex(M,q):P.getSegmentByIndex(M,q):null},getSegmentByTime:function(M,q){const G=O(M);return G?G.getSegmentByTime(M,q):null},getMediaFinishedInformation:function(M){const q=O(M);return q?q.getMediaFinishedInformation(M):{numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN}}},z={},w}Ef.__dashjs_factory_name="SegmentsController";var vf=n.default.getClassFactory(Ef);function Ig(){let S;return S={ntpToUTC:function(b){const _=new Date(Date.UTC(1900,0,1,0,0,0));return new Date(_.getTime()+b).getTime()}},S}Ig.__dashjs_factory_name="TimeUtils";var wg=n.default.getSingletonFactory(Ig),ra=class{constructor(S){this.newMediaInfo=S.newMediaInfo,this.previouslySelectedRepresentation=S.previouslySelectedRepresentation,this.newRepresentation=S.newRepresentation}};function cu(S){S=S||{};let b,_,R,I,w,z,O,M,q,G,C,P,U,H,J,re,ae,fe,he=this.context,ge=(0,y.default)(he).getInstance(),Se=S.abrController,ee=S.adapter,Y=S.boxParser,D=S.capabilities,te=S.dashMetrics,ye=S.errHandler,le=S.fragmentModel,we=S.manifestModel,Ce=S.mediaController,Me=S.mediaPlayerModel,Ke=S.mimeType,Oe=S.playbackController,W=S.segmentBlacklistController,oe=S.settings,ve=S.streamInfo,de=S.textController,V=S.timelineConverter,ce=S.type;function se(){return ve.id}function Ae(){return ce}function Re(){G=[],I=null,_=0,ae=!1,re=!1,P=!1,z=null,fe=!1,dn()}function Le(St){return!isNaN(St)&&!isNaN(ve.duration)&&isFinite(ve.duration)&&St>=ve.start+ve.duration}function je(St,hn=!0){if(St.sender){if(Oe.getIsManifestUpdateInProgress())Tt();else if((!I.isText||de.isTextEnabled())&&b&&St.representationId&&!b.appendInitSegmentFromCache(St.representationId)){const On=U.getCurrentRepresentation();if(On.range===0)return void Ue();const kn=w?w.getInitRequest(I,On):null;kn?le.executeRequest(kn):hn&&(H.setInitSegmentRequired(!0),Tt())}}}function Ue(St,hn=!0){if(Oe.getIsManifestUpdateInProgress()||b.getIsPruningInProgress())return void Tt();let On=function(){let kn;if(isNaN(_)||Ae()===p.default.TEXT&&!de.isTextEnabled())return null;if(w){const Xn=Nt();kn=ae?w.getSegmentRequestForTime(I,Xn,_):re?w.repeatSegmentRequest(I,Xn):w.getNextSegmentRequest(I,Xn)}return kn}();On?(ae=!1,re=!1,function(kn){isNaN(kn.startTime+kn.duration)||(_=kn.startTime+kn.duration),kn.delayLoadingTime=new Date().getTime()+H.getTimeToLoadDelay(),H.setTimeToLoadDelay(0),function(Xn){let Fn=Xn.url;return Xn.range&&(Fn=Fn.concat("_",Xn.range)),W.contains(Fn)}(kn)?(q.warn(`Fragment request url ${kn.url} for stream id ${ve.id} and media type ${ce} is on the ignore list and will be skipped`),Tt()):(q.debug(`Next fragment request url for stream id ${ve.id} and media type ${ce} is ${kn.url} with request range ${kn.range}`),le.executeRequest(kn))}(On)):function(kn){const Xn=U.getCurrentRepresentation();try{if(oe.get().streaming.gaps.enableSeekFix&&(ae||Oe.getTime()===0)){let Fn;if(M?M&&Xn.segmentInfoType===De.default.SEGMENT_TIMELINE&&(Fn=function(yr){return w.getValidTimeAheadOfTargetTime(_,I,yr,oe.get().streaming.gaps.threshold)}(Xn)):Fn=function(yr){let wr=w.getValidTimeAheadOfTargetTime(_,I,yr,oe.get().streaming.gaps.threshold);return isNaN(wr)&&_>=yr.adaptation.period.mpd.mediaPresentationDuration-yr.segmentDuration&&(wr=_-.1),wr}(Xn),!isNaN(Fn)&&Fn!==_)return void function(yr,wr){Oe.isSeeking()||Oe.getTime()===0?(q.warn(`Adjusting playback time ${yr} because of gap in the manifest. Seeking by ${yr-_}`),Oe.seek(yr,!1,!1)):(q.warn(`Adjusting buffering time ${yr} because of gap in the manifest. Adjusting time by ${yr-_}`),sn(yr),wr&&Tt())}(Fn,kn)}}catch(Fn){q.error(Fn)}at()||kn&&Tt()}(hn)}function at(){const St=U.getCurrentRepresentation(),hn=w.isLastSegmentRequested(St,_);if(hn){const On=w.getCurrentIndex();q.debug(`Segment requesting for stream ${ve.id} has finished`),ge.trigger(m.default.STREAM_REQUESTING_COMPLETED,{segmentIndex:On},{streamId:ve.id,mediaType:ce}),b.segmentRequestingCompleted(On),lt()}return hn}function Tt(){const St=Me.getScheduleTimeout();H.startScheduleTimer(St)}function zt(St){te.addBufferState(ce,St.state,H.getBufferTarget()),St.state!==o.BUFFER_EMPTY||Oe.isSeeking()||(q.info("Buffer is empty! Stalling!"),te.pushPlayListTraceMetrics(new Date,Ci.REBUFFERING_REASON))}function Yt(St){le.syncExecutedRequestsWithBufferedRange(b.getBuffer().getAllBufferRanges(),ve.duration),St.quotaExceeded&&St.from>Oe.getTime()&&sn(St.from),St.hasEnoughSpaceToAppend&&St.quotaExceeded&&H.startScheduleTimer()}function pn(St){if(!St||!St.lastRequestAppended||!St.lastRequestAppended.url)return;let hn=St.lastRequestAppended.url;St.lastRequestAppended.range&&(hn=hn.concat("_",St.lastRequestAppended.range)),q.warn(`Blacklisting segment with url ${hn}`),W.add(hn)}function Ut(St){if(q.debug(`Appended bytes for ${St.mediaType} and stream id ${St.streamId}`),St.segmentType===Te.HTTPRequest.INIT_SEGMENT_TYPE){const hn=St.representationId;H.setLastInitializedRepresentationId(hn),q.info("["+ce+"] lastInitializedRepresentationId changed to "+hn)}C&&C.enabled?Bt(C.newRepresentation,C.oldRepresentation):fe||H.startScheduleTimer(0)}function dn(){C={newRepresentation:null,oldRepresentation:null,enabled:!1}}function An(St){return new Promise(hn=>{if(!U)return Promise.resolve();let On=null;var kn;On=St.newRepresentation?{selectedRepresentation:(kn=St).newRepresentation,currentMediaInfo:kn.newMediaInfo}:I!==null&&ee.areMediaInfosEqual(I,St.newMediaInfo)?function(Fn){return{currentMediaInfo:Fn.newMediaInfo,selectedRepresentation:U.getCurrentRepresentation()}}(St):function(Fn){let yr=NaN;return yr=!oe.get().streaming.abr.autoSwitchBitrate[Fn.newMediaInfo.type]&&Fn.previouslySelectedRepresentation?Fn.previouslySelectedRepresentation.bitrateInKbit:Se.getInitialBitrateFor(ce),{selectedRepresentation:Se.getOptimalRepresentationForBitrate(Fn.newMediaInfo,yr,!1),currentMediaInfo:Fn.newMediaInfo}}(St),Gn(On.currentMediaInfo),ge.trigger(),function(Fn){z&&Fn.selectedRepresentation.dependentRepresentation&&(q.info("["+ce+"] selectMediaInfo : call selectMediaInfo on enhancementStreamProcessor for index = "+Fn.selectedRepresentation.absoluteIndex),z.selectMediaInfo(new ra({newMediaInfo:Fn.selectedRepresentation.mediaInfo,newRepresentation:Fn.selectedRepresentation})))}(On);const Xn=Se.getPossibleVoRepresentations(I,!1);return U.updateData(Xn,I.isFragmented,On.selectedRepresentation.id).then(()=>{(function(){const Fn=U.getCurrentCompositeRepresentation();b.getIsBufferingCompleted()||b.updateBufferTimestampOffset(Fn)})(),hn()}).catch(Fn=>{q.error(Fn),hn()})})}function Gn(St){ee.areMediaInfosEqual(I,St)||ge.trigger(T.default.NEW_TRACK_SELECTED,{value:St}),I=St,Se.handleNewMediaInfo(I),ge.trigger(m.default.MEDIAINFO_UPDATED,{mediaType:ce,streamId:ve.id,currentMediaInfo:I})}function Yn(St){const hn=St.newRepresentation,On=St.oldRepresentation,kn=$n();hn&&On||q.warn("_handleDifferentSwitchTypes() is missing the target representations"),St.reason&&St.reason.forceReplace?function(Xn,Fn){le.abortRequests(),ge.trigger(m.default.BUFFER_REPLACEMENT_STARTED,{mediaType:ce,streamId:ve.id},{mediaType:ce,streamId:ve.id}),H.setShouldCheckPlaybackQuality(!1),b.prepareForForceReplacementQualitySwitch(Xn,Fn).then(()=>{Bn()}).catch(()=>{Bn()})}(hn,On):St&&St.reason&&St.reason.forceAbandon?function(Xn,Fn){b.prepareForAbandonQualitySwitch(Xn,Fn).then(()=>{Nn()}).catch(()=>{Nn()})}(hn,On):!Me.getFastSwitchEnabled()||kn&&kn.isPartialSegment?Bt(hn,On):function(Xn,Fn){const yr=Oe.getTime();let wr=1.5*(isNaN(Xn.fragmentDuration)?1:Xn.fragmentDuration);const Ai=le.getRequests({state:We.FRAGMENT_MODEL_EXECUTED,time:yr+wr,threshold:0})[0];if(Ai&&!I.isText){const jr=b.getBufferLevel(),Li=Se.getAbandonmentStateFor(ve.id,ce);Ai.bandwidth<Xn.bandwidth&&jr>=wr&&Li===o.ALLOW_LOAD?b.prepareForFastQualitySwitch(Xn,Fn).then(()=>{it(yr,wr)}).catch(()=>{it(yr,wr)}):Bt(Xn,Fn)}else Bt(Xn,Fn)}(hn,On),te.pushPlayListTraceMetrics(new Date,Ci.REPRESENTATION_SWITCH_STOP_REASON),te.createPlaylistTraceMetrics(hn.id,1e3*Oe.getTime(),Oe.getPlaybackRate())}function Bn(){ze(),dn(),P=!1}function Nn(){le.abortRequests(),re=!0,H.setShouldCheckPlaybackQuality(!1),H.startScheduleTimer(),P=!1}function it(St,hn){le.abortRequests(),sn(St+hn),H.setShouldCheckPlaybackQuality(!1),H.startScheduleTimer(),P=!1}function Bt(St,hn){const On=le.getRequests({state:We.FRAGMENT_MODEL_LOADING});if(On&&On.length>0)return q.debug("Preparing for default quality switch: Waiting for ongoing segment request to be finished before applying switch."),C.newRepresentation=St,C.oldRepresentation=hn,void(C.enabled=!0);b.prepareForDefaultQualitySwitch(St,hn).then(()=>{It()}).catch(()=>{It()})}function It(){H.setShouldCheckPlaybackQuality(!1),I.segmentAlignment||I.subSegmentAlignment?H.startScheduleTimer():ut(),dn(),P=!1}function Vt(St){q.info("onFragmentLoadingAbandoned request: "+St.request.url+" has been aborted"),Oe.isSeeking()||H.getSwitchTrack()||P||(q.info("onFragmentLoadingAbandoned request: "+St.request.url+" has to be downloaded again, origin is not seeking process or switch track call"),St.request&&St.request.isInitializationRequest()?H.setInitSegmentRequired(!0):sn(St.request.startTime+St.request.duration/2),H.startScheduleTimer(0))}function vn(St){q.info("OnFragmentLoadingCompleted for stream id "+ve.id+" and media type "+ce+" - Url:",St.request?St.request.url:"undefined",St.request.range?", Range:"+St.request.range:""),I.isText&&H.startScheduleTimer(0),St.error&&St.request.serviceLocation&&function(hn){q.info("Fragment loading completed with an error"),hn&&hn.request&&hn.request.type&&(hn.request.type===Te.HTTPRequest.INIT_SEGMENT_TYPE?je({representationId:hn.request.representation.id,sender:{}},!1):hn.request.type===Te.HTTPRequest.MEDIA_SEGMENT_TYPE&&(sn(hn.request.startTime+hn.request.duration/2),Ue(0,!1)))}(St)}function At(){sn(Oe.getTime()),Ve().startScheduleTimer()}function Ct(St){const hn=St.currentTrackInfo;if(!hn)return;const On=G.find(kn=>kn.index===hn.index&&kn.lang===hn.lang);On&&An(new ra({newMediaInfo:On})).then(()=>{b.setIsBufferingCompleted(!1),sn(Oe.getTime()),H.setInitSegmentRequired(!0),H.startScheduleTimer()})}function wt(St){sn(St.quotaExceededTime),lt()}function Pt(){return b?b.getBuffer():null}function Ve(){return H}function lt(){H&&H.clearScheduleTimer()}function Nt(St=NaN){let hn;return isNaN(St)?hn=U?U.getCurrentRepresentation():null:((0,Rt.checkInteger)(St),hn=U?U.getRepresentationById(St):null),hn}function ct(){return!!b&&b.getIsBufferingCompleted()}function Kt(St){if(!oe.get().streaming.enableManifestTimescaleMismatchFix)return;const hn=St.chunk,On=hn.bytes,kn=Nt(hn.representation.id);kn&&(kn.timescale=Y.getMediaTimescaleFromMoov(On))}function Zt(St){const hn=St.chunk,On=hn.bytes,kn=Nt(hn.representation.id);if(kn){let Xn;if(oe.get().streaming.parseInbandPrft&&St.request.type===Te.HTTPRequest.MEDIA_SEGMENT_TYPE){Xn=Xn||Y.parse(On);const wr=function(Ai,jr){const Li=Ai.getBoxes("prft"),Ca=[];return Li.forEach(pa=>{Ca.push(function(aa,as){let ya="unknown";switch(aa.flags){case 0:ya=De.default.PRODUCER_REFERENCE_TIME_TYPE.ENCODER;break;case 16:ya=De.default.PRODUCER_REFERENCE_TIME_TYPE.APPLICATION;break;case 24:ya=De.default.PRODUCER_REFERENCE_TIME_TYPE.CAPTURED}let Yi=1e3*aa.ntp_timestamp_sec+aa.ntp_timestamp_frac/2**32*1e3;return Yi=wg(he).getInstance().ntpToUTC(Yi),{type:ya,ntpTimestamp:Yi,mediaTime:aa.media_time/as}}(pa,jr))}),Ca}(Xn,kn.timescale);wr&&wr.length&&ge.trigger(T.default.INBAND_PRFT,{data:wr},{streamId:ve.id,mediaType:ce})}const Fn=ee.getEventsFor(kn.mediaInfo,null,ve),yr=ee.getEventsFor(kn,kn,ve);if(Fn&&Fn.length>0||yr&&yr.length>0){const wr=St.request;Xn=Xn||Y.parse(On);const Ai=function(jr,Li,Ca,pa){try{const aa={},as=[],ya=Ca.concat(pa);for(let Wi=0,No=ya.length;Wi<No;Wi++)aa[ya[Wi].schemeIdUri+"/"+ya[Wi].value]=ya[Wi];const Yi=jr.getBoxes("emsg");if(!Yi||Yi.length===0)return as;const sa=jr.getBox("sidx"),Ri=!sa||isNaN(sa.earliest_presentation_time)||isNaN(sa.timescale)?Li&&!isNaN(Li.mediaStartTime)?Li.mediaStartTime:0:sa.earliest_presentation_time/sa.timescale,vu=Math.max(Ri,0),Fi=U.getCurrentRepresentation();for(let Wi=0,No=Yi.length;Wi<No;Wi++){const Oo=ee.getEvent(Yi[Wi],aa,vu,Fi);Oo&&as.push(Oo)}return as}catch{return[]}}(Xn,wr,Fn,yr);ge.trigger(m.default.INBAND_EVENTS,{events:Ai},{streamId:ve.id})}}}function ze(){const St=Oe.getTime();oe.get().streaming.buffer.flushBufferAtTrackSwitch&&Oe.seek(St+.001,!1,!0),sn(St),b.setSeekTarget(St),H.startScheduleTimer()}function ut(){const St=Oe.getTime(),hn=b.getContinuousBufferTimeForTargetTime(St);sn(isNaN(hn)?St:hn),H.startScheduleTimer()}function Qt(St){St&&!isNaN(St.time)&&(sn(St.time),b.setSeekTarget(St.time))}function sn(St){_=St,ae=!0}function $n(){return w.getLastSegment()}return O={checkAndHandleCompletedBuffering:at,clearScheduleTimer:lt,createBufferSinks:function(St,hn){const On=Pt();return On?Promise.resolve(On):b?b.createBufferSink(I,St,hn):Promise.resolve(null)},dischargePreBuffer:function(){b.dischargePreBuffer()},finalisePlayList:function(St,hn){te.pushPlayListTraceMetrics(St,hn)},getAllMediaInfos:function(){return G},getBuffer:Pt,getBufferController:function(){return b},getBufferLevel:function(){return b?b.getBufferLevel():0},getFragmentModel:function(){return le},getLastSegment:$n,getMediaInfo:function(){return I},getMediaSource:function(){return b.getMediaSource()},getRepresentation:Nt,getRepresentationController:function(){return U},getScheduleController:Ve,getStreamId:se,getStreamInfo:function(){return ve},getType:Ae,initialize:function(St,hn,On){J=vf(he).create({events:m.default,eventBus:ge,streamInfo:ve,timelineConverter:V,dashConstants:De.default,segmentBaseController:S.segmentBaseController,type:ce}),w=pf(he).create({baseURLController:S.baseURLController,boxParser:Y,constants:p.default,dashConstants:De.default,dashMetrics:te,debug:(0,u.default)(he).getInstance(),errHandler:ye,errors:Tn,eventBus:ge,events:m.default,mediaPlayerModel:Me,segmentsController:J,settings:oe,streamInfo:ve,timelineConverter:V,type:ce,urlUtils:Rr(he).getInstance()}),M=ve.manifestInfo.isDynamic,w.initialize(M),Se.registerStreamType(ce,O),U=Tg(he).create({abrController:Se,adapter:ee,dashConstants:De.default,dashMetrics:te,errors:Tn,eventBus:ge,events:m.default,isDynamic:M,playbackController:Oe,segmentsController:J,streamInfo:ve,timelineConverter:V,type:ce}),b=function(kn,Xn){let Fn=null;return kn?(Fn=kn!==p.default.TEXT||Xn?ff(he).create({abrController:Se,capabilities:D,errHandler:ye,fragmentModel:le,manifestModel:we,mediaController:Ce,mediaPlayerModel:Me,playbackController:Oe,representationController:U,settings:oe,streamInfo:ve,textController:de,type:kn}):ci(he).create({errHandler:ye,fragmentModel:le,mimeType:Ke,settings:oe,streamInfo:ve,textController:de,type:kn}),Fn):(ye.error(new ln.default(Tn.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,Tn.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+"not properly defined")),null)}(ce,On),b&&b.initialize(St),H=lu(he).create({abrController:Se,adapter:ee,bufferController:b,dashMetrics:te,fragmentModel:le,mediaController:Ce,mediaPlayerModel:Me,mimeType:Ke,playbackController:Oe,representationController:U,settings:oe,streamInfo:ve,textController:de,type:ce}),R=hn,H.initialize(hn),_=0,ae=!1,re=!1},isBufferingCompleted:ct,prepareInnerPeriodPlaybackSeeking:function(St){return new Promise(hn=>{if(b.hasBufferAtTime(St.seekTime))return b.pruneBuffer(),Le(b.getContinuousBufferTimeForTargetTime(St.seekTime))&&b.setIsBufferingCompleted(!0),void hn();lt(),le.abortRequests(),b.prepareForPlaybackSeek().then(()=>{const On=b.getAllRangesWithSafetyFactor(St.seekTime);return b.clearBuffers(On)}).then(()=>{const On=b.getContinuousBufferTimeForTargetTime(St.seekTime);if(Le(On))b.setIsBufferingCompleted(!0),hn();else{const kn=isNaN(On)?St.seekTime:On;sn(kn),b.setSeekTarget(kn);const Xn=[];Xn.push(b.updateAppendWindow());const Fn=Nt();Xn.push(b.updateBufferTimestampOffset(Fn)),Promise.all(Xn).then(()=>{H.setInitSegmentRequired(!0),H.setShouldCheckPlaybackQuality(!1),H.startScheduleTimer(),hn()})}}).catch(On=>{q.error(On)})})},prepareOuterPeriodPlaybackSeeking:function(){return new Promise((St,hn)=>{try{lt(),le.abortRequests(),b.prepareForPlaybackSeek().then(()=>b.pruneAllSafely()).then(()=>{St()})}catch(On){hn(On)}})},prepareQualityChange:function(St){St.newRepresentation&&(function(hn){if(z)z.prepareQualityChange(hn);else if(ce===p.default.ENHANCEMENT){const On=hn.oldRepresentation.mediaInfo.type,kn=hn.newRepresentation.mediaInfo.type;if(On===p.default.ENHANCEMENT&&kn===p.default.VIDEO)return q.info("Stop "+ce+" stream processor"),H.reset(),!0;if(On===p.default.VIDEO&&kn===p.default.ENHANCEMENT)return q.info("Start "+ce+" stream processor"),An(new ra({newMediaInfo:hn.newRepresentation.mediaInfo,newRepresentation:hn.newRepresentation})).then(()=>{H.setup(),H.initialize(R),H.startScheduleTimer()}),!0}return!1}(St)||(C&&C.enabled&&q.warn(`Canceling queued representation switch to ${C.newRepresentation.id} for ${ce}`),St.isAdaptationSetSwitch?(q.debug(`Preparing quality switch to different AdaptationSet for type ${ce} from representation id ${St.oldRepresentation.id} to ${St.newRepresentation.id}`),function(hn){const On=hn.newRepresentation;P=!0,lt(),H.setSwitchTrack(!0);const kn=On.mediaInfo;Gn(kn),An(new ra({newMediaInfo:kn,newRepresentation:On})).then(()=>{Yn(hn)})}(St)):(q.debug(`Preparing quality within the same AdaptationSet for type ${ce} from representation id ${St.oldRepresentation.id} to ${St.newRepresentation.id}`),function(hn){const On=hn.newRepresentation;P=!0,lt(),U.prepareQualityChange(On),Yn(hn)}(St))))},prepareTrackSwitch:function(St,hn=!1){return new Promise(On=>{q.debug(`Preparing track switch for type ${ce}`);const kn=ce===p.default.TEXT||hn||oe.get().streaming.trackSwitchMode[ce]===p.default.TRACK_SWITCH_MODE_ALWAYS_REPLACE&&Oe.getTimeToStreamEnd(ve)>oe.get().streaming.buffer.stallThreshold;b.getIsBufferingCompleted()&&!kn?function(Xn){return new Promise(Fn=>{const yr=U.getCurrentRepresentation();b.prepareForNonReplacementTrackSwitch(yr,Xn).then(()=>{ge.trigger(m.default.BUFFERING_COMPLETED,{},{streamId:ve.id,mediaType:ce}),Fn()}).catch(()=>{ge.trigger(m.default.BUFFERING_COMPLETED,{},{streamId:ve.id,mediaType:ce}),Fn()})})}(St).then(()=>{On()}):(H.setSwitchTrack(!0),kn?function(Xn){return new Promise(Fn=>{ge.trigger(m.default.BUFFER_REPLACEMENT_STARTED,{mediaType:ce,streamId:ve.id},{mediaType:ce,streamId:ve.id}),le.abortRequests();const yr=Nt();b.prepareForReplacementTrackSwitch(yr,Xn).then(()=>{ze(),Fn()}).catch(()=>{ze(),Fn()})})}(St).then(()=>{On()}):function(Xn){return new Promise(Fn=>{const yr=()=>{const wr=le.getRequests({state:We.FRAGMENT_MODEL_LOADING});if(wr&&wr.length!==0)ge.once(T.default.FRAGMENT_LOADING_COMPLETED,yr,O);else{const Ai=Nt();b.prepareForNonReplacementTrackSwitch(Ai,Xn).then(()=>{ut(),Fn()}).catch(jr=>{q.error(jr),ut(),Fn()})}};yr()})}(St).then(()=>{On()}))})},probeNextRequest:function(){const St=Nt();return w.getNextSegmentRequestIdempotent(I,St)},reset:function(St,hn){w&&w.reset(),b&&(b.reset(St,hn),b=null),H&&(H.reset(),H=null),U&&(U.reset(),U=null),J&&(J=null),Se&&Se.unRegisterStreamType(se(),ce),ge.off(m.default.BUFFER_CLEARED,Yt,O),ge.off(m.default.BUFFER_LEVEL_STATE_CHANGED,zt,O),ge.off(m.default.BYTES_APPENDED_END_FRAGMENT,Ut,O),ge.off(m.default.FRAGMENT_LOADING_ABANDONED,Vt,O),ge.off(m.default.FRAGMENT_LOADING_COMPLETED,vn,O),ge.off(m.default.INIT_FRAGMENT_LOADED,Kt,O),ge.off(m.default.INIT_FRAGMENT_NEEDED,je,O),ge.off(m.default.MEDIA_FRAGMENT_LOADED,Zt,O),ge.off(m.default.MEDIA_FRAGMENT_NEEDED,Ue,O),ge.off(m.default.QUOTA_EXCEEDED,wt,O),ge.off(m.default.SEEK_TARGET,Qt,O),ge.off(m.default.SET_FRAGMENTED_TEXT_AFTER_DISABLED,At,O),ge.off(m.default.SET_NON_FRAGMENTED_TEXT,Ct,O),ge.off(m.default.SOURCE_BUFFER_ERROR,pn,O),Re(),ce=null,ve=null},selectMediaInfo:An,setEnhancementStreamProcessor:function(St){z=St,q.info("enhancementStreamProcessor = "+z)},setExplicitBufferingTime:sn,setMediaInfoArray:function(St){G=St},setMediaSource:function(St){return b.setMediaSource(St,I)},setTrackSwitchInProgress:function(St){fe=St},updateStreamInfo:function(St){return ve=St,ct()?Promise.resolve():b.updateAppendWindow()}},q=(0,u.default)(he).getInstance().getLogger(O),Re(),ge.on(m.default.BUFFER_CLEARED,Yt,O),ge.on(m.default.BUFFER_LEVEL_STATE_CHANGED,zt,O),ge.on(m.default.BYTES_APPENDED_END_FRAGMENT,Ut,O),ge.on(m.default.FRAGMENT_LOADING_ABANDONED,Vt,O),ge.on(m.default.FRAGMENT_LOADING_COMPLETED,vn,O),ge.on(m.default.INIT_FRAGMENT_LOADED,Kt,O),ge.on(m.default.INIT_FRAGMENT_NEEDED,je,O),ge.on(m.default.MEDIA_FRAGMENT_LOADED,Zt,O),ge.on(m.default.MEDIA_FRAGMENT_NEEDED,Ue,O),ge.on(m.default.QUOTA_EXCEEDED,wt,O),ge.on(m.default.SEEK_TARGET,Qt,O),ge.on(m.default.SET_FRAGMENTED_TEXT_AFTER_DISABLED,At,O),ge.on(m.default.SET_NON_FRAGMENTED_TEXT,Ct,O),ge.on(m.default.SOURCE_BUFFER_ERROR,pn,O),O}cu.__dashjs_factory_name="StreamProcessor";var kg=n.default.getClassFactory(cu),kc=class{constructor(){this.streamId=null,this.segmentType=null,this.index=NaN,this.bytes=null,this.start=NaN,this.end=NaN,this.duration=NaN,this.representation=null,this.endFragment=null}},du=class extends pe{constructor(S){super(S),this.checkForExistenceOnly=!0}};function Tf(S){S=S||{};const b=this.context,_=S.eventBus,R=S.events,I=S.urlUtils,w=S.errors,z=S.streamId;let O,M;return O={abort:function(){M&&M.abort()},checkForExistence:function(q){const G=function(C){_.trigger(R.CHECK_FOR_EXISTENCE_COMPLETED,{request:q,exists:C})};if(q){let C=new du(q.url);M.load({request:C,success:function(){G(!0)},error:function(){G(!1)}})}else G(!1)},load:function(q){const G=function(C,P){_.trigger(R.LOADING_COMPLETED,{request:q,response:C||null,error:P||null,sender:O})};q?M.load({request:q,progress:function(C){_.trigger(R.LOADING_PROGRESS,{request:q,stream:C.stream,streamId:z}),C.data&&_.trigger(R.LOADING_DATA_PROGRESS,{request:q,response:C.data||null,error:null,sender:O})},success:function(C){G(C)},error:function(C,P,U){G(void 0,new ln.default(w.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE,U,P))},abort:function(C){C&&_.trigger(R.LOADING_ABANDONED,{mediaType:C.mediaType,request:C,sender:O})}}):G(void 0,new ln.default(w.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE,w.FRAGMENT_LOADER_NULL_REQUEST_ERROR_MESSAGE))},reset:function(){M&&(M.abort(),M.reset(),M=null)},resetInitialSettings:function(){M&&M.resetInitialSettings()}},M=yo(b).create({errHandler:S.errHandler,errors:w,dashMetrics:S.dashMetrics,mediaPlayerModel:S.mediaPlayerModel,urlUtils:I,constants:p.default,boxParser:S.boxParser,dashConstants:S.dashConstants,requestTimeout:S.settings.get().streaming.fragmentRequestTimeout}),O}Tf.__dashjs_factory_name="FragmentLoader";var Cg=n.default.getClassFactory(Tf);function Sf(S){S=S||{};const b=this.context,_=(0,y.default)(b).getInstance(),R=S.errHandler,I=S.mediaPlayerModel,w=S.dashMetrics,z=(0,u.default)(b).getInstance(),O=S.streamInfo;let M,q,G;function C(){return O.id}function P(){for(let H in G)G[H].reset();G={}}function U(H){if(!H.sender)return;const J=H.request,re=H.response,ae=J.isInitializationRequest(),fe=J.representation.mediaInfo.streamInfo;if(H.error&&(J.mediaType===p.default.AUDIO||J.mediaType===p.default.VIDEO||J.mediaType===p.default.TEXT&&J.representation.mediaInfo.isFragmented)&&_.trigger(m.default.SERVICE_LOCATION_BASE_URL_BLACKLIST_ADD,{entry:H.request.serviceLocation}),!re||!fe)return void q.warn("No "+J.mediaType+" bytes to push or stream is inactive.");const he=function(ge,Se,ee,Y){const D=new kc;return D.streamId=ee,D.segmentType=Se.type,D.start=Se.startTime,D.duration=Se.duration,D.end=D.start+D.duration,D.bytes=ge,D.index=Se.index,D.representation=Se.representation,D.endFragment=Y,D}(re,J,O.id,H.type!==m.default.FRAGMENT_LOADING_PROGRESS);_.trigger(ae?m.default.INIT_FRAGMENT_LOADED:m.default.MEDIA_FRAGMENT_LOADED,{chunk:he,request:J},{streamId:fe.id,mediaType:J.mediaType})}return M={getStreamId:C,getModel:function(H){let J=G[H];return J||(J=We(b).create({streamInfo:O,type:H,dashMetrics:w,fragmentLoader:Cg(b).create({dashMetrics:w,mediaPlayerModel:I,errHandler:R,settings:S.settings,boxParser:S.boxParser,eventBus:_,events:m.default,errors:Tn,dashConstants:S.dashConstants,urlUtils:S.urlUtils,streamId:C()}),debug:z,eventBus:_,events:m.default}),G[H]=J),J},reset:function(){_.off(T.default.FRAGMENT_LOADING_COMPLETED,U,this),_.off(T.default.FRAGMENT_LOADING_PROGRESS,U,this),P()}},q=z.getLogger(M),P(),_.on(T.default.FRAGMENT_LOADING_COMPLETED,U,M),_.on(T.default.FRAGMENT_LOADING_PROGRESS,U,M),M}Sf.__dashjs_factory_name="FragmentController";var Dg=n.default.getClassFactory(Sf),Lg=class{constructor(){this.url=null,this.width=null,this.height=null,this.x=null,this.y=null}},Ng=class{constructor(){this.bitrate=0,this.width=0,this.height=0,this.tilesHor=0,this.tilesVert=0,this.widthPerTile=0,this.heightPerTile=0,this.startNumber=0,this.segmentDuration=0,this.timescale=0,this.templateUrl="",this.id=""}};function Cc(S){const b=this.context,_=S.adapter,R=S.baseURLController,I=S.streamInfo,w=S.timelineConverter,z=S.debug,O=S.eventBus,M=S.events,q=S.dashConstants,G=Rr(b).getInstance();let C,P,U,H,J,re,ae,fe,he;function ge(ee,Y){const D=new Ng;D.id=ee.id,D.bitrate=ee.bandwidth,D.width=ee.width,D.height=ee.height,D.tilesHor=1,D.tilesVert=1,ee.essentialProperties&&ee.essentialProperties.forEach(te=>{if(p.default.THUMBNAILS_SCHEME_ID_URIS.indexOf(te.schemeIdUri)>=0&&te.value){const ye=te.value.split("x");ye.length!==2||isNaN(ye[0])||isNaN(ye[1])||(D.tilesHor=parseInt(ye[0],10),D.tilesVert=parseInt(ye[1],10))}}),Y?ae.updateSegmentData(ee).then(te=>{(function(ye,le,we){let Ce=[];const Me=function(Ke,Oe){const W=[];let oe,ve,de,V,ce=0;for(oe=0,ve=Ke.segments.length;oe<ve;oe++)de=Ke.segments[oe],V=Rc({durationInTimescale:de.duration,fTimescale:de.timescale,index:ce,isDynamic:_.getIsDynamic(),mediaRange:de.mediaRange,mediaTime:de.startTime,mediaUrl:de.media,representation:Oe,timelineConverter:w}),V&&(W.push(V),V=null,ce++);return W}(we,le);le.segments=Me,le.fragmentDuration=le.segmentDuration||(le.segments&&le.segments.length>0?le.segments[0].duration:NaN),ye.segmentDuration=le.segments[0].duration,ye.readThumbnail=function(Ke,Oe){let W=null;Ce.some(oe=>{if(oe.start<=Ke&&oe.end>Ke)return W=oe.url,!0}),W?Oe(W):le.segments.some(oe=>{if(oe.mediaStartTime<=Ke&&oe.mediaStartTime+oe.duration>Ke){const ve=R.resolve(le.path),de=new Nd({method:"get",url:ve.url,responseType:"arraybuffer",customData:{request:{range:oe.mediaRange},onloadend:function(ce){let se=he.getSamplesInfo(ce.target.response),Ae=new Blob([ce.target.response.slice(se.sampleList[0].offset,se.sampleList[0].offset+se.sampleList[0].size)],{type:"image/jpeg"}),Re=window.URL.createObjectURL(Ae);Ce.push({start:oe.mediaStartTime,end:oe.mediaStartTime+oe.duration,url:Re}),Oe&&Oe(Re)}}}),V=new Yu({request:de});return fe.load(de,V),!0}})}})(D,ee,te)}):(D.startNumber=ee.startNumber,D.segmentDuration=ee.segmentDuration,D.timescale=ee.timescale,D.templateUrl=function(te){const ye=G.isRelative(te.media)?G.resolve(te.media,R.resolve(te.path).url):te.media;return ye?fl(ye,te.id):""}(ee)),D.tilesHor>0&&D.tilesVert>0&&(D.widthPerTile=D.width/D.tilesHor,D.heightPerTile=D.height/D.tilesVert,P.push(D))}function Se(){P=[],U=[],J=-1,re=null,H&&(H.reset(),H=null)}return C={addTracks:function(){if(!I||!_||(re=_.getMediaInfoForType(I,p.default.IMAGE),!re))return;const ee=_.getVoRepresentations(re);ee&&ee.length>0&&ee.forEach(Y=>{(Y.segmentInfoType===De.default.SEGMENT_TEMPLATE&&Y.segmentDuration>0&&Y.media||Y.segmentInfoType===De.default.SEGMENT_TIMELINE)&&ge(Y),Y.segmentInfoType===De.default.SEGMENT_BASE&&ge(Y,!0),U.push(Y)}),P.length>0&&P.sort((Y,D)=>Y.bitrate-D.bitrate)},getCurrentTrack:function(){return J<0?null:P[J]},getCurrentTrackIndex:function(){return J},getRepresentations:function(){return U},getThumbnailRequestForTime:function(ee){let Y;const D=_.getVoRepresentations(re);for(let te=0;te<D.length;te++)if(P[J].id===D[te].id){Y=D[te];break}return H.getSegmentRequestForTime(re,Y,ee)},getTracks:function(){return P},reset:Se,setTrackById:function(ee){if(!P||P.length===0)return;const Y=P.findIndex(D=>D.id===ee);Y!==-1&&(J=Y)},setTrackByIndex:function(ee){P&&P.length!==0&&(ee>=P.length&&(ee=P.length-1),J=ee)}},Se(),fe=Rn(b).create({}),he=Zo(b).getInstance(),ae=vf(b).create({events:M,eventBus:O,streamInfo:I,timelineConverter:w,dashConstants:q,dashMetrics:S.dashMetrics,segmentBaseController:S.segmentBaseController,type:p.default.IMAGE}),H=pf(b).create({streamInfo:I,type:p.default.IMAGE,timelineConverter:w,segmentsController:ae,baseURLController:R,debug:z,eventBus:O,events:M,dashConstants:q,urlUtils:G}),H.initialize(!!_&&_.getIsDynamic()),C}Cc.__dashjs_factory_name="ThumbnailTracks";var Og=n.default.getClassFactory(Cc);function _f(S){const b=this.context,_=S.streamInfo;let R,I;function w(O){I.setTrackByIndex(O)}function z(){I&&I.reset()}return R={getCurrentTrack:function(){return I.getCurrentTrack()},getCurrentTrackIndex:function(){return I.getCurrentTrackIndex()},getPossibleVoRepresentations:function(){return I.getRepresentations()},getStreamId:function(){return _.id},initialize:function(){I.addTracks();const O=I.getTracks();O&&O.length>0&&w(0)},provide:function(O,M){if(typeof M!="function")return;const q=I.getCurrentTrack();let G,C;if(!q||q.segmentDuration<=0||O==null)return void M(null);C=I.getThumbnailRequestForTime(O),C&&(q.segmentDuration=C.duration),G=O%q.segmentDuration;const P=Math.floor(G*q.tilesHor*q.tilesVert/q.segmentDuration),U=new Lg;if(U.width=Math.floor(q.widthPerTile),U.height=Math.floor(q.heightPerTile),U.x=Math.floor(P%q.tilesHor)*q.widthPerTile,U.y=Math.floor(P/q.tilesHor)*q.heightPerTile,"readThumbnail"in q)return q.readThumbnail(O,H=>{U.url=H,M(U)});if(C)U.url=C.url,q.segmentDuration=NaN;else{const H=Math.floor(O/q.segmentDuration);U.url=function(J,re){const ae=re+J.startNumber;return fl(J.templateUrl,void 0,ae,void 0,J.bandwidth,(ae-1)*J.segmentDuration*J.timescale)}(q,H)}M(U)},reset:z,setTrackByIndex:w,setTrackById:function(O){I.setTrackById(O)}},z(),I=Og(b).create({streamInfo:_,adapter:S.adapter,baseURLController:S.baseURLController,timelineConverter:S.timelineConverter,debug:S.debug,eventBus:S.eventBus,events:S.events,dashConstants:S.dashConstants,dashMetrics:S.dashMetrics,segmentBaseController:S.segmentBaseController}),R}_f.__dashjs_factory_name="ThumbnailController";var Af=n.default.getClassFactory(_f),Mg=class{constructor(S){this.eventBus=S,this.reset()}get duration(){return this._duration}set duration(S){if(this._readyState!=="open")throw new Error("ExternalMediaSource is not open");this._duration=S}get readyState(){return this._readyState}addSourceBuffer(S){if(this._readyState!=="open")throw new Error("ExternalMediaSource is not open");const b=new dl(S,this.eventBus);return this.sourceBuffers.set(b,S),b}removeSourceBuffer(S){if(!this.sourceBuffers.has(S))throw new Error("ExternalSourceBuffer not found");this.sourceBuffers.delete(S)}open(){this._readyState="open",this.eventBus.trigger("externalMediaSourceOpen",{})}endOfStream(){if(this._readyState!=="open")throw new Error("ExternalMediaSource is not open");this._readyState="ended",this.eventBus.trigger("externalMediaSourceEnded",{})}close(){this._readyState="closed",this.eventBus.trigger("externalMediaSourceClosed",{})}reset(){this.sourceBuffers=new Map,this._duration=NaN,this._readyState="closed"}};const Pg=[p.default.VIDEO,p.default.AUDIO,p.default.TEXT,p.default.MUXED,p.default.IMAGE];function zg(S){S=S||{};const b=this.context,_=(0,y.default)(b).getInstance(),R=Rr(b).getInstance(),I=S.manifestModel,w=S.mediaPlayerModel,z=S.dashMetrics,O=S.manifestUpdater,M=S.adapter,q=S.timelineConverter,G=S.capabilities,C=S.errHandler,P=S.abrController,U=S.playbackController,H=S.throughputController,J=S.eventController,re=S.mediaController,ae=S.protectionController,fe=S.textController,he=S.videoModel;let ge=S.streamInfo;const Se=S.settings;let ee,Y,D,te,ye,le,we,Ce,Me,Ke,Oe,W,oe,ve,de,V;function ce(At,Ct,wt){return new Promise((Pt,Ve)=>{zt(),pn();let lt=he.getElement();const Nt=[];Pg.forEach(ct=>{if((ct!==p.default.TEXT||At)&&(ct!==p.default.VIDEO||!lt||lt&&/^VIDEO$/i.test(lt.nodeName))){const Kt=wt.find(Zt=>Zt.mediaInfo.type===ct);Nt.push(se(ct,At,Kt))}}),Promise.all(Nt).then(()=>function(ct){return new Promise(Kt=>{const Zt={},ze=D.map(ut=>{const Qt=ut.getRepresentation();return ut.createBufferSinks(ct,Qt)});Promise.all(ze).then(ut=>{ut.forEach(Qt=>{Qt&&(Zt[Qt.getType()]=Qt)}),Kt(Zt)}).catch(()=>{Kt(Zt)})})}(Ct)).then(ct=>{if(D.length===0){const Kt="No streams to play.";C.error(new ln.default(Tn.MANIFEST_ERROR_ID_NOSTREAMS_CODE,Kt,I.getValue())),Y.fatal(Kt)}else It();At&&fe.createTracks(ge),Pt(ct)}).catch(ct=>{Ve(ct)})})}function se(At,Ct,wt){let Pt,Ve=M.getAllMediaInfoForType(ge,At),lt=[],Nt=null,ct=-1;if(!Ve||Ve.length===0)return Y.info("No "+At+" data."),Promise.resolve();At===p.default.VIDEO&&(we=!0),At===p.default.AUDIO&&(Ce=!0);for(let Zt=0,ze=Ve.length;Zt<ze;Zt++)Nt=Ve[Zt],At===p.default.TEXT&&Nt.isEmbedded&&(fe.addEmbeddedTrack(ge,Nt),lt.push(Nt)),Ae(Nt)&&re.addTrack(Nt),Nt.type===p.default.ENHANCEMENT&&(ct=Zt);if(lt.length>0&&(re.setInitialMediaSettingsForType(At,ge),fe.addMediaInfosToBuffer(ge,At,lt)),Ve=Ve.filter(Zt=>!Zt.isEmbedded),Ve.length===0)return Promise.resolve();if(At===p.default.IMAGE)return Ke=Af(b).create({streamInfo:ge,adapter:M,baseURLController:S.baseURLController,timelineConverter:S.timelineConverter,debug:ve,eventBus:_,events:m.default,dashConstants:De.default,dashMetrics:S.dashMetrics,segmentBaseController:S.segmentBaseController}),Ke.initialize(),Promise.resolve();_.trigger(m.default.STREAM_INITIALIZING,{streamInfo:ge,mediaInfo:Nt}),re.setInitialMediaSettingsForType(At,ge);let Kt=Re(Ve,Ct,At);if(ct>=0){let Zt=new Mg(_);Zt.open(),Zt.duration=ge.manifestInfo.duration;let ze=Re(Ve,Zt,p.default.ENHANCEMENT);ze.selectMediaInfo(new ra({newMediaInfo:Ve[ct]})),Kt.setEnhancementStreamProcessor(ze)}if(Pt=re.getCurrentTrackFor(At,ge.id),Pt){const Zt=At===p.default.TEXT&&Pt.isEmbedded?Ve[0]:Pt,ze=new ra({newMediaInfo:Zt,previouslySelectedRepresentation:wt});return Kt.selectMediaInfo(ze)}return Promise.resolve()}function Ae(At){const Ct=At?At.type:null;let wt;return Ct===p.default.MUXED?(wt="Multiplexed representations are intentionally not supported, as they are not compliant with the DASH-AVC/264 guidelines",Y.fatal(wt),C.error(new ln.default(Tn.MANIFEST_ERROR_ID_MULTIPLEXED_CODE,wt,I.getValue())),!1):!(Ct!==p.default.TEXT&&Ct!==p.default.IMAGE&&At.contentProtection&&At.contentProtection.length>0&&!G.supportsEncryptedMedia()&&(C.error(new ln.default(Tn.CAPABILITY_MEDIAKEYS_ERROR_CODE,Tn.CAPABILITY_MEDIAKEYS_ERROR_MESSAGE)),1))}function Re(At,Ct,wt){const Pt=At&&At.length>0?At.filter(Zt=>Zt.type===wt)[0]:null;let Ve=Me.getModel(Pt?Pt.type:null);const lt=Pt?Pt.type:null,Nt=Pt?Pt.mimeType:null,ct=Pt?Pt.isFragmented:null;let Kt=kg(b).create({abrController:P,adapter:M,baseURLController:S.baseURLController,boxParser:oe,capabilities:G,dashMetrics:S.dashMetrics,errHandler:C,fragmentModel:Ve,manifestModel:I,mediaController:re,mediaPlayerModel:w,mimeType:Nt,playbackController:U,segmentBaseController:S.segmentBaseController,segmentBlacklistController:Oe,settings:Se,streamInfo:ge,textController:fe,throughputController:H,timelineConverter:q,type:lt});return Kt.initialize(Ct,we,ct),D.push(Kt),Kt.setMediaInfoArray(At),lt===p.default.TEXT&&fe.addMediaInfosToBuffer(ge,lt,At,Ve),Kt}function Le(At){let Ct=D?D.length:0;for(let wt=0;wt<Ct;wt++){let Pt=D[wt].getFragmentModel();Pt.abortRequests(),Pt.resetInitialSettings(),D[wt].reset(!1,At)}fe&&fe.deactivateStream(ge),Ke&&(Ke.reset(),Ke=null),D=[],ye=!1,le=!1,Vt(!1),Ue(!1),_.trigger(m.default.STREAM_DEACTIVATED,{streamInfo:ge})}function je(At){Le(At),te=!1,we=!1,Ce=!1,de=!1,V=[]}function Ue(At){de=At}function at(){return ge?ge.start:NaN}function Tt(){return ge?ge.id:null}function zt(){if(!he||!P)throw new Error(p.default.MISSING_CONFIG_ERROR)}function Yt(At){At.error&&(C.error(At.error),Y.fatal(At.error.message))}function pn(){if(J){const At=M.getEventsFor(ge);At&&At.length>0&&J.addInlineEvents(At,ge.id)}}function Ut(At){let Ct=dn(At);return Ct?Ct.getMediaInfo():null}function dn(At){return At?D.find(Ct=>Ct.getType()===At):null}function An(){let At=it();const Ct=At.length;if(Ct!==0){for(let wt=0;wt<Ct;wt++)if(!At[wt].isBufferingCompleted()&&(At[wt].getType()===p.default.AUDIO||At[wt].getType()===p.default.VIDEO))return void Y.debug("onBufferingCompleted - One streamProcessor has finished but",At[wt].getType(),"one is not buffering completed");Y.debug("onBufferingCompleted - trigger STREAM_BUFFERING_COMPLETED"),le=!0,_.trigger(m.default.STREAM_BUFFERING_COMPLETED,{streamInfo:ge},{streamInfo:ge})}else Y.warn("onBufferingCompleted - can't trigger STREAM_BUFFERING_COMPLETED because no streamProcessor is defined")}function Gn(At){J&&J.addInbandEvents(At.events,ge.id)}function Yn(){It()}function Bn(At){return At&&At.type?Nn(At.type):null}function Nn(At){return At?it().filter(function(Ct){return Ct.getType()===At})[0]:null}function it(){let At,Ct,wt=[];for(let Pt=0;Pt<D.length;Pt++)Ct=D[Pt],At=Ct.getType(),At!==p.default.AUDIO&&At!==p.default.VIDEO&&At!==p.default.TEXT&&At!==p.default.ENHANCEMENT||wt.push(Ct);return wt}function Bt(){const At=D.length;for(let Ct=0;Ct<At&&D[Ct];Ct++)D[Ct].getScheduleController().startScheduleTimer()}function It(){const At=D.length;if(ae){ae.clearMediaInfoArray();for(let Ct=0;Ct<At&&D[Ct];Ct++){const wt=D[Ct].getType(),Pt=D[Ct].getMediaInfo();if(wt===p.default.AUDIO||wt===p.default.VIDEO||wt===p.default.TEXT&&Pt&&Pt.isFragmented){let Ve=D[Ct].getMediaInfo();Ve&&ae.initializeForMedia(Ve)}}ae.handleKeySystemFromManifest()}te||(te=!0,he.waitForReadyState(p.default.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,()=>{_.trigger(m.default.STREAM_INITIALIZED,{streamInfo:ge})}))}function Vt(At){W=At}function vn(){return W}return ee={activate:function(At,Ct,wt=[]){return new Promise((Pt,Ve)=>{if(!ye)return vn()?(ye=!0,_.trigger(m.default.STREAM_ACTIVATED,{streamInfo:ge}),void Pt()):void function(lt,Nt,ct=[]){return ce(lt,Nt,ct)}(At,Ct,wt).then(()=>{ye=!0,wt&&wt.length>0&&Bt(),_.trigger(m.default.STREAM_ACTIVATED,{streamInfo:ge}),Pt()}).catch(lt=>{Ve(lt)});Pt()})},checkAndHandleCompletedBuffering:function(){le||D.forEach(At=>{At.checkAndHandleCompletedBuffering()})},deactivate:Le,getAdapter:function(){return M},getCurrentMediaInfoForType:function(At){const Ct=Nn(At);return Ct?Ct.getMediaInfo():null},getCurrentRepresentationForType:function(At){const Ct=Nn(At);return Ct?Ct.getRepresentation():null},getDuration:function(){return ge?ge.duration:NaN},getHasAudioTrack:function(){return Ce},getHasFinishedBuffering:function(){return le},getHasVideoTrack:function(){return we},getId:Tt,getIsActive:function(){return ye},getIsEndedEventSignaled:function(){return de},getPreloaded:vn,getRepresentationForTypeById:function(At,Ct){let wt;if(At===p.default.IMAGE){if(!Ke)return null;wt=Ke.getPossibleVoRepresentations()}else wt=function(lt){let Nt=dn(lt);return Nt?Nt.getAllMediaInfos():[]}(At).flatMap(lt=>P.getPossibleVoRepresentationsFilteredBySettings(lt,!0));if(!wt||wt.length===0)return null;const Pt=wt.filter(Ve=>Ve.id===Ct);return Pt&&Pt.length>0?Pt[0]:null},getRepresentationForTypeByIndex:function(At,Ct){let wt;if(At===p.default.IMAGE){if(!Ke)return null;wt=Ke.getPossibleVoRepresentations()}else{const Pt=Ut(At);wt=P.getPossibleVoRepresentationsFilteredBySettings(Pt,!0)}return wt[Ct=Math.max(Math.min(Ct,wt.length-1),0)]},getRepresentationsByType:function(At){if(zt(),At===p.default.IMAGE)return Ke?Ke.getPossibleVoRepresentations():[];const Ct=Ut(At);return P.getPossibleVoRepresentationsFilteredBySettings(Ct,!0)},getStartTime:at,getStreamId:function(){return ge?ge.id:null},getStreamInfo:function(){return ge},getStreamProcessors:it,getThumbnailController:function(){return Ke},initialize:function(){_.on(m.default.BUFFERING_COMPLETED,An,ee),_.on(m.default.INBAND_EVENTS,Gn,ee),_.on(m.default.DATA_UPDATE_COMPLETED,Yn,ee),ae&&(_.on(m.default.KEY_ERROR,Yt,ee),_.on(m.default.SERVER_CERTIFICATE_UPDATED,Yt,ee),_.on(m.default.LICENSE_REQUEST_COMPLETE,Yt,ee),_.on(m.default.KEY_SYSTEM_SELECTED,Yt,ee),_.on(m.default.KEY_SESSION_CREATED,Yt,ee)),fe.initializeForStream(ge),_.trigger(m.default.STREAM_UPDATED,{streamInfo:ge})},initializeForTextWithMediaSource:function(At){return new Promise((Ct,wt)=>{se(p.default.TEXT,At,null).then(()=>function(){const Pt=Nn(p.default.TEXT);return Pt?Pt.createBufferSinks():Promise.resolve()}()).then(()=>{fe.createTracks(ge),Ct()}).catch(Pt=>{wt(Pt)})})},prepareQualityChange:function(At){const Ct=Nn(At.mediaType);Ct&&Ct.prepareQualityChange(At)},prepareTrackChange:function(At){if(!ye||!ge)return;le=!1;let Ct=At.newMediaInfo,wt=I.getValue(),Pt=Bn(Ct);if(!Pt)return;let Ve=U.getTime();if(Y.info("Stream -  Process track changed at current time "+Ve),wt.refreshManifestOnSwitchTrack)V.push(At),O.getIsUpdating()||(Y.debug("Stream -  Refreshing manifest for switch track"),O.refreshManifest());else{Pt.clearScheduleTimer(),Pt.setTrackSwitchInProgress(!0);const lt=Pt.getRepresentation();Pt.selectMediaInfo(new ra({newMediaInfo:Ct})).then(()=>{const Nt=!!(At&&At.options&&At.options.hasOwnProperty("replaceBuffer"))&&At.options.replaceBuffer;return Pt.prepareTrackSwitch(lt,Nt)}).then(()=>{Pt.setTrackSwitchInProgress(!1)})}},reset:function(At){Me&&(Me.reset(),Me=null),P&&ge&&P.clearDataForStream(ge.id),Oe&&(Oe.reset(),Oe=null),fe&&ge&&fe.clearDataForStream(ge.id),re&&ge&&re.clearDataForStream(ge.id),je(At),ge=null,_.off(m.default.BUFFERING_COMPLETED,An,ee),_.off(m.default.INBAND_EVENTS,Gn,ee),_.off(m.default.DATA_UPDATE_COMPLETED,Yn,ee),ae&&(_.off(m.default.KEY_ERROR,Yt,ee),_.off(m.default.SERVER_CERTIFICATE_UPDATED,Yt,ee),_.off(m.default.LICENSE_REQUEST_COMPLETE,Yt,ee),_.off(m.default.KEY_SYSTEM_SELECTED,Yt,ee),_.off(m.default.KEY_SESSION_CREATED,Yt,ee))},setIsEndedEventSignaled:Ue,setMediaSource:function(At){return new Promise((Ct,wt)=>{const Pt=[];for(let Ve=0;Ve<D.length;)Ae(D[Ve].getMediaInfo())?(Pt.push(D[Ve].setMediaSource(At)),Ve++):(D[Ve].reset(),D.splice(Ve,1));Promise.all(Pt).then(()=>{for(let Ve=0;Ve<D.length;Ve++)D[Ve].dischargePreBuffer();if(D.length===0){const Ve="No streams to play.";C.error(new ln.default(Tn.MANIFEST_ERROR_ID_NOSTREAMS_CODE,Ve+"nostreams",I.getValue())),Y.fatal(Ve)}Ct()}).catch(Ve=>{Y.error(Ve),wt(Ve)})})},startPreloading:function(At,Ct,wt=[]){return new Promise((Pt,Ve)=>{vn()?Ve():(Y.info(`[startPreloading] Preloading next stream with id ${Tt()}`),Vt(!0),ce(At,Ct,wt).then(()=>{for(let lt=0;lt<D.length&&D[lt];lt++)D[lt].setExplicitBufferingTime(at()),D[lt].getScheduleController().startScheduleTimer();Pt()}).catch(()=>{Vt(!1),Ve()}))})},startScheduleControllers:Bt,triggerProtectionError:function(At){Yt(At)},updateData:function(At){return new Promise(Ct=>{ge=At,J&&pn();let wt,Pt=[];for(let Ve=0,lt=D.length;Ve<lt;Ve++){let Nt=D[Ve];const ct=Nt.getMediaInfo();Pt.push(Nt.updateStreamInfo(ge));let Kt=M.getAllMediaInfoForType(ge,Nt.getType());if(Kt=Kt.filter(Zt=>!Zt.isEmbedded),Nt.setMediaInfoArray(Kt),Kt)for(let Zt=0;Zt<Kt.length;Zt++)M.areMediaInfosEqual(ct,Kt[Zt])&&Pt.push(Nt.selectMediaInfo(new ra({newMediaInfo:Kt[Zt]})))}Promise.all(Pt).then(()=>{let Ve=[];for(;V.length>0;){let lt=V.pop(),Nt=lt.newMediaInfo;if(wt=Bn(lt.oldMediaInfo),!wt)return;const ct=wt.getRepresentation();wt.setTrackSwitchInProgress(!0),Ve.push(wt.prepareTrackSwitch(ct)),Ve.push(wt.selectMediaInfo(new ra({newMediaInfo:Nt})))}return Promise.all(Ve)}).then(()=>{It(),wt&&wt.setTrackSwitchInProgress(!1),_.trigger(m.default.STREAM_UPDATED,{streamInfo:ge}),Ct()}).catch(Ve=>{C.error(Ve)})})}},function(){try{ve=(0,u.default)(b).getInstance(),Y=ve.getLogger(ee),je(),oe=Zo(b).getInstance(),Oe=wn(b).create({updateEventName:m.default.SEGMENT_LOCATION_BLACKLIST_CHANGED,addBlacklistEventName:m.default.SEGMENT_LOCATION_BLACKLIST_ADD}),Me=Dg(b).create({streamInfo:ge,mediaPlayerModel:w,dashMetrics:z,errHandler:C,settings:Se,boxParser:oe,dashConstants:De.default,urlUtils:R})}catch(At){throw At}}(),ee}zg.__dashjs_factory_name="Stream";var Rf=n.default.getClassFactory(zg);function Dc(){const S=this.context,b=(0,y.default)(S).getInstance(),_=Rr(S).getInstance();let R,I,w,z,O,M,q,G,C,P,U,H,J,re,ae,fe;function he(){G=[],C=[],P=null,U=null,J=null,H=NaN,w=!1,z=!1,re=O.get().streaming.utcSynchronization.timeBetweenSyncAttempts}function ge(){O.get().streaming.utcSynchronization.enabled&&!w&&!z&&J&&J.value&&J.schemeIdUri&&!isNaN(H)&&!isNaN(O.get().streaming.utcSynchronization.backgroundAttempts)&&(U&&(Date.now()-U)/1e3<30||(G=[],z=!0,Se(isNaN(O.get().streaming.utcSynchronization.backgroundAttempts)?2:O.get().streaming.utcSynchronization.backgroundAttempts)))}function Se(ve){try{if(ve<=0)return void W();const de=Date.now();M[J.schemeIdUri](J.value,function(V){const ce=Date.now(),se=Y(de,ce,V);G.push(se),Se(ve-1)},function(){W()})}catch{W()}}function ee(ve=null){let de=ve||0;if(!C||C.length===0||de>=C.length)return void D();let V=C[de];if(V)if(M.hasOwnProperty(V.schemeIdUri)){const ce=new Date().getTime();M[V.schemeIdUri](V.value,function(se){const Ae=new Date().getTime(),Re=Y(ce,Ae,se);J=V,D(Re)},function(){ee(de+1)})}else ee(de+1);else D()}function Y(ve,de,V){return V-(de-(de-ve)/2)}function D(ve=NaN){let de=isNaN(ve);de&&O.get().streaming.utcSynchronization.useManifestDateHeaderTimeSource?function(){let V=q.getLatestMPDRequestHeaderValueByID("Date"),ce=V!==null?new Date(V).getTime():Number.NaN;isNaN(ce)?Oe(!0):Oe(!1,ce-Date.now())}():Oe(de,ve)}function te(ve){let de=Date.parse(ve);return isNaN(de)&&(de=function(V){let ce,se,Ae=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+\-])([0-9]{2})([0-9]{2}))?/.exec(V);return ce=Date.UTC(parseInt(Ae[1],10),parseInt(Ae[2],10)-1,parseInt(Ae[3],10),parseInt(Ae[4],10),parseInt(Ae[5],10),Ae[6]&&(parseInt(Ae[6],10)||0),Ae[7]&&1e3*parseFloat(Ae[7])||0),Ae[9]&&Ae[10]&&(se=60*parseInt(Ae[9],10)+parseInt(Ae[10],10),ce+=(Ae[8]==="+"?-1:1)*se*60*1e3),new Date(ce).getTime()}(ve)),de}function ye(ve){return Date.parse(ve)}function le(ve){return Date.parse(ve)}function we(ve,de,V){V()}function Ce(ve,de,V){let ce=te(ve);isNaN(ce)?V():de(ce)}function Me(ve,de,V,ce,se){let Ae,Re,Le=!1,je=new XMLHttpRequest,Ue=se?Te.HTTPRequest.HEAD:Te.HTTPRequest.GET,at=de.match(/\S+/g);if(de=at.shift(),Ae=function(){Le||(Le=!0,at.length?Me(ve,at.join(" "),V,ce,se):ce())},Re=function(){let Tt,zt;je.status===200&&(Tt=se?je.getResponseHeader("Date"):je.response,zt=ve(Tt),isNaN(zt)||(V(zt),Le=!0))},_.isRelative(de)){const Tt=fe.resolve();Tt&&(de=_.resolve(de,Tt.url))}je.open(Ue,de),je.timeout=5e3,je.onload=Re,je.onloadend=Ae,je.send()}function Ke(ve,de,V){Me(le,ve,de,V,!0)}function Oe(ve,de){if(isNaN(H)||isNaN(de)||ve||function(ce){try{const se=oe(ce),Ae=isNaN(re)?30:re,Re=isNaN(O.get().streaming.utcSynchronization.timeBetweenSyncAttemptsAdjustmentFactor)?2:O.get().streaming.utcSynchronization.timeBetweenSyncAttemptsAdjustmentFactor,Le=isNaN(O.get().streaming.utcSynchronization.maximumTimeBetweenSyncAttempts)?600:O.get().streaming.utcSynchronization.maximumTimeBetweenSyncAttempts,je=isNaN(O.get().streaming.utcSynchronization.minimumTimeBetweenSyncAttempts)?2:O.get().streaming.utcSynchronization.minimumTimeBetweenSyncAttempts;let Ue;se?(Ue=Math.min(Ae*Re,Le),I.debug(`Increasing timeBetweenSyncAttempts to ${Ue}`)):(Ue=Math.max(Ae/Re,je),I.debug(`Decreasing timeBetweenSyncAttempts to ${Ue}`)),re=Ue}catch{}}(de),!ve&&!isNaN(de)){P=Date.now(),w=!1;const ce=isNaN(H);H=de,ce&&ge(),I.debug(`Completed UTC sync. Setting client - server offset to ${de}`)}ve&&(J=null,w=!1,ae.error(new ln.default(Tn.TIME_SYNC_FAILED_ERROR_CODE,Tn.TIME_SYNC_FAILED_ERROR_MESSAGE)));const V=O.get().streaming.utcSynchronization.artificialTimeOffsetToApply;b.trigger(m.default.UPDATE_TIME_SYNC_OFFSET,{offset:de+V}),b.trigger(m.default.TIME_SYNCHRONIZATION_COMPLETED)}function W(){if(!G||G.length===0)return;const ve=G.reduce((de,V)=>de+V,0)/G.length;oe(ve)?I.debug("Completed background UTC sync. Offset is within allowed threshold and is not adjusted."):(I.debug(`Completed background UTC sync. Setting client - server offset to ${ve}`),H=ve,b.trigger(m.default.UPDATE_TIME_SYNC_OFFSET,{offset:H})),z=!1,U=Date.now()}function oe(ve){try{if(isNaN(H))return!0;const de=O.get().streaming.utcSynchronization.maximumAllowedDrift&&!isNaN(O.get().streaming.utcSynchronization.maximumAllowedDrift)?O.get().streaming.utcSynchronization.maximumAllowedDrift:100;return ve>=H-de&&ve<=H+de}catch{return!0}}return R={initialize:function(){he(),M={"urn:mpeg:dash:utc:http-head:2014":Ke,"urn:mpeg:dash:utc:http-xsdate:2014":Me.bind(null,te),"urn:mpeg:dash:utc:http-iso:2014":Me.bind(null,ye),"urn:mpeg:dash:utc:direct:2014":Ce,"urn:mpeg:dash:utc:http-head:2012":Ke,"urn:mpeg:dash:utc:http-xsdate:2012":Me.bind(null,te),"urn:mpeg:dash:utc:http-iso:2012":Me.bind(null,ye),"urn:mpeg:dash:utc:direct:2012":Ce,"urn:mpeg:dash:utc:http-ntp:2014":we,"urn:mpeg:dash:utc:ntp:2014":we,"urn:mpeg:dash:utc:sntp:2014":we}},attemptSync:function(ve,de){C=ve,w||(function(V){try{if(!V||!O.get().streaming.utcSynchronization.enabled)return!1;const ce=isNaN(re)?30:re;return!(P&&ce&&!isNaN(ce))||(Date.now()-P)/1e3>=ce}catch{return!0}}(de)?(w=!0,ee()):b.trigger(m.default.TIME_SYNCHRONIZATION_COMPLETED))},setConfig:function(ve){ve&&(ve.dashMetrics&&(q=ve.dashMetrics),ve.baseURLController&&(fe=ve.baseURLController),ve.errHandler&&(ae=ve.errHandler),ve.settings&&(O=ve.settings))},reset:function(){he(),b.off(m.default.ATTEMPT_BACKGROUND_SYNC,ge,R)}},I=(0,u.default)(S).getInstance().getLogger(R),b.on(m.default.ATTEMPT_BACKGROUND_SYNC,ge,R),R}Dc.__dashjs_factory_name="TimeSyncController";const Lc=n.default.getSingletonFactory(Dc);Lc.HTTP_TIMEOUT_MS=5e3,n.default.updateSingletonFactory(Dc.__dashjs_factory_name,Lc);var xf=Lc;function If(){let S,b,_,R,I;const w=this.context,z=(0,y.default)(w).getInstance();return S={attachMediaSource:function(O){let M=window.URL.createObjectURL(b);return O.setSource(M),R==="managedMediaSource"&&(O.setDisableRemotePlayback(!0),b.addEventListener("startstreaming",()=>{z.trigger(T.default.MANAGED_MEDIA_SOURCE_START_STREAMING)}),b.addEventListener("endstreaming",()=>{z.trigger(T.default.MANAGED_MEDIA_SOURCE_END_STREAMING)})),M},createMediaSource:function(){let O="WebKitMediaSource"in window,M="MediaSource"in window;return"ManagedMediaSource"in window?(b=new ManagedMediaSource,R="managedMediaSource",I.info("Created ManagedMediaSource")):M?(b=new MediaSource,R="mediaSource",I.info("Created MediaSource")):O&&(b=new WebKitMediaSource,I.info("Created WebkitMediaSource")),b},detachMediaSource:function(O){O.setSource(null)},setConfig:function(O){O&&O.settings&&(_=O.settings)},setDuration:function O(M){b&&b.readyState==="open"&&(M===null&&isNaN(M)||b.duration!==M&&(M!==1/0||_.get().streaming.buffer.mediaSourceDurationInfinity||(M=Math.pow(2,32)),function(q){let G=q.sourceBuffers;for(let C=0;C<G.length;C++)if(G[C].updating)return!0;return!1}(b)?setTimeout(O.bind(null,M),50):(I.info("Set MediaSource duration:"+M),b.duration=M)))},setSeekable:function(O,M){b&&typeof b.setLiveSeekableRange=="function"&&typeof b.clearLiveSeekableRange=="function"&&b.readyState==="open"&&O>=0&&O<M&&(b.clearLiveSeekableRange(),b.setLiveSeekableRange(O,M))},signalEndOfStream:function(O){if(!O||O.readyState!=="open")return;let M=O.sourceBuffers;for(let q=0;q<M.length;q++)if(M[q].updating||M[q].buffered.length===0)return;I.info("call to mediaSource endOfStream"),O.endOfStream()}},I=(0,u.default)(w).getInstance().getLogger(S),S}If.__dashjs_factory_name="MediaSourceController";var Fg=n.default.getSingletonFactory(If);function Ug(){const S="urn:mpeg:dash:event:2012",_="urn:mpeg:dash:event:callback:2015",w="discarded",z="updated",O="added",M=this.context,q=(0,y.default)(M).getInstance();let G,C,P,U,H,J,re,ae,fe,he,ge;function Se(){if(!re||!ae)throw new Error("setConfig function has to be called previously")}function ee(){ge=!1,P={},U={},H=null,he=!1,J=Date.now()/1e3}function Y(){try{if(!he){he=!0;const Oe=ae.getTime();let W=Oe-J;W=J>0?Math.max(0,W):0,D(U,W,Oe),D(P,W,Oe),te(U),te(P),J=Oe,he=!1}}catch(Oe){he=!1,C.error(Oe)}}function D(Oe,W,oe){try{Ce(Oe,function(de){if(de!==void 0){const V=isNaN(de.duration)?0:de.duration;de.calculatedPresentationTime<=oe&&de.calculatedPresentationTime+W+V>=oe?Ke(de,T.default.EVENT_MODE_ON_START):(Me(oe,V+W,de.calculatedPresentationTime)||function(ce){try{const se=ce.eventStream.period.start+ce.eventStream.period.duration;return ce.calculatedPresentationTime>se}catch(se){return C.error(se),!1}}(de))&&(C.debug(`Removing event ${de.id} from period ${de.eventStream.period.id} as it is expired or invalid`),function(ce,se){try{const Ae=se.eventStream.schemeIdUri,Re=se.eventStream.period.id,Le=se.eventStream.value,je=se.id;ce[Re][Ae]=ce[Re][Ae].filter(Ue=>Le&&Ue.eventStream.value&&Ue.eventStream.value!==Le||Ue.id!==je),ce[Re][Ae].length===0&&delete ce[Re][Ae]}catch(Ae){C.error(Ae)}}(Oe,de))}})}catch(ve){C.error(ve)}}function te(Oe){try{for(const W in Oe)Oe.hasOwnProperty(W)&&Object.keys(Oe[W]).length===0&&delete Oe[W]}catch(W){C.error(W)}}function ye(Oe,W,oe=!1){const ve=Oe.eventStream.schemeIdUri,de=Oe.eventStream.value,V=Oe.id;let ce=w;W[ve]||(W[ve]=[]);const se=W[ve].findIndex(Ae=>(!de||Ae.eventStream.value&&Ae.eventStream.value===de)&&Ae.id===V);if(se===-1)W[ve].push(Oe),Oe.triggeredReceivedEvent=!1,Oe.triggeredStartEvent=!1,ce=O;else if(oe){const Ae=W[ve][se];Oe.triggeredReceivedEvent=Ae.triggeredReceivedEvent,Oe.triggeredStartEvent=Ae.triggeredStartEvent,W[ve][se]=Oe,ce=z}return ce}function le(Oe){try{if(Oe.eventStream.value==1){const W=Oe.calculatedPresentationTime;let oe;oe=Oe.calculatedPresentationTime==4294967295?NaN:Oe.calculatedPresentationTime+Oe.duration,q.trigger(T.default.MANIFEST_VALIDITY_CHANGED,{id:Oe.id,validUntil:W,newDuration:oe,newManifestValidAfter:NaN},{mode:T.default.EVENT_MODE_ON_START})}}catch(W){C.error(W)}}function we(Oe){try{const W=ae.getTime();Ce(Oe,function(oe){const ve=oe.eventStream&&oe.eventStream.period&&!isNaN(oe.eventStream.period.duration)?oe.eventStream.period.duration:NaN,de=oe.eventStream&&oe.eventStream.period&&!isNaN(oe.eventStream.period.start)?oe.eventStream.period.start:NaN;if(isNaN(ve)||isNaN(de))return;const V=oe.calculatedPresentationTime;Math.abs(V-W)<300&&Ke(oe,T.default.EVENT_MODE_ON_START)})}catch(W){C.error(W)}}function Ce(Oe,W){try{if(Oe){const oe=Object.keys(Oe);for(let ve=0;ve<oe.length;ve++){const de=Oe[oe[ve]],V=Object.keys(de);for(let ce=0;ce<V.length;ce++)de[V[ce]].forEach(se=>{se!==void 0&&W(se)})}}}catch(oe){C.error(oe)}}function Me(Oe,W,oe){try{return Oe-W>oe}catch(ve){return C.error(ve),!1}}function Ke(Oe,W){try{const oe=ae.getTime(),ve=Oe.id;if(W===T.default.EVENT_MODE_ON_RECEIVE&&!Oe.triggeredReceivedEvent)return C.debug(`Received event ${ve}`),Oe.triggeredReceivedEvent=!0,void q.trigger(Oe.eventStream.schemeIdUri,{event:Oe},{mode:W});Oe.triggeredStartEvent||(Oe.eventStream.schemeIdUri===S&&Oe.eventStream.value==1?Oe.duration===0&&Oe.presentationTimeDelta===0||(C.debug(`Starting manifest refresh event ${ve} at ${oe}`),function(){try{Se(),re.refreshManifest()}catch(de){C.error(de)}}()):Oe.eventStream.schemeIdUri===_&&Oe.eventStream.value==1?(C.debug(`Starting callback event ${ve} at ${oe}`),function(de){try{let V=Rn(M).create({});const ce=new Nd({method:"get",url:de,responseType:"arraybuffer",customData:{}}),se=new Yu({request:ce});V.load(ce,se)}catch(V){C.error(V)}}(Oe.messageData instanceof Uint8Array?gt.default.uint8ArrayToString(Oe.messageData):Oe.messageData)):(C.debug(`Starting event ${ve} from period ${Oe.eventStream.period.id} at ${oe}`),q.trigger(Oe.eventStream.schemeIdUri,{event:Oe},{mode:W}),fe.get().streaming.events.deleteEventMessageDataTimeout>-1&&setTimeout(()=>{delete Oe.messageData,delete Oe.parsedMessageData},fe.get().streaming.events.deleteEventMessageDataTimeout)),Oe.triggeredStartEvent=!0)}catch(oe){C.error(oe)}}return G={addInlineEvents:function(Oe,W){try{if(Se(),P[W]||(P[W]={}),Oe)for(let oe=0;oe<Oe.length;oe++){let ve=Oe[oe];if(!Me(ae.getTime(),isNaN(ve.duration)?0:ve.duration,ve.calculatedPresentationTime)){let de=ye(ve,P[W],!0);de===O?(C.debug(`Added inline event with id ${ve.id} from period ${W}`),Ke(ve,T.default.EVENT_MODE_ON_RECEIVE)):de===z&&C.debug(`Updated inline event with id ${ve.id} from period ${W}`)}}}catch(oe){throw oe}},addInbandEvents:function(Oe,W){try{Se(),U[W]||(U[W]={});for(let oe=0;oe<Oe.length;oe++){let ve=Oe[oe];Me(ae.getTime(),isNaN(ve.duration)?0:ve.duration,ve.calculatedPresentationTime)||(ye(ve,U[W],!1)===O?(ve.eventStream.schemeIdUri===S&&le(ve),C.debug(`Added inband event with id ${ve.id} from period ${W}`),Ke(ve,T.default.EVENT_MODE_ON_RECEIVE)):C.debug(`Inband event with scheme_id_uri ${ve.eventStream.schemeIdUri}, value ${ve.eventStream.value}, period id ${W} and event id ${ve.id} was ignored because it has been added before.`))}Y()}catch(oe){throw oe}},getInbandEvents:function(){return U},getInlineEvents:function(){return P},start:function(){try{Se(),C.debug("Start Event Controller");const Oe=fe.get().streaming.events.eventControllerRefreshDelay;ge||isNaN(Oe)||(ge=!0,H=setInterval(Y,Oe))}catch(Oe){throw Oe}},setConfig:function(Oe){try{if(!Oe)return;Oe.manifestUpdater&&(re=Oe.manifestUpdater),Oe.playbackController&&(ae=Oe.playbackController),Oe.settings&&(fe=Oe.settings)}catch(W){throw W}},reset:function(){(function(){try{H!==null&&ge&&(clearInterval(H),H=null,ge=!1,function(){try{we(U),we(P)}catch(Oe){C.error(Oe)}}())}catch(Oe){throw Oe}})(),ee()}},C=(0,u.default)(M).getInstance().getLogger(G),ee(),G}Ug.__dashjs_factory_name="EventController";var ly=n.default.getSingletonFactory(Ug),ko={LEVELS:{WARNING:"Warning",ERROR:"Error"},EVENTS:{NO_UTC_TIMING_ELEMENT:{key:"NO_UTC_TIMING_ELEMENT",message:"No UTCTiming element is present in the manifest. You may experience playback failures. For a detailed validation use https://conformance.dashif.org/"},NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE:{key:"NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE",message:'SMPTE 2052-1:2013 defines the attribute name as "imageType" and does not define "imagetype"'},INVALID_DVR_WINDOW:{key:"INVALID_DVR_WINDOW",message:"No valid segment found when applying a specification compliant DVR window calculation. Using SegmentTimeline entries as a fallback."}}},hl=t(445),Nc=t(1923);function fu(){const S=this.context,b=(0,y.default)(S).getInstance();let _,R,I,w,z,O,M,q,G,C,P,U,H,J,re,ae,fe,he,ge,Se,ee,Y,D,te,ye,le,we,Ce,Me,Ke,Oe,W,oe,ve,de,V,ce,se,Ae,Re,Le,je,Ue,at,Tt,zt,Yt,pn;function Ut(){if(!(O&&O.hasOwnProperty("load")&&Y&&Y.hasOwnProperty("initialize")&&Y.hasOwnProperty("reset")&&Y.hasOwnProperty("getClientTimeOffset")&&M&&ee&&G&&de))throw new Error(p.default.MISSING_CONFIG_ERROR)}function dn(){(function(){try{const ot=q.getStreamsInfo();if(!te&&ot.length===0)throw new Error("There are no periods in the MPD");te&&ot.length>0&&G.updateManifestUpdateInfo({currentTime:de.getTime(),buffered:ve.getBufferRange(),presentationStartTime:ot[0].start,clientTimeOffset:Y.getClientTimeOffset()}),D.length>0&&function(In){In.length!==0?D=D.filter(Ln=>{const Zn=In.filter(tr=>tr.id===Ln.getId()).length>0||Ln.getId()===te.getId();return Zn||(R.debug(`Removing stream ${Ln.getId()}`),Ln.reset(!0),Ln=null),Zn}):R.warn("No periods included in the current manifest. Skipping the filtering of outdated stream objects.")}(ot);const Wt=[];for(let In=0,Ln=ot.length;In<Ln;In++){const Zn=ot[In];Wt.push(Gn(Zn)),G.addManifestUpdateStreamInfo(Zn)}Promise.all(Wt).then(()=>new Promise((In,Ln)=>{te?In():Yn(ot,In,Ln)})).then(()=>{b.trigger(m.default.STREAMS_COMPOSED),$n()}).catch(In=>{throw In})}catch(ot){ee.error(new ln.default(Tn.MANIFEST_ERROR_ID_NOSTREAMS_CODE,ot.message+" nostreamscomposed",M.getValue())),W=!0,Wi()}})()}function An(){Tt=!0}function Gn(ot){let Wt=Ri(ot.id);return Wt?Wt.updateData(ot):(Wt=Rf(S).create({manifestModel:M,mediaPlayerModel:ce,dashMetrics:G,manifestUpdater:z,adapter:q,timelineConverter:Y,capabilities:I,capabilitiesFilter:w,errHandler:ee,baseURLController:H,segmentBaseController:J,textController:le,abrController:ae,playbackController:de,throughputController:fe,eventController:ge,mediaController:he,protectionController:ye,videoModel:ve,streamInfo:ot,settings:at}),D.push(Wt),Wt.initialize(),Promise.resolve())}function Yn(ot,Wt,In){try{Nt();const Ln=G.getCurrentDVRInfo().range;if(Ln.end<Ln.start)return void function(tr,Cr,ba,oa){zt&&clearTimeout(zt);const ml=Math.min(1e3*(-1*(tr.end-tr.start)+2),2147483647);R.debug(`Waiting for ${ml} ms before playback can start`),b.trigger(m.default.AST_IN_FUTURE,{delay:ml}),zt=setTimeout(()=>{Yn(Cr,ba,oa)},ml)}(Ln,ot,Wt,In);at.get().streaming.applyProducerReferenceTime&&V.calculateProducerReferenceTimeOffsets(ot);const Zn=ot[0].manifestInfo;if(at.get().streaming.applyServiceDescription&&V.applyServiceDescription(Zn),q.getIsDynamic()){const tr=wr(0,Zn);de.computeAndSetLiveDelay(tr,Zn)}(at.get().streaming.applyContentSteering&&U.shouldQueryBeforeStart()?U.loadSteeringData():Promise.resolve()).then(()=>{const tr=M.getValue();tr&&H.update(tr),Bn(),Wt()}).catch(tr=>{R.error(tr),Bn(),Wt()})}catch(Ln){In(Ln)}}function Bn(){const ot=function(){let Ln;return Ln=q.getIsDynamic()?function(){let Zn;const tr=G.getCurrentDVRInfo();Zn=(tr&&tr.range?tr.range.end:0)-de.getOriginalLiveDelay();const Cr=tr?tr.range:null;if(Cr){if(isNaN(Yt)&&Yt.toString().indexOf("posix:")===-1){const oa=Xn(!0);isNaN(oa)||(R.info(`Start time from URI parameters: ${oa}`),Zn=Math.min(Zn,oa))}else{R.info(`Start time provided by the app: ${Yt}`);const oa=Fn(!0,Yt);isNaN(oa)||(Zn=Math.min(Zn,oa))}const ba=at.get().streaming.timeShiftBuffer.calcFromSegmentTimeline?.1:0;Zn=Math.max(Zn,Cr.start+ba)}return Zn}():function(){let Zn=Oo()[0].getStreamInfo().start;if(isNaN(Yt)){const tr=Xn(!1);isNaN(tr)||(R.info(`Start time from URI parameters: ${tr}`),Zn=Math.max(Zn,tr))}else{R.info(`Start time provided by the app: ${Yt}`);const tr=Fn(!1,Yt);isNaN(tr)||(Zn=Math.max(Zn,tr))}return Zn}(),Ln}();let Wt=lt(ot);const In=Wt!==null?Wt:D[0];b.trigger(m.default.INITIAL_STREAM_SWITCH,{startTime:ot}),Nn(In,null,ot),je||(je=setInterval(function(){!Ke&&de.getTimeToStreamEnd()<=0&&!de.isSeeking()&&b.trigger(m.default.PLAYBACK_ENDED,{isLast:sa().isLast})},200))}function Nn(ot,Wt,In){try{if(Ke||!ot||Wt===ot&&ot.getIsActive())return;Ke=!0,b.trigger(m.default.PERIOD_SWITCH_STARTED,{fromStreamInfo:Wt?Wt.getStreamInfo():null,toStreamInfo:ot.getStreamInfo()});let Ln=!1,Zn=[],tr=Vt(Wt);te=ot,Wt&&(Ln=Pt(ot,Wt),Zn=It(Wt),Wt.deactivate(Ln)),In=isNaN(In)?!Ln&&Wt?ot.getStreamInfo().start:NaN:In,R.info(`Switch to stream ${ot.getId()}. Seektime is ${In}, current playback time is ${de.getTime()}. Seamless period switch is set to ${Ln}`),Ue=Ue.filter(Cr=>Cr.getId()!==te.getId()),de.initialize(sa(),!!Wt),ve.getElement()?it({seekTime:In,keepBuffers:Ln,sourceBufferSinksFromPreviousPeriod:tr,streamActivated:!1,representationsFromPreviousPeriod:Zn}):Bt({seekTime:In,keepBuffers:Ln,sourceBufferSinksFromPreviousPeriod:tr})}catch{Ke=!1}}function it(ot){let Wt;function In(){if(!oe||oe.readyState!=="open")return;R.debug("MediaSource is open!"),window.URL.revokeObjectURL(Wt),oe.removeEventListener("sourceopen",In),oe.removeEventListener("webkitsourceopen",In),kn();const Zn=G.getCurrentDVRInfo();C.setSeekable(Zn.range.start,Zn.range.end),ot.streamActivated?(isNaN(ot.seekTime)||de.seek(ot.seekTime,!0,!0),te.setMediaSource(oe).then(()=>{te.initializeForTextWithMediaSource(oe)})):Bt(ot)}function Ln(){oe.addEventListener("sourceopen",In,!1),oe.addEventListener("webkitsourceopen",In,!1),Wt=C.attachMediaSource(ve),R.debug("MediaSource attached to element.  Waiting on open...")}oe?ot.keepBuffers?Bt(ot):(C.detachMediaSource(ve),Ln()):(oe=C.createMediaSource(),Ln())}function Bt(ot){const Wt=ot.representationsFromPreviousPeriod||[];te.activate(oe,ot.sourceBufferSinksFromPreviousPeriod,Wt).then(()=>{isNaN(ot.seekTime)||(b.trigger(m.default.SEEK_TARGET,{time:ot.seekTime},{streamId:te.getId()}),de.seek(ot.seekTime,!1,!0),te.startScheduleControllers()),Ke=!1,b.trigger(m.default.PERIOD_SWITCH_COMPLETED,{toStreamInfo:sa()})})}function It(ot){return(ot?ot.getStreamProcessors():[]).map(Wt=>Wt.getRepresentation())}function Vt(ot){const Wt=new Map;return ot&&(ot?ot.getStreamProcessors():[]).forEach(In=>{const Ln=In.getBuffer();Ln&&Wt.set(Ln.getType(),Ln)}),Wt}function vn(ot){const Wt=lt(ot.seekTime);Wt&&Wt!==te?Wt&&Wt!==te&&(At(Wt),function(In,Ln){const Zn=In&&!isNaN(In.seekTime)?In.seekTime:NaN,tr=te.getStreamProcessors().map(Cr=>Cr.prepareOuterPeriodPlaybackSeeking(In));Promise.all(tr).then(()=>{Nn(Ln,te,Zn)}).catch(Cr=>{ee.error(Cr)})}(ot,Wt)):(At(),function(In){te.getStreamProcessors().forEach(Ln=>Ln.prepareInnerPeriodPlaybackSeeking(In)),pa(Ci.USER_REQUEST_STOP_REASON)}(ot)),aa(xa.SEEK_START_REASON)}function At(ot=null){Ct()}function Ct(){Ue&&Ue.length>0&&(Ue.forEach(ot=>{ot.deactivate(!0)}),Ue=[])}function wt(ot){if(ot.newMediaInfo.streamInfo.id===te.getId()){if(Ct(),at.get().streaming.buffer.resetSourceBuffersForTrackSwitch&&ot.oldMediaInfo&&ot.oldMediaInfo.codec!==ot.newMediaInfo.codec){const Wt=de.getTime();return te.deactivate(!1),void it({seekTime:Wt,keepBuffers:!1,streamActivated:!1})}te.prepareTrackChange(ot)}}function Pt(ot,Wt){try{return at.get().streaming.buffer.reuseExistingSourceBuffers&&(I.isProtectionCompatible(Wt.getStreamInfo(),ot.getStreamInfo())||Tt)&&I.supportsChangeType()&&at.get().streaming.buffer.useChangeType}catch{return!1}}function Ve(ot,Wt=null){if(!oe||ot.getPreloaded()||!Pt(ot,Wt))return;const In=It(Wt),Ln=Vt(Wt);ot.startPreloading(oe,Ln,In).then(()=>{Ue.push(ot)})}function lt(ot){if(isNaN(ot))return null;const Wt=D.length;for(let In=0;In<Wt;In++){const Ln=D[In];if(ot<parseFloat((Ln.getStartTime()+Ln.getDuration()).toFixed(5)))return Ln}return null}function Nt(){try{const ot=q.getIsDynamic(),Wt=q.getStreamsInfo()[0].manifestInfo,In=de.getTime(),Ln=Y.calcTimeShiftBufferWindow(D,ot),Zn=hn();if(Ln.start===void 0||Ln.end===void 0)return;Zn&&Zn.length!==0?Zn.forEach(tr=>{G.addDVRInfo(tr.getType(),In,Wt,Ln)}):G.addDVRInfo(p.default.VIDEO,In,Wt,Ln)}catch{}}function ct(ot){if(Re&&Me){const Wt=ce.getInitialBufferLevel(),In=[p.default.TEXT];(isNaN(Wt)||Wt<=de.getBufferLevel(In)||q.getIsDynamic()&&Wt>de.getLiveDelay())&&(Re=!1,aa(xa.INITIAL_PLAYOUT_START_REASON),de.play())}ot&&ot.mediaType&&G.addBufferLevel(ot.mediaType,new Date,1e3*ot.bufferLevel)}function Kt(ot){ot.streamInfo.id===te.getId()&&Ct(),Ri(ot.streamInfo.id).prepareQualityChange(ot)}function Zt(){if(q.getIsDynamic()&&de.getOriginalLiveDelay()!==0&&te){const ot=q.getStreamsInfo();if(ot.length>0){const Wt=ot[0].manifestInfo,In=wr(0,Wt);de.computeAndSetLiveDelay(In,Wt)}}}function ze(){if(Li()){const ot=ve.getPlaybackQuality();ot&&G.addDroppedFrames(ot)}}function ut(){R.debug("[onPlaybackStarted]"),!Re&&Ae&&aa(xa.RESUME_FROM_PAUSE_START_REASON),Re&&(Re=!1),Le&&(Le=!1,at.get().streaming.applyContentSteering&&!U.shouldQueryBeforeStart()&&U.loadSteeringData()),Ae=!1}function Qt(ot){R.debug("[onPlaybackPaused]"),ot.ended||(Ae=!0,pa(Ci.USER_REQUEST_STOP_REASON))}function sn(ot){R.debug(`Stream with id ${ot.streamInfo.id} finished buffering`);const Wt=ot.streamInfo.isLast;oe&&Wt?(R.info("[onStreamBufferingCompleted] calls signalEndOfStream of mediaSourceController."),C.signalEndOfStream(oe)):$n()}function $n(){if(!te)return;if(!te.getHasFinishedBuffering())return void te.checkAndHandleCompletedBuffering();const ot=function(In=null){try{const Ln=In||te||null;if(Ln){const Zn=Ln.getStreamInfo();return D.filter(function(tr){const Cr=tr.getStreamInfo();return Cr.start>Zn.start&&Zn.id!==Cr.id})}}catch{return[]}}(te);let Wt=0;for(;Wt<ot.length;){const In=ot[Wt],Ln=Wt===0?te:ot[Wt-1];!In.getPreloaded()&&Ln.getHasFinishedBuffering()&&Ve(In,Ln),Wt+=1}}function St(){je&&(clearInterval(je),je=null)}function hn(){return te?te.getStreamProcessors():[]}function On(ot){if(te&&!te.getIsEndedEventSignaled()){te.setIsEndedEventSignaled(!0);const Wt=function(In=null){const Ln=In||te||null;if(!Ln)return null;const Zn=Ln.getStreamInfo(),tr=Zn.start;let Cr=0,ba=-1,oa=NaN;for(;Cr<D.length;){const ml=D[Cr].getStreamInfo(),Hf=ml.start-tr;Hf>0&&(isNaN(oa)||Hf<oa)&&Zn.id!==ml.id&&(oa=Hf,ba=Cr),Cr+=1}return ba>=0?D[ba]:null}();Wt?(R.debug(`StreamController onEnded, found next stream with id ${Wt.getStreamInfo().id}. Switching from ${te.getStreamInfo().id} to ${Wt.getStreamInfo().id}`),Nn(Wt,te,NaN)):(R.debug("StreamController no next stream found"),te.setIsEndedEventSignaled(!1)),pa(Wt?Ci.END_OF_PERIOD_STOP_REASON:Ci.END_OF_CONTENT_STOP_REASON)}ot&&ot.isLast&&(St(),U.stopSteeringRequestTimer())}function kn(ot){const Wt=ot||sa().manifestInfo.duration;C.setDuration(Wt)}function Xn(ot){const Wt=re.getURIFragmentData();if(!Wt||!Wt.t)return NaN;const In=Oo()[0].getStreamInfo().start;return Wt.t=Wt.t.split(",")[0],yr(ot,Wt.t,In)}function Fn(ot,Wt){let In=0;return ot||(In=Oo()[0].getStreamInfo().start),yr(ot,Wt,In)}function yr(ot,Wt,In){const Ln=q.getRegularPeriods()[0],Zn=Wt.toString(),tr=Zn.indexOf("posix:")!==-1?Zn.substring(6)==="now"?Date.now()/1e3:parseFloat(Zn.substring(6)):NaN;return ot&&!isNaN(tr)?Y.calcPresentationTimeFromWallTime(new Date(1e3*tr),Ln):parseFloat(Zn)+In}function wr(ot,Wt){try{let In=NaN;return Wt&&!isNaN(Wt.maxFragmentDuration)&&isFinite(Wt.maxFragmentDuration)?Wt.maxFragmentDuration:isFinite(In)?In:NaN}catch{return NaN}}function Ai(){const ot=M.getValue();H.initialize(ot)}function jr(ot){if(ot.error)W=!0,Wi();else{R.info("Manifest updated... updating data system wide.");const Wt=ot.manifest;q.updatePeriods(Wt),w.filterUnsupportedFeatures(Wt).then(()=>{H.initialize(Wt);let In=q.getUTCTimingSources();!q.getIsDynamic()||In&&In.length!==0||b.trigger(T.default.CONFORMANCE_VIOLATION,{level:ko.LEVELS.WARNING,event:ko.EVENTS.NO_UTC_TIMING_ELEMENT});let Ln=q.getIsDynamic()?In.concat(se.getUTCTimingSources()):In;P.attemptSync(Ln,q.getIsDynamic()),Ce.createFinalQueryStrings(Wt)})}}function Li(){return!!te&&te.getHasVideoTrack()}function Ca(){return!!te&&te.getHasAudioTrack()}function pa(ot,Wt){Wt=Wt||new Date,hn().forEach(In=>{In.finalisePlayList(Wt,ot)}),G.addPlayList()}function aa(ot){G.createPlaylistMetrics(1e3*de.getTime(),ot)}function as(ot){ye.updateKeyStatusesMap(ot),function(){const Wt=hn();let In=!1;Wt.forEach(Ln=>{const Zn=Ln.getMediaInfo();!Zn||I.areKeyIdsUsable(Zn)?Zn&&I.areKeyIdsExpired(Zn)&&function(tr){const Cr=Ri(tr.getStreamId());Cr&&Cr.triggerProtectionError({error:new ln.default(Nc.default.KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE,Nc.default.KEY_STATUS_CHANGED_EXPIRED_ERROR_MESSAGE)})}(Ln):(In=!0,function(tr){const Cr=tr.getAllMediaInfos().filter(ba=>I.areKeyIdsUsable(ba));if(Cr&&Cr.length!==0)he.setTrack(Cr[0],{replaceBuffer:!0});else{const ba=tr.getType();ee.error(new ln.default(Tn.NO_SUPPORTED_KEY_IDS,`Type: ${ba}: ${Tn.NO_SUPPORTED_KEY_IDS_MESSAGE}`))}}(Ln))}),In&&(de.getTime()===0?b.once(T.default.FRAGMENT_LOADING_COMPLETED,()=>{ya()},_):de.isProgressing(500).then(Ln=>{Ln||ya()}))}()}function ya(){const ot=de.getTime();de.seek(ot+.01,!1,!1)}function Yi(ot){if(!ot.error)return;let Wt;switch(ot.error.code){case 1:Wt="MEDIA_ERR_ABORTED";break;case 2:Wt="MEDIA_ERR_NETWORK";break;case 3:Wt="MEDIA_ERR_DECODE",pn.counts.mediaErrorDecode+=1;break;case 4:Wt="MEDIA_ERR_SRC_NOT_SUPPORTED";break;case 5:Wt="MEDIA_ERR_ENCRYPTED";break;default:Wt="UNKNOWN"}Wt==="MEDIA_ERR_DECODE"&&at.get().errors.recoverAttempts.mediaErrorDecode>=pn.counts.mediaErrorDecode?function(){R.error("A MEDIA_ERR_DECODE occured: Resetting the MediaSource");const In=de.getTime();te.deactivate(!1),R.info(`MediaSource has been resetted. Resuming playback from time ${In}`),it({seekTime:In,keepBuffers:!1,streamActivated:!1})}():(Oe=!0,ot.error.message&&(Wt+=" ("+ot.error.message+")"),ot.error.msExtendedCode&&(Wt+=" (0x"+(ot.error.msExtendedCode>>>0).toString(16).toUpperCase()+")"),R.fatal("Video Element Error: "+Wt),ot.error&&R.fatal(ot.error),ee.error(new ln.default(ot.error.code,Wt)),Wi())}function sa(){return te?te.getStreamInfo():null}function Ri(ot){for(let Wt=0,In=D.length;Wt<In;Wt++)if(D[Wt].getId()===ot)return D[Wt];return null}function vu(ot){isNaN(ot.newDuration)||kn(ot.newDuration)}function Fi(){D=[],Yt=NaN,ye=null,Ke=!1,te=null,Oe=!1,W=!1,Re=!0,Le=!0,Ae=!1,Me=!0,je=null,Tt=!1,Ue=[],zt=null,pn={counts:{mediaErrorDecode:0}}}function Wi(){Ut(),P.reset(),pa(Oe||W?Ci.FAILURE_STOP_REASON:Ci.USER_REQUEST_STOP_REASON);for(let ot=0,Wt=D?D.length:0;ot<Wt;ot++)D[ot].reset(Oe);b.off(T.default.PLAYBACK_TIME_UPDATED,ze,_),b.off(T.default.PLAYBACK_SEEKING,vn,_),b.off(T.default.PLAYBACK_ERROR,Yi,_),b.off(T.default.PLAYBACK_STARTED,ut,_),b.off(T.default.PLAYBACK_PAUSED,Qt,_),b.off(T.default.PLAYBACK_ENDED,On,_),b.off(T.default.METRIC_ADDED,No,_),b.off(T.default.MANIFEST_VALIDITY_CHANGED,vu,_),b.off(T.default.BUFFER_LEVEL_UPDATED,ct,_),b.off(T.default.QUALITY_CHANGE_REQUESTED,Kt,_),b.off(T.default.CONTENT_STEERING_REQUEST_COMPLETED,Ai,_),m.default.KEY_SESSION_UPDATED&&b.off(m.default.KEY_SESSION_UPDATED,An,_),b.off(m.default.MANIFEST_UPDATED,jr,_),b.off(m.default.STREAM_BUFFERING_COMPLETED,sn,_),b.off(m.default.TIME_SYNCHRONIZATION_COMPLETED,dn,_),b.off(m.default.CURRENT_TRACK_CHANGED,wt,_),b.off(m.default.SETTING_UPDATED_LIVE_DELAY,Zt,_),b.off(m.default.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,Zt,_),b.off(hl.default.INTERNAL_KEY_STATUSES_CHANGED,as,_),H.reset(),z.reset(),ge.reset(),G.clearAllCurrentMetrics(),M.setValue(null),O.reset(),Y.reset(),Se.reset(),oe&&(C.detachMediaSource(ve),oe=null),ve=null,ye&&(ye=null,we=null,M.getValue()&&b.trigger(m.default.PROTECTION_DESTROYED,{data:M.getValue().url})),St(),b.trigger(m.default.STREAM_TEARDOWN_COMPLETE),Fi()}function No(ot){if(ot.metric===o.DVR_INFO){const Wt=Ca()?p.default.AUDIO:p.default.VIDEO;ot.mediaType===Wt&&C.setSeekable(ot.value.range.start,ot.value.range.end)}}function Oo(){return D}return _={addDVRMetric:Nt,getActiveStream:function(){return te},getActiveStreamInfo:sa,getActiveStreamProcessors:hn,getAutoPlay:function(){return Me},getHasMediaOrInitialisationError:function(){return Oe||W},getInitialPlayback:function(){return Re},getIsStreamSwitchInProgress:function(){return Ke},getStreamById:Ri,getStreamForTime:lt,getStreams:Oo,getTimeRelativeToStreamId:function(ot,Wt){let In=null,Ln=0,Zn=0,tr=null;for(let Cr=0;Cr<D.length;Cr++){if(In=D[Cr],Zn=In.getStartTime(),tr=In.getDuration(),Number.isFinite(Zn)&&(Ln=Zn),In.getId()===Wt)return ot-Ln;Number.isFinite(tr)&&(Ln+=tr)}return null},hasAudioTrack:Ca,hasVideoTrack:Li,initialize:function(ot,Wt){Ut(),Me=ot,we=Wt,Y.initialize(),z=sf(S).create(),z.setConfig({manifestModel:M,adapter:q,manifestLoader:O,errHandler:ee,settings:at,contentSteeringController:U}),z.initialize(),ge=ly(S).getInstance(),ge.setConfig({manifestUpdater:z,playbackController:de,settings:at}),ge.start(),Ce=eg(S).getInstance(),P.setConfig({dashMetrics:G,baseURLController:H,errHandler:ee,settings:at}),P.initialize(),C.setConfig({settings:at}),ye&&(b.trigger(m.default.PROTECTION_CREATED,{controller:ye}),ye.setMediaElement(ve.getElement()),we&&ye.setProtectionData(we)),b.on(T.default.PLAYBACK_TIME_UPDATED,ze,_),b.on(T.default.PLAYBACK_SEEKING,vn,_),b.on(T.default.PLAYBACK_ERROR,Yi,_),b.on(T.default.PLAYBACK_STARTED,ut,_),b.on(T.default.PLAYBACK_PAUSED,Qt,_),b.on(T.default.PLAYBACK_ENDED,On,_),b.on(T.default.METRIC_ADDED,No,_),b.on(T.default.MANIFEST_VALIDITY_CHANGED,vu,_),b.on(T.default.BUFFER_LEVEL_UPDATED,ct,_),b.on(T.default.QUALITY_CHANGE_REQUESTED,Kt,_),b.on(T.default.CONTENT_STEERING_REQUEST_COMPLETED,Ai,_),m.default.KEY_SESSION_UPDATED&&b.on(m.default.KEY_SESSION_UPDATED,An,_),b.on(m.default.MANIFEST_UPDATED,jr,_),b.on(m.default.STREAM_BUFFERING_COMPLETED,sn,_),b.on(m.default.TIME_SYNCHRONIZATION_COMPLETED,dn,_),b.on(m.default.CURRENT_TRACK_CHANGED,wt,_),b.on(m.default.SETTING_UPDATED_LIVE_DELAY,Zt,_),b.on(m.default.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,Zt,_),b.on(hl.default.INTERNAL_KEY_STATUSES_CHANGED,as,_)},load:function(ot,Wt=NaN){Ut(),Yt=Wt,O.load(ot)},loadWithManifest:function(ot,Wt=NaN){(function(){if(!z||!z.hasOwnProperty("setManifest"))throw new Error("initialize function has to be called previously")})(),Yt=Wt,z.setManifest(ot)},refreshManifest:function(){z.getIsUpdating()||z.refreshManifest()},reset:Wi,setConfig:function(ot){ot&&(ot.capabilities&&(I=ot.capabilities),ot.capabilitiesFilter&&(w=ot.capabilitiesFilter),ot.manifestLoader&&(O=ot.manifestLoader),ot.manifestModel&&(M=ot.manifestModel),ot.mediaPlayerModel&&(ce=ot.mediaPlayerModel),ot.customParametersModel&&(se=ot.customParametersModel),ot.protectionController&&(ye=ot.protectionController),ot.adapter&&(q=ot.adapter),ot.dashMetrics&&(G=ot.dashMetrics),ot.errHandler&&(ee=ot.errHandler),ot.timelineConverter&&(Y=ot.timelineConverter),ot.videoModel&&(ve=ot.videoModel),ot.playbackController&&(de=ot.playbackController),ot.throughputController&&(fe=ot.throughputController),ot.serviceDescriptionController&&(V=ot.serviceDescriptionController),ot.contentSteeringController&&(U=ot.contentSteeringController),ot.textController&&(le=ot.textController),ot.abrController&&(ae=ot.abrController),ot.mediaController&&(he=ot.mediaController),ot.settings&&(at=ot.settings),ot.baseURLController&&(H=ot.baseURLController),ot.uriFragmentModel&&(re=ot.uriFragmentModel),ot.segmentBaseController&&(J=ot.segmentBaseController),ot.manifestUpdater&&(z=ot.manifestUpdater))},setProtectionData:function(ot){we=ot,ye&&ye.setProtectionData(we)},switchToVideoElement:function(ot){te&&(de.initialize(sa()),it({seekTime:ot,keepBuffers:!1,streamActivated:!0}))}},R=(0,u.default)(S).getInstance().getLogger(_),P=xf(S).getInstance(),C=Fg(S).getInstance(),Se=yc(S).getInstance(),Fi(),_}fu.__dashjs_factory_name="StreamController";var wf=n.default.getSingletonFactory(fu),Bg=class extends Wl{constructor(){super(),this.captionData=null,this.label=null,this.defaultTrack=!1,this.kind=null,this.isFragmented=!1,this.isEmbedded=!1,this.isTTML=null}},Oc=t(7377);function kf(){let S,b=0;function _(M){let q="";for(let G=0;G<M.length;++G)q+=M[G].uchar;return q.length-q.replace(/^\s+/,"").length}function R(M){return"left: "+3.125*M.x+"%; top: "+6.66*M.y1+"%; width: "+(100-3.125*M.x)+"%; height: "+6.66*Math.max(M.y2-1-M.y1,1)+"%; align-items: flex-start; overflow: visible; -webkit-writing-mode: horizontal-tb;"}function I(M){return M==="red"?"rgb(255, 0, 0)":M==="green"?"rgb(0, 255, 0)":M==="blue"?"rgb(0, 0, 255)":M==="cyan"?"rgb(0, 255, 255)":M==="magenta"?"rgb(255, 0, 255)":M==="yellow"?"rgb(255, 255, 0)":M==="white"?"rgb(255, 255, 255)":M==="black"?"rgb(0, 0, 0)":M}function w(M,q){const G=M.videoHeight/15;return q?"font-size: "+G+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; color: "+(q.foreground?I(q.foreground):"rgb(255, 255, 255)")+"; font-style: "+(q.italics?"italic":"normal")+"; text-decoration: "+(q.underline?"underline":"none")+"; white-space: pre; background-color: "+(q.background?I(q.background):"transparent")+";":"font-size: "+G+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; justify-content: flex-start; text-align: left; color: rgb(255, 255, 255); font-style: normal; white-space: pre; line-height: normal; font-weight: normal; text-decoration: none; width: 100%; display: flex;"}function z(M){return M.replace(/^\s+/g,"")}function O(M){return M.replace(/\s+$/g,"")}return S={createHTMLCaptionsFromScreen:function(M,q,G,C){let P=null,U=null,H=!1,J=-1,re={start:q,end:G,spans:[]},ae="style_cea608_white_black";const fe={},he={},ge=[];let Se,ee;for(Se=0;Se<15;++Se){const D=C.rows[Se];let te="",ye=null;if(D.isEmpty()===!1){const le=_(D.chars);P===null&&(P={x:le,y1:Se,y2:Se+1,p:[]}),le!==J&&H&&(P.p.push(re),re={start:q,end:G,spans:[]},P.y2=Se,P.name="region_"+P.x+"_"+P.y1+"_"+P.y2,fe.hasOwnProperty(P.name)===!1?(ge.push(P),fe[P.name]=P):(U=fe[P.name],U.p.contat(P.p)),P={x:le,y1:Se,y2:Se+1,p:[]});for(let we=0;we<D.chars.length;++we){const Ce=D.chars[we],Me=Ce.penState;if(ye===null||!Me.equals(ye)){te.trim().length>0&&(re.spans.push({name:ae,line:te,row:Se}),te="");let Ke="style_cea608_"+Me.foreground+"_"+Me.background;Me.underline&&(Ke+="_underline"),Me.italics&&(Ke+="_italics"),he.hasOwnProperty(Ke)||(he[Ke]=JSON.parse(JSON.stringify(Me))),ye=Me,ae=Ke}te+=Ce.uchar}te.trim().length>0&&re.spans.push({name:ae,line:te,row:Se}),H=!0,J=le}else H=!1,J=-1,P&&(P.p.push(re),re={start:q,end:G,spans:[]},P.y2=Se,P.name="region_"+P.x+"_"+P.y1+"_"+P.y2,fe.hasOwnProperty(P.name)===!1?(ge.push(P),fe[P.name]=P):(U=fe[P.name],U.p.contat(P.p)),P=null)}P&&(P.p.push(re),P.y2=Se+1,P.name="region_"+P.x+"_"+P.y1+"_"+P.y2,fe.hasOwnProperty(P.name)===!1?(ge.push(P),fe[P.name]=P):(U=fe[P.name],U.p.contat(P.p)),P=null);const Y=[];for(Se=0;Se<ge.length;++Se){const D=ge[Se],te="sub_cea608_"+b++,ye=document.createElement("div");ye.id=te;const le=R(D);ye.style.cssText="position: absolute; margin: 0; display: flex; box-sizing: border-box; pointer-events: none;"+le;const we=document.createElement("div");we.className="paragraph bodyStyle",we.style.cssText=w(M);const Ce=document.createElement("div");Ce.className="cueUniWrapper",Ce.style.cssText="unicode-bidi: normal; direction: ltr;";for(let Ke=0;Ke<D.p.length;++Ke){const Oe=D.p[Ke];let W=0;for(ee=0;ee<Oe.spans.length;++ee){let oe=Oe.spans[ee];if(oe.line.length>0){if(ee!==0&&W!=oe.row){const ce=document.createElement("br");ce.className="lineBreak",Ce.appendChild(ce)}let ve=!1;W===oe.row&&(ve=!0),W=oe.row;const de=he[oe.name],V=document.createElement("span");V.className="spanPadding "+oe.name+" customSpanColor",V.style.cssText=w(M,de),ee!==0&&ve?ee===Oe.spans.length-1?V.textContent=O(oe.line):V.textContent=oe.line:Oe.spans.length>1&&ee<Oe.spans.length-1&&oe.row===Oe.spans[ee+1].row?V.textContent=z(oe.line):V.textContent=oe.line.trim(),Ce.appendChild(V)}}}we.appendChild(Ce),ye.appendChild(we);const Me={bodyStyle:["%",90]};for(const Ke in he)he.hasOwnProperty(Ke)&&(Me[Ke]=["%",90]);Y.push({type:"html",start:q,end:G,cueHTMLElement:ye,cueID:te,cellResolution:[32,15],isFromCEA608:!0,fontSize:Me,lineHeight:{},linePadding:{}})}return Y}},S}kf.__dashjs_factory_name="EmbeddedTextHtmlRender";var jg=n.default.getSingletonFactory(kf);class Mc{constructor(){this.time=null,this.verboseLevel=0}log(b,_){if(this.verboseLevel>=b){const R=typeof _=="function"?_():_;console.log(`${this.time} [${b}] ${R}`)}}}class Co{constructor(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}reset(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}setStyles(b){const _=["foreground","underline","italics","background","flash"];for(let R=0;R<_.length;R++){const I=_[R];Object.prototype.hasOwnProperty.call(b,I)&&(this[I]=b[I])}}isDefault(){return this.foreground==="white"&&!this.underline&&!this.italics&&this.background==="black"&&!this.flash}equals(b){return this.foreground===b.foreground&&this.underline===b.underline&&this.italics===b.italics&&this.background===b.background&&this.flash===b.flash}copy(b){this.foreground=b.foreground,this.underline=b.underline,this.italics=b.italics,this.background=b.background,this.flash=b.flash}}class hu{constructor(){this.uchar=" ",this.penState=new Co}reset(){this.uchar=" ",this.penState.reset()}setChar(b,_){this.uchar=b,this.penState.copy(_)}setPenState(b){this.penState.copy(b)}equals(b){return this.uchar===b.uchar&&this.penState.equals(b.penState)}copy(b){this.uchar=b.uchar,this.penState.copy(b.penState)}isEmpty(){return this.uchar===" "&&this.penState.isDefault()}}const wa=100,gu={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499};function mu(S){return String.fromCharCode(gu[S]||S)}class qg{constructor(b=new Mc){this.chars=[],this.cueStartTime=null,this.pos=0,this.currPenState=new Co;for(let _=0;_<wa;_++)this.chars.push(new hu);this.logger=b}equals(b){for(let _=0;_<wa;_++)if(!this.chars[_].equals(b.chars[_]))return!1;return!0}copy(b){for(let _=0;_<wa;_++)this.chars[_].copy(b.chars[_])}isEmpty(){let b=!0;for(let _=0;_<wa;_++)if(!this.chars[_].isEmpty()){b=!1;break}return b}setCursor(b){this.pos!==b&&(this.pos=b),this.pos<0?(this.logger.log(3,"Negative cursor position "+this.pos),this.pos=0):this.pos>wa&&(this.logger.log(3,"Too large cursor position "+this.pos),this.pos=wa)}moveCursor(b){const _=this.pos+b;if(b>1)for(let R=this.pos+1;R<_+1;R++)this.chars[R].setPenState(this.currPenState);this.setCursor(_)}backSpace(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)}insertChar(b){b>=144&&this.backSpace();const _=mu(b);this.pos>=wa?this.logger.log(0,()=>"Cannot insert "+b.toString(16)+" ("+_+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(_,this.currPenState),this.moveCursor(1))}clearFromPos(b){let _;for(_=b;_<wa;_++)this.chars[_].reset()}clear(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()}clearToEndOfRow(){this.clearFromPos(this.pos)}getTextString(){const b=[];let _=!0;for(let R=0;R<wa;R++){const I=this.chars[R].uchar;I!==" "&&(_=!1),b.push(I)}return _?"":b.join("")}setPenStyles(b){this.currPenState.setStyles(b),this.chars[this.pos].setPenState(this.currPenState)}}const js=15;class qs{constructor(b=new Mc){this.rows=[],this.currRow=14,this.nrRollUpRows=null,this.lastOutputScreen=null;for(let _=0;_<js;_++)this.rows.push(new qg(b));this.logger=b}reset(){for(let b=0;b<js;b++)this.rows[b].clear();this.currRow=14}equals(b){let _=!0;for(let R=0;R<js;R++)if(!this.rows[R].equals(b.rows[R])){_=!1;break}return _}copy(b){for(let _=0;_<js;_++)this.rows[_].copy(b.rows[_])}isEmpty(){let b=!0;for(let _=0;_<js;_++)if(!this.rows[_].isEmpty()){b=!1;break}return b}backSpace(){this.rows[this.currRow].backSpace()}clearToEndOfRow(){this.rows[this.currRow].clearToEndOfRow()}insertChar(b){this.rows[this.currRow].insertChar(b)}setPen(b){this.rows[this.currRow].setPenStyles(b)}moveCursor(b){this.rows[this.currRow].moveCursor(b)}setCursor(b){this.logger.log(2,"setCursor: "+b),this.rows[this.currRow].setCursor(b)}setPAC(b){this.logger.log(2,()=>"pacData = "+JSON.stringify(b));let _=b.row-1;if(this.nrRollUpRows&&_<this.nrRollUpRows-1&&(_=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==_){for(let O=0;O<js;O++)this.rows[O].clear();const w=this.currRow+1-this.nrRollUpRows,z=this.lastOutputScreen;if(z){const O=z.rows[w].cueStartTime,M=this.logger.time;if(O!==null&&M!==null&&O<M)for(let q=0;q<this.nrRollUpRows;q++)this.rows[_-this.nrRollUpRows+q+1].copy(z.rows[w+q])}}this.currRow=_;const R=this.rows[this.currRow];if(b.indent!==null){const w=b.indent,z=Math.max(w-1,0);R.setCursor(b.indent),b.color=R.chars[z].penState.foreground}const I={foreground:b.color,underline:b.underline,italics:b.italics,background:"black",flash:!1};this.setPen(I)}setBkgData(b){this.logger.log(2,()=>"bkgData = "+JSON.stringify(b)),this.backSpace(),this.setPen(b),this.insertChar(32)}setRollUpRows(b){this.nrRollUpRows=b}rollUp(){if(this.nrRollUpRows===null)return void this.logger.log(3,"roll_up but nrRollUpRows not set yet");this.logger.log(1,()=>this.getDisplayText());const b=this.currRow+1-this.nrRollUpRows,_=this.rows.splice(b,1)[0];_.clear(),this.rows.splice(this.currRow,0,_),this.logger.log(2,"Rolling up")}getDisplayText(b){b=b||!1;const _=[];let R="",I=-1;for(let w=0;w<js;w++){const z=this.rows[w].getTextString();z&&(I=w+1,b?_.push("Row "+I+": '"+z+"'"):_.push(z.trim()))}return _.length>0&&(R=b?"["+_.join(" | ")+"]":_.join(`
`)),R}getTextAndFormat(){return this.rows}}class Cf{constructor(b,_,R=new Mc){this.chNr=b,this.outputFilter=_,this.mode=null,this.displayedMemory=new qs(R),this.nonDisplayedMemory=new qs(R),this.lastOutputScreen=new qs(R),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=R,this.logger.log(2,"new Cea608Channel("+this.chNr+")")}reset(){var b,_;this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),(_=(b=this.outputFilter)===null||b===void 0?void 0:b.reset)===null||_===void 0||_.call(b),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}getHandler(){return this.outputFilter}setHandler(b){this.outputFilter=b}setPAC(b){this.writeScreen.setPAC(b)}setBkgData(b){this.writeScreen.setBkgData(b)}setMode(b){b!==this.mode&&(this.mode=b,this.logger.log(2,()=>"MODE="+b),this.mode==="MODE_POP-ON"?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),this.mode!=="MODE_ROLL-UP"&&(this.displayedMemory.setRollUpRows(null),this.nonDisplayedMemory.setRollUpRows(null)),this.mode=b)}insertChars(b){for(let R=0;R<b.length;R++)this.writeScreen.insertChar(b[R]);const _=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(2,()=>_+": "+this.writeScreen.getDisplayText(!0)),this.mode!=="MODE_PAINT-ON"&&this.mode!=="MODE_ROLL-UP"||(this.logger.log(1,()=>"DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())}ccRCL(){this.logger.log(2,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")}ccBS(){this.logger.log(2,"BS - BackSpace"),this.mode!=="MODE_TEXT"&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())}ccAOF(){}ccAON(){}ccDER(){this.logger.log(2,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()}ccRU(b){this.logger.log(2,"RU("+b+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(b)}ccFON(){this.logger.log(2,"FON - Flash On"),this.writeScreen.setPen({flash:!0})}ccRDC(){this.logger.log(2,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")}ccTR(){this.logger.log(2,"TR"),this.setMode("MODE_TEXT")}ccRTD(){this.logger.log(2,"RTD"),this.setMode("MODE_TEXT")}ccEDM(){this.logger.log(2,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)}ccCR(){this.logger.log(2,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)}ccENM(){this.logger.log(2,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()}ccEOC(){if(this.logger.log(2,"EOC - End Of Caption"),this.mode==="MODE_POP-ON"){const b=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=b,this.writeScreen=this.nonDisplayedMemory,this.logger.log(1,()=>"DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)}ccTO(b){this.logger.log(2,"TO("+b+") - Tab Offset"),this.writeScreen.moveCursor(b)}ccMIDROW(b){const _={flash:!1};if(_.underline=b%2==1,_.italics=b>=46,_.italics)_.foreground="white";else{const R=Math.floor(b/2)-16,I=["white","green","blue","cyan","red","yellow","magenta"];_.foreground=I[R]}this.logger.log(2,"MIDROW: "+JSON.stringify(_)),this.writeScreen.setPen(_)}outputDataUpdate(b=!1){const _=this.logger.time;_!==null&&this.outputFilter&&(this.cueStartTime!==null||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,_,this.lastOutputScreen),b&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:_):this.cueStartTime=_,this.lastOutputScreen.copy(this.displayedMemory))}cueSplitAtTime(b){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,b,this.displayedMemory),this.cueStartTime=b))}}const ka=["white","green","blue","cyan","red","yellow","magenta","black","transparent"];function is(S,b,_){return _.a===S&&_.b===b}function ia(S){const b=[];for(let _=0;_<S.length;_++)b.push(S[_].toString(16));return b}const Gg={17:2,18:4,21:6,22:8,23:10,19:13,20:15},Gs={25:2,26:4,29:6,30:8,31:10,27:13,28:15},_s={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},Ei={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14};function Do(S,b,_){_.a=S,_.b=b}class Pc{constructor(b,_,R){this.currentChannel=0,this.cmdHistory={a:null,b:null},this.lastTime=null;const I=this.logger=new Mc;this.channels=[null,new Cf(b,_,I),new Cf(b+1,R,I)]}addData(b,_){this.lastTime=b,this.logger.time=b;for(let R=0;R<_.length;R+=2){const I=127&_[R],w=127&_[R+1];let z=!1,O=null;if(this.lastTime!==null&&(b=this.lastTime+.5*R*1001/3e4,this.logger.time=b),I===0&&w===0)continue;this.logger.log(3,()=>"["+ia([_[R],_[R+1]])+"] -> ("+ia([I,w])+")");const M=this.cmdHistory;if(I>=16&&I<=31){if(is(I,w,M)){Do(null,null,M),this.logger.log(3,()=>"Repeated command ("+ia([I,w])+") is dropped");continue}Do(I,w,this.cmdHistory),z=this.parseCmd(I,w),z||(z=this.parseMidrow(I,w)),z||(z=this.parsePAC(I,w)),z||(z=this.parseBackgroundAttributes(I,w))}else Do(null,null,M);if(!z&&(O=this.parseChars(I,w),O.length)){const q=this.currentChannel;q&&q>0?this.channels[q].insertChars(O):this.logger.log(2,"No channel found yet. TEXT-MODE?")}z||O||this.logger.log(2,()=>"Couldn't parse cleaned data "+ia([I,w])+" orig: "+ia([_[R],_[R+1]]))}}parseCmd(b,_){if(!((b===20||b===28||b===21||b===29)&&_>=32&&_<=47||(b===23||b===31)&&_>=33&&_<=35))return!1;const R=b===20||b===21||b===23?1:2,I=this.channels[R];return b===20||b===21||b===28||b===29?_===32?I.ccRCL():_===33?I.ccBS():_===34?I.ccAOF():_===35?I.ccAON():_===36?I.ccDER():_===37?I.ccRU(2):_===38?I.ccRU(3):_===39?I.ccRU(4):_===40?I.ccFON():_===41?I.ccRDC():_===42?I.ccTR():_===43?I.ccRTD():_===44?I.ccEDM():_===45?I.ccCR():_===46?I.ccENM():_===47&&I.ccEOC():I.ccTO(_-32),this.currentChannel=R,!0}parseMidrow(b,_){let R=0;if((b===17||b===25)&&_>=32&&_<=47){if(R=b===17?1:2,R!==this.currentChannel)return this.logger.log(0,"Mismatch channel in midrow parsing"),!1;const I=this.channels[R];return!!I&&(I.ccMIDROW(_),this.logger.log(3,()=>"MIDROW ("+ia([b,_])+")"),!0)}return!1}parsePAC(b,_){let R;if(!((b>=17&&b<=23||b>=25&&b<=31)&&_>=64&&_<=127||(b===16||b===24)&&_>=64&&_<=95))return!1;const I=b<=23?1:2;R=_>=64&&_<=95?I===1?_s[b]:Ei[b]:I===1?Gg[b]:Gs[b];const w=this.channels[I];return!!w&&(w.setPAC(this.interpretPAC(R,_)),this.currentChannel=I,!0)}interpretPAC(b,_){let R;const I={color:null,italics:!1,indent:null,underline:!1,row:b};return R=_>95?_-96:_-64,I.underline=!(1&~R),R<=13?I.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(R/2)]:R<=15?(I.italics=!0,I.color="white"):I.indent=4*Math.floor((R-16)/2),I}parseChars(b,_){let R,I=[],w=null;if(b>=25?(R=2,w=b-8):(R=1,w=b),w>=17&&w<=19){let z;z=w===17?_+80:w===18?_+112:_+144,this.logger.log(2,()=>"Special char '"+mu(z)+"' in channel "+R),I=[z]}else b>=32&&b<=127&&(I=_===0?[b]:[b,_]);return I&&this.logger.log(3,()=>"Char codes =  "+ia(I).join(",")),I}parseBackgroundAttributes(b,_){if(!((b===16||b===24)&&_>=32&&_<=47||(b===23||b===31)&&_>=45&&_<=47))return!1;let R;const I={};b===16||b===24?(R=Math.floor((_-32)/2),I.background=ka[R],_%2==1&&(I.background=I.background+"_semi")):_===45?I.background="transparent":(I.foreground="black",_===47&&(I.underline=!0));const w=b<=23?1:2;return this.channels[w].setBkgData(I),!0}reset(){for(let b=0;b<Object.keys(this.channels).length;b++){const _=this.channels[b];_&&_.reset()}Do(null,null,this.cmdHistory)}cueSplitAtTime(b){for(let _=0;_<this.channels.length;_++){const R=this.channels[_];R&&R.cueSplitAtTime(b)}}}function Df(S,b,_){const R=[];for(let I=b;I<_;I++)I+2<_&&S.getUint8(I)===0&&S.getUint8(I+1)===0&&S.getUint8(I+2)===3?(R.push(0),R.push(0),I+=2):R.push(S.getUint8(I));return new DataView(new Uint8Array(R).buffer)}function $g(S,b,_,R){return!(S!==4||b<8)&&_.getUint8(R)===181&&_.getUint16(R+1)===49&&_.getUint32(R+3)===1195456820&&_.getUint8(R+7)===3}function Hg(S,b){return(127&S)>0||(127&b)>0}function Lo(S,b){let _=0;for(;_<S.byteLength;){let I,w=0,z=0;do w+=I=S.getUint8(_++);while(I===255);do z+=I=S.getUint8(_++);while(I===255);if($g(w,z,S,_)){const O=_+10,M=O+3*(31&S.getUint8(O-2));for(let q=O;q<M;q+=3){const G=S.getUint8(q);if(4&G){const C=3&G;if((R=C)===0||R===1){const P=S.getUint8(q+1),U=S.getUint8(q+2);Hg(P,U)&&b[C].push(P,U)}}}}_+=z}var R}function zc(S,b,_){let R=0,I=0;const w=[[],[]];for(let z=b;z<b+_-5&&(R=S.getUint32(z),I=31&S.getUint8(z+4),!(z+5+R>b+_));z++)I===6&&z+5+R<=S.byteLength&&Lo(Df(S,z+5,z+5+R),w),z+=R+3;return w}function Lf(S){const b=S.errHandler,_=S.manifestModel,R=S.mediaController,I=S.videoModel,w=S.textTracks,z=S.vttParser,O=S.vttCustomRenderingParser,M=S.ttmlParser,q=S.streamInfo,G=S.settings,C=this.context,P=(0,y.default)(C).getInstance();let U,H,J,re,ae,fe,he,ge,Se,ee,Y,D,te,ye,le,we,Ce,Me=!1;function Ke(){fe=null,ge=NaN,Se=[],ee=null,he=!1,ae=[],re=null}function Oe(Re){const Le={};Le[De.default.SUBTITLE]="subtitles",Le[De.default.CAPTION]="captions",Le[De.default.FORCED_SUBTITLE]="subtitles";const je=new Bg;for(let Ue in Re)je[Ue]=Re[Ue];je.defaultTrack=function(Ue){let at=!1;return D.length>1&&Ue.isEmbedded?at=Ue.id&&Ue.id===p.default.CC1:D.length===1?Ue.id&&typeof Ue.id=="string"&&Ue.id.substring(0,2)==="CC"&&(at=!0):D.length===0&&(at=Ue.index===ae[0].index),at}(Re),je.isTTML=function(Ue){return Ue.codec&&Ue.codec.search(p.default.STPP)>=0||Ue.mimeType&&Ue.mimeType.search(p.default.TTML)>=0}(Re),je.kind=function(Ue,at){let Tt=Ue.roles&&Ue.roles.length>0?at[Ue.roles[0].value]:at.caption;return Tt=Object.values(at).includes(Tt)?Tt:at.caption,Tt}(Re,Le),w.addTextTrackInfo(je)}function W(Re){const Le=Re.chunk;Le.representation.mediaInfo.embeddedCaptions&&ve(Le.bytes,Le)}function oe(Re){Y=Re}function ve(Re,Le){const je=Le.representation.mediaInfo,Ue=je.type,at=je.mimeType,Tt=je.codec||at;Tt?je.codec.indexOf("application/mp4")!==-1?function(zt,Yt,pn){let Ut,dn;if(Yt.segmentType==="InitializationSegment")he=!0,ge=J.getMediaTimescaleFromMoov(zt);else{if(!he)return;dn=J.getSamplesInfo(zt),Ut=dn.sampleList,Ut.length>0&&(ee=Ut[0].cts-Yt.start*ge),pn.search(p.default.STPP)>=0?function(An,Gn,Yn){let Bn,Nn;for(re=re!==null?re:ce(Yn),Bn=0;Bn<Gn.length;Bn++){const it=Gn[Bn],Bt=it.cts,It=V(),Vt=It+Bt/ge,vn=Vt+it.duration/ge;U.buffered.add(Vt,vn);const At=new DataView(An,it.offset,it.subSizes[0]);let Ct=Qo.Utils.dataViewToString(At,p.default.UTF8);const wt=[];let Pt=it.offset+it.subSizes[0];for(Nn=1;Nn<it.subSizes.length;Nn++){const Ve=new Uint8Array(An,Pt,it.subSizes[Nn]),lt=String.fromCharCode.apply(null,Ve);wt.push(lt),Pt+=it.subSizes[Nn]}try{const Ve=_.getValue().ttmlTimeIsRelative?Bt/ge:0,lt=re.parse(Ct,Ve,Bt/ge,(Bt+it.duration)/ge,wt);w.addCaptions(Y,It,lt)}catch(Ve){fe.removeExecutedRequestsBeforeTime(),se(),H.error("TTML parser error: "+Ve)}}}(zt,Ut,pn):function(An,Gn){let Yn,Bn,Nn;const it=[];for(Yn=0;Yn<Gn.length;Yn++){const Bt=Gn[Yn];Bt.cts-=ee;const It=V()+Bt.cts/ge,Vt=It+Bt.duration/ge;U.buffered.add(It,Vt);const vn=An.slice(Bt.offset,Bt.offset+Bt.size),At=Qo.parseBuffer(vn);for(Bn=0;Bn<At.boxes.length;Bn++){const Ct=At.boxes[Bn];if(H.debug("VTT box1: "+Ct.type),Ct.type!=="vtte"&&Ct.type==="vttc"){H.debug("VTT vttc boxes.length = "+Ct.boxes.length);let wt={styles:{}};for(Nn=0;Nn<Ct.boxes.length;Nn++){const Pt=Ct.boxes[Nn];if(H.debug("VTT box2: "+Pt.type),Pt.type==="payl")wt.start=Bt.cts/ge,wt.end=(Bt.cts+Bt.duration)/ge,wt.data=Pt.cue_text;else if(Pt.type==="sttg"&&Pt.settings&&Pt.settings!=="")try{const Ve=Pt.settings.split(" ");wt.styles=z.getCaptionStyles(Ve)}catch{}}wt&&wt.data&&(it.push(wt),H.debug(`VTT  ${wt.start} - ${wt.end} :  ${wt.data}`))}}}it.length>0&&w.addCaptions(Y,0,it)}(zt,Ut)}}(Re,Le,Tt):Ue===p.default.VIDEO?function(zt,Yt){let pn,Ut;if(Yt.segmentType===Te.HTTPRequest.INIT_SEGMENT_TYPE)te===0&&(te=J.getMediaTimescaleFromMoov(zt));else if(Yt.segmentType===Te.HTTPRequest.MEDIA_SEGMENT_TYPE){if(te===0)return void H.warn("CEA-608: No timescale for embeddedTextTrack yet");Ut=J.getSamplesInfo(zt);const dn=Ut.lastSequenceNumber,An=Math.trunc(Yt.start),Gn=Math.trunc(Yt.end);if(we[0]||we[1]||function(){let Yn;for(let Bn=0;Bn<D.length;Bn++){if(Yn=w.getTrackIdxForId(D[Bn].id),Yn===-1)return void H.warn("CEA-608: data before track is ready.");const Nn=de(Yn);we[Bn]=new Pc(Bn+1,{newCue:Nn},null)}}(),te){if(function(Bn,Nn,it,Bt,It){return Bn!==null&&Nn!==null&&Bt!==null&&It!==null&&(Nn===Bn?Bt!==It:Nn!==Bn+it)}(ye,dn,Ut.numSequences,le,An))for(pn=0;pn<we.length;pn++)we[pn]&&we[pn].reset();const Yn=function(Bn,Nn){if(Nn.length===0)return null;const it={splits:[],fields:[[],[]]},Bt=new DataView(Bn);for(let It=0;It<Nn.length;It++){const Vt=Nn[It],vn=zc(Bt,Vt.offset,Vt.size);let At=null,Ct=0;for(let wt=0;wt<2;wt++)if(vn[wt].length>0){Vt.cts!==At?Ct=0:Ct+=1;const Pt=V();it.fields[wt].push([Vt.cts+Pt*te,vn[wt],Ct]),At=Vt.cts}}return it.fields.forEach(function(It){It.sort(function(Vt,vn){return Vt[0]===vn[0]?Vt[2]-vn[2]:Vt[0]-vn[0]})}),it}(zt,Ut.sampleList);for(let Bn=0;Bn<we.length;Bn++){const Nn=Yn.fields[Bn],it=we[Bn];if(it)for(pn=0;pn<Nn.length;pn++)it.addData(Nn[pn][0]/te,Nn[pn][1])}ye=dn,le=Gn}}}(Re,Le):function(zt,Yt,pn){let Ut,dn;const An=new DataView(zt,0,zt.byteLength);dn=Qo.Utils.dataViewToString(An,p.default.UTF8);try{Ut=ce(pn).parse(dn,0),w.addCaptions(w.getCurrentTrackIdx(),0,Ut),U.buffered&&U.buffered.add(Yt.start,Yt.end)}catch(Gn){b.error(new ln.default(Tn.TIMED_TEXT_ERROR_ID_PARSE_CODE,Tn.TIMED_TEXT_ERROR_MESSAGE_PARSE+Gn.message,dn))}}(Re,Le,Tt):H.error("No text type defined")}function de(Re){return function(Le,je,Ue){let at;at=I.getTTMLRenderingDiv()?Ce.createHTMLCaptionsFromScreen(I.getElement(),Le,je,Ue):[{start:Le,end:je,data:Ue.getDisplayText(),styles:{}}],at&&w.addCaptions(Re,0,at)}}function V(){return isNaN(U.timestampOffset)?0:U.timestampOffset}function ce(Re){let Le;return Re.search(p.default.VTT)>=0?Le=G.get().streaming.text.webvtt.customRenderingEnabled&&O?O:z:(Re.search(p.default.TTML)>=0||Re.search(p.default.STPP)>=0)&&(Le=M),Le}function se(Re,Le){Re===void 0&&Re===Le&&(Re=U.buffered.start(0),Le=U.buffered.end(U.buffered.length-1)),U.buffered.remove(Re,Le),w.deleteCuesFromTrackIdx(Y,Re,Le)}function Ae(Re){D.forEach(function(Le){const je=w.getTrackIdxForId(Le.id);je>=0&&w.deleteCuesFromTrackIdx(je,Re.from,Re.to)})}return U={initialize:function(){Me||(D=[],Y=null,te=0,we=[],ye=null,le=null,Me=!0,Ce=jg(C).getInstance(),P.on(m.default.VIDEO_CHUNK_RECEIVED,W,U),P.on(m.default.BUFFER_CLEARED,Ae,U))},addMediaInfos:function(Re,Le,je){if(ae=ae.concat(Le),Re===p.default.TEXT&&Le[0].isFragmented&&!Le[0].isEmbedded){fe=je,U.buffered=(0,Oc.default)(C).create(),Se=R.getTracksFor(p.default.TEXT,q.id).filter(at=>at.isFragmented);const Ue=R.getCurrentTrackFor(p.default.TEXT,q.id);for(let at=0;at<Se.length;at++)if(Se[at]===Ue){oe(at);break}}for(let Ue=0;Ue<Le.length;Ue++)Oe(Le[Ue])},resetMediaInfos:function(){ae=[]},getStreamId:function(){return q.id},append:ve,abort:function(){},addEmbeddedTrack:function(Re){if(Me&&Re)if(Re.id===p.default.CC1||Re.id===p.default.CC3){for(let Le=0;Le<D.length;Le++)if(D[Le].id===Re.id)return;D.push(Re)}else H.warn("Embedded track "+Re.id+" not supported!")},resetEmbedded:function(){P.off(m.default.VIDEO_CHUNK_RECEIVED,W,U),P.off(m.default.BUFFER_CLEARED,Ae,U),w&&w.deleteAllTextTracks(),Me=!1,D=[],we=[null,null],ye=null,le=null},getConfig:function(){return{fragmentModel:fe,fragmentedTracks:Se,videoModel:I}},setCurrentFragmentedTrackIdx:oe,remove:se,reset:function(){Ke(),ae=[],J=null}},H=(0,u.default)(C).getInstance().getLogger(U),J=Zo(C).getInstance(),Ke(),U}Lf.__dashjs_factory_name="TextSourceBuffer";var Vg=n.default.getClassFactory(Lf);class Kg{constructor(){this.root=null,this.size=0}addCue(b){const _={start:b.startTime,end:b.endTime,cue:b,maxEnd:b.endTime,left:null,right:null,height:1},[R,I]=this._insert(_,this.root);this.root=R,I&&this.size++}removeCue(b){const[_,R]=this._remove(b,this.root);return this.root=_,R&&this.size--,R}findCuesInRange(b,_){const R=[];return this._searchRange(this.root,b,_,R),R}findCuesAtTime(b){return this.findCuesInRange(b,b)}getAllCues(){const b=[];return this._inorderTraversal(this.root,b),b}getSize(){return this.size}clear(){this.root=null,this.size=0}_compareCues(b,_){return b.startTime!==_.startTime?b.startTime-_.startTime:b.endTime!==_.endTime?b.endTime-_.endTime:typeof VTTCue<"u"&&b instanceof VTTCue&&_ instanceof VTTCue||b.text&&_.text?b.text.localeCompare(_.text):0}_compareIntervals(b,_){return this._compareCues(b.cue,_.cue)}_insert(b,_){if(!_)return[b,!0];const R=this._compareIntervals(b,_);if(R<0){const[w]=this._insert(b,_.left);_.left=w}else{if(!(R>0))return[_,!1];{const[w]=this._insert(b,_.right);_.right=w}}_.height=1+Math.max(this._getHeight(_.left),this._getHeight(_.right)),_.maxEnd=Math.max(_.maxEnd,b.maxEnd);const I=this._getBalance(_);return I>1?(this._compareIntervals(b,_.left)<0||(_.left=this._leftRotate(_.left)),[this._rightRotate(_),!0]):I<-1?(this._compareIntervals(b,_.right)>0||(_.right=this._rightRotate(_.right)),[this._leftRotate(_),!0]):[_,!0]}_searchRange(b,_,R,I){b&&(this._overlaps(b,_,R)&&I.push(b.cue),b.left&&b.left.maxEnd>=_&&this._searchRange(b.left,_,R,I),b.right&&b.start<=R&&this._searchRange(b.right,_,R,I))}_inorderTraversal(b,_){b&&(this._inorderTraversal(b.left,_),_.push(b.cue),this._inorderTraversal(b.right,_))}_overlaps(b,_,R){if(R===_){const I=_;return b.start<=I&&I<b.end}return b.start<R&&_<b.end}_getHeight(b){return b?b.height:0}_getBalance(b){return b?this._getHeight(b.left)-this._getHeight(b.right):0}_leftRotate(b){const _=b.right,R=_.left;return _.left=b,b.right=R,b.height=1+Math.max(this._getHeight(b.left),this._getHeight(b.right)),_.height=1+Math.max(this._getHeight(_.left),this._getHeight(_.right)),b.maxEnd=Math.max(b.end,b.left?b.left.maxEnd:0,b.right?b.right.maxEnd:0),_.maxEnd=Math.max(_.end,_.left?_.left.maxEnd:0,_.right?_.right.maxEnd:0),_}_rightRotate(b){const _=b.left,R=_.right;return _.right=b,b.left=R,b.height=1+Math.max(this._getHeight(b.left),this._getHeight(b.right)),_.height=1+Math.max(this._getHeight(_.left),this._getHeight(_.right)),b.maxEnd=Math.max(b.end,b.left?b.left.maxEnd:0,b.right?b.right.maxEnd:0),_.maxEnd=Math.max(_.end,_.left?_.left.maxEnd:0,_.right?_.right.maxEnd:0),_}_remove(b,_){if(!_)return[null,!1];const R=this._compareCues(b,_.cue);if(R<0){const[I,w]=this._remove(b,_.left);return _.left=I,w&&this._updateNode(_),[_,w]}if(R>0){const[I,w]=this._remove(b,_.right);return _.right=I,w&&this._updateNode(_),[_,w]}if(_.left||_.right){if(_.left){if(_.right){const I=this._findMin(_.right);_.cue=I.cue,_.start=I.start,_.end=I.end;const[w]=this._remove(I.cue,_.right);return _.right=w,this._updateNode(_),[_,!0]}return[_.left,!0]}return[_.right,!0]}return[null,!0]}_findMin(b){for(;b.left;)b=b.left;return b}_updateNode(b){b.height=1+Math.max(this._getHeight(b.left),this._getHeight(b.right)),b.maxEnd=Math.max(b.end,b.left?b.left.maxEnd:0,b.right?b.right.maxEnd:0)}}var gl=t(7640);const Nf=["text","align","fontSize","id","isd","line","lineAlign","lineHeight","linePadding","position","positionAlign","region","size","snapToLines","vertical"];function Fc(S){const b=this.context,_=(0,y.default)(b).getInstance(),R=S.videoModel,I=S.streamInfo,w=S.settings;let z,O,M,q,G,C,P,U,H,J,re,ae,fe,he,ge,Se,ee,Y,D,te;const ye=new Map;function le(it){const Bt=it.kind,It=it.id!==void 0?it.id:it.lang,Vt=it.lang,vn=it.isTTML,At=it.isEmbedded;return R.addTextTrack(Bt,It,Vt,vn,At)}function we(it,Bt,It,Vt,vn,At){let Ct=0,wt=0;it/Bt>It/Vt?(wt=Bt,Ct=wt/Vt*It):(Ct=it,wt=Ct/It*Vt);let Pt=0,Ve=0,lt=0,Nt=0;return Ct/wt>vn?(Nt=wt,lt=wt*vn):(lt=Ct,Nt=Ct/vn),Pt=(it-lt)/2,Ve=(Bt-Nt)/2,At?{x:Pt+.1*lt,y:Ve+.1*Nt,w:.8*lt,h:.8*Nt}:{x:Pt,y:Ve,w:lt,h:Nt}}function Ce(it,Bt){const It=R.getClientWidth(),Vt=R.getClientHeight(),vn=R.getVideoWidth(),At=R.getVideoHeight(),Ct=R.getVideoRelativeOffsetTop(),wt=R.getVideoRelativeOffsetLeft();if(vn!==0&&At!==0){let Pt=vn/At,Ve=!1;it.isFromCEA608&&(Pt=3.5/3,Ve=!0);const lt=we.call(this,It,Vt,vn,At,Pt,Ve),Nt=lt.w,ct=lt.h,Kt=lt.x,Zt=lt.y;if(Nt!=H||ct!=J||Kt!=P||Zt!=U||Bt){if(P=Kt+wt,U=Zt+Ct,H=Nt,J=ct,re){const ut=re.style;ut&&(ut.left=P+"px",ut.top=U+"px",ut.width=H+"px",ut.height=J+"px",ut.zIndex=he&&document[he]||ge?ee:null,_.trigger(T.default.CAPTION_CONTAINER_RESIZE))}const ze=it.activeCues;if(ze){const ut=ze.length;for(let Qt=0;Qt<ut;++Qt){const sn=ze[Qt];sn.scaleCue(sn)}}}}}function Me(it){const Bt=H,It=J;let Vt,vn,At,Ct,wt;if(it.cellResolution){const Pt=[Bt/it.cellResolution[0],It/it.cellResolution[1]];if(it.linePadding){for(Vt in it.linePadding)if(it.linePadding.hasOwnProperty(Vt)){vn=(it.linePadding[Vt]*Pt[0]).toString();const Ve=document.getElementsByClassName("spanPadding");for(let lt=0;lt<Ve.length;lt++)Ve[lt].style.cssText=Ve[lt].style.cssText.replace(/(padding-left\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+vn),Ve[lt].style.cssText=Ve[lt].style.cssText.replace(/(padding-right\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+vn)}}if(it.fontSize){for(Vt in it.fontSize)if(it.fontSize.hasOwnProperty(Vt)){it.fontSize[Vt][0]==="%"?At=it.fontSize[Vt][1]/100:it.fontSize[Vt][0]==="c"&&(At=it.fontSize[Vt][1]),vn=(At*Pt[1]).toString(),wt=Vt!=="defaultFontSize"?document.getElementsByClassName(Vt):document.getElementsByClassName("paragraph");for(let Ve=0;Ve<wt.length;Ve++)wt[Ve].style.cssText=wt[Ve].style.cssText.replace(/(font-size\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+vn)}if(it.lineHeight){for(Vt in it.lineHeight)if(it.lineHeight.hasOwnProperty(Vt)){it.lineHeight[Vt][0]==="%"?Ct=it.lineHeight[Vt][1]/100:it.fontSize[Vt][0]==="c"&&(Ct=it.lineHeight[Vt][1]),vn=(Ct*Pt[1]).toString(),wt=document.getElementsByClassName(Vt);for(let Ve=0;Ve<wt.length;Ve++)wt[Ve].style.cssText=wt[Ve].style.cssText.replace(/(line-height\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+vn)}}}}if(it.isd){let Pt=document.getElementById(it.cueID);Pt&&re.removeChild(Pt),Oe(it)}}function Ke(it,Bt){const It=/^(urn:)(mpeg:[a-z0-9][a-z0-9-]{0,31}:)(subs:)([0-9]+)$/,Vt=/^#(.*)$/;if(It.test(Bt)){const vn=It.exec(Bt),At=parseInt(vn[4],10)-1;return"data:image/png;base64,"+btoa(it.images[At])}if(Vt.test(Bt)){const vn=Vt.exec(Bt)[1];return"data:image/png;base64,"+it.embeddedImages[vn]}return Bt}function Oe(it){if(re){Bn.call(this);const Bt=document.createElement("div");re.appendChild(Bt),Se=(0,gl.renderHTML)(it.isd,Bt,function(It){return Ke(it,It)},re.clientHeight,re.clientWidth,w.get().streaming.text.imsc.displayForcedOnlyMode,function(It){O.info("renderCaption :",It)},Se,w.get().streaming.text.imsc.enableRollUp),Bt.id=it.cueID,_.trigger(T.default.CAPTION_RENDERED,{captionDiv:Bt,currentTrackIdx:C})}}function W(it,Bt){const It=Bt.findCuesInRange(it.startTime-.1,it.endTime+.1);for(const Vt of It)if(oe(it,Vt)&&ve(it,Vt,Nf)||oe(Vt,it)&&ve(it,Vt,Nf))return Vt;return null}function oe(it,Bt){return!!Bt&&Bt.endTime>=it.startTime}function ve(it,Bt,It){for(let Vt=0;Vt<It.length;Vt++){const vn=It[Vt];if(JSON.stringify(it[vn])!==JSON.stringify(Bt[vn]))return!1}return!0}function de(it,Bt){Bt&&Bt.forEach(It=>{It.kind&&It.kind==="image"&&(It.src=Ke(it,It.src)),de(it,It.contents)})}function V(it,Bt,It){const Vt=zt(it),vn=ye.get(Vt),At=w.get().streaming.text.dispatchForManualRendering;if(Vt&&vn&&Array.isArray(It)&&It.length!==0){for(let Pt=0;Pt<It.length;Pt++){let Ve=null;const lt=It[Pt];if(Vt.cellResolution=lt.cellResolution,Vt.isFromCEA608=lt.isFromCEA608,isNaN(lt.start)||isNaN(lt.end)||(At?Ve=ce(lt,Bt):je(lt)&&re?Ve=Re(lt,Bt,Vt):lt.data&&(Ve=Le(lt,Bt,Vt))),Ve){if(w.get().streaming.text.extendSegmentedCues){const Nt=W(Ve,vn.allCues);Nt&&(vn.allCues.removeCue(Nt),wt=Ve,(Ct=Nt).startTime=Math.min(Ct.startTime,wt.startTime),Ct.endTime=Math.max(Ct.endTime,wt.endTime),Ve=Ct)}vn.allCues.addCue(Ve)}else O.error("Impossible to display subtitles. You might have missed setting a TTML rendering div via player.attachTTMLRenderingDiv(TTMLRenderingDiv)")}var Ct,wt;An()}}function ce(it,Bt){let It=Ue(it,Bt);return It.onenter=function(){je(it)&&te&&te.cueID!==It.cueID&&Ae(te),delete It.type,te=It,se(It)},It.onexit=function(){Ae(It),te=null},It}function se(it){_.trigger(T.default.CUE_ENTER,it)}function Ae(it){_.trigger(T.default.CUE_EXIT,{cueID:it.cueID})}function Re(it,Bt,It){const Vt=this;let vn=Ue(it,Bt);return re.style.left=P+"px",re.style.top=U+"px",re.style.width=H+"px",re.style.height=J+"px",vn.onenter=function(){It.mode===p.default.TEXT_SHOWING&&(this.isd?(D?requestAnimationFrame(()=>Oe(this)):Oe(this),O.debug("Cue enter id:"+this.cueID)):(re.appendChild(this.cueHTMLElement),Me.call(Vt,this),_.trigger(T.default.CAPTION_RENDERED,{captionDiv:this.cueHTMLElement,currentTrackIdx:C})))},vn.onexit=function(){if(re){const At=re.childNodes;for(let Ct=0;Ct<At.length;++Ct)At[Ct].id===this.cueID&&(O.debug("Cue exit id:"+At[Ct].id),re.removeChild(At[Ct]),--Ct)}},vn}function Le(it,Bt,It){let Vt=Ue(it,Bt);if(it.styles)try{it.styles.align!==void 0&&"align"in Vt&&(Vt.align=it.styles.align),it.styles.line!==void 0&&"line"in Vt&&(Vt.line=it.styles.line),it.styles.lineAlign!==void 0&&(Vt.lineAlign=it.styles.lineAlign),it.styles.snapToLines!==void 0&&"snapToLines"in Vt&&(Vt.snapToLines=it.styles.snapToLines),it.styles.position!==void 0&&"position"in Vt&&(Vt.position=it.styles.position),it.styles.positionAlign!==void 0&&(Vt.positionAlign=it.styles.positionAlign),it.styles.size!==void 0&&"size"in Vt&&(Vt.size=it.styles.size)}catch(vn){O.error(vn)}return Vt.onenter=function(){It.mode===p.default.TEXT_SHOWING&&_.trigger(T.default.CAPTION_RENDERED,{currentTrackIdx:C})},Vt}function je(it){return it.type==="html"}function Ue(it,Bt){return je(it)?function(It,Vt){let vn=new M(It.start+Vt,It.end+Vt,"");return vn.cueHTMLElement=It.cueHTMLElement,vn.isd=It.isd,vn.images=It.images,vn.embeddedImages=It.embeddedImages,vn.cueID=It.cueID,vn.scaleCue=Me.bind(self),vn.cellResolution=It.cellResolution,vn.lineHeight=It.lineHeight,vn.linePadding=It.linePadding,vn.fontSize=It.fontSize,vn.isd&&de(vn,vn.isd.contents),vn}(it,Bt):function(It,Vt){let vn=new M(It.start-Vt,It.end-Vt,It.data);return vn.cueID=gt.default.generateUuid(),vn}(it,Bt)}function at(it){if(ae){const Bt=ae.childNodes;for(let It=0;It<Bt.length;++It)Bt[It].id===it.cueID&&(ae.removeChild(Bt[It]),--It)}}function Tt(){const it=R.getTextTracks(),Bt=[];for(const It of it)It.manualMode===p.default.TEXT_SHOWING&&Bt.push(It);return Bt}function zt(it){return it>=0&&q[it]?R.getTextTrack(q[it].kind,q[it].id,q[it].lang,q[it].isTTML,q[it].isEmbedded):null}function Yt(it){if(it===C)return;C=it;const Bt=zt(C);pn.call(this,Bt),fe&&(clearInterval(fe),fe=null),Bt&&Bt.renderingType==="html"&&(Ce.call(this,Bt,!0),window.ResizeObserver?(Y=new window.ResizeObserver(()=>{Ce.call(this,Bt,!0)}),Y.observe(R.getElement())):fe=setInterval(Ce.bind(this,Bt),500))}function pn(it){Bn.call(this),it&&it.renderingType==="html"?Gn.call(this):Yn.call(this)}function Ut(it,Bt,It,Vt=!0){return!!it&&(isNaN(Bt)||(Vt?it.startTime:it.endTime)>=Bt)&&(isNaN(It)||(Vt?it.endTime:it.startTime)<=It)}function dn(it,Bt,It,Vt=!0){if(!it)return;if(it.cues&&it.cues.length>0)for(let At=it.cues.length-1;At>=0;At--)Ut(it.cues[At],Bt,It,Vt)&&(it.cues[At].onexit&&it.cues[At].onexit(),it.removeCue(it.cues[At]));const vn=ye.get(it);if(vn){const At=vn.activeCues,Ct=At.filter(wt=>wt.startTime>=Bt&&wt.endTime<=It);Ct.forEach(wt=>{w.get().streaming.text.dispatchForManualRendering?Ae(wt):at(wt)}),vn.activeCues=At.filter(wt=>!Ct.includes(wt))}}function An(){for(const it of ye.values())it.lastCueWindowUpdate=-1/0}function Gn(){let it=document.getElementById("native-cue-style");if(it)return;it=document.createElement("style"),it.id="native-cue-style",document.head.appendChild(it);const Bt=it.sheet,It=R.getElement();try{It&&(It.id?Bt.insertRule("#"+It.id+"::cue {background: transparent}",0):It.classList.length!==0?Bt.insertRule("."+It.className+"::cue {background: transparent}",0):Bt.insertRule("video::cue {background: transparent}",0))}catch(Vt){O.info(""+Vt.message)}}function Yn(){const it=document.getElementById("native-cue-style");it&&document.head.removeChild(it)}function Bn(){if(re)for(;re.firstChild;)re.removeChild(re.firstChild)}function Nn(){return q}return z={addCaptions:V,addTextTrackInfo:function(it){q.push(it)},createTracks:function(){q.sort(function(Bt,It){return Bt.index-It.index}),re=R.getTTMLRenderingDiv(),ae=R.getVttRenderingDiv();let it=-1;for(let Bt=0;Bt<q.length;Bt++){const It=le(q[Bt]);G.push(It),q[Bt].defaultTrack&&(It.default=!0,it=Bt);const Vt=zt(Bt);Vt&&(Vt.mode=p.default.TEXT_SHOWING,re&&(q[Bt].isTTML||q[Bt].isEmbedded)?Vt.renderingType="html":Vt.renderingType="default",ye.set(Vt,{allCues:new Kg,lastCueWindowUpdate:-1/0,activeCues:[]})),V(Bt,0,q[Bt].captionData),_.trigger(T.default.TEXT_TRACK_ADDED)}if(Yt.call(this,it),it>=0){let Bt=function(){const It=zt(it);It&&It.renderingType==="html"&&Ce.call(this,It,!0),_.off(T.default.PLAYBACK_METADATA_LOADED,Bt,this)};_.on(T.default.PLAYBACK_METADATA_LOADED,Bt,this);for(let It=0;It<q.length;It++){const Vt=zt(It);if(Vt){const vn=w.get().streaming.text.dispatchForManualRendering;Vt.mode=It!==it||vn?p.default.TEXT_HIDDEN:p.default.TEXT_SHOWING,Vt.manualMode=It===it?p.default.TEXT_SHOWING:p.default.TEXT_HIDDEN}}}_.trigger(m.default.TEXT_TRACKS_QUEUE_INITIALIZED,{index:C,tracks:q,streamId:I.id})},deleteAllTextTracks:function(){const it=G?G.length:0;for(let Bt=0;Bt<it;Bt++){const It=zt(Bt);It&&dn.call(this,It,I.start,I.start+I.duration,!1)}G=[],q=[],fe&&(clearInterval(fe),fe=null),Y&&R&&(Y.unobserve(R.getElement()),Y=null),C=-1,Bn.call(this),ye.clear()},deleteCuesFromTrackIdx:function(it,Bt,It){const Vt=zt(it);Vt&&dn(Vt,Bt,It)},disableManualTracks:function(){const it=Tt();if(it&&it.length>0){const Bt=it[0],It=ye.get(Bt);if(!It)return;It.activeCues.forEach(Vt=>{w.get().streaming.text.dispatchForManualRendering?Ae(Vt):at(Vt)}),It.activeCues=[]}},getCurrentTrackIdx:function(){return C},getCurrentTextTrackInfo:function(){return q[C]},getStreamId:function(){return I.id},getTextTrackInfos:Nn,getTrackIdxForId:function(it){let Bt=-1;for(let It=0;It<q.length;It++)if(q[It].id===it){Bt=It;break}return Bt},initialize:function(){typeof window<"u"&&typeof navigator<"u"&&(M=window.VTTCue||window.TextTrackCue,q=[],G=[],C=-1,P=0,U=0,H=0,J=0,re=null,ae=null,fe=null,ge=!1,ee=2147483647,Se=null,D="requestAnimationFrame"in window,ye.clear(),document.fullscreenElement!==void 0?he="fullscreenElement":document.webkitIsFullScreen!==void 0?he="webkitIsFullScreen":document.msFullscreenElement?he="msFullscreenElement":document.mozFullScreen&&(he="mozFullScreen"))},manualCueProcessing:function(it){const Bt=Tt();if(Bt&&Bt.length>0){const It=Bt[0],Vt=ye.get(It);if(!Vt)return;const vn=Vt.activeCues,At=Vt.allCues.findCuesAtTime(it),Ct=vn.filter(Pt=>!At.includes(Pt)),wt=At.filter(Pt=>!vn.includes(Pt));Ct.forEach(Pt=>{w.get().streaming.text.dispatchForManualRendering?Ae(Pt):at(Pt)}),wt.forEach(Pt=>{w.get().streaming.text.dispatchForManualRendering?se(Pt):WebVTT.processCues(window,[Pt],ae,Pt.cueID)}),Vt.activeCues=At}},setCurrentTrackIdx:Yt,setModeForTrackIdx:function(it,Bt){const It=zt(it);It&&It.mode!==Bt&&(It.mode=Bt),It&&It.manualMode!==Bt&&(It.manualMode=Bt)},updateTextTrackWindow:function(it,Bt=!1){const It=Nn(),Vt=w.get().streaming.text.webvtt.customRenderingEnabled;for(let vn=0;vn<It.length;vn++){const At=It[vn],Ct=zt(vn),wt=ye.get(Ct);if(!Ct||!wt||!At.isEmbedded&&Vt)continue;const{bufferToKeep:Pt,bufferPruningInterval:Ve}=w.get().streaming.buffer,lt=Date.now();if((lt-wt.lastCueWindowUpdate)/1e3<Ve&&!Bt)continue;const Nt=R.getPlaybackRate()||1,ct=Math.max(0,it-Pt/Nt),Kt=it+2*Ve/Nt;if(Ct.cues)for(;Ct.cues.length>0;)Ct.removeCue(Ct.cues[0]);Ct.mode!==p.default.TEXT_DISABLED&&wt.allCues.findCuesInRange(ct,Kt).forEach(Zt=>{Ct.addCue(Zt)}),wt.lastCueWindowUpdate=lt}},invalidateCueWindow:An},O=(0,u.default)(b).getInstance().getLogger(z),z}Fc.__dashjs_factory_name="TextTracks";var Yg=n.default.getClassFactory(Fc);function Of(){const S=this.context;let b,_,R,I,w,z;function O(C){const P=C.split(":"),U=P.length-1;return C=60*parseInt(P[U-1],10)+parseFloat(P[U]),U===2&&(C+=3600*parseInt(P[0],10)),C}function M(C){const P=C.split(I),U=P[1].split(z);return U.shift(),P[1]=U[0],U.shift(),{cuePoints:P,styles:q(U)}}function q(C){const P={};return C.forEach(function(U){const H=U.split(":");if(H.length>1){const[J,re]=H;switch(J){case"align":case"A":P.align=re;break;case"line":case"L":const[ae,fe]=re.split(","),he=ae.endsWith("%");P.line=ae==="auto"?ae:parseInt(ae,10),he&&(P.snapToLines=!1),fe&&(P.lineAlign=fe);break;case"position":case"P":const[ge,Se]=re.split(",");P.position=parseInt(ge,10),Se&&(P.positionAlign=Se);break;case"size":case"S":P.size=parseInt(re,10)}}}),P}function G(C,P){let U,H=P,J="",re="";for(;C[H]!==""&&H<C.length;)H++;if(U=H-P,U>1)for(let ae=0;ae<U;ae++){if(re=C[P+ae],re.match(I)){J="";break}J+=re,ae!==U-1&&(J+=`
`)}else re=C[P],re.match(I)||(J=re);return J}return b={parse:function(C){const P=[];let U,H;if(!C)return P;U=(C=C.split(R)).length,H=-1;for(let J=0;J<U;J++){let re=C[J];if(re.length>0&&re!=="WEBVTT"&&re.match(I)){const ae=M(re),fe=ae.cuePoints,he=ae.styles,ge=G(C,J+1),Se=O(fe[0].replace(w,"")),ee=O(fe[1].replace(w,""));!isNaN(Se)&&!isNaN(ee)&&Se>=H&&ee>Se?ge!==""?(H=Se,P.push({start:Se,end:ee,data:ge,styles:he})):_.error("Skipping cue due to empty/malformed cue text"):_.error("Skipping cue due to incorrect cue timing")}}return P},getCaptionStyles:q},_=(0,u.default)(S).getInstance().getLogger(b),R=/(?:\r\n|\r|\n)/gm,I=/-->/,w=/(^[\s]+|[\s]+$)/g,z=/\s\b/g,b}Of.__dashjs_factory_name="VTTParser";var uy=n.default.getSingletonFactory(Of);function Mf(){let S,b;return S={parse:function(_){let R=[];return b.oncue=function(I){I.start=I.startTime,I.end=I.endTime,I.data=I.text,I.styles={align:I.align,line:I.line,position:I.position,size:I.size},R.push(I)},b.parse(_),R}},function(){try{window&&window.WebVTT&&window.WebVTT.Parser&&(b=new window.WebVTT.Parser(window,window.vttjs,window.WebVTT.StringDecoder()))}catch{}}(),S}Mf.__dashjs_factory_name="VttCustomRenderingParser";var Si=n.default.getSingletonFactory(Mf);function _i(){const S=this.context,b=(0,y.default)(S).getInstance();let _,R,I=0;function w(){const z="cue_TTML_"+I;return I++,z}return _={parse:function(z,O,M,q,G){let C="";const P=[];let U,H,J;const re={},ae={};let fe="",he="",ge={onOpenTag:function(Y,D,te){if(te[" imagetype"]&&!te[" imageType"]&&(b.trigger(T.default.CONFORMANCE_VIOLATION,{level:ko.LEVELS.ERROR,event:ko.EVENTS.NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE}),te[" imageType"]=te[" imagetype"]),D==="image"&&(Y==="http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt"||Y==="http://www.smpte-ra.org/schemas/2052-1/2013/smpte-tt")){if(!te[" imageType"]||te[" imageType"].value!=="PNG")return void R.warn("smpte-tt imageType != PNG. Discarded");fe=te["http://www.w3.org/XML/1998/namespace id"].value}},onCloseTag:function(){fe&&(ae[fe]=he.trim()),he="",fe=""},onText:function(Y){fe&&(he+=Y)}};if(!z)throw C="no ttml data to parse",new Error(C);re.data=z,b.trigger(m.default.TTML_TO_PARSE,re);let Se=(0,gl.fromXML)(re.data,function(Y){C=Y},ge);b.trigger(m.default.TTML_PARSED,{ttmlString:re.data,ttmlDoc:Se});const ee=Se.getMediaTimeEvents();for(J=0;J<ee.length;J++){let Y=(0,gl.generateISD)(Se,ee[J],function(D){C=D});Y.contents.some(D=>D.contents.length)&&(U=ee[J]+O,H=ee[J+1]+O,U<H&&P.push({start:U,end:H,type:"html",cueID:w(),isd:Y,images:G,embeddedImages:ae}))}if(C!=="")throw R.error(C),new Error(C);return P}},R=(0,u.default)(S).getInstance().getLogger(_),_}_i.__dashjs_factory_name="TTMLParser";var Wg=n.default.getSingletonFactory(_i);function Pf(S){let b=this.context;const _=(0,y.default)(b).getInstance(),R=Rr(b).getInstance(),I=S.adapter,w=S.baseURLController,z="error",O="loaded",M="unloaded";let q,G,C;function P(J,re){let ae,fe,he=!1;if(w.resolve()){const ee=I.getVoRepresentations(J);ee&&ee.length>0&&(ae=w.resolve(ee[0].path).url)}const ge=J.essentialProperties.filter(ee=>ee.schemeIdUri&&ee.schemeIdUri===p.default.FONT_DOWNLOAD_DVB_SCHEME),Se=J.supplementalProperties.filter(ee=>ee.schemeIdUri&&ee.schemeIdUri===p.default.FONT_DOWNLOAD_DVB_SCHEME);ge.length>0?(he=!0,fe=ge):fe=Se,fe.forEach(ee=>{if(function(te){return!(!(te.value&&parseInt(te.value)===1&&te.dvbUrl&&te.dvbUrl.length>0&&te.dvbFontFamily&&te.dvbFontFamily.length>0&&te.dvbMimeType)||te.dvbMimeType!==p.default.OFF_MIMETYPE&&te.dvbMimeType!==p.default.WOFF_MIMETYPE)}(ee)){let te=(Y=ee.dvbUrl,D=ae,R.isPathAbsolute(Y)?Y:R.isRelative(Y)?D?R.resolve(Y,D):R.resolve(Y):Y);C.push({fontFamily:ee.dvbFontFamily,url:te,mimeType:ee.dvbMimeType,trackId:J.id,streamId:re,isEssential:he,status:M,fontFace:new FontFace(ee.dvbFontFamily,`url(${te})`,{display:"swap"})})}var Y,D})}function U(J,re){const ae=C[J];C[J]={...ae,status:re}}function H(){C=[]}return q={addFontsFromTracks:function(J,re){if(J&&Array.isArray(J)&&re)for(let ae=0;ae<J.length;ae++)P(J[ae],re)},downloadFonts:function(){for(let J=0;J<C.length;J++){let re=C[J];document.fonts.add(re.fontFace),_.trigger(T.default.DVB_FONT_DOWNLOAD_ADDED,re),re.fontFace.load().then(()=>{U(J,O),_.trigger(T.default.DVB_FONT_DOWNLOAD_COMPLETE,re)},ae=>{U(J,z),G.debug("Font download error: ",ae),_.trigger(T.default.DVB_FONT_DOWNLOAD_FAILED,re)})}},getFonts:function(){return C},getFontsForTrackId:function(J){return C.filter(re=>re.trackId&&re.trackId===J)},reset:function(){(function(){for(const J of C){let re=document.fonts.delete(J.fontFace);G.debug(`Removal of fontFamily: ${J.fontFamily} was ${re?"successful":"unsuccessful"}`)}})(),H()}},G=(0,u.default)(b).getInstance().getLogger(q),H(),q}Pf.__dashjs_factory_name="DVBFonts";var Xg=n.default.getClassFactory(Pf);function zf(S){let b=this.context;const _=S.adapter,R=S.errHandler,I=S.manifestModel,w=S.mediaController,z=S.baseURLController,O=S.videoModel,M=S.settings;let q,G,C,P,U,H,J,re,ae,fe,he,ge,Se,ee;function Y(de){if(ee.error(`Could not download ${de.isEssential?"an essential":"a"} font - fontFamily: ${de.fontFamily}, url: ${de.url}`),de.isEssential){let V=P[de.streamId].getTrackIdxForId(de.trackId);P[de.streamId].setModeForTrackIdx(V,p.default.TEXT_DISABLED)}}function D(de){if(ee.debug(`Successfully downloaded ${de.isEssential?"an essential":"a"} font - fontFamily: ${de.fontFamily}, url: ${de.url}`),de.isEssential){let V=P[de.streamId].getTrackIdxForId(de.trackId);V===P[de.streamId].getCurrentTrackIdx()?P[de.streamId].setModeForTrackIdx(V,p.default.TEXT_SHOWING):P[de.streamId].setModeForTrackIdx(V,p.default.TEXT_HIDDEN)}}function te(de){let V=de.tracks,ce=de.index;const se=de.streamId;if(M.get().streaming.text.defaultEnabled===!1&&!Me()||ge)Ke(se,-1);else{const Ae=w.getCurrentTrackFor(p.default.TEXT,se);if(Ae){const Re={lang:Ae.lang,role:Ae.roles[0],index:Ae.index,codec:Ae.codec,accessibility:Ae.accessibility[0]};V.some((Le,je)=>{if(w.matchSettings(Re,Le))return Ke(se,je),ce=je,!0})}ae=!1}G[se].lastEnabledIndex=ce,re.trigger(T.default.TEXT_TRACKS_ADDED,{enabled:Me(),index:ce,tracks:V,streamId:se}),he=!0,Se.addFontsFromTracks(V,se),Se.getFonts().forEach(Ae=>{if(Ae.isEssential){let Re=P[Ae.streamId].getTrackIdxForId(Ae.trackId);P[Ae.streamId].setModeForTrackIdx(Re,p.default.TEXT_DISABLED)}}),Se.downloadFonts()}function ye(de){try{const V=de.streamId,ce=P[V];if(!ce||isNaN(de.time))return;ce.updateTextTrackWindow(de.time),M.get().streaming.text.webvtt.customRenderingEnabled&&ce.manualCueProcessing(de.time)}catch{}}function le(de){try{const V=de.streamId;if(!P[V])return;P[V].disableManualTracks()}catch{}}function we(de){try{const V=P[de.streamId];if(!V)return;const ce=O.getTime()||0;V.updateTextTrackWindow(ce,!0)}catch(V){ee.error(V)}}function Ce(de){try{if(!de||!de.mediaType||de.mediaType!==p.default.AUDIO||!de.currentMediaInfo)return;const V=P[de.streamId].getCurrentTextTrackInfo();let ce=NaN;ae?ce=Oe(de.streamId):W(V)&&de.currentMediaInfo.lang&&de.currentMediaInfo.lang!==V.lang&&(ce=Oe(de.streamId),isNaN(ce)&&(ce=-1)),isNaN(ce)||Ke(de.streamId,ce)}catch(V){ee.error(V)}}function Me(){let de=!0;return ae&&!fe&&(de=!1),de}function Ke(de,V){ae=V===-1,ae&&w&&w.saveTextSettingsDisabled();let ce=oe(de);if(ce===V||!P[de])return;P[de].disableManualTracks(),P[de].invalidateCueWindow();let se=P[de].getCurrentTextTrackInfo(),Ae=se?O.getTextTrack(se.kind,se.id,se.lang,se.isTTML,se.isEmbedded):null;Ae&&Ae.mode!==p.default.TEXT_DISABLED&&P[de].setModeForTrackIdx(ce,p.default.TEXT_HIDDEN),P[de].setCurrentTrackIdx(V),se=P[de].getCurrentTextTrackInfo();const Re=M.get().streaming.text.dispatchForManualRendering;if(se&&!Re&&se.mode!==p.default.TEXT_DISABLED&&P[de].setModeForTrackIdx(V,p.default.TEXT_SHOWING),se&&se.isFragmented&&!se.isEmbedded)(function(Le,je,Ue){if(!C[Le])return;let at=C[Le].getConfig().fragmentedTracks;for(let Tt=0;Tt<at.length;Tt++){let zt=at[Tt];if(je.lang===zt.lang&&(zt.id?je.id===zt.id:je.index===zt.index)){let Yt=w.getCurrentTrackFor(p.default.TEXT,Le);(zt.id?Yt.id!==zt.id:Yt.index!==zt.index)?(P[Le].deleteCuesFromTrackIdx(Ue),C[Le].setCurrentFragmentedTrackIdx(Tt)):Ue===-1&&re.trigger(m.default.SET_FRAGMENTED_TEXT_AFTER_DISABLED,{},{streamId:Le,mediaType:p.default.TEXT})}}})(de,se,ce);else if(se&&!se.isFragmented)(function(Le,je){re.trigger(m.default.SET_NON_FRAGMENTED_TEXT,{currentTrackInfo:je},{streamId:Le,mediaType:p.default.TEXT})})(de,se);else if(!se&&ae){const Le=Oe(de);return void(isNaN(Le)||Ke(de,Le))}w.setTrack(se)}function Oe(de){const V=function(Ae){return P[Ae].getTextTrackInfos().filter((Re,Le)=>(Re._indexToSelect=Le,!!(Re&&Re.roles&&Re.roles.length>0)&&W(Re)))}(de);if(!V||V.length<=0)return NaN;const ce=w.getCurrentTrackFor(p.default.AUDIO,de);if(!ce)return NaN;const se=V.find(Ae=>ce.lang===Ae.lang);return se?se._indexToSelect:NaN}function W(de){return!(!de||!de.roles||de.roles.length===0)&&de.roles.some(V=>V.schemeIdUri===p.default.DASH_ROLE_SCHEME_ID&&V.value===De.default.FORCED_SUBTITLE)}function oe(de){return P[de].getCurrentTrackIdx()}function ve(){C={},P={},G={},ae=!0,he=!1,ge=!1}return q={addEmbeddedTrack:function(de,V){const ce=de.id;C[ce]&&C[ce].addEmbeddedTrack(V)},addMediaInfosToBuffer:function(de,V,ce,se=null){const Ae=de.id;C[Ae]&&C[Ae].addMediaInfos(V,ce,se)},createTracks:function(de){const V=de.id;P[V]&&P[V].createTracks()},deactivateStream:function(de){if(!de)return;const V=de.id;C[V]&&C[V].resetMediaInfos(),P[V]&&P[V].deleteAllTextTracks()},enableForcedTextStreaming:function(de){return(0,Rt.checkParameterType)(de,"boolean"),fe=de,!0},enableText:function(de,V){return(0,Rt.checkParameterType)(V,"boolean"),Me()!==V&&(V&&Ke(de,G[de].lastEnabledIndex),V||(G[de].lastEnabledIndex=oe(de),he?Ke(de,-1):ge=!0)),!0},getAllTracksAreDisabled:function(){return ae},getCurrentTrackIdx:oe,getTextSourceBuffer:function(de){const V=de.id;if(C&&C[V])return C[V]},initialize:function(){Se=Xg(b).create({adapter:_,baseURLController:z}),re.on(m.default.TEXT_TRACKS_QUEUE_INITIALIZED,te,q),re.on(m.default.DVB_FONT_DOWNLOAD_FAILED,Y,q),re.on(m.default.DVB_FONT_DOWNLOAD_COMPLETE,D,q),re.on(m.default.MEDIAINFO_UPDATED,Ce,q),re.on(m.default.PLAYBACK_TIME_UPDATED,ye,q),M.get().streaming.text.webvtt.customRenderingEnabled&&re.on(m.default.PLAYBACK_SEEKING,le,q),re.on(m.default.PLAYBACK_SEEKED,we,q)},initializeForStream:function(de){const V=de.id,ce=Yg(b).create({videoModel:O,settings:M,streamInfo:de});ce.initialize(),P[V]=ce;const se=Vg(b).create({errHandler:R,adapter:_,dvbFonts:Se,manifestModel:I,mediaController:w,videoModel:O,textTracks:ce,vttParser:U,vttCustomRenderingParser:H,ttmlParser:J,streamInfo:de,settings:M});se.initialize(),C[V]=se,G[V]={},G[V].lastEnabledIndex=-1},isTextEnabled:Me,reset:function(){Object.keys(C).forEach(de=>{C[de].resetEmbedded(),C[de].reset()}),Se.reset(),ve(),re.off(m.default.TEXT_TRACKS_QUEUE_INITIALIZED,te,q),re.off(m.default.DVB_FONT_DOWNLOAD_FAILED,Y,q),re.off(m.default.DVB_FONT_DOWNLOAD_COMPLETE,D,q),re.off(m.default.MEDIAINFO_UPDATED,Ce,q),re.off(m.default.PLAYBACK_TIME_UPDATED,ye,q),M.get().streaming.text.webvtt.customRenderingEnabled&&re.off(m.default.PLAYBACK_SEEKING,le,q),re.off(m.default.PLAYBACK_SEEKED,we,q)},setTextTrack:Ke,clearDataForStream:function(de){C[de]&&(C[de].resetEmbedded(),C[de].reset(),delete C[de]),P[de]&&(P[de].deleteAllTextTracks(),delete P[de]),G[de]&&delete G[de]}},fe=!1,he=!1,ge=!1,U=uy(b).getInstance(),H=Si(b).getInstance(),J=Wg(b).getInstance(),re=(0,y.default)(b).getInstance(),ee=(0,u.default)(b).getInstance().getLogger(q),ve(),q}zf.__dashjs_factory_name="TextController";var Qg=n.default.getClassFactory(zf);function pu(S){S=S||{};const b=this.context,_=(0,u.default)(b).getInstance(),R=S.settings,I=(0,y.default)(b).getInstance();let w,z,O,M,q,G;function C(){return navigator&&navigator.connection&&!isNaN(navigator.connection.downlink)&&navigator.connection.downlink>0?1e3*navigator.connection.downlink:NaN}function P(J,re,ae,fe){const he=Math.pow(.5,ae/fe.fast);J.fastEstimate=(1-he)*re+he*J.fastEstimate;const ge=Math.pow(.5,ae/fe.slow);J.slowEstimate=(1-ge)*re+ge*J.slowEstimate,J.totalWeight+=ae}function U(){w={},z={},O={},M={}}const H={addEntry:function(J,re){try{if(!(J&&re&&re.trace&&re.trace.length))return;(function(he){w[he]=w[he]||[],z[he]=z[he]||[],O[he]=O[he]||{fastEstimate:0,slowEstimate:0,totalWeight:0},M[he]=M[he]||{fastEstimate:0,slowEstimate:0,totalWeight:0}})(J);const ae=re.tresponse.getTime()-re.trequest.getTime()||1;let fe=function(he,ge){return he._fileLoaderType&&he._fileLoaderType===p.default.FILE_LOADER_TYPES.FETCH?function(Se){const ee=Se.trace.reduce((te,ye)=>te+ye.b[0],0),Y=Se.trace.reduce((te,ye)=>te+ye.d,0);let D=NaN;return R.get().streaming.abr.throughput.useNetworkInformationApi.fetch&&(D=C()),isNaN(D)&&(D=Math.round(8*ee/Y)),{downloadedBytes:ee,value:D,downloadTimeInMs:Y}}(he):function(Se,ee){let Y=NaN,D=NaN,te=!1;if(R.get().streaming.abr.throughput.useResourceTimingApi&&Se._resourceTimingValues)Y=Se._resourceTimingValues.transferSize,D=Se._resourceTimingValues.responseEnd-Se._resourceTimingValues.responseStart,te=!0;else{if(Se.trace.length<=1)return{throughput:NaN,downloadTimeInMs:NaN};Y=Se.trace.reduce((le,we)=>le+we.b[0],0)-Se.trace[0].b[0],D=Math.max(Se.trace.reduce((le,we)=>le+we.d,0)-Se.trace[0].d,1)}let ye=NaN;if(!te&&R.get().streaming.abr.throughput.useNetworkInformationApi.xhr&&(ye=C()),isNaN(ye)){const le=R.get().streaming.abr.throughput.useDeadTimeLatency?D:D+ee;ye=Math.round(8*Y/le)}return{downloadedBytes:Y,value:ye,downloadTimeInMs:D}}(he,ge)}(re,ae);if(fe.latencyInMs=ae,isNaN(fe.value)||!isFinite(fe.value))return;if(re.cmsd){const he=re.cmsd.dynamic&&re.cmsd.dynamic.etp?re.cmsd.dynamic.etp:null;if(he){const ge=R.get().streaming.cmsd.abr.etpWeightRatio;ge>0&&ge<=1&&(fe.value=fe.value*(1-ge)+he*ge)}}if(function(he,ge,Se){return R.get().streaming.abr.throughput.useResourceTimingApi&&Se._resourceTimingValues?Se._resourceTimingValues.transferSize===0&&Se._resourceTimingValues.decodedBodySize>0:!isNaN(ge)&&(he===p.default.VIDEO?ge<R.get().streaming.cacheLoadThresholds[p.default.VIDEO]:he===p.default.AUDIO?ge<R.get().streaming.cacheLoadThresholds[p.default.AUDIO]:void 0)}(J,re._tfinish.getTime()-re.trequest.getTime(),re))return void G.debug(`${J} Assuming segment ${re.url} came from cache, ignoring it for throughput calculation`);G.debug(`Added throughput entry for ${J}: ${fe.value} kbit/s`),fe.serviceLocation=re._serviceLocation,w[J].push(fe),z[J].push({value:ae}),function(he){w[he].length>R.get().streaming.abr.throughput.sampleSettings.maxMeasurementsToKeep&&w[he].shift(),z[he].length>R.get().streaming.abr.throughput.sampleSettings.maxMeasurementsToKeep&&z[he].shift()}(J),I.trigger(T.default.THROUGHPUT_MEASUREMENT_STORED,{throughputValues:fe}),re.type!==Te.HTTPRequest.MPD_TYPE&&(P(O[J],fe.value,R.get().streaming.abr.throughput.ewma.weightDownloadTimeMultiplicationFactor*fe.downloadTimeInMs,q.bandwidthHalfLife),P(M[J],ae,1,q.latencyHalfLife))}catch(ae){G.error(ae)}},getThroughputDict:function(J){return J?w[J]:w},getEwmaThroughputDict:function(J){return J?O[J]:O},getEwmaLatencyDict:function(J){return J?M[J]:M},getEwmaHalfLife:function(){return q},getLatencyDict:function(J){return J?z[J]:z},reset:U};return G=_.getLogger(H),q={bandwidthHalfLife:{fast:R.get().streaming.abr.throughput.ewma.throughputFastHalfLifeSeconds,slow:R.get().streaming.abr.throughput.ewma.throughputSlowHalfLifeSeconds},latencyHalfLife:{fast:R.get().streaming.abr.throughput.ewma.latencyFastHalfLifeCount,slow:R.get().streaming.abr.throughput.ewma.latencySlowHalfLifeCount}},U(),H}pu.__dashjs_factory_name="ThroughputModel";var Ff=n.default.getClassFactory(pu);function Uf(){const S=this.context,b=(0,y.default)(S).getInstance();let _,R,I;function w(){performance.clearResourceTimings()}function z(he){he.metric!==o.HTTP_REQUEST||!he.value||he.value.type!==Te.HTTPRequest.MPD_TYPE&&(he.value.type!==Te.HTTPRequest.MEDIA_SEGMENT_TYPE||he.mediaType!==p.default.AUDIO&&he.mediaType!==p.default.VIDEO)||_.addEntry(he.mediaType,he.value)}function O(he,ge,Se=null,ee=NaN){let Y,D=null,te=_.getEwmaHalfLife(),ye=null,le=!0;switch(Se||(Se=I.get().streaming.abr.throughput.averageCalculationMode),he){case p.default.THROUGHPUT_TYPES.BANDWIDTH:D=Se===p.default.THROUGHPUT_CALCULATION_MODES.EWMA?_.getEwmaThroughputDict(ge):_.getThroughputDict(ge),ye=te.bandwidthHalfLife,le=!0,ee=isNaN(ee)?R.getIsDynamic()?I.get().streaming.abr.throughput.sampleSettings.live:I.get().streaming.abr.throughput.sampleSettings.vod:ee;break;case p.default.THROUGHPUT_TYPES.LATENCY:D=Se===p.default.THROUGHPUT_CALCULATION_MODES.EWMA?_.getEwmaLatencyDict(ge):_.getLatencyDict(ge),ye=te.latencyHalfLife,le=!1,ee=isNaN(ee)?I.get().streaming.abr.throughput.sampleSettings.averageLatencySampleAmount:ee}if(!D||D.length===0)return NaN;switch(Se){case p.default.THROUGHPUT_CALCULATION_MODES.ARITHMETIC_MEAN:return Y=M(D,ee,he),q(D,Y);case p.default.THROUGHPUT_CALCULATION_MODES.BYTE_SIZE_WEIGHTED_ARITHMETIC_MEAN:return Y=M(D,ee,he),G(D,Y);case p.default.THROUGHPUT_CALCULATION_MODES.DATE_WEIGHTED_ARITHMETIC_MEAN:return Y=M(D,ee,he),C(D,Y);case p.default.THROUGHPUT_CALCULATION_MODES.HARMONIC_MEAN:return Y=M(D,ee,he),P(D,Y);case p.default.THROUGHPUT_CALCULATION_MODES.BYTE_SIZE_WEIGHTED_HARMONIC_MEAN:return Y=M(D,ee,he),U(D,Y);case p.default.THROUGHPUT_CALCULATION_MODES.DATE_WEIGHTED_HARMONIC_MEAN:return Y=M(D,ee,he),H(D,Y);case p.default.THROUGHPUT_CALCULATION_MODES.EWMA:return J(D,ye,le);case p.default.THROUGHPUT_CALCULATION_MODES.ZLEMA:return Y=M(D,ee,he),re(D,Y)}}function M(he,ge,Se){if(he){if(ge>=he.length)ge=he.length;else if(Se===p.default.THROUGHPUT_TYPES.BANDWIDTH&&I.get().streaming.abr.throughput.sampleSettings.enableSampleSizeAdjustment)for(let ee=1;ee<ge;++ee){const Y=he[he.length-ee].value/he[he.length-ee-1].value;if((Y>=I.get().streaming.abr.throughput.sampleSettings.increaseScale||Y<=I.get().streaming.abr.throughput.sampleSettings.decreaseScale)&&(ge+=1)===he.length)break}}else ge=0;return ge}function q(he,ge){let Se=he;return ge!==0&&Se&&Se.length!==0?(Se=Se.slice(-ge),Se.reduce((ee,Y)=>ee+Y.value,0)/Se.length):NaN}function G(he,ge){let Se=he;if(ge===0||!Se||Se.length===0)return NaN;Se=Se.slice(-ge);let ee=0;return Se.reduce((Y,D)=>{let te=Math.sqrt(D.downloadedBytes);return ee+=te,Y+D.value*te},0)/ee}function C(he,ge){let Se=he;if(ge===0||!Se||Se.length===0)return NaN;Se=Se.slice(-ge);let ee=0;return Se.reduce((Y,D,te)=>{let ye=te+1;return ee+=ye,Y+D.value*ye},0)/ee}function P(he,ge){let Se=he;if(ge===0||!Se||Se.length===0)return NaN;Se=Se.slice(-ge);const ee=Se.reduce((Y,D)=>Y+1/D.value,0);return Se.length/ee}function U(he,ge){let Se=he;if(ge===0||!Se||Se.length===0)return NaN;Se=Se.slice(-ge);let ee=0;const Y=Se.reduce((D,te)=>{let ye=Math.sqrt(te.downloadedBytes);return ee+=ye,D+1/te.value*ye},0);return ee/Y}function H(he,ge){let Se=he;if(ge===0||!Se||Se.length===0)return NaN;Se=Se.slice(-ge);let ee=0;const Y=Se.reduce((D,te,ye)=>{let le=ye+1;return ee+=le,D+1/te.value*le},0);return ee/Y}function J(he,ge,Se=!0){if(!he||he.totalWeight<=0)return NaN;const ee=he.fastEstimate/(1-Math.pow(.5,he.totalWeight/ge.fast)),Y=he.slowEstimate/(1-Math.pow(.5,he.totalWeight/ge.slow));return Se?Math.min(ee,Y):Math.max(ee,Y)}function re(he,ge){if(ge===0||!he||he.length===0)return NaN;let Se=he.slice(-ge).map(te=>te.value),ee=2/(Se.length+1),Y=Se[Se.length-1],D=Se[Se.length-1];for(let te=0;te<Se.length;te++)Y=ee*Se[te]+(1-ee)*Y,D=ee*Y+(1-ee)*D;return D}function ae(he,ge=null,Se=NaN){const ee=O(p.default.THROUGHPUT_TYPES.BANDWIDTH,he,ge,Se);return Math.round(ee)}const fe={getArithmeticMean:q,getAverageLatency:function(he,ge=null,Se=NaN){const ee=O(p.default.THROUGHPUT_TYPES.LATENCY,he,ge,Se);return Math.round(ee)},getAverageThroughput:ae,getByteSizeWeightedArithmeticMean:G,getByteSizeWeightedHarmonicMean:U,getDateWeightedArithmeticMean:C,getDateWeightedHarmonicMean:H,getEwma:J,getHarmonicMean:P,getRawThroughputData:function(he){return he?_.getThroughputDict(he):[]},getSafeAverageThroughput:function(he,ge=null,Se=NaN){let ee=ae(he,ge,Se);return isNaN(ee)||(ee*=I.get().streaming.abr.throughput.bandwidthSafetyFactor),ee},getZlema:re,initialize:function(){var he,ge;_=Ff(S).create({settings:I}),b.on(T.default.METRIC_ADDED,z,fe),(ge=(he=window.performance)==null?void 0:he.addEventListener)==null||ge.call(he,"resourcetimingbufferfull",w)},reset:function(){var he,ge;_.reset(),b.off(T.default.METRIC_ADDED,z,fe),(ge=(he=window.performance)==null?void 0:he.removeEventListener)==null||ge.call(he,"resourcetimingbufferfull",w)},setConfig:function(he){he.settings&&(I=he.settings),he.playbackController&&(R=he.playbackController)}};return fe}Uf.__dashjs_factory_name="ThroughputController";var Zg=n.default.getSingletonFactory(Uf);function Bf(){const S=this.context,b=(0,y.default)(S).getInstance(),_=(0,d.default)(S).getInstance();let R,I,w,z;function O(ae){z=ae}function M(ae,fe,he,ge){let Se,ee=fe.adaptation.period.mpd;const Y=ee.availabilityStartTime;if(ge)Se=he&&ee.timeShiftBufferDepth!==Number.POSITIVE_INFINITY?new Date(Y.getTime()+1e3*(ae+ee.timeShiftBufferDepth)):ee.availabilityEndTime;else if(he){const D=fe.availabilityTimeOffset;Se=new Date(Y.getTime()+1e3*(ae-D))}else Se=Y;return Se}function q(ae,fe){return(ae.getTime()-fe.mpd.availabilityStartTime.getTime()+1e3*z)/1e3}function G(ae,fe){return ae+(fe.adaptation.period.start-fe.presentationTimeOffset)}function C(ae){const fe={start:NaN,end:NaN},he=ae[0].getAdapter().getRegularPeriods()[0],ge=q(new Date,he);if(!ae||ae.length===0)return{range:fe,now:ge};ae.forEach(ee=>{let Y=ee.getCurrentRepresentationForType(p.default.VIDEO);if(Y||(Y=ee.getCurrentRepresentationForType(p.default.AUDIO)),!Y){const te=ee.getAdapter(),ye=te.getMediaInfoForType(ee.getStreamInfo(),p.default.VIDEO)||te.getMediaInfoForType(ee.getStreamInfo(),p.default.AUDIO);Y=te.getVoRepresentations(ye)[0]}let D={start:NaN,end:NaN};if(Y)if(Y.segmentInfoType===De.default.SEGMENT_TIMELINE)D=function(te){const ye=te.adaptation.period.mpd.manifest.Period[te.adaptation.period.index].AdaptationSet[te.adaptation.index],le=I.getRepresentationFor(te.index,ye),we=le.SegmentTemplate||le.SegmentList,Ce=we.SegmentTimeline,Me=we.timescale,Ke=Ce.S,Oe={start:0,end:0},W=Ke[0].t,oe=!isNaN(W),ve=oe?W:0;let de,V,ce,se,Ae=0;for(oe&&(Oe.start=G(ve/Me,te)),ce=0,se=Ke.length;ce<se;ce++)de=Ke[ce],V=0,de.hasOwnProperty("r")&&(V=de.r),Ae+=de.d*(1+V);return Oe.end=G((ve+Ae)/Me,te),Oe}(Y);else{const te=Y.adaptation.period;D.start=te.start,D.end=Math.max(ge,te.start+te.duration)}!isNaN(D.start)&&(isNaN(fe.start)||fe.start>D.start)&&(fe.start=D.start),!isNaN(D.end)&&(isNaN(fe.end)||fe.end<D.end)&&(fe.end=D.end)}),fe.end=Math.min(ge,fe.end);const Se=U(ae,fe.end,!0);return fe.end=isNaN(Se)?fe.end:Se,fe.start=he&&he.mpd&&he.mpd.timeShiftBufferDepth&&!isNaN(he.mpd.timeShiftBufferDepth)&&!isNaN(fe.end)?Math.max(fe.end-he.mpd.timeShiftBufferDepth,fe.start):fe.start,fe.start=U(ae,fe.start),{range:fe,now:ge}}function P(ae,fe){w=ae-fe.end}function U(ae,fe,he=!1){try{let ge=0,Se=!1,ee=NaN;for(;!Se&&ge<ae.length;){const Y=ae[ge].getStreamInfo();Y.start<=fe&&(!isFinite(Y.duration)||Y.start+Y.duration>=fe)?(ee=fe,Se=!0):!he&&Y.start>fe&&(isNaN(ee)||Y.start<ee)?ee=Y.start:he&&Y.start+Y.duration<fe&&(isNaN(ee)||Y.start+Y.duration>ee)&&(ee=Y.start+Y.duration),ge+=1}return ee}catch{return fe}}function H(ae){ae.offset===void 0||isNaN(ae.offset)||O(ae.offset/1e3)}function J(){z=0,w=0}function re(){b.off(m.default.UPDATE_TIME_SYNC_OFFSET,H,this),J()}return R={calcAvailabilityEndTimeFromPresentationTime:function(ae,fe,he){return M(ae,fe,he,!0)},calcAvailabilityStartTimeFromPresentationTime:function(ae,fe,he){return M(ae,fe,he)},calcMediaTimeFromPresentationTime:function(ae,fe){return ae-fe.adaptation.period.start+fe.presentationTimeOffset},calcPeriodRelativeTimeFromMpdRelativeTime:function(ae,fe){return fe-ae.adaptation.period.start},calcPresentationTimeFromMediaTime:G,calcPresentationTimeFromWallTime:q,calcTimeShiftBufferWindow:function(ae,fe){if(!fe)return function(he){const ge={start:NaN,end:NaN};let Se=0,ee=NaN;return he.forEach(Y=>{const D=Y.getStreamInfo();Se+=D.duration,(isNaN(ee)||D.start<ee)&&(ee=D.start)}),ge.start=ee,ge.end=ee+Se,ge}(ae);if(_.get().streaming.timeShiftBuffer.calcFromSegmentTimeline){const he=C(ae);return P(he.now,he.range),he.range}return function(he){const ge={start:NaN,end:NaN};if(!he||he.length===0)return ge;const Se=he[0].getAdapter().getRegularPeriods()[0],ee=q(new Date,Se),Y=Se.mpd.timeShiftBufferDepth,D=isNaN(Y)?0:ee-Y;if(ge.start=U(he,D),ge.end=!isNaN(ge.start)&&ee<ge.start?ee:U(he,ee,!0),!isNaN(Y)&&ge.end<ee-Y&&(ge.end=NaN),_.get().streaming.timeShiftBuffer.fallbackToSegmentTimeline){const te=C(he);if(te.range.end<ge.start)return b.trigger(T.default.CONFORMANCE_VIOLATION,{level:ko.LEVELS.WARNING,event:ko.EVENTS.INVALID_DVR_WINDOW}),P(te.now,te.range),te.range}return ge}(ae)},calcWallTimeForSegment:function(ae,fe){let he,ge,Se;return fe&&(he=ae.representation.adaptation.period.mpd.suggestedPresentationDelay,ge=ae.presentationStartTime+he,Se=new Date(ae.availabilityStartTime.getTime()+1e3*ge)),Se},getClientReferenceTime:function(){return Date.now()-1e3*w+1e3*z},getClientTimeOffset:function(){return z},initialize:function(){J(),b.on(m.default.UPDATE_TIME_SYNC_OFFSET,H,this)},reset:re,setClientTimeOffset:O,setConfig:function(ae){ae&&ae.dashManifestModel&&(I=ae.dashManifestModel)}},I=pr(S).getInstance(),re(),R}Bf.__dashjs_factory_name="TimelineConverter";var jf=n.default.getSingletonFactory(Bf),qf=class{constructor(){this.t=null,this.xywh=null,this.track=null,this.id=null,this.s=null,this.r=null}};function Uc(){let S,b;return S={initialize:function(_){if(b=new qf,!_)return null;const R=_.indexOf("#");if(R!==-1){const I=_.substr(R+1).split("&");for(let w=0,z=I.length;w<z;++w){const O=I[w],M=O.indexOf("=");if(M!==-1){const q=O.substring(0,M);b.hasOwnProperty(q)&&(b[q]=O.substr(M+1))}}}},getURIFragmentData:function(){return b}},S}Uc.__dashjs_factory_name="URIFragmentModel";var Jg=n.default.getSingletonFactory(Uc);const Gf=new Map([[p.default.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,"loadedmetadata"],[p.default.VIDEO_ELEMENT_READY_STATES.HAVE_CURRENT_DATA,"loadeddata"],[p.default.VIDEO_ELEMENT_READY_STATES.HAVE_FUTURE_DATA,"canplay"],[p.default.VIDEO_ELEMENT_READY_STATES.HAVE_ENOUGH_DATA,"canplaythrough"]]);function yu(){let S,b,_,R,I,w,z,O,M,q,G;const C=this.context,P=(0,y.default)(C).getInstance(),U=[];function H(ye,le=!1){R&&(le?R.playbackRate=ye:te(p.default.VIDEO_ELEMENT_READY_STATES.HAVE_FUTURE_DATA,()=>{R.playbackRate=ye}))}function J(){return U.length>0}function re(ye){let le=U.indexOf(ye);if(ye!==null&&(le!==-1&&U.splice(le,1),_.get().streaming.buffer.syntheticStallEvents.enabled&&R&&!J())){const we=()=>{if(H(q||1,_.get().streaming.buffer.syntheticStallEvents.ignoreReadyState),!R.paused){const Ce=document.createEvent("Event");Ce.initEvent("playing",!0,!1),R.dispatchEvent(Ce)}};_.get().streaming.buffer.syntheticStallEvents.ignoreReadyState?we():(z&&z.func&&z.event&&he(z.event,z.func),z=te(p.default.VIDEO_ELEMENT_READY_STATES.HAVE_FUTURE_DATA,we))}}function ae(){if(R&&J()&&R.playbackRate===0){const ye=document.createEvent("Event");ye.initEvent("waiting",!0,!1),R.dispatchEvent(ye)}}function fe(ye,le){R&&R.addEventListener(ye,le)}function he(ye,le){R&&R.removeEventListener(ye,le)}function ge(){return R?R.readyState:NaN}function Se(){return R?R.buffered:null}function ee(){return R?R.clientWidth:NaN}function Y(){return R?R.clientHeight:NaN}function D(ye,le,we,Ce,Me){if(R){for(let Ke=0;Ke<R.textTracks.length;Ke++)if(R.textTracks[Ke].kind===ye&&(!le||R.textTracks[Ke].label==le)&&R.textTracks[Ke].language===we&&R.textTracks[Ke].isTTML===Ce&&R.textTracks[Ke].isEmbedded===Me)return R.textTracks[Ke]}return null}function te(ye,le){return ye===p.default.VIDEO_ELEMENT_READY_STATES.HAVE_NOTHING||ge()>=ye?(le(),null):function(we,Ce){const Me=()=>{he(we,Me),Ce(we)};return fe(we,Me),{func:Me,event:we}}(Gf.get(ye),le)}return S={addEventListener:fe,addTextTrack:function(ye,le,we,Ce,Me){if(!R)return null;let Ke=D(ye,le,we,Ce,Me);return Ke||(Ke=R.addTextTrack(ye,le,we),Ke.isEmbedded=Me,Ke.isTTML=Ce),Ke},appendChild:function(ye){R&&(R.appendChild(ye),ye.isTTML!==void 0&&(R.textTracks[R.textTracks.length-1].isTTML=ye.isTTML,R.textTracks[R.textTracks.length-1].isEmbedded=ye.isEmbedded))},getBufferRange:Se,getClientHeight:Y,getClientWidth:ee,getElement:function(){return R},getEnded:function(){return R?R.ended:null},getPlaybackQuality:function(){if(!R)return null;let ye="webkitDroppedFrameCount"in R&&"webkitDecodedFrameCount"in R,le=null;return"getVideoPlaybackQuality"in R?le=R.getVideoPlaybackQuality():ye&&(le={droppedVideoFrames:R.webkitDroppedFrameCount,totalVideoFrames:R.webkitDroppedFrameCount+R.webkitDecodedFrameCount,creationTime:new Date}),le},getPlaybackRate:function(){return R?R.playbackRate:null},getPlayedRanges:function(){return R?R.played:null},getReadyState:ge,getSource:function(){return R?R.src:null},getTTMLRenderingDiv:function(){return O},getTextTrack:D,getTextTracks:function(){return R?R.textTracks:[]},getTime:function(){return R?isNaN(I)?R.currentTime:I:null},getVideoElementSize:function(){const ye=_.get().streaming.abr.usePixelRatioInLimitBitrateByPortal&&window.hasOwnProperty("devicePixelRatio")?window.devicePixelRatio:1;return{elementWidth:ee()*ye,elementHeight:Y()*ye}},getVideoHeight:function(){return R?R.videoHeight:NaN},getVideoRelativeOffsetLeft:function(){if(R){const ye=R.parentNode.host||R.parentNode;return ye?R.getBoundingClientRect().left-ye.getBoundingClientRect().left:NaN}return NaN},getVideoRelativeOffsetTop:function(){if(R){const ye=R.parentNode.host||R.parentNode;return ye?R.getBoundingClientRect().top-ye.getBoundingClientRect().top:NaN}return NaN},getVideoWidth:function(){return R?R.videoWidth:NaN},getVttRenderingDiv:function(){return M},initialize:function(){P.on(m.default.PLAYBACK_PLAYING,ae,this)},isPaused:function(){return R?R.paused:null},isSeeking:function(){return R?R.seeking||!isNaN(I):null},isStalled:J,pause:function(){R&&(R.pause(),R.autoplay=!1)},play:function(){if(R){R.autoplay=!0;const ye=R.play();ye&&ye.catch&&typeof Promise<"u"&&ye.catch(le=>{le.name==="NotAllowedError"&&P.trigger(m.default.PLAYBACK_NOT_ALLOWED),b.warn(`Caught pending play exception - continuing (${le})`)})}},removeChild:function(ye){R&&R.removeChild(ye)},removeEventListener:he,reset:function(){clearTimeout(G),P.off(m.default.PLAYBACK_PLAYING,ae,this),U.length=0},setConfig:function(ye){ye&&ye.settings&&(_=ye.settings)},setCurrentTime:function(ye,le){R&&(w&&w.func&&w.event&&he(w.event,w.func),I=ye,w=te(p.default.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,()=>{if(R)if(R.currentTime!==I)try{I=le?function(we){const Ce=Se();let Me=we,Ke=9999999999;if(Ce)for(let Oe=0;Oe<Ce.length;Oe++){const W=Ce.start(Oe),oe=Ce.end(Oe),ve=Math.abs(W-we),de=Math.abs(oe-we);if(we>=W&&we<=oe)return we;ve<Ke&&(Ke=ve,Me=W),de<Ke&&(Ke=de,Me=oe)}return Me}(I):I,isNaN(I)||(R.currentTime=I),I=NaN}catch(we){R.readyState===0&&we.code===we.INVALID_STATE_ERR&&(G=setTimeout(function(){R.currentTime=I,I=NaN},400))}else I=NaN}))},setDisableRemotePlayback:function(ye){R&&(R.disableRemotePlayback=ye)},setElement:function(ye){if(!(ye==null||ye&&/^(VIDEO|AUDIO)$/i.test(ye.nodeName)))throw"element is not video or audio DOM type!";R=ye},setPlaybackRate:H,setSource:function(ye){R&&(ye?R.src=ye:(R.removeAttribute("src"),R.load()))},setStallState:function(ye,le){(function(we,Ce){Ce?function(Me){if(Me!==null&&R&&!R.seeking&&U.indexOf(Me)===-1&&(U.push(Me),_.get().streaming.buffer.syntheticStallEvents.enabled&&R&&U.length===1&&(_.get().streaming.buffer.syntheticStallEvents.ignoreReadyState||ge()>=p.default.VIDEO_ELEMENT_READY_STATES.HAVE_FUTURE_DATA))){q=R.playbackRate,H(0,!0);const Ke=document.createEvent("Event");Ke.initEvent("waiting",!0,!1),R.dispatchEvent(Ke)}}(we):re(we)})(ye,le)},setTTMLRenderingDiv:function(ye){O=ye,O.style.position="absolute",O.style.display="flex",O.style.overflow="hidden",O.style.pointerEvents="none",O.style.top=0,O.style.left=0},setVttRenderingDiv:function(ye){M=ye},waitForReadyState:te},b=(0,u.default)(C).getInstance().getLogger(S),_=(0,d.default)(C).getInstance(),I=NaN,S}yu.__dashjs_factory_name="VideoModel";var $f=n.default.getSingletonFactory(yu),em=t(8986);function bu(){const S="You must first call initialize() and set a source before calling this method",b="You must first call initialize() and set a valid source and view before calling this method",_="You must first call attachView() to set the video element before calling this method",R="You must first call attachSource() with a valid source before calling this method",I="MediaPlayer not initialized!",w=this.context,z=(0,y.default)(w).getInstance();let O=(0,d.default)(w).getInstance();const M=(0,u.default)(w).getInstance({settings:O});let q,G,C,P,U,H,J,re,ae,fe,he,ge,Se,ee,Y,D,te,ye,le,we,Ce,Me,Ke,Oe,W,oe,ve,de,V,ce,se,Ae,Re,Le,je,Ue,at,Tt,zt,Yt,pn;function Ut(){wt(null),At(null),P=null,Y&&(Y.reset(),Y=null),D&&(D.reset(),D=null),Ce&&Ce.reset(),O.reset(),ye&&(ye.reset(),ye=null)}function dn(){return!!C&&!!at.getElement()}function An(){return(0,em.getVersionString)()}function Gn(){if(!J)throw b;return V.isPaused()}function Yn(){if(!J)throw b;return V.getIsDynamic()}function Bn(ze){const ut=oe&&oe.hasVideoTrack()?p.default.VIDEO:p.default.AUDIO;let Qt=Re.getCurrentDVRInfo(ut);return Qt?Nn(Qt.range.start+ze,Qt):0}function Nn(ze,ut){let Qt=V.getOriginalLiveDelay();return ze>ut.range.end-Qt&&(ze=ut.range.end-Qt),ze}function it(ze=""){if(!J)throw b;let ut=vn().currentTime;return ze!==""&&(ut=oe.getTimeRelativeToStreamId(ut,ze)),ut}function Bt(ze){(0,Rt.checkParameterType)(ze,"boolean"),re=ze}function It(){Ce.restoreDefaultUTCTimingSources()}function Vt(){return Re}function vn(){if(!at.getElement())throw _;return at.getElement()}function At(ze){if(!U)throw I;at.setElement(ze),ze&&(ct(),function(){if(D||typeof dashjs>"u")return;let ut=dashjs.MetricsReporting;typeof ut=="function"&&(D=ut(w).create().createMetricsReporting({debug:M,eventBus:z,mediaElement:vn(),adapter:le,dashMetrics:Re,mediaPlayerModel:we,events:m.default,constants:p.default,metricsConstants:o}))}(),function(){if(te||typeof dashjs>"u")return;let ut=dashjs.MssHandler;typeof ut=="function"&&(Tn.extend(ut.errors),te=ut(w).create({eventBus:z,mediaPlayerModel:we,dashMetrics:Re,manifestModel:Le,playbackController:V,streamController:oe,protectionController:Y,baseURLController:Ke,errHandler:Me,events:m.default,constants:p.default,debug:M,initSegmentType:Te.HTTPRequest.INIT_SEGMENT_TYPE,BASE64:Lt,ISOBoxer:Qo,settings:O}))}(),oe&&oe.switchToVideoElement(ae)),J&&(Ve(),lt()),Zt(ae)}function Ct(ze){if(!H)throw S;let ut=oe.getActiveStreamInfo();return ut?ee.getTracksFor(ze,ut.id).filter(Qt=>!Y||Y.areKeyIdsUsable(Qt.normalizedKeyIds)):[]}function wt(ze,ut=NaN){if(!U)throw I;typeof ze=="string"&&Tt.initialize(ze),ut==null&&(ut=NaN),isNaN(ut)||(ut=Math.max(0,ut)),ae=ut,C=ze,(H||J)&&(Ve(),lt()),dn()&&Zt(ae)}function Pt(){if(!H)throw S;let ze=oe.getActiveStreamInfo();return ze?oe.getStreamById(ze.id):null}function Ve(){J=!1,H=!1,le.reset(),oe.reset(),de.reset(),Ae.reset(),V.reset(),ce.reset(),se.reset(),fe.reset(),he.reset(),ee.reset(),Yt.reset(),Y&&(O.get().streaming.protection.keepProtectionMediaKeys?Y.stop():(Y.reset(),Y=null,ct())),ve.reset(),je.reset(),Ue.reset()}function lt(){Ce.resetPlaybackSessionSpecificSettings()}function Nt(){return cc(w).create({debug:M,errHandler:Me,dashMetrics:Re,mediaPlayerModel:we,mssHandler:te,settings:O})}function ct(){if(Y)return Y;if(typeof dashjs>"u")return null;let ze=dashjs.Protection;if(typeof ze=="function"){let ut=ze(w).create();return m.default.extend(ze.events),T.default.extend(ze.events,{publicOnly:!0}),Tn.extend(ze.errors),Y=ut.createProtectionSystem({debug:M,errHandler:Me,videoModel:at,customParametersModel:Ce,capabilities:Oe,eventBus:z,events:m.default,BASE64:Lt,constants:p.default,cmcdModel:je,settings:O}),Oe||(Oe=(0,og.default)(w).getInstance()),Oe.setProtectionController(Y),Y}return null}function Kt(){if(!U)throw I;if(ye)return ye;if(typeof dashjs>"u")return null;let ze=dashjs.OfflineController;if(typeof ze=="function"){m.default.extend(ze.events),T.default.extend(ze.events,{publicOnly:!0}),Tn.extend(ze.errors);const ut=Nt(),Qt=sf(w).create();return Qt.setConfig({manifestModel:Le,adapter:le,manifestLoader:ut,errHandler:Me,contentSteeringController:se}),ye=ze(w).create({debug:M,manifestUpdater:Qt,baseURLController:Ke,manifestLoader:ut,manifestModel:Le,mediaPlayerModel:we,abrController:fe,playbackController:V,adapter:le,errHandler:Me,dashMetrics:Re,timelineConverter:Se,segmentBaseController:Yt,schemeLoaderFactory:ge,eventBus:z,events:m.default,errors:Tn,constants:p.default,settings:O,dashConstants:De.default,urlUtils:Rr(w).getInstance()}),ye}return null}function Zt(ze=NaN){ye&&ye.resetRecords(),!H&&C&&(H=!0,G.info("Streaming Initialized"),function(){const ut=Nt();oe||(oe=wf(w).getInstance()),ve||(ve=Qg(w).create({errHandler:Me,manifestModel:Le,adapter:le,mediaController:ee,baseURLController:Ke,videoModel:at,settings:O})),W.setConfig({capabilities:Oe,customParametersModel:Ce,adapter:le,settings:O,protectionController:Y,manifestModel:Le,errHandler:Me}),oe.setConfig({capabilities:Oe,capabilitiesFilter:W,manifestLoader:ut,manifestModel:Le,mediaPlayerModel:we,customParametersModel:Ce,protectionController:Y,textController:ve,adapter:le,dashMetrics:Re,errHandler:Me,timelineConverter:Se,videoModel:at,playbackController:V,serviceDescriptionController:ce,contentSteeringController:se,abrController:fe,throughputController:he,mediaController:ee,settings:O,baseURLController:Ke,uriFragmentModel:Tt,segmentBaseController:Yt}),de.setConfig({settings:O,playbackController:V,streamController:oe,videoModel:at,timelineConverter:Se,adapter:le}),V.setConfig({streamController:oe,serviceDescriptionController:ce,dashMetrics:Re,adapter:le,videoModel:at,timelineConverter:Se,settings:O}),Ae.setConfig({streamController:oe,playbackController:V,mediaPlayerModel:we,videoModel:at,settings:O}),he.setConfig({settings:O,playbackController:V}),fe.setConfig({streamController:oe,capabilities:Oe,domStorage:zt,mediaPlayerModel:we,customParametersModel:Ce,throughputController:he,cmsdModel:Ue,dashMetrics:Re,adapter:le,videoModel:at,settings:O}),je.setConfig({abrController:fe,dashMetrics:Re,playbackController:V,serviceDescriptionController:ce,throughputController:he}),pn.setConfig({serviceDescriptionController:ce}),Ue.setConfig({}),ee.initialize(),he.initialize(),fe.initialize(),oe.initialize(re,P),ve.initialize(),de.initialize(),Ae.initialize(),je.initialize(re),Ue.initialize(),se.initialize(),Yt.initialize()}(),typeof C=="string"?oe.load(C,ze):oe.loadWithManifest(C,ze)),!J&&dn()&&(J=!0,z.trigger(T.default.PLAYBACK_INITIALIZED),G.info("Playback Initialized"))}return q={addABRCustomRule:function(ze,ut,Qt){Ce.addAbrCustomRule(ze,ut,Qt)},addExternalSubtitle:function(ze){ze instanceof Us.default||G.error("Invalid external subtitle object. Must be an instance of dashjs.ExternalSubtitle"),Ce.addExternalSubtitle(ze)},addRequestInterceptor:function(ze){Ce.addRequestInterceptor(ze)},addResponseInterceptor:function(ze){Ce.addResponseInterceptor(ze)},addUTCTimingSource:function(ze,ut){Ce.addUTCTimingSource(ze,ut)},attachProtectionController:function(ze){Y=ze},attachSource:wt,attachTTMLRenderingDiv:function(ze){if(!at.getElement())throw _;at.setTTMLRenderingDiv(ze)},attachView:At,attachVttRenderingDiv:function(ze){if(!at.getElement())throw _;at.setVttRenderingDiv(ze)},clearDefaultUTCTimingSources:function(){Ce.clearDefaultUTCTimingSources()},convertToTimeCode:function(ze){ze=Math.max(ze,0);let ut=Math.floor(ze/3600),Qt=Math.floor(ze%3600/60),sn=Math.floor(ze%3600%60);return(ut===0?"":ut<10?"0"+ut.toString()+":":ut.toString()+":")+(Qt<10?"0"+Qt.toString():Qt.toString())+":"+(sn<10?"0"+sn.toString():sn.toString())},destroy:function(){Ut(),n.default.deleteSingletonInstances(w)},duration:function(){if(!J)throw b;let ze=vn().duration;if(V.getIsDynamic()){const ut=oe&&oe.hasVideoTrack()?p.default.VIDEO:p.default.AUDIO;let Qt=Re.getCurrentDVRInfo(ut);ze=Qt?Qt.range.end-Qt.range.start:0}return ze},enableForcedTextStreaming:function(ze){return!(!oe.getActiveStreamInfo()||!ve)&&ve.enableForcedTextStreaming(ze)},enableText:function(ze){const ut=oe.getActiveStreamInfo();return!(!ut||!ve)&&ve.enableText(ut.id,ze)},extend:function(ze,ut,Qt){n.default.extend(ze,ut,Qt,w)},formatUTC:function(ze,ut,Qt,sn=!1){const $n=new Date(1e3*ze),St=$n.toLocaleDateString(ut),hn=$n.toLocaleTimeString(ut,{hour12:Qt});return sn?hn+" "+St:hn},getABRCustomRules:function(){return Ce.getAbrCustomRules()},getActiveStream:Pt,getAutoPlay:function(){return re},getAvailableBaseUrls:function(){const ze=Le.getValue();return ze?Ke.getBaseUrls(ze):[]},getAvailableLocations:function(){const ze=Le.getValue();if(!ze)return[];const ut=le.getLocation(ze),Qt=se.getSynthesizedLocationElements(ut);return ut.concat(Qt)},getAverageLatency:function(ze=p.default.VIDEO,ut=null,Qt=NaN){return he?he.getAverageLatency(ze,ut,Qt):0},getAverageThroughput:function(ze=p.default.VIDEO,ut=null,Qt=NaN){return he?he.getAverageThroughput(ze,ut,Qt):0},getBufferLength:function(ze){const ut=[p.default.VIDEO,p.default.AUDIO,p.default.TEXT];if(ze)return ut.indexOf(ze)!==-1?Vt().getCurrentBufferLevel(ze)||NaN:(G.warn("getBufferLength requested for invalid type"),NaN);{const Qt=ut.map(sn=>Ct(sn).length>0?Vt().getCurrentBufferLevel(sn):Number.MAX_VALUE).reduce((sn,$n)=>Math.min(sn,$n));return Qt===Number.MAX_VALUE?NaN:Qt}},getCurrentLiveLatency:function(){if(!U)throw I;return J?V.getCurrentLiveLatency():NaN},getCurrentRepresentationForType:function(ze){if(!H)throw S;if(ze!==p.default.IMAGE&&ze!==p.default.VIDEO&&ze!==p.default.AUDIO)return null;const ut=Pt();if(!ut)return null;if(ze===p.default.IMAGE){const Qt=ut.getThumbnailController();return Qt?Qt.getCurrentTrack():-1}return ut.getCurrentRepresentationForType(ze)},getCurrentSteeringResponseData:function(){if(se)return se.getCurrentSteeringResponseData()},getCurrentTextTrackIndex:function(){let ze=NaN;const ut=oe.getActiveStreamInfo();if(ut&&ve)return ze=ve.getCurrentTrackIdx(ut.id),ze},getCurrentTrackFor:function(ze){if(!H)throw S;let ut=oe.getActiveStreamInfo();return ut?ee.getCurrentTrackFor(ze,ut.id):null},getDashAdapter:function(){return le},getDashMetrics:Vt,getDebug:function(){return M},getDvrSeekOffset:Bn,getDvrWindow:function(){if(!J)throw b;const ze=oe&&oe.hasVideoTrack()?p.default.VIDEO:p.default.AUDIO;let ut=Re.getCurrentDVRInfo(ze);if(!ut)return{};let Qt=0;const sn=V.getIsDynamic();return sn&&(Qt=ut.manifestInfo.availableFrom.getTime()/1e3),{start:ut.range.start,end:ut.range.end,startAsUtc:sn?Qt+ut.range.start:NaN,endAsUtc:sn?Qt+ut.range.end:NaN,size:ut.range.end-ut.range.start}},getExternalSubtitles:function(){Ce.getExternalSubtitles()},getInitialMediaSettingsFor:function(ze){if(!U)throw I;return ee.getInitialSettings(ze)},getLowLatencyModeEnabled:function(){if(!J)throw b;return V.getLowLatencyModeEnabled()},getManifest:function(){return Le.getValue()},getOfflineController:function(){return Kt()},getPlaybackRate:function(){return vn().playbackRate},getProtectionController:function(){return ct()},getRawThroughputData:function(ze=p.default.VIDEO){return he?he.getRawThroughputData(ze):[]},getRepresentationsByType:function(ze,ut=null){if(!H)throw S;let Qt=ut?oe.getStreamById(ut):Pt();return Qt?Qt.getRepresentationsByType(ze):[]},getSafeAverageThroughput:function(ze=p.default.VIDEO,ut=null,Qt=NaN){return he?he.getSafeAverageThroughput(ze,ut,Qt):0},getSettings:function(){return O.get()},getSource:function(){if(!C)throw R;return C},getStreamsFromManifest:function(ze){if(!H)throw S;return le.getStreamsInfo(ze)},getTTMLRenderingDiv:function(){return at?at.getTTMLRenderingDiv():null},getTargetLiveDelay:function(){if(!J)throw b;return V.getOriginalLiveDelay()},getTracksFor:Ct,getTracksForTypeFromManifest:function(ze,ut,Qt){if(!H)throw S;return(Qt=Qt||le.getStreamsInfo(ut,1)[0])?le.getAllMediaInfoForType(Qt,ze,ut):[]},getVersion:An,getVideoElement:vn,getVolume:function(){return vn().volume},getXHRWithCredentialsForType:function(ze){return Ce.getXHRWithCredentialsForType(ze)},initialize:function(ze,ut,Qt,sn=NaN){Oe||(Oe=(0,og.default)(w).getInstance(),Oe.setConfig({settings:O,protectionController:Y})),Me||(Me=Es(w).getInstance()),Oe.supportsMediaSource()?(U||(U=!0,Se=jf(w).getInstance(),he||(he=Zg(w).getInstance()),fe||(fe=cr(w).getInstance()),ge||(ge=tg(w).getInstance()),V||(V=au(w).getInstance()),ee||(ee=Bs(w).getInstance()),oe||(oe=wf(w).getInstance()),de||(de=ef(w).getInstance()),Ae||(Ae=Bd(w).getInstance()),ce||(ce=Io(w).getInstance()),se||(se=Xu(w).getInstance()),W||(W=Ud(w).getInstance()),le=bs(w).getInstance(),Le=pg(w).getInstance(),je=xd(w).getInstance(),Ue=Cd(w).getInstance(),pn=po(w).getInstance(),Re=Jd(w).getInstance({settings:O}),zt=ug(w).getInstance({settings:O}),le.setConfig({constants:p.default,cea608parser:new Pc,errHandler:Me,BASE64:Lt}),Ke||(Ke=ny(w).create()),Ke.setConfig({adapter:le,contentSteeringController:se}),ce.setConfig({adapter:le}),Yt||(Yt=hr(w).getInstance({dashMetrics:Re,mediaPlayerModel:we,errHandler:Me,baseURLController:Ke,events:m.default,eventBus:z,debug:M,boxParser:Zo(w).getInstance(),errors:Tn})),ee.setConfig({domStorage:zt,settings:O,mediaPlayerModel:we,customParametersModel:Ce,videoModel:at}),we.setConfig({playbackController:V,serviceDescriptionController:ce}),se.setConfig({adapter:le,errHandler:Me,dashMetrics:Re,mediaPlayerModel:we,manifestModel:Le,serviceDescriptionController:ce,throughputController:he,eventBus:z}),It(),Bt(Qt===void 0||Qt),Kt()),ze&&At(ze),ut&&wt(ut,sn),G.info("[dash.js "+An()+"] MediaPlayer has been initialized")):Me.error(new ln.default(Tn.CAPABILITY_MEDIASOURCE_ERROR_CODE,Tn.CAPABILITY_MEDIASOURCE_ERROR_MESSAGE))},isDynamic:Yn,isMuted:function(){return vn().muted},isPaused:Gn,isReady:dn,isSeeking:function(){if(!J)throw b;return V.isSeeking()},isTextEnabled:function(){const ze=oe.getActiveStreamInfo();return!(!ze||!ve)&&ve.isTextEnabled(ze)},off:function(ze,ut,Qt){z.off(ze,ut,Qt)},on:function(ze,ut,Qt,sn){z.on(ze,ut,Qt,sn)},pause:function(){if(!J)throw b;V.pause()},play:function(){if(!J)throw b;(!re||Gn()&&J)&&V.play(!0)},preload:function(){if(!at.getElement()&&!H){if(!C)throw R;Zt(ae)}},provideThumbnail:function(ze,ut){if(typeof ut!="function")return;if(ze<0)return void ut(null);const Qt=V.getIsDynamic()?Bn(ze):ze,sn=oe.getStreamForTime(Qt);if(sn===null)return void ut(null);const $n=sn.getThumbnailController();if($n)return $n.provide(Qt,ut);ut(null)},refreshManifest:function(ze){if(!U)throw I;if(!dn())return ze(null,R);let ut=this;if(typeof ze=="function"){const Qt=function(sn){z.off(m.default.INTERNAL_MANIFEST_LOADED,Qt,ut),sn.error?ze(null,sn.error):ze(sn.manifest)};z.on(m.default.INTERNAL_MANIFEST_LOADED,Qt,ut)}oe.refreshManifest()},registerCustomCapabilitiesFilter:function(ze){Ce.registerCustomCapabilitiesFilter(ze)},registerLicenseRequestFilter:function(ze){Ce.registerLicenseRequestFilter(ze)},registerLicenseResponseFilter:function(ze){Ce.registerLicenseResponseFilter(ze)},removeABRCustomRule:function(ze){Ce.removeAbrCustomRule(ze)},removeAllABRCustomRule:function(){Ce.removeAllAbrCustomRule()},removeExternalSubtitleById:function(ze){Ce.removeExternalSubtitleById(ze)},removeExternalSubtitleByUrl:function(ze){Ce.removeExternalSubtitleByUrl(ze)},removeRequestInterceptor:function(ze){Ce.removeRequestInterceptor(ze)},removeResponseInterceptor:function(ze){Ce.removeResponseInterceptor(ze)},removeUTCTimingSource:function(ze,ut){Ce.removeUTCTimingSource(ze,ut)},reset:Ut,resetCustomInitialTrackSelectionFunction:function(){Ce.resetCustomInitialTrackSelectionFunction(null)},resetSettings:function(){O.reset()},restoreDefaultUTCTimingSources:It,retrieveManifest:function(ze,ut){let Qt=Nt(),sn=this;const $n=function(St){St.error?ut(null,St.error):ut(St.manifest),z.off(m.default.INTERNAL_MANIFEST_LOADED,$n,sn),Qt.reset()};z.on(m.default.INTERNAL_MANIFEST_LOADED,$n,sn),Tt.initialize(ze),Qt.load(ze)},seek:function(ze){if(!J)throw b;if((0,Rt.checkParameterType)(ze,"number"),isNaN(ze))throw p.default.BAD_ARGUMENT_ERROR;ze<0&&(ze=0);let ut=V.getIsDynamic()?Bn(ze):ze;const Qt=vn();!V.getIsDynamic()&&Qt.duration&&(ut=Math.min(Qt.duration,ut)),V.seek(ut,!1,!1,!0)},seekToOriginalLive:function(){J&&Yn()&&V.seekToOriginalLive()},seekToPresentationTime:function(ze){if(!J)throw b;if((0,Rt.checkParameterType)(ze,"number"),isNaN(ze))throw p.default.BAD_ARGUMENT_ERROR;ze<0&&(ze=0);const ut=vn();if(!V.getIsDynamic()&&ut.duration&&(ze=Math.min(ut.duration,ze)),V.getIsDynamic()){const Qt=oe&&oe.hasVideoTrack()?p.default.VIDEO:p.default.AUDIO;let sn=Re.getCurrentDVRInfo(Qt);if(!sn)return;(ze=Nn(ze,sn))<sn.range.start&&(ze=sn.range.start)}V.seek(ze,!1,!1,!0)},setAutoPlay:Bt,setConfig:function(ze){ze&&(ze.capabilities&&(Oe=ze.capabilities),ze.capabilitiesFilter&&(W=ze.capabilitiesFilter),ze.streamController&&(oe=ze.streamController),ze.textController&&(ve=ze.textController),ze.gapController&&(de=ze.gapController),ze.throughputController&&(he=ze.throughputController),ze.playbackController&&(V=ze.playbackController),ze.serviceDescriptionController&&(ce=ze.serviceDescriptionController),ze.contentSteeringController&&(se=ze.contentSteeringController),ze.clientDataReportingController&&(pn=ze.clientDataReportingController),ze.catchupController&&(Ae=ze.catchupController),ze.mediaPlayerModel&&(we=ze.mediaPlayerModel),ze.customParametersModel&&(Ce=ze.customParametersModel),ze.abrController&&(fe=ze.abrController),ze.schemeLoaderFactory&&(ge=ze.schemeLoaderFactory),ze.mediaController&&(ee=ze.mediaController),ze.settings&&(O=ze.settings),ze.dashMetrics&&(Re=ze.dashMetrics))},setCurrentTrack:function(ze,ut=!1){if(!H)throw S;!Y||Y.areKeyIdsUsable(ze.normalizedKeyIds)?ee.setTrack(ze,{noSettingsSave:ut}):G.error(`Can not switch to track with index ${ze.index} because key is not usable`)},setCustomInitialTrackSelectionFunction:function(ze){Ce.setCustomInitialTrackSelectionFunction(ze)},setInitialMediaSettingsFor:function(ze,ut){if(!U)throw I;let Qt=function(sn){const $n=O.get().streaming.defaultSchemeIdUri;let St={};function hn(On,kn,Xn){let Fn={};if(kn){if(kn instanceof Array)throw"Array type not supported for settings!";return kn instanceof Object?(Fn.schemeIdUri=kn.schemeIdUri?kn.schemeIdUri:"",Fn.value=kn.value?kn.value:""):(Fn.schemeIdUri=Xn,Fn.value=kn,G.warn("No schemeIdUri provided for "+On+', using default "'+Xn+'"')),Fn}return null}return sn.id!==void 0&&(St.id=sn.id),sn.lang!==void 0&&(St.lang=sn.lang),isNaN(sn.index)||(St.index=sn.index),sn.viewpoint!==void 0&&(St.viewpoint=hn("viewpoint",sn.viewpoint,$n.viewpoint)),sn.audioChannelConfiguration!==void 0&&(St.audioChannelConfiguration=hn("audioChannelConfiguration",sn.audioChannelConfiguration,$n.audioChannelConfiguration)),sn.role!==void 0&&sn.role!==null&&(St.role=hn("role",sn.role,$n.role),St.role.schemeIdUri===p.default.DASH_ROLE_SCHEME_ID&&St.role.value==="Main"&&(St.role.value=De.default.MAIN)),sn.accessibility!==void 0&&(St.accessibility=hn("accessibility",sn.accessibility,$n.accessibility)),St}(ut);ee.setInitialSettings(ze,Qt)},setMute:function(ze){(0,Rt.checkParameterType)(ze,"boolean"),vn().muted=ze},setPlaybackRate:function(ze){vn().playbackRate=ze},setProtectionData:function(ze){P=ze,oe&&oe.setProtectionData(P)},setRepresentationForTypeById:function(ze,ut,Qt=!1){if(ze!==p.default.IMAGE&&ze!==p.default.VIDEO&&ze!==p.default.AUDIO)return;if(!H)throw S;const sn=Pt();if(sn)if(ze===p.default.IMAGE){const $n=sn.getThumbnailController();$n&&$n.setTrackById(ut)}else{const $n=sn.getRepresentationForTypeById(ze,ut);$n&&fe.manuallySetPlaybackQuality(ze,oe.getActiveStreamInfo(),$n,{forceReplace:Qt})}},setRepresentationForTypeByIndex:function(ze,ut,Qt=!1){if(ze!==p.default.IMAGE&&ze!==p.default.VIDEO&&ze!==p.default.AUDIO)return;if(!H)throw S;const sn=Pt();if(sn)if(ze===p.default.IMAGE){const $n=sn.getThumbnailController();$n&&$n.setTrackByIndex(ut)}else{const $n=sn.getRepresentationForTypeByIndex(ze,ut);$n&&fe.manuallySetPlaybackQuality(ze,oe.getActiveStreamInfo(),$n,{forceReplace:Qt})}},setTextTrack:function(ze){if(!J)throw b;const ut=oe.getActiveStreamInfo();ut&&ve&&ve.setTextTrack(ut.id,ze)},setVolume:function(ze){if(typeof ze!="number"||isNaN(ze)||ze<0||ze>1)throw p.default.BAD_ARGUMENT_ERROR;vn().volume=ze},setXHRWithCredentialsForType:function(ze,ut){Ce.setXHRWithCredentialsForType(ze,ut)},time:it,timeAsUTC:function(){if(!J)throw b;if(!V.getIsDynamic()||it()<0)return NaN;const ze=oe&&oe.hasVideoTrack()?p.default.VIDEO:p.default.AUDIO;let ut,Qt,sn=Re.getCurrentDVRInfo(ze);return sn?(ut=sn.manifestInfo.availableFrom.getTime()/1e3,Qt=ut+it(),Qt):0},timeInDvrWindow:function(){if(!J)throw b;if(!V.getIsDynamic())return it();let ze=vn().currentTime;const ut=oe&&oe.hasVideoTrack()?p.default.VIDEO:p.default.AUDIO;let Qt=Re.getCurrentDVRInfo(ut);return ze=Qt===null||ze===0?0:Math.max(0,ze-Qt.range.start),ze},trigger:function(ze,ut,Qt){z.trigger(ze,ut,Qt)},triggerSteeringRequest:function(){if(se)return se.loadSteeringData()},unregisterCustomCapabilitiesFilter:function(ze){Ce.unregisterCustomCapabilitiesFilter(ze)},unregisterLicenseRequestFilter:function(ze){Ce.unregisterLicenseRequestFilter(ze)},unregisterLicenseResponseFilter:function(ze){Ce.unregisterLicenseResponseFilter(ze)},updateSettings:function(ze){O.update(ze)},updateSource:function(ze){C=ze,oe.load(C)}},G=M.getLogger(q),U=!1,J=!1,H=!1,re=!0,ae=NaN,Y=null,ye=null,P=null,le=null,Yt=null,m.default.extend(T.default),we=of(w).getInstance(),Ce=(0,Ku.default)(w).getInstance(),at=$f(w).getInstance(),Tt=Jg(w).getInstance(),q}bu.__dashjs_factory_name="MediaPlayer";const Eu=n.default.getClassFactory(bu);Eu.events=T.default,Eu.errors=Tn,n.default.updateClassFactory(bu.__dashjs_factory_name,Eu);var As=Eu},1191:function(i,e,t){t.r(e);var n=t(7252);class r extends n.default{constructor(){super(),this.AST_IN_FUTURE="astInFuture",this.BASE_URLS_UPDATED="baseUrlsUpdated",this.BUFFER_EMPTY="bufferStalled",this.BUFFER_LOADED="bufferLoaded",this.BUFFER_LEVEL_STATE_CHANGED="bufferStateChanged",this.BUFFER_LEVEL_UPDATED="bufferLevelUpdated",this.DVB_FONT_DOWNLOAD_ADDED="dvbFontDownloadAdded",this.DVB_FONT_DOWNLOAD_COMPLETE="dvbFontDownloadComplete",this.DVB_FONT_DOWNLOAD_FAILED="dvbFontDownloadFailed",this.DYNAMIC_TO_STATIC="dynamicToStatic",this.ERROR="error",this.FRAGMENT_LOADING_COMPLETED="fragmentLoadingCompleted",this.FRAGMENT_LOADING_PROGRESS="fragmentLoadingProgress",this.FRAGMENT_LOADING_STARTED="fragmentLoadingStarted",this.FRAGMENT_LOADING_ABANDONED="fragmentLoadingAbandoned",this.LOG="log",this.MANIFEST_LOADING_STARTED="manifestLoadingStarted",this.MANIFEST_LOADING_FINISHED="manifestLoadingFinished",this.MANIFEST_LOADED="manifestLoaded",this.METRICS_CHANGED="metricsChanged",this.METRIC_CHANGED="metricChanged",this.METRIC_ADDED="metricAdded",this.METRIC_UPDATED="metricUpdated",this.PERIOD_SWITCH_STARTED="periodSwitchStarted",this.PERIOD_SWITCH_COMPLETED="periodSwitchCompleted",this.QUALITY_CHANGE_REQUESTED="qualityChangeRequested",this.QUALITY_CHANGE_RENDERED="qualityChangeRendered",this.NEW_TRACK_SELECTED="newTrackSelected",this.TRACK_CHANGE_RENDERED="trackChangeRendered",this.STREAM_INITIALIZING="streamInitializing",this.STREAM_UPDATED="streamUpdated",this.STREAM_ACTIVATED="streamActivated",this.STREAM_DEACTIVATED="streamDeactivated",this.STREAM_INITIALIZED="streamInitialized",this.STREAM_TEARDOWN_COMPLETE="streamTeardownComplete",this.TEXT_TRACKS_ADDED="allTextTracksAdded",this.TEXT_TRACK_ADDED="textTrackAdded",this.CUE_ENTER="cueEnter",this.CUE_EXIT="cueExit",this.THROUGHPUT_MEASUREMENT_STORED="throughputMeasurementStored",this.TTML_PARSED="ttmlParsed",this.TTML_TO_PARSE="ttmlToParse",this.CAPTION_RENDERED="captionRendered",this.CAPTION_CONTAINER_RESIZE="captionContainerResize",this.CAN_PLAY="canPlay",this.CAN_PLAY_THROUGH="canPlayThrough",this.PLAYBACK_ENDED="playbackEnded",this.PLAYBACK_ERROR="playbackError",this.PLAYBACK_INITIALIZED="playbackInitialized",this.PLAYBACK_NOT_ALLOWED="playbackNotAllowed",this.PLAYBACK_METADATA_LOADED="playbackMetaDataLoaded",this.PLAYBACK_LOADED_DATA="playbackLoadedData",this.PLAYBACK_PAUSED="playbackPaused",this.PLAYBACK_PLAYING="playbackPlaying",this.PLAYBACK_PROGRESS="playbackProgress",this.PLAYBACK_RATE_CHANGED="playbackRateChanged",this.PLAYBACK_SEEKED="playbackSeeked",this.PLAYBACK_SEEKING="playbackSeeking",this.PLAYBACK_STALLED="playbackStalled",this.PLAYBACK_STARTED="playbackStarted",this.PLAYBACK_TIME_UPDATED="playbackTimeUpdated",this.PLAYBACK_VOLUME_CHANGED="playbackVolumeChanged",this.PLAYBACK_WAITING="playbackWaiting",this.MANIFEST_VALIDITY_CHANGED="manifestValidityChanged",this.EVENT_MODE_ON_START="eventModeOnStart",this.EVENT_MODE_ON_RECEIVE="eventModeOnReceive",this.CONFORMANCE_VIOLATION="conformanceViolation",this.REPRESENTATION_SWITCH="representationSwitch",this.ADAPTATION_SET_REMOVED_NO_CAPABILITIES="adaptationSetRemovedNoCapabilities",this.CONTENT_STEERING_REQUEST_COMPLETED="contentSteeringRequestCompleted",this.INBAND_PRFT="inbandPrft",this.MANAGED_MEDIA_SOURCE_START_STREAMING="managedMediaSourceStartStreaming",this.MANAGED_MEDIA_SOURCE_END_STREAMING="managedMediaSourceEndStreaming"}}let o=new r;e.default=o},5212:function(i,e,t){t.r(e),e.default={STREAM:"stream",VIDEO:"video",ENHANCEMENT:"enhancement",AUDIO:"audio",TEXT:"text",MUXED:"muxed",IMAGE:"image",STPP:"stpp",TTML:"ttml",VTT:"vtt",WVTT:"wvtt",CONTENT_STEERING:"contentSteering",LIVE_CATCHUP_MODE_DEFAULT:"liveCatchupModeDefault",LIVE_CATCHUP_MODE_LOLP:"liveCatchupModeLoLP",MOVING_AVERAGE_SLIDING_WINDOW:"slidingWindow",MOVING_AVERAGE_EWMA:"ewma",BAD_ARGUMENT_ERROR:"Invalid Arguments",MISSING_CONFIG_ERROR:"Missing config parameter(s)",TRACK_SWITCH_MODE_ALWAYS_REPLACE:"alwaysReplace",TRACK_SWITCH_MODE_NEVER_REPLACE:"neverReplace",TRACK_SELECTION_MODE_FIRST_TRACK:"firstTrack",TRACK_SELECTION_MODE_HIGHEST_BITRATE:"highestBitrate",TRACK_SELECTION_MODE_HIGHEST_EFFICIENCY:"highestEfficiency",TRACK_SELECTION_MODE_LOWEST_STARTUP_DELAY:"lowestStartupDelay",TRACK_SELECTION_MODE_WIDEST_RANGE:"widestRange",CMCD_QUERY_KEY:"CMCD",CMCD_MODE_QUERY:"query",CMCD_MODE_HEADER:"header",CMCD_AVAILABLE_KEYS:["br","d","ot","tb","bl","dl","mtp","nor","nrr","su","bs","rtp","cid","pr","sf","sid","st","v"],CMCD_V2_AVAILABLE_KEYS:["msd","ltc"],CMCD_AVAILABLE_REQUESTS:["segment","mpd","xlink","steering","other"],INITIALIZE:"initialize",TEXT_SHOWING:"showing",TEXT_HIDDEN:"hidden",TEXT_DISABLED:"disabled",ACCESSIBILITY_CEA608_SCHEME:"urn:scte:dash:cc:cea-608:2015",CC1:"CC1",CC3:"CC3",UTF8:"utf-8",SCHEME_ID_URI:"schemeIdUri",START_TIME:"starttime",SERVICE_DESCRIPTION_DVB_LL_SCHEME:"urn:dvb:dash:lowlatency:scope:2019",SUPPLEMENTAL_PROPERTY_DVB_LL_SCHEME:"urn:dvb:dash:lowlatency:critical:2019",CTA_5004_2023_SCHEME:"urn:mpeg:dash:cta-5004:2023",THUMBNAILS_SCHEME_ID_URIS:["http://dashif.org/thumbnail_tile","http://dashif.org/guidelines/thumbnail_tile"],FONT_DOWNLOAD_DVB_SCHEME:"urn:dvb:dash:fontdownload:2014",COLOUR_PRIMARIES_SCHEME_ID_URI:"urn:mpeg:mpegB:cicp:ColourPrimaries",URL_QUERY_INFO_SCHEME:"urn:mpeg:dash:urlparam:2014",EXT_URL_QUERY_INFO_SCHEME:"urn:mpeg:dash:urlparam:2016",MATRIX_COEFFICIENTS_SCHEME_ID_URI:"urn:mpeg:mpegB:cicp:MatrixCoefficients",TRANSFER_CHARACTERISTICS_SCHEME_ID_URI:"urn:mpeg:mpegB:cicp:TransferCharacteristics",SEGMENT_SEQUENCE_REPRESENTATION_SCHEME_ID_URI:"urn:mpeg:dash:ssr:2023",HDR_METADATA_FORMAT_SCHEME_ID_URI:"urn:dvb:dash:hdr-dmi",HDR_METADATA_FORMAT_VALUES:{ST2094_10:"ST2094-10",SL_HDR2:"SL-HDR2",ST2094_40:"ST2094-40"},MEDIA_CAPABILITIES_API:{COLORGAMUT:{SRGB:"srgb",P3:"p3",REC2020:"rec2020"},TRANSFERFUNCTION:{SRGB:"srgb",PQ:"pq",HLG:"hlg"},HDR_METADATATYPE:{SMPTE_ST_2094_10:"smpteSt2094-10",SLHDR2:"slhdr2",SMPTE_ST_2094_40:"smpteSt2094-40"}},XML:"XML",ARRAY_BUFFER:"ArrayBuffer",DVB_REPORTING_URL:"dvb:reportingUrl",DVB_PROBABILITY:"dvb:probability",OFF_MIMETYPE:"application/font-sfnt",WOFF_MIMETYPE:"application/font-woff",VIDEO_ELEMENT_READY_STATES:{HAVE_NOTHING:0,HAVE_METADATA:1,HAVE_CURRENT_DATA:2,HAVE_FUTURE_DATA:3,HAVE_ENOUGH_DATA:4},FILE_LOADER_TYPES:{FETCH:"fetch_loader",XHR:"xhr_loader"},THROUGHPUT_TYPES:{LATENCY:"throughput_type_latency",BANDWIDTH:"throughput_type_bandwidth"},THROUGHPUT_CALCULATION_MODES:{EWMA:"throughputCalculationModeEwma",ZLEMA:"throughputCalculationModeZlema",ARITHMETIC_MEAN:"throughputCalculationModeArithmeticMean",BYTE_SIZE_WEIGHTED_ARITHMETIC_MEAN:"throughputCalculationModeByteSizeWeightedArithmeticMean",DATE_WEIGHTED_ARITHMETIC_MEAN:"throughputCalculationModeDateWeightedArithmeticMean",HARMONIC_MEAN:"throughputCalculationModeHarmonicMean",BYTE_SIZE_WEIGHTED_HARMONIC_MEAN:"throughputCalculationModeByteSizeWeightedHarmonicMean",DATE_WEIGHTED_HARMONIC_MEAN:"throughputCalculationModeDateWeightedHarmonicMean"},LOW_LATENCY_DOWNLOAD_TIME_CALCULATION_MODE:{MOOF_PARSING:"lowLatencyDownloadTimeCalculationModeMoofParsing",DOWNLOADED_DATA:"lowLatencyDownloadTimeCalculationModeDownloadedData",AAST:"lowLatencyDownloadTimeCalculationModeAast"},RULES_TYPES:{QUALITY_SWITCH_RULES:"qualitySwitchRules",ABANDON_FRAGMENT_RULES:"abandonFragmentRules"},QUALITY_SWITCH_RULES:{BOLA_RULE:"BolaRule",THROUGHPUT_RULE:"ThroughputRule",INSUFFICIENT_BUFFER_RULE:"InsufficientBufferRule",SWITCH_HISTORY_RULE:"SwitchHistoryRule",DROPPED_FRAMES_RULE:"DroppedFramesRule",LEARN_TO_ADAPT_RULE:"L2ARule",LOL_PLUS_RULE:"LoLPRule"},ABANDON_FRAGMENT_RULES:{ABANDON_REQUEST_RULE:"AbandonRequestsRule"},ID3_SCHEME_ID_URI:"https://aomedia.org/emsg/ID3",COMMON_ACCESS_TOKEN_HEADER:"common-access-token",DASH_ROLE_SCHEME_ID:"urn:mpeg:dash:role:2011",CODEC_FAMILIES:{MP3:"mp3",AAC:"aac",AC3:"ac3",EC3:"ec3",DTSX:"dtsx",DTSC:"dtsc",AVC:"avc",HEVC:"hevc"}}},2861:function(i,e,t){t.r(e),e.default={CLEARKEY_KEYSTEM_STRING:"org.w3.clearkey",WIDEVINE_KEYSTEM_STRING:"com.widevine.alpha",PLAYREADY_KEYSTEM_STRING:"com.microsoft.playready",PLAYREADY_RECOMMENDATION_KEYSTEM_STRING:"com.microsoft.playready.recommendation",WIDEVINE_UUID:"edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",PLAYREADY_UUID:"9a04f079-9840-4286-ab92-e65be0885f95",CLEARKEY_UUID:"e2719d58-a985-b3c9-781a-b030af78d30e",W3C_CLEARKEY_UUID:"1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",INITIALIZATION_DATA_TYPE_CENC:"cenc",INITIALIZATION_DATA_TYPE_KEYIDS:"keyids",INITIALIZATION_DATA_TYPE_WEBM:"webm",ENCRYPTION_SCHEME_CENC:"cenc",ENCRYPTION_SCHEME_CBCS:"cbcs",MEDIA_KEY_MESSAGE_TYPES:{LICENSE_REQUEST:"license-request",LICENSE_RENEWAL:"license-renewal",LICENSE_RELEASE:"license-release",INDIVIDUALIZATION_REQUEST:"individualization-request"},ROBUSTNESS_STRINGS:{WIDEVINE:{SW_SECURE_CRYPTO:"SW_SECURE_CRYPTO",SW_SECURE_DECODE:"SW_SECURE_DECODE",HW_SECURE_CRYPTO:"HW_SECURE_CRYPTO",HW_SECURE_DECODE:"HW_SECURE_DECODE",HW_SECURE_ALL:"HW_SECURE_ALL"}},MEDIA_KEY_STATUSES:{USABLE:"usable",EXPIRED:"expired",RELEASED:"released",OUTPUT_RESTRICTED:"output-restricted",OUTPUT_DOWNSCALED:"output-downscaled",STATUS_PENDING:"status-pending",INTERNAL_ERROR:"internal-error"}}},4469:function(i,e,t){t.r(e),t.d(e,{default:function(){return j}});class n{constructor(){this.mpdurl=null,this.errorcode=null,this.terror=null,this.url=null,this.ipaddress=null,this.servicelocation=null}}n.SSL_CONNECTION_FAILED_PREFIX="SSL",n.DNS_RESOLUTION_FAILED="C00",n.HOST_UNREACHABLE="C01",n.CONNECTION_REFUSED="C02",n.CONNECTION_ERROR="C03",n.CORRUPT_MEDIA_ISOBMFF="M00",n.CORRUPT_MEDIA_OTHER="M01",n.BASE_URL_CHANGED="F00",n.BECAME_REPORTER="S00";var r=n,o=t(913),u=t(138);function d(pe){let ie,He;const st=(pe=pe||{}).eventBus,Xe=pe.dashMetrics,Ze=pe.metricsConstants,We=pe.events;function rt(ft){let dt=new r;if(He){for(const nn in ft)ft.hasOwnProperty(nn)&&(dt[nn]=ft[nn]);dt.mpdurl||(dt.mpdurl=He.originalUrl||He.url),dt.terror||(dt.terror=new Date),Xe.addDVBErrors(dt)}}function vt(ft){ft.error||(He=ft.manifest)}function yt(ft){rt({errorcode:r.BASE_URL_CHANGED,servicelocation:ft.entry})}function ht(){rt({errorcode:r.BECAME_REPORTER})}function Sn(ft){var dt;ft.metric===Ze.HTTP_REQUEST&&((dt=ft.value).responsecode===0||dt.responsecode==null||dt.responsecode>=400||dt.responsecode<100||dt.responsecode>=600)&&rt({errorcode:dt.responsecode||r.CONNECTION_ERROR,url:dt.url,terror:dt.tresponse,servicelocation:dt._serviceLocation})}function tn(ft){let dt;switch(ft.error?ft.error.code:0){case MediaError.MEDIA_ERR_NETWORK:dt=r.CONNECTION_ERROR;break;case MediaError.MEDIA_ERR_DECODE:dt=r.CORRUPT_MEDIA_OTHER;break;default:return}rt({errorcode:dt})}return ie={initialize:function(){st.on(We.MANIFEST_UPDATED,vt,ie),st.on(We.SERVICE_LOCATION_BASE_URL_BLACKLIST_CHANGED,yt,ie),st.on(We.METRIC_ADDED,Sn,ie),st.on(We.METRIC_UPDATED,Sn,ie),st.on(We.PLAYBACK_ERROR,tn,ie),st.on(o.default.BECAME_REPORTING_PLAYER,ht,ie)},reset:function(){st.off(We.MANIFEST_UPDATED,vt,ie),st.off(We.SERVICE_LOCATION_BASE_URL_BLACKLIST_CHANGED,yt,ie),st.off(We.METRIC_ADDED,Sn,ie),st.off(We.METRIC_UPDATED,Sn,ie),st.off(We.PLAYBACK_ERROR,tn,ie),st.off(o.default.BECAME_REPORTING_PLAYER,ht,ie)}},ie}d.__dashjs_factory_name="DVBErrorsTranslator";var h=u.default.getSingletonFactory(d),f=t(7377);function y(pe){pe=pe||{};let ie,He,st=!1,Xe=this.context,Ze=pe.mediaElement;return ie={initialize:function(We){We&&We.length&&(We.forEach(rt=>{let vt=rt.starttime,yt=vt+rt.duration;He.add(vt,yt)}),st=!!We[0]._useWallClockTime)},reset:function(){He.clear()},isEnabled:function(){let We,rt=He.length;if(!rt)return!0;We=st?new Date().getTime()/1e3:Ze.currentTime;for(let vt=0;vt<rt;vt+=1){let yt=He.start(vt),ht=He.end(vt);if(yt<=We&&We<ht)return!0}return!1}},He=(0,f.default)(Xe).create(),ie}y.__dashjs_factory_name="RangeController";var m=u.default.getClassFactory(y);function p(){return{serialise:function pe(ie){let He,st,Xe=[],Ze=[];for(He in ie)if(ie.hasOwnProperty(He)&&He.indexOf("_")!==0){if(st=ie[He],st==null&&(st=""),Array.isArray(st)){if(!st.length)continue;Ze=[],st.forEach(function(We){let rt=Object.prototype.toString.call(We).slice(8,-1)!=="Object";Ze.push(rt?We:pe(We))}),st=Ze.map(encodeURIComponent).join(",")}else typeof st=="string"?st=encodeURIComponent(st):st instanceof Date?st=st.toISOString():typeof st=="number"&&(st=Math.round(st));Xe.push(He+"="+st)}return Xe.join("&")}}}p.__dashjs_factory_name="MetricSerialiser";var T=u.default.getSingletonFactory(p);function v(){let pe,ie,He,st=window.crypto||window.msCrypto,Xe=Uint32Array,Ze=Math.pow(2,8*Xe.BYTES_PER_ELEMENT)-1;function We(){st&&(pe||(pe=new Xe(10)),st.getRandomValues(pe),ie=0)}return He={random:function(rt,vt){let yt;return rt||(rt=0),vt||(vt=1),st?(ie===pe.length&&We(),yt=pe[ie]/Ze,ie+=1):yt=Math.random(),yt*(vt-rt)+rt}},We(),He}v.__dashjs_factory_name="RNG";var A=u.default.getSingletonFactory(v),k=t(1926);function B(pe){let ie;pe=pe||{};let He,st,Xe,Ze,We,rt,vt,yt=this.context,ht=[];const Sn=pe.metricsConstants;function tn(){Ze=!1,We=!1,rt=null,vt=null}return ie={report:function(ft,dt){Array.isArray(dt)||(dt=[dt]),We&&vt.isEnabled()&&dt.forEach(function(nn){let Cn=He.serialise(nn);ft!==Sn.DVB_ERRORS&&(Cn=`metricname=${ft}&${Cn}`),Cn=`${rt}?${Cn}`,function(Pn,Dn,Kn){let cr=new XMLHttpRequest;cr.withCredentials=st.getXHRWithCredentialsForType(Sn.HTTP_REQUEST_DVB_REPORTING_TYPE);const Gt=function(){let Ht=ht.indexOf(cr);Ht!==-1&&(ht.splice(Ht,1),!(cr.status>=200&&cr.status<300)&&Kn&&Kn())};ht.push(cr);try{cr.open("GET",Pn),cr.onloadend=Gt,cr.onerror=Gt,cr.send()}catch{cr.onerror()}}(Cn,0,function(){We=!1})})},initialize:function(ft,dt){let nn;if(vt=dt,rt=ft.dvbReportingUrl,!rt)throw new Error("required parameter missing (dvb:reportingUrl)");Ze||(nn=ft.dvbProbability,nn&&(nn===1e3||nn/1e3>=Xe.random())&&(We=!0),Ze=!0)},reset:function(){tn()}},He=T(yt).getInstance(),Xe=A(yt).getInstance(),st=(0,k.default)(yt).getInstance(),tn(),ie}B.__dashjs_factory_name="DVBReporting";var $=u.default.getClassFactory(B);function K(pe){pe=pe||{};const ie={"urn:dvb:dash:reporting:2014":$},He=this.context;let st;const Xe=pe.debug?pe.debug.getLogger(st):{},Ze=pe.metricsConstants,We=pe.mediaPlayerModel||{};return st={create:function(rt,vt){let yt;try{yt=ie[rt.schemeIdUri](He).create({metricsConstants:Ze,mediaPlayerModel:We}),yt.initialize(rt,vt)}catch(ht){yt=null,Xe.error(`ReportingFactory: could not create Reporting with schemeIdUri ${rt.schemeIdUri} (${ht.message})`)}return yt},register:function(rt,vt){ie[rt]=vt},unregister:function(rt){delete ie[rt]}},st}K.__dashjs_factory_name="ReportingFactory";var ue=u.default.getSingletonFactory(K);function me(pe){let ie,He=[];const st=ue(this.context).getInstance(pe);return ie={initialize:function(Xe,Ze){Xe.some(We=>{let rt=st.create(We,Ze);if(rt)return He.push(rt),!0})},reset:function(){He.forEach(Xe=>Xe.reset()),He=[]},report:function(Xe,Ze){He.forEach(We=>We.report(Xe,Ze))}},ie}me.__dashjs_factory_name="ReportingController";var Te=u.default.getClassFactory(me);function X(){return{reconstructFullMetricName:function(pe,ie,He){let st=pe;return ie&&(st+="("+ie,He&&He.length&&(st+=","+He),st+=")"),st},validateN:function(pe){if(!pe)throw new Error("missing n");if(isNaN(pe))throw new Error("n is NaN");if(pe<0)throw new Error("n must be positive");return pe}}}X.__dashjs_factory_name="HandlerHelpers";var Q=u.default.getSingletonFactory(X);function be(pe){let ie,He,st,Xe,Ze,We;pe=pe||{};let rt=this.context,vt=Q(rt).getInstance(),yt=[];const ht=pe.metricsConstants;function Sn(){let tn=function(){try{return Object.keys(yt).map(ft=>yt[ft]).reduce((ft,dt)=>ft.level<dt.level?ft:dt)}catch{return}}();tn&&We!==tn.t&&(We=tn.t,He.report(Xe,tn))}return ie={initialize:function(tn,ft,dt){ft&&(st=vt.validateN(dt),He=ft,Xe=vt.reconstructFullMetricName(tn,dt),Ze=setInterval(Sn,st))},reset:function(){clearInterval(Ze),Ze=null,st=0,He=null,We=null},handleNewMetric:function(tn,ft,dt){tn===ht.BUFFER_LEVEL&&(yt[dt]=ft)}},ie}be.__dashjs_factory_name="BufferLevelHandler";var F=u.default.getClassFactory(be),ke=u.default.getClassFactory(function(pe){let ie,He,st=(pe=pe||{}).eventBus;const Xe=pe.metricsConstants;function Ze(){st.off(o.default.METRICS_INITIALISATION_COMPLETE,Ze,this),st.trigger(o.default.BECAME_REPORTING_PLAYER)}return ie={initialize:function(We,rt){rt&&(He=rt,st.on(o.default.METRICS_INITIALISATION_COMPLETE,Ze,this))},reset:function(){He=null},handleNewMetric:function(We,rt){We===Xe.DVB_ERRORS&&He&&He.report(We,rt)}},ie});function Qe(pe){let ie,He,st,Xe,Ze,We;pe=pe||{};let rt=[],vt=Q(this.context).getInstance();const yt=pe.metricsConstants;function ht(){var Sn=rt;Sn.length&&He&&He.report(Ze,Sn),rt=[]}return ie={initialize:function(Sn,tn,ft,dt){tn&&(st=vt.validateN(ft),He=tn,dt&&dt.length&&(Xe=dt),Ze=vt.reconstructFullMetricName(Sn,ft,dt),We=setInterval(ht,st))},reset:function(){clearInterval(We),We=null,st=null,Xe=null,rt=[],He=null},handleNewMetric:function(Sn,tn){Sn===yt.HTTP_REQUEST&&(Xe&&Xe!==tn.type||rt.push(tn))}},ie}Qe.__dashjs_factory_name="HttpListHandler";var xe=u.default.getClassFactory(Qe);function Ye(){let pe,ie,He;return pe={initialize:function(st,Xe){ie=st,He=Xe},reset:function(){He=null,ie=void 0},handleNewMetric:function(st,Xe){st===ie&&He&&He.report(ie,Xe)}},pe}Ye.__dashjs_factory_name="GenericMetricHandler";var Ge=u.default.getClassFactory(Ye);function _e(pe){let ie;const He=(pe=pe||{}).debug?pe.debug.getLogger(ie):{};let st=/([a-zA-Z]*)(\(([0-9]*)(\,\s*([a-zA-Z]*))?\))?/;const Xe=this.context;let Ze={BufferLevel:F,DVBErrors:ke,HttpList:xe,PlayList:Ge,RepSwitchList:Ge,TcpList:Ge};return ie={create:function(We,rt){var vt,yt=We.match(st);if(yt){try{(vt=Ze[yt[1]](Xe).create({eventBus:pe.eventBus,metricsConstants:pe.metricsConstants})).initialize(yt[1],rt,yt[3],yt[5])}catch(ht){vt=null,He.error(`MetricsHandlerFactory: Could not create handler for type ${yt[1]} with args ${yt[3]}, ${yt[5]} (${ht.message})`)}return vt}},register:function(We,rt){Ze[We]=rt},unregister:function(We){delete Ze[We]}},ie}_e.__dashjs_factory_name="MetricsHandlerFactory";var $e=u.default.getSingletonFactory(_e);function Je(pe){pe=pe||{};let ie,He=[];const st=this.context,Xe=pe.eventBus,Ze=pe.events;let We=$e(st).getInstance({debug:pe.debug,eventBus:pe.eventBus,metricsConstants:pe.metricsConstants});function rt(vt){He.forEach(yt=>{yt.handleNewMetric(vt.metric,vt.value,vt.mediaType)})}return ie={initialize:function(vt,yt){vt.split(",").forEach((ht,Sn,tn)=>{let ft;if(ht.indexOf("(")!==-1&&ht.indexOf(")")===-1){let dt=tn[Sn+1];dt&&dt.indexOf("(")===-1&&dt.indexOf(")")!==-1&&(ht+=","+dt,delete tn[Sn+1])}ft=We.create(ht,yt),ft&&He.push(ft)}),Xe.on(Ze.METRIC_ADDED,rt,ie),Xe.on(Ze.METRIC_UPDATED,rt,ie)},reset:function(){Xe.off(Ze.METRIC_ADDED,rt,ie),Xe.off(Ze.METRIC_UPDATED,rt,ie),He.forEach(vt=>vt.reset()),He=[]}},ie}Je.__dashjs_factory_name="MetricsHandlersController";var tt=u.default.getClassFactory(Je);function Pe(pe){let ie,He,st,Xe;pe=pe||{};let Ze=this.context;function We(){ie&&ie.reset(),He&&He.reset(),st&&st.reset()}return Xe={initialize:function(rt){try{st=m(Ze).create({mediaElement:pe.mediaElement}),st.initialize(rt.Range),He=Te(Ze).create({debug:pe.debug,metricsConstants:pe.metricsConstants,mediaPlayerModel:pe.mediaPlayerModel}),He.initialize(rt.Reporting,st),ie=tt(Ze).create({debug:pe.debug,eventBus:pe.eventBus,metricsConstants:pe.metricsConstants,events:pe.events}),ie.initialize(rt.metrics,He)}catch(vt){throw We(),vt}},reset:We},Xe}Pe.__dashjs_factory_name="MetricsController";var qe=u.default.getClassFactory(Pe),et=class{constructor(){this.metrics="",this.Range=[],this.Reporting=[]}},pt=class{constructor(){this.starttime=0,this.duration=1/0,this._useWallClockTime=!1}},jt=class{constructor(){this.schemeIdUri="",this.value="",this.dvbReportingUrl="",this.dvbProbability=1e3}};function Fe(pe){let ie,He=(pe=pe||{}).adapter;const st=pe.constants;return ie={getMetrics:function(Xe){let Ze=[];return Xe&&Xe.Metrics&&Xe.Metrics.forEach(We=>{var rt=new et,vt=He.getIsDynamic(Xe);We.hasOwnProperty("metrics")&&(rt.metrics=We.metrics,We.Range&&We.Range.forEach(yt=>{var ht=new pt;ht.starttime=function(Sn,tn,ft){let dt,nn,Cn=0;return tn?Cn=He.getAvailabilityStartTime(Sn)/1e3:(dt=He.getRegularPeriods(Sn),dt.length&&(Cn=dt[0].start)),nn=Cn,ft&&ft.hasOwnProperty(st.START_TIME)&&(nn+=ft.starttime),nn}(Xe,vt,yt),yt.hasOwnProperty("duration")?ht.duration=yt.duration:ht.duration=He.getDuration(Xe),ht._useWallClockTime=vt,rt.Range.push(ht)}),We.Reporting&&(We.Reporting.forEach(yt=>{var ht=new jt;yt.hasOwnProperty(st.SCHEME_ID_URI)&&(ht.schemeIdUri=yt.schemeIdUri,yt.hasOwnProperty("value")&&(ht.value=yt.value),yt.hasOwnProperty(st.DVB_REPORTING_URL)&&(ht.dvbReportingUrl=yt[st.DVB_REPORTING_URL]),yt.hasOwnProperty(st.DVB_PROBABILITY)&&(ht.dvbProbability=yt[st.DVB_PROBABILITY]),rt.Reporting.push(ht))}),Ze.push(rt)))}),Ze}},ie}Fe.__dashjs_factory_name="ManifestParsing";var Ne=u.default.getSingletonFactory(Fe);function bt(pe){let ie;pe=pe||{};let He={},st=this.context,Xe=pe.eventBus;const Ze=pe.events;function We(vt){if(vt.error)return;let yt=Object.keys(He);Ne(st).getInstance({adapter:pe.adapter,constants:pe.constants}).getMetrics(vt.manifest).forEach(ht=>{const Sn=JSON.stringify(ht);if(He.hasOwnProperty(Sn))yt.splice(Sn,1);else try{let tn=qe(st).create(pe);tn.initialize(ht),He[Sn]=tn}catch{}}),yt.forEach(ht=>{He[ht].reset(),delete He[ht]}),Xe.trigger(o.default.METRICS_INITIALISATION_COMPLETE)}function rt(){Object.keys(He).forEach(vt=>{He[vt].reset()}),He={}}return ie={reset:function(){Xe.off(Ze.MANIFEST_UPDATED,We,ie),Xe.off(Ze.STREAM_TEARDOWN_COMPLETE,rt,ie)}},Xe.on(Ze.MANIFEST_UPDATED,We,ie),Xe.on(Ze.STREAM_TEARDOWN_COMPLETE,rt,ie),ie}bt.__dashjs_factory_name="MetricsCollectionController";var Z=u.default.getClassFactory(bt);function ne(){let pe,ie,He=this.context;return pe={createMetricsReporting:function(st){return ie=h(He).getInstance({eventBus:st.eventBus,dashMetrics:st.dashMetrics,metricsConstants:st.metricsConstants,events:st.events}),ie.initialize(),Z(He).create(st)},getReportingFactory:function(){return ue(He).getInstance()},getMetricsHandlerFactory:function(){return $e(He).getInstance()}},pe}ne.__dashjs_factory_name="MetricsReporting";const L=u.default.getClassFactory(ne);L.events=o.default,u.default.updateClassFactory(ne.__dashjs_factory_name,L);var j=L},913:function(i,e,t){t.r(e);var n=t(7252);class r extends n.default{constructor(){super(),this.METRICS_INITIALISATION_COMPLETE="internal_metricsReportingInitialized",this.BECAME_REPORTING_PLAYER="internal_becameReportingPlayer",this.CMCD_DATA_GENERATED="cmcdDataGenerated"}}let o=new r;e.default=o},1926:function(i,e,t){t.r(e);var n=t(5717),r=t(138),o=t(8261),u=t(656),d=t(5212),h=t(5560);function f(){let y,m,p,T,v,A,k,B,$,K,ue;const me=this.context,Te=(0,o.default)(me).getInstance();function X(){T=[],v=[],A=[],k=[],B=[],ue=[],$=null,m=[],K=new Set}function Q(xe,Ye){let Ge=-1;xe.some((_e,$e)=>{if(_e===Ye)return Ge=$e,!0}),Ge<0||xe.splice(Ge,1)}function be(xe){let Ye;for(Ye=0;Ye<ue.length;Ye++)if(ue[Ye].rulename===xe)return Ye;return-1}function F(xe,Ye){let Ge=!1;return K.forEach(_e=>{_e[xe]===Ye&&(Ge=!0)}),Ge}function ke(xe,Ye){Qe(xe,Ye);let Ge=new n.default;Ge.schemeIdUri=xe,Ge.value=Ye,m.push(Ge)}function Qe(xe,Ye){(0,u.checkParameterType)(xe,"string"),(0,u.checkParameterType)(Ye,"string"),m.forEach(function(Ge,_e){Ge.schemeIdUri===xe&&Ge.value===Ye&&m.splice(_e,1)})}return y={addAbrCustomRule:function(xe,Ye,Ge){if(typeof xe!="string"||xe!==d.default.RULES_TYPES.ABANDON_FRAGMENT_RULES&&xe!==d.default.RULES_TYPES.QUALITY_SWITCH_RULES||typeof Ye!="string")throw d.default.BAD_ARGUMENT_ERROR;let _e=be(Ye);_e===-1?ue.push({type:xe,rulename:Ye,rule:Ge}):(ue[_e].type=xe,ue[_e].rule=Ge)},addExternalSubtitle:function(xe){if(!(xe&&xe.id!==void 0&&xe.url&&xe.language&&xe.mimeType&&xe.bandwidth!==void 0))return;const Ye=new h.default(xe);F("url",Ye.url)||F("id",Ye.id)||K.add(Ye)},addRequestInterceptor:function(xe){T.push(xe)},addResponseInterceptor:function(xe){v.push(xe)},addUTCTimingSource:ke,clearDefaultUTCTimingSources:function(){m=[]},getAbrCustomRules:function(){return ue},getCustomCapabilitiesFilters:function(){return B},getCustomInitialTrackSelectionFunction:function(){return $},getExternalSubtitles:function(){return K},getLicenseRequestFilters:function(){return A},getLicenseResponseFilters:function(){return k},getRequestInterceptors:function(){return T},getResponseInterceptors:function(){return v},getUTCTimingSources:function(){return m},getXHRWithCredentialsForType:function(xe){const Ye=p[xe];return Ye===void 0?p.default:Ye},registerCustomCapabilitiesFilter:function(xe){B.push(xe)},registerLicenseRequestFilter:function(xe){A.push(xe)},registerLicenseResponseFilter:function(xe){k.push(xe)},removeAbrCustomRule:function(xe){if(xe){let Ye=be(xe);Ye!==-1&&ue.splice(Ye,1)}else ue=[]},removeAllAbrCustomRule:function(){ue=[]},removeExternalSubtitleById:function(xe){K.forEach(Ye=>{Ye.id===xe&&K.delete(Ye)})},removeExternalSubtitleByUrl:function(xe){K.forEach(Ye=>{Ye.url===xe&&K.delete(Ye)})},removeRequestInterceptor:function(xe){Q(T,xe)},removeResponseInterceptor:function(xe){Q(v,xe)},removeUTCTimingSource:Qe,reset:function(){X()},resetCustomInitialTrackSelectionFunction:function(){$=null},resetPlaybackSessionSpecificSettings:function(){K=new Set},restoreDefaultUTCTimingSources:function(){let xe=Te.get().streaming.utcSynchronization.defaultTimingSource;ke(xe.scheme,xe.value)},setConfig:function(){},setCustomInitialTrackSelectionFunction:function(xe){$=xe},setXHRWithCredentialsForType:function xe(Ye,Ge){Ye?p[Ye]=!!Ge:Object.keys(p).forEach(_e=>{xe(_e,Ge)})},unregisterCustomCapabilitiesFilter:function(xe){Q(B,xe)},unregisterLicenseRequestFilter:function(xe){Q(A,xe)},unregisterLicenseResponseFilter:function(xe){Q(k,xe)}},p={default:!1},X(),y}f.__dashjs_factory_name="CustomParametersModel",e.default=r.default.getSingletonFactory(f)},3888:function(i,e,t){t.r(e),t.d(e,{default:function(){return cr}});var n=t(8854),r=t(2861);const o={prefixes:["clearkey","dashif","ck"]};class u{static findMp4ProtectionElement(Ht){let Mt=null;for(let Lt=0;Lt<Ht.length;++Lt){let on=Ht[Lt];on.schemeIdUri&&on.schemeIdUri.toLowerCase()===n.default.MP4_PROTECTION_SCHEME&&on.value&&(on.value.toLowerCase()===r.default.ENCRYPTION_SCHEME_CENC||on.value.toLowerCase()===r.default.ENCRYPTION_SCHEME_CBCS)&&(Mt=on)}return Mt}static getPSSHData(Ht){let Mt=8,Lt=new DataView(Ht),on=Lt.getUint8(Mt);return Mt+=20,on>0&&(Mt+=4+16*Lt.getUint32(Mt)),Mt+=4,Ht.slice(Mt)}static getPSSHForKeySystem(Ht,Mt){let Lt=u.parsePSSHList(Mt);return Ht&&Lt.hasOwnProperty(Ht.uuid.toLowerCase())?Lt[Ht.uuid.toLowerCase()]:null}static parseInitDataFromContentProtection(Ht,Mt){return"pssh"in Ht&&Ht.pssh?(Ht.pssh.__text=Ht.pssh.__text.replace(/\r?\n|\r/g,"").replace(/\s+/g,""),Mt.decodeArray(Ht.pssh.__text).buffer):null}static parsePSSHList(Ht){if(Ht==null)return[];let Mt=new DataView(Ht.buffer||Ht),Lt={},on=0;for(;;){let fn,mn,_n,Xt,Ft,en,Tn=on;if(on>=Mt.buffer.byteLength)break;if(fn=Mt.getUint32(on),mn=on+fn,on+=4,Mt.getUint32(on)===1886614376)if(on+=4,_n=Mt.getUint8(on),_n===0||_n===1){for(on++,on+=3,Xt="",Ft=0;Ft<4;Ft++)en=Mt.getUint8(on+Ft).toString(16),Xt+=en.length===1?"0"+en:en;for(on+=4,Xt+="-",Ft=0;Ft<2;Ft++)en=Mt.getUint8(on+Ft).toString(16),Xt+=en.length===1?"0"+en:en;for(on+=2,Xt+="-",Ft=0;Ft<2;Ft++)en=Mt.getUint8(on+Ft).toString(16),Xt+=en.length===1?"0"+en:en;for(on+=2,Xt+="-",Ft=0;Ft<2;Ft++)en=Mt.getUint8(on+Ft).toString(16),Xt+=en.length===1?"0"+en:en;for(on+=2,Xt+="-",Ft=0;Ft<6;Ft++)en=Mt.getUint8(on+Ft).toString(16),Xt+=en.length===1?"0"+en:en;on+=6,Xt=Xt.toLowerCase(),on+=4,Lt[Xt]=Mt.buffer.slice(Tn,mn),on=mn}else on=mn;else on=mn}return Lt}static getLicenseServerUrlFromMediaInfo(Ht,Mt){try{if(!Ht||Ht.length===0)return null;let Lt=0,on=null;for(;Lt<Ht.length&&!on;){const fn=Ht[Lt];if(fn&&fn.contentProtection&&fn.contentProtection.length>0){const mn=fn.contentProtection.filter(_n=>_n.schemeIdUri&&_n.schemeIdUri===Mt);if(mn&&mn.length>0){let _n=0;for(;_n<mn.length&&!on;){const Xt=mn[_n];Xt.laUrl&&Xt.laUrl.__prefix&&o.prefixes.includes(Xt.laUrl.__prefix)&&Xt.laUrl.__text&&(on=Xt.laUrl.__text),_n+=1}}}Lt+=1}return on}catch{return null}}static hexKidToBufferSource(Ht){const Mt=Ht.replace(/-/g,"");return new Uint8Array(Mt.match(/[\da-f]{2}/gi).map(function(Lt){return parseInt(Lt,16)})).buffer}}var d=u,h=class{constructor(Gt,Ht){this.contentType=Gt,this.robustness=Ht}},f=class{constructor(Gt,Ht,Mt,Lt,on,fn){this.initDataTypes=fn&&fn.length>0?fn:[r.default.INITIALIZATION_DATA_TYPE_CENC],Gt&&Gt.length&&(this.audioCapabilities=Gt),Ht&&Ht.length&&(this.videoCapabilities=Ht),this.distinctiveIdentifier=Mt,this.persistentState=Lt,this.sessionTypes=on}},y=t(1923),m=t(1944),p=class{constructor(Gt,Ht,Mt,Lt,on,fn,mn,_n){this.url=Gt,this.method=Ht,this.responseType=Mt,this.headers=Lt,this.withCredentials=on,this.messageType=fn,this.sessionId=mn,this.data=_n}},T=class{constructor(Gt,Ht,Mt){this.url=Gt,this.headers=Ht,this.data=Mt}},v=t(7568),A=t(7263),k=t(5212),B=t(138);function $(Gt){const Ht=(Gt=Gt||{}).BASE64,Mt=Gt.cmcdModel,Lt=Gt.constants,on=Gt.customParametersModel,fn=Gt.debug,mn=Gt.eventBus,_n=Gt.events,Xt=Gt.protectionKeyController,Ft=Gt.settings;let en,Tn,Jt,wn,Wn,Un,qn,rr,ln,Rt,gt,yn,Rn=Gt.protectionModel,Hn=[];function fr(){if(!(mn&&mn.hasOwnProperty("on")&&Xt&&Xt.hasOwnProperty("getSupportedKeySystemMetadataFromContentProtection")))throw new Error("Missing config parameter(s)")}function br(rn,xn){gt||wn?gt&&ti():function(zn,or){if(wn)return;var ir;wn=!0;const Rr=function(ar){const mr=[];for(let pr=0;pr<ar.length;pr++){const Ar=Sr(ar[pr]);mr.push({ks:ar[pr].ks,configs:[Ar],protData:ar[pr].protData})}return mr}(zn=(ir=zn).sort((ar,mr)=>(en&&en[ar.ks.systemString]&&en[ar.ks.systemString].priority>=0?en[ar.ks.systemString].priority:ir.length)-(en&&en[mr.ks.systemString]&&en[mr.ks.systemString].priority>=0?en[mr.ks.systemString].priority:ir.length)));let Nr;Rn.requestKeySystemAccess(Rr).then(ar=>(Nr=ar.data,function(mr){let pr=mr&&mr.selectedSystemString?mr.selectedSystemString:mr.keySystem.systemString;return qn.info("DRM: KeySystem Access Granted for system string ("+pr+")!  Selecting key system..."),Rn.selectKeySystem(mr)}(Nr))).then(ar=>{(function(mr,pr){try{gt=mr,wn=!1,mn.trigger(_n.KEY_SYSTEM_SELECTED,{data:pr});const Ar=Yr(gt);Ar&&Ar.serverCertificate&&Ar.serverCertificate.length>0&&Rn.setServerCertificate(Ht.decodeArray(Ar.serverCertificate).buffer),ti()}catch(Ar){qn.error(Ar)}})(ar,Nr)}).catch(ar=>{(function(mr,pr){gt=null,wn=!1,pr||mn.trigger(_n.KEY_SYSTEM_SELECTED,{data:null,error:new m.default(y.default.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE,y.default.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE+"Error selecting key system! -- "+mr.error)})})(ar,or)})}(rn,xn)}function ti(){let rn;for(let zn=0;zn<ln.length;zn++)for(rn=0;rn<ln[zn].length;rn++)if(gt===ln[zn][rn].ks){xn=ln[zn][rn],Xt.isClearKey(gt)&&function(or){if(or.protData&&or.protData.hasOwnProperty("clearkeys")&&Object.keys(or.protData.clearkeys).length!==0){const ir={kids:Object.keys(or.protData.clearkeys)};or.initData=new TextEncoder().encode(JSON.stringify(ir))}}(xn),xn.sessionId?Pr(xn):xn.initData!==null&&De(xn);break}var xn;ln=[]}function Sr(rn){const xn=rn.protData,zn=[],or=[],ir=xn&&xn.initDataTypes&&xn.initDataTypes.length>0?xn.initDataTypes:[r.default.INITIALIZATION_DATA_TYPE_CENC],Rr=xn&&xn.audioRobustness&&xn.audioRobustness.length>0?xn.audioRobustness:Rt,Nr=xn&&xn.videoRobustness&&xn.videoRobustness.length>0?xn.videoRobustness:Rt,ar=rn.sessionType,mr=xn&&xn.distinctiveIdentifier?xn.distinctiveIdentifier:"optional",pr=xn&&xn.persistentState?xn.persistentState:ar==="temporary"?"optional":"required";return rr.forEach(Ar=>{Ar.type===Lt.AUDIO?zn.push(new h(Ar.codec,Rr)):Ar.type===Lt.VIDEO&&or.push(new h(Ar.codec,Nr))}),new f(zn,or,mr,pr,[ar],ir)}function Pr(rn){fr(),Rn.loadKeySession(rn)}function De(rn){if(rn&&function(zn){if(!zn)return!1;try{const or=Rn.getSessionTokens();for(let ir=0;ir<or.length;ir++)if(or[ir].getKeyId()===zn)return!0;return!1}catch{return!1}}(rn.keyId))return;(function(){if(!Ft)return;const zn=Ft.get().streaming.protection.keepProtectionMediaKeys,or=Ft.get().streaming.protection.keepProtectionMediaKeysMaximumOpenSessions;if(typeof or!="number"||or<=0)return;if(!zn)return void qn.warn("DRM: keepProtectionMediaKeysMaximumOpenSessions is set to "+or+", but keepProtectionMediaKeys is not enabled. Therefore, keepProtectionMediaKeysMaximumOpenSessions will be ignored.");if(!Rn||typeof Rn.getSessionTokens!="function")return;const ir=Rn.getSessionTokens()||[];if(ir.length<or)return;const Rr=ir[0];Rr&&(qn.info("DRM: Maximum number of open MediaKeySessions reached ("+or+"), closing oldest session."),Wa(Rr))})();const xn=d.getPSSHForKeySystem(gt,rn?rn.initData:null);if(xn){if(Lr(xn))return;try{rn.initData=xn,Rn.createKeySession(rn)}catch(zn){mn.trigger(_n.KEY_SESSION_CREATED,{data:null,error:new m.default(y.default.KEY_SESSION_CREATED_ERROR_CODE,y.default.KEY_SESSION_CREATED_ERROR_MESSAGE+zn.message)})}}else rn&&rn.initData?Rn.createKeySession(rn):mn.trigger(_n.KEY_SESSION_CREATED,{data:null,error:new m.default(y.default.KEY_SESSION_CREATED_ERROR_CODE,y.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Selected key system is "+(gt?gt.systemString:null)+".  needkey/encrypted event contains no initData corresponding to that key system!")})}function Yr(rn){if(rn){const xn=rn.systemString;if(en)return xn in en?en[xn]:null}return null}function Lr(rn){if(!rn)return!1;try{const xn=Rn.getAllInitData();for(let zn=0;zn<xn.length;zn++)if(Xt.initDataEquals(rn,xn[zn]))return qn.debug("DRM: Ignoring initData because we have already seen it!"),!0;return!1}catch{return!1}}function Wa(rn){fr(),Rn.closeKeySession(rn)}function Ii(rn){fr(),rn?(Rn.setMediaElement(rn),mn.on(_n.NEED_KEY,Ma,Tn)):rn===null&&(Rn.setMediaElement(rn),mn.off(_n.NEED_KEY,Ma,Tn))}function da(rn){qn.debug("DRM: onKeyMessage");const xn=rn.data;mn.trigger(_n.KEY_MESSAGE,{data:xn});const zn=xn.messageType?xn.messageType:r.default.MEDIA_KEY_MESSAGE_TYPES.LICENSE_REQUEST,or=xn.message,ir=xn.sessionToken,Rr=Yr(gt),Nr=Xt.getLicenseServerModelInstance(gt,Rr,zn),ar={sessionToken:ir,messageType:zn};if(or&&or.byteLength!==0){if(!Nr)return qn.debug("DRM: License server request not required for this message (type = "+rn.data.messageType+").  Session ID = "+ir.getSessionId()),void si(ar);if(Xt.isClearKey(gt)){const mr=Xt.processClearKeyLicenseRequest(gt,Rr,or);if(mr&&mr.keyPairs&&mr.keyPairs.length>0)return qn.debug("DRM: ClearKey license request handled by application!"),si(ar),void Rn.updateKeySession(ir,mr)}(function(mr,pr,Ar){const gi=mr.sessionToken,fa=mr.messageType?mr.messageType:r.default.MEDIA_KEY_MESSAGE_TYPES.LICENSE_REQUEST,Ds={sessionToken:gi,messageType:fa},mi=gt?gt.systemString:null;let Go=function(kr,na,Sa,ga,Bl){let Mi=null;const Vo=ga.message;if(kr&&kr.serverURL){const qi=kr.serverURL;typeof qi=="string"&&qi!==""?Mi=qi:typeof qi=="object"&&qi.hasOwnProperty(na)&&(Mi=qi[na])}else if(kr&&kr.laURL&&kr.laURL!=="")Mi=kr.laURL;else if(Mi=d.getLicenseServerUrlFromMediaInfo(rr,gt.schemeIdURI),!Mi&&!Xt.isClearKey(gt)){const qi=d.getPSSHData(Sa.initData);Mi=gt.getLicenseServerURLFromInitData(qi),Mi||(Mi=ga.laURL)}return Mi=Bl.getServerURLFromMessage(Mi,Vo,na),Mi}(Ar,fa,gi,mr,pr);if(!Go)return void si(Ds,new m.default(y.default.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE,y.default.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_MESSAGE));const pi={};let Pa=!1;Ar&&qo(pi,Ar.httpRequestHeaders);const Xa=mr.message;qo(pi,gt.getRequestHeadersFromMessage(Xa)),Object.keys(pi).forEach(kr=>{kr.toLowerCase()==="authorization"&&(Pa=!0)}),Ar&&typeof Ar.withCredentials=="boolean"&&(Pa=Ar.withCredentials);const ha=function(kr){if(Rn)if(kr.status>=200&&kr.status<=299){const na=A.default.parseHttpHeaders(kr.getAllResponseHeaders?kr.getAllResponseHeaders():null);let Sa=new T(kr.responseURL,na,kr.response);Cs(on.getLicenseResponseFilters(),Sa).then(()=>{const ga=pr.getLicenseMessage(Sa.data,mi,fa);ga!==null?(si(Ds),Rn.updateKeySession(gi,ga)):zu(kr,Ds,mi,fa,pr)})}else zu(kr,Ds,mi,fa,pr)},Pl=function(kr){si(Ds,new m.default(y.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,y.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+mi+' update, XHR aborted. status is "'+kr.statusText+'" ('+kr.status+"), readyState is "+kr.readyState))},Qa=function(kr){si(Ds,new m.default(y.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,y.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+mi+' update, XHR error. status is "'+kr.statusText+'" ('+kr.status+"), readyState is "+kr.readyState))},zl=gt.getLicenseRequestFromMessage(Xa),$o=pr.getHTTPMethod(fa),Fl=pr.getResponseType(mi,fa),Ho=Ar&&!isNaN(Ar.httpTimeout)?Ar.httpTimeout:8e3,Fu=gi.getSessionId()||null;let Ul=new p(Go,$o,Fl,pi,Pa,fa,Fu,zl);const ho=isNaN(Ft.get().streaming.retryAttempts[v.HTTPRequest.LICENSE])?3:Ft.get().streaming.retryAttempts[v.HTTPRequest.LICENSE];Cs(on.getLicenseRequestFilters(),Ul).then(()=>{Ol(Ul,ho,Ho,ha,Pl,Qa)})})(xn,Nr,Rr)}else si(ar,new m.default(y.default.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE,y.default.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_MESSAGE))}function si(rn,xn=null){mn.trigger(_n.LICENSE_REQUEST_COMPLETE,{data:rn,error:xn})}function Ol(rn,xn,zn,or,ir,Rr){const Nr=new XMLHttpRequest,ar=Mt.getCmcdParametersFromManifest();if(Mt.isCmcdEnabled()&&(ar.mode?ar.mode:Ft.get().streaming.cmcd.mode)===k.default.CMCD_MODE_QUERY){const pr=Mt.getQueryParameter({url:rn.url,type:v.HTTPRequest.LICENSE});pr&&(rn.url=A.default.addAdditionalQueryParameterToUrl(rn.url,[pr]))}Nr.open(rn.method,rn.url,!0),Nr.responseType=rn.responseType,Nr.withCredentials=rn.withCredentials,zn>0&&(Nr.timeout=zn);for(const pr in rn.headers)Nr.setRequestHeader(pr,rn.headers[pr]);if(Mt.isCmcdEnabled()&&(ar.mode?ar.mode:Ft.get().streaming.cmcd.mode)===k.default.CMCD_MODE_HEADER){const pr=Mt.getHeaderParameters({url:rn.url,type:v.HTTPRequest.LICENSE});if(pr)for(const Ar in pr){let gi=pr[Ar];gi&&Nr.setRequestHeader(Ar,gi)}}const mr=function(){xn--;const pr=isNaN(Ft.get().streaming.retryIntervals[v.HTTPRequest.LICENSE])?1e3:Ft.get().streaming.retryIntervals[v.HTTPRequest.LICENSE];Wn=setTimeout(function(){Ol(rn,xn,zn,or,ir,Rr)},pr)};Nr.onload=function(){Un=null,this.status>=200&&this.status<=299||xn<=0?or(this):(qn.warn("License request failed ("+this.status+"). Retrying it... Pending retries: "+xn),mr())},Nr.ontimeout=Nr.onerror=function(){Un=null,xn<=0?Rr(this):(qn.warn("License request network request failed . Retrying it... Pending retries: "+xn),mr())},Nr.onabort=function(){ir(this)},mn.trigger(_n.LICENSE_REQUEST_SENDING,{url:rn.url,headers:rn.headers,payload:rn.data,sessionId:rn.sessionId}),Un=Nr,Nr.send(rn.data)}function Ml(){Un&&(Un.onloadend=Un.onerror=Un.onprogress=void 0,Un.abort(),Un=null),Wn&&(clearTimeout(Wn),Wn=null)}function qo(rn,xn){if(xn)for(const zn in xn)rn[zn]=xn[zn]}function zu(rn,xn,zn,or,ir){let Rr="NONE",Nr=null;rn.response&&(Rr=ir.getErrorResponse(rn.response,zn,or),Nr={serverResponse:rn.response||null,responseCode:rn.status||null,responseText:rn.statusText||null}),si(xn,new m.default(y.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,y.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+zn+' update, XHR complete. status is "'+rn.statusText+'" ('+rn.status+"), readyState is "+rn.readyState+".  Response is "+Rr,Nr))}function Cs(rn,xn){return rn?rn.reduce((zn,or)=>zn.then(()=>or(xn)),Promise.resolve()):Promise.resolve()}function Ma(rn,xn){if(Ft.get().streaming.protection.ignoreEmeEncryptedEvent)return;if(qn.debug("DRM: onNeedKey"),rn.key.initDataType!==r.default.INITIALIZATION_DATA_TYPE_CENC)return void qn.warn("DRM:  Only 'cenc' initData is supported!  Ignoring initData of type: "+rn.key.initDataType);if(rr.length===0&&(qn.warn("DRM: onNeedKey called before initializeForMedia, wait until initialized"),(xn=xn===void 0?1:xn+1)<5))return void Hn.push(setTimeout(()=>{Ma(rn,xn)},500));let zn=rn.key.initData;if(ArrayBuffer.isView(zn)&&(zn=zn.buffer),gt){const ir=d.getPSSHForKeySystem(gt,zn);if(ir&&Lr(ir))return}qn.debug("DRM: initData:",String.fromCharCode.apply(null,new Uint8Array(zn)));const or=Xt.getSupportedKeySystemMetadataFromSegmentPssh(zn,en,yn);or.length!==0?function(ir){ln.push(ir),br(ir,!1)}(or):qn.debug("DRM: Received needkey event with initData, but we don't support any of the key systems!")}function Ta(rn,xn){if(rn.size<=0)return!1;if(xn.size>0&&[...rn].every(or=>{const ir=xn.get(or);return ir!==void 0&&ir!==""}))return!0;const zn=Rn.getSessionTokens();if(zn&&zn.length>0){const or=zn.filter(ir=>[...rn].includes(ir.normalizedKeyId));if(or.some(ir=>!ir.hasTriggeredKeyStatusMapUpdate)||or.length===0)return!1}return!Ft.get().streaming.protection.ignoreKeyStatuses&&rn&&rn.size>0&&xn&&xn.size>0}return Tn={areKeyIdsExpired:function(rn){try{return!!Ta(rn,Jt)&&[...rn].every(xn=>Jt.get(xn)===r.default.MEDIA_KEY_STATUSES.EXPIRED)}catch(xn){return qn.error(xn),!1}},areKeyIdsUsable:function(rn){try{return!Ta(rn,Jt)||[...rn].some(xn=>{const zn=Jt.get(xn);return zn&&zn!==r.default.MEDIA_KEY_STATUSES.INTERNAL_ERROR&&zn!==r.default.MEDIA_KEY_STATUSES.OUTPUT_RESTRICTED})}catch(xn){return qn.error(xn),!0}},clearMediaInfoArray:function(){rr=[]},closeKeySession:Wa,createKeySession:De,getKeySystems:function(){return Xt?Xt.getKeySystems():[]},getSupportedKeySystemMetadataFromContentProtection:function(rn){return fr(),Xt.getSupportedKeySystemMetadataFromContentProtection(rn,en,yn)},handleKeySystemFromManifest:function(){if(!rr||rr.length===0)return;let rn=[];rr.forEach(xn=>{const zn=Xt.getSupportedKeySystemMetadataFromContentProtection(xn.contentProtection,en,yn);zn.length>0&&(rn.length===0&&(rn=zn),ln.push(zn))}),rn&&rn.length>0&&br(rn,!0)},initializeForMedia:function(rn){if(!rn)throw new Error("mediaInfo can not be null or undefined");fr(),rr.push(rn)},loadKeySession:Pr,removeKeySession:function(rn){fr(),Rn.removeKeySession(rn)},reset:function(){mn.off(_n.INTERNAL_KEY_MESSAGE,da,Tn),fr(),Ml(),Ii(null),gt=null,wn=!1,Jt=new Map,Rn&&(Rn.reset(),Rn=null),Hn.forEach(rn=>clearTimeout(rn)),Hn=[],rr=[],ln=[]},setKeySystems:function(rn){Xt&&Xt.setKeySystems(rn)},setMediaElement:Ii,setProtectionData:function(rn){en=rn,Xt.setProtectionData(rn)},setRobustnessLevel:function(rn){Rt=rn},setServerCertificate:function(rn){return fr(),Rn.setServerCertificate(rn)},setSessionType:function(rn){yn=rn},stop:function(){Ml(),Rn&&Rn.stop()},updateKeyStatusesMap:function(rn){try{if(!rn||!rn.sessionToken||!rn.parsedKeyStatuses)return;rn.sessionToken.hasTriggeredKeyStatusMapUpdate=!0;const xn=rn.parsedKeyStatuses,zn=A.default.parseUserAgent(),or=zn&&zn.browser&&zn.browser.name&&zn.browser.name.toLowerCase()==="edge";xn.forEach(ir=>{or&&gt.uuid===r.default.PLAYREADY_UUID&&ir.keyId&&ir.keyId.byteLength===16&&function(Nr){const ar=A.default.bufferSourceToDataView(Nr),mr=ar.getUint32(0,!0),pr=ar.getUint16(4,!0),Ar=ar.getUint16(6,!0);ar.setUint32(0,mr,!1),ar.setUint16(4,pr,!1),ar.setUint16(6,Ar,!1)}(ir.keyId);const Rr=A.default.bufferSourceToHex(ir.keyId).slice(0,32);Rr&&Rr!==""&&Jt.set(Rr,ir.status)}),mn.trigger(_n.KEY_STATUSES_MAP_UPDATED,{keyStatusMap:Jt})}catch(xn){qn.error(xn)}}},qn=fn.getLogger(Tn),ln=[],rr=[],yn="temporary",Rt="",Un=null,Wn=null,Jt=new Map,mn.on(_n.INTERNAL_KEY_MESSAGE,da,Tn),Tn}$.__dashjs_factory_name="ProtectionController";var K=B.default.getClassFactory($),ue=class{constructor(Gt,Ht){this.keyID=Gt,this.key=Ht}},me=class{constructor(Gt,Ht){if(Ht&&Ht!=="persistent"&&Ht!=="temporary")throw new Error("Invalid ClearKey key set type!  Must be one of 'persistent' or 'temporary'");this.keyPairs=Gt,this.type=Ht}toJWK(){let Gt,Ht=this.keyPairs.length,Mt={keys:[]};for(Gt=0;Gt<Ht;Gt++){let _n={kty:"oct",alg:"A128KW",kid:this.keyPairs[Gt].keyID,k:this.keyPairs[Gt].key};Mt.keys.push(_n)}this.type&&(Mt.type=this.type);let Lt=JSON.stringify(Mt);const on=Lt.length;let fn=new ArrayBuffer(on),mn=new Uint8Array(fn);for(Gt=0;Gt<on;Gt++)mn[Gt]=Lt.charCodeAt(Gt);return fn}};const Te=r.default.CLEARKEY_UUID,X=r.default.CLEARKEY_KEYSTEM_STRING,Q="urn:uuid:"+Te;function be(Gt){let Ht;const Mt=(Gt=Gt||{}).BASE64;return Ht={uuid:Te,schemeIdURI:Q,systemString:X,getInitData:function(Lt,on){try{let fn=d.parseInitDataFromContentProtection(Lt,Mt);if(!fn&&on){const mn={kids:[function(_n){try{let Xt=_n.replace(/-/g,"");return Xt=btoa(Xt.match(/\w{2}/g).map(Ft=>String.fromCharCode(parseInt(Ft,16))).join("")),Xt.replace(/=/g,"").replace(/\//g,"_").replace(/\+/g,"-")}catch{return null}}(on.cencDefaultKid)]};fn=new TextEncoder().encode(JSON.stringify(mn))}return fn}catch{return null}},getRequestHeadersFromMessage:function(){return{"Content-Type":"application/json"}},getLicenseRequestFromMessage:function(Lt){return JSON.stringify(JSON.parse(String.fromCharCode.apply(null,new Uint8Array(Lt))))},getLicenseServerURLFromInitData:function(){return null},getCDMData:function(){return null},getClearKeysFromProtectionData:function(Lt,on){let fn=null;if(Lt){const mn=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(on))),_n=[];for(let Xt=0;Xt<mn.kids.length;Xt++){const Ft=mn.kids[Xt],en=Lt.clearkeys&&Lt.clearkeys.hasOwnProperty(Ft)?Lt.clearkeys[Ft]:null;if(!en)throw new Error("DRM: ClearKey keyID ("+Ft+") is not known!");_n.push(new ue(Ft,en))}fn=new me(_n)}return fn}},Ht}be.__dashjs_factory_name="KeySystemClearKey";var F=B.default.getSingletonFactory(be);const ke=r.default.W3C_CLEARKEY_UUID,Qe=r.default.CLEARKEY_KEYSTEM_STRING,xe="urn:uuid:"+ke;function Ye(Gt){let Ht;const Mt=Gt.BASE64,Lt=Gt.debug.getLogger(Ht);return Ht={uuid:ke,schemeIdURI:xe,systemString:Qe,getInitData:function(on){return d.parseInitDataFromContentProtection(on,Mt)},getRequestHeadersFromMessage:function(){return null},getLicenseRequestFromMessage:function(on){return new Uint8Array(on)},getLicenseServerURLFromInitData:function(){return null},getCDMData:function(){return null},getClearKeysFromProtectionData:function(on,fn){let mn=null;if(on){const _n=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(fn))),Xt=[];for(let Ft=0;Ft<_n.kids.length;Ft++){const en=_n.kids[Ft],Tn=on.clearkeys&&on.clearkeys.hasOwnProperty(en)?on.clearkeys[en]:null;if(!Tn)throw new Error("DRM: ClearKey keyID ("+en+") is not known!");Xt.push(new ue(en,Tn))}mn=new me(Xt),Lt.warn("ClearKey schemeIdURI is using W3C Common PSSH systemID (1077efec-c0b2-4d02-ace3-3c1e52e2fb4b) in Content Protection. See DASH-IF IOP v4.1 section 7.6.2.4")}return mn}},Ht}Ye.__dashjs_factory_name="KeySystemW3CClearKey";var Ge=B.default.getSingletonFactory(Ye);const _e=r.default.WIDEVINE_UUID,$e=r.default.WIDEVINE_KEYSTEM_STRING,Je="urn:uuid:"+_e;function tt(Gt){let Ht;const Mt=(Gt=Gt||{}).BASE64;return Ht={uuid:_e,schemeIdURI:Je,systemString:$e,getInitData:function(Lt){return d.parseInitDataFromContentProtection(Lt,Mt)},getRequestHeadersFromMessage:function(){return null},getLicenseRequestFromMessage:function(Lt){return new Uint8Array(Lt)},getLicenseServerURLFromInitData:function(){return null},getCDMData:function(){return null}},Ht}tt.__dashjs_factory_name="KeySystemWidevine";var Pe=B.default.getSingletonFactory(tt);const qe=r.default.PLAYREADY_UUID,et=r.default.PLAYREADY_KEYSTEM_STRING,pt="urn:uuid:"+qe;function jt(Gt){let Ht,Mt="utf-16";const Lt=(Gt=Gt||{}).BASE64,on=Gt.settings;function fn(){if(!Lt||!Lt.hasOwnProperty("decodeArray")||!Lt.hasOwnProperty("decodeArray"))throw new Error("Missing config parameter(s)")}return Ht={uuid:qe,schemeIdURI:pt,systemString:et,getInitData:function(mn){const _n=new Uint8Array([112,115,115,104,0,0,0,0]),Xt=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);let Ft,en,Tn,Jt,wn,Wn=0,Un=null;if(fn(),!mn)return null;if("pssh"in mn&&mn.pssh)return d.parseInitDataFromContentProtection(mn,Lt);if("pro"in mn&&mn.pro)Un=Lt.decodeArray(mn.pro.__text);else{if(!("prheader"in mn)||!mn.prheader)return null;Un=Lt.decodeArray(mn.prheader.__text)}return Ft=Un.length,en=4+_n.length+Xt.length+4+Ft,Tn=new ArrayBuffer(en),Jt=new Uint8Array(Tn),wn=new DataView(Tn),wn.setUint32(Wn,en),Wn+=4,Jt.set(_n,Wn),Wn+=_n.length,Jt.set(Xt,Wn),Wn+=Xt.length,wn.setUint32(Wn,Ft),Wn+=4,Jt.set(Un,Wn),Wn+=Ft,Jt.buffer},getRequestHeadersFromMessage:function(mn){let _n,Xt;const Ft={},en=new DOMParser;if(on&&on.get().streaming.protection.detectPlayreadyMessageFormat&&Mt==="utf-16"&&mn&&mn.byteLength%2==1)return Ft["Content-Type"]="text/xml; charset=utf-8",Ft;const Tn=Mt==="utf-16"?new Uint16Array(mn):new Uint8Array(mn);_n=String.fromCharCode.apply(null,Tn),Xt=en.parseFromString(_n,"application/xml");const Jt=Xt.getElementsByTagName("name"),wn=Xt.getElementsByTagName("value");for(let Wn=0;Wn<Jt.length;Wn++)Ft[Jt[Wn].childNodes[0].nodeValue]=wn[Wn].childNodes[0].nodeValue;return Ft.hasOwnProperty("Content")&&(Ft["Content-Type"]=Ft.Content,delete Ft.Content),Ft.hasOwnProperty("Content-Type")||(Ft["Content-Type"]="text/xml; charset=utf-8"),Ft},getLicenseRequestFromMessage:function(mn){let _n=null;const Xt=new DOMParser;if(on&&on.get().streaming.protection.detectPlayreadyMessageFormat&&Mt==="utf-16"&&mn&&mn.byteLength%2==1)return mn;const Ft=Mt==="utf-16"?new Uint16Array(mn):new Uint8Array(mn);fn();const en=String.fromCharCode.apply(null,Ft),Tn=Xt.parseFromString(en,"application/xml");if(!Tn.getElementsByTagName("PlayReadyKeyMessage")[0])return mn;{const Jt=Tn.getElementsByTagName("Challenge")[0].childNodes[0].nodeValue;Jt&&(_n=Lt.decode(Jt))}return _n},getLicenseServerURLFromInitData:function(mn){if(mn){const _n=new DataView(mn),Xt=_n.getUint16(4,!0);let Ft=6;const en=new DOMParser;for(let Tn=0;Tn<Xt;Tn++){const Jt=_n.getUint16(Ft,!0);Ft+=2;const wn=_n.getUint16(Ft,!0);if(Ft+=2,Jt!==1){Ft+=wn;continue}const Wn=mn.slice(Ft,Ft+wn),Un=String.fromCharCode.apply(null,new Uint16Array(Wn)),qn=en.parseFromString(Un,"application/xml");if(qn.getElementsByTagName("LA_URL")[0]){const rr=qn.getElementsByTagName("LA_URL")[0].childNodes[0].nodeValue;if(rr)return rr}if(qn.getElementsByTagName("LUI_URL")[0]){const rr=qn.getElementsByTagName("LUI_URL")[0].childNodes[0].nodeValue;if(rr)return rr}}}return null},getCDMData:function(mn){let _n,Xt,Ft,en;if(fn(),!mn)return null;for(_n=[],en=0;en<mn.length;++en)_n.push(mn.charCodeAt(en)),_n.push(0);for(_n=String.fromCharCode.apply(null,_n),_n=Lt.encode(_n),Xt='<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">%CUSTOMDATA%</CustomData></LicenseAcquisition></PlayReadyCDMData>'.replace("%CUSTOMDATA%",_n),Ft=[],en=0;en<Xt.length;++en)Ft.push(Xt.charCodeAt(en)),Ft.push(0);return new Uint8Array(Ft).buffer},setPlayReadyMessageFormat:function(mn){if(mn!=="utf-8"&&mn!=="utf-16")throw new Error('Specified message format is not one of "utf-8" or "utf-16"');Mt=mn}},Ht}jt.__dashjs_factory_name="KeySystemPlayReady";var Fe=B.default.getSingletonFactory(jt);function Ne(Gt){const Ht=(Gt=Gt||{}).BASE64,Mt={};let Lt;return Mt[r.default.WIDEVINE_KEYSTEM_STRING]={responseType:"json",getLicenseMessage:function(on){return Ht.decodeArray(on.license)},getErrorResponse:function(on){return on}},Mt[r.default.PLAYREADY_KEYSTEM_STRING]={responseType:"arraybuffer",getLicenseMessage:function(on){return on},getErrorResponse:function(on){return String.fromCharCode.apply(null,new Uint8Array(on))}},Lt={getServerURLFromMessage:function(on){return on},getHTTPMethod:function(){return"POST"},getResponseType:function(on){return Mt[on].responseType},getLicenseMessage:function(on,fn){return function(){if(!Ht||!Ht.hasOwnProperty("decodeArray"))throw new Error("Missing config parameter(s)")}(),Mt[fn].getLicenseMessage(on)},getErrorResponse:function(on,fn){return Mt[fn].getErrorResponse(on)}},Lt}Ne.__dashjs_factory_name="DRMToday";var bt=B.default.getSingletonFactory(Ne);function Z(){let Gt;const Ht="http://schemas.xmlsoap.org/soap/envelope/";function Mt(fn){const mn=String.fromCharCode.apply(null,new Uint8Array(fn));return decodeURIComponent(escape(mn))}function Lt(fn){if(window.DOMParser){const mn=Mt(fn),_n=new window.DOMParser().parseFromString(mn,"text/xml"),Xt=_n?_n.getElementsByTagNameNS(Ht,"Envelope")[0]:null,Ft=Xt?Xt.getElementsByTagNameNS(Ht,"Body")[0]:null;if(Ft&&Ft.getElementsByTagNameNS(Ht,"Fault")[0])return null}return fn}function on(fn){let mn="",_n="",Xt="",Ft=-1,en=-1;if(window.DOMParser){const Jt=Mt(fn),wn=new window.DOMParser().parseFromString(Jt,"text/xml"),Wn=wn?wn.getElementsByTagNameNS(Ht,"Envelope")[0]:null,Un=Wn?Wn.getElementsByTagNameNS(Ht,"Body")[0]:null,qn=Un?Un.getElementsByTagNameNS(Ht,"Fault")[0]:null,rr=qn?qn.getElementsByTagName("detail")[0]:null,ln=rr?rr.getElementsByTagName("Exception")[0]:null;let Rt=null;if(qn===null)return Jt;Rt=qn.getElementsByTagName("faultstring")[0].firstChild,mn=Rt?Rt.nodeValue:null,ln!==null&&(Rt=ln.getElementsByTagName("StatusCode")[0],_n=Rt?Rt.firstChild.nodeValue:null,Rt=ln.getElementsByTagName("Message")[0],Xt=Rt?Rt.firstChild.nodeValue:null,Ft=Xt?Xt.lastIndexOf("[")+1:-1,en=Xt?Xt.indexOf("]"):-1,Xt=Xt?Xt.substring(Ft,en):"")}let Tn=`code: ${_n}, name: ${mn}`;return Xt&&(Tn+=`, message: ${Xt}`),Tn}return Gt={getServerURLFromMessage:function(fn){return fn},getHTTPMethod:function(){return"POST"},getResponseType:function(){return"arraybuffer"},getLicenseMessage:function(fn){return Lt.call(this,fn)},getErrorResponse:function(fn){return on.call(this,fn)}},Gt}Z.__dashjs_factory_name="PlayReady";var ne=B.default.getSingletonFactory(Z);function L(){let Gt;return Gt={getServerURLFromMessage:function(Ht){return Ht},getHTTPMethod:function(){return"POST"},getResponseType:function(){return"arraybuffer"},getLicenseMessage:function(Ht){return Ht},getErrorResponse:function(Ht){return String.fromCharCode.apply(null,new Uint8Array(Ht))}},Gt}L.__dashjs_factory_name="Widevine";var j=B.default.getSingletonFactory(L);function pe(){let Gt;return Gt={getServerURLFromMessage:function(Ht){return Ht},getHTTPMethod:function(){return"POST"},getResponseType:function(){return"json"},getLicenseMessage:function(Ht){if(!Ht.hasOwnProperty("keys"))return null;let Mt=[];for(let Lt=0;Lt<Ht.keys.length;Lt++){let on=Ht.keys[Lt],fn=on.kid.replace(/=/g,""),mn=on.k.replace(/=/g,"");Mt.push(new ue(fn,mn))}return new me(Mt)},getErrorResponse:function(Ht){return String.fromCharCode.apply(null,new Uint8Array(Ht))}},Gt}pe.__dashjs_factory_name="ClearKey";var ie=B.default.getSingletonFactory(pe),He=class{constructor(Gt){this.ks=Gt.ks,this.keyId=Gt.keyId,this.initData=Gt.initData,this.protData=Gt.protData,this.cdmData=Gt.cdmData,this.sessionId=Gt.sessionId,this.sessionType=Gt.sessionType}};function st(){let Gt,Ht,Mt,Lt,on,fn,mn,_n,Xt=this.context;function Ft(Jt,wn){return wn&&Jt in wn?wn[Jt]:null}function en(Jt,wn){return Jt&&Jt.sessionId?Jt.sessionId:wn&&wn.sessionId?wn.sessionId:null}function Tn(Jt,wn){return Jt&&Jt.sessionType?Jt.sessionType:wn}return Gt={getKeySystemBySystemString:function(Jt){for(let wn=0;wn<Lt.length;wn++)if(Lt[wn].systemString===Jt)return Lt[wn];return null},getKeySystems:function(){return Lt},getLicenseServerModelInstance:function(Jt,wn,Wn){if(Wn===r.default.MEDIA_KEY_MESSAGE_TYPES.LICENSE_RELEASE||Wn===r.default.MEDIA_KEY_MESSAGE_TYPES.INDIVIDUALIZATION_REQUEST)return null;let Un=null;return wn&&wn.hasOwnProperty("drmtoday")?Un=bt(Xt).getInstance({BASE64:on}):Jt.systemString===r.default.WIDEVINE_KEYSTEM_STRING?Un=j(Xt).getInstance():Jt.systemString===r.default.PLAYREADY_KEYSTEM_STRING?Un=ne(Xt).getInstance():Jt.systemString===r.default.CLEARKEY_KEYSTEM_STRING&&(Un=ie(Xt).getInstance()),Un},getSupportedKeySystemMetadataFromContentProtection:function(Jt,wn,Wn){let Un,qn,rr,ln,Rt=[];if(!Jt||!Jt.length)return Rt;const gt=d.findMp4ProtectionElement(Jt);for(rr=0;rr<Lt.length;rr++){qn=Lt[rr];const yn=Ft(qn.systemString,wn);for(ln=0;ln<Jt.length;ln++)if(Un=Jt[ln],Un.schemeIdUri.toLowerCase()===qn.schemeIdURI){let Rn=qn.getInitData(Un,gt);const Hn=new He({ks:Lt[rr],keyId:Un.keyId,initData:Rn,protData:yn,cdmData:qn.getCDMData(yn?yn.cdmData:null),sessionId:en(yn,Un),sessionType:Tn(yn,Wn)});yn?Rt.unshift(Hn):Rt.push(Hn)}}return Rt},getSupportedKeySystemMetadataFromSegmentPssh:function(Jt,wn,Wn){let Un,qn,rr=[],ln=d.parsePSSHList(Jt);for(let Rt=0;Rt<Lt.length;++Rt){Un=Lt[Rt],qn=Un.systemString;const gt=Ft(qn,wn);Un.uuid in ln&&rr.push({ks:Un,initData:ln[Un.uuid],protData:gt,cdmData:Un.getCDMData(gt?gt.cdmData:null),sessionId:en(gt),sessionType:Tn(gt,Wn)})}return rr},initDataEquals:function(Jt,wn){if(Jt.byteLength===wn.byteLength){let Wn=new Uint8Array(Jt),Un=new Uint8Array(wn);for(let qn=0;qn<Wn.length;qn++)if(Wn[qn]!==Un[qn])return!1;return!0}return!1},initialize:function(){let Jt;Lt=[],Jt=Fe(Xt).getInstance({BASE64:on,settings:fn}),Lt.push(Jt),Jt=Pe(Xt).getInstance({BASE64:on}),Lt.push(Jt),Jt=F(Xt).getInstance({BASE64:on}),Lt.push(Jt),mn=Jt,Jt=Ge(Xt).getInstance({BASE64:on,debug:Ht}),Lt.push(Jt),_n=Jt},isClearKey:function(Jt){return Jt===mn||Jt===_n},processClearKeyLicenseRequest:function(Jt,wn,Wn){try{return Jt.getClearKeysFromProtectionData(wn,Wn)}catch{return Mt.error("Failed to retrieve clearkeys from ProtectionData"),null}},setConfig:function(Jt){Jt&&(Jt.debug&&(Ht=Jt.debug,Mt=Ht.getLogger(Gt)),Jt.BASE64&&(on=Jt.BASE64),Jt.settings&&(fn=Jt.settings))},setKeySystems:function(Jt){Lt=Jt},setProtectionData:function(Jt){for(var wn,Wn,Un=0;Un<Lt.length;Un++){var qn=Lt[Un];qn.hasOwnProperty("init")&&qn.init((wn=qn.systemString,Wn=void 0,Wn=null,Jt&&(Wn=wn in Jt?Jt[wn]:null),Wn))}}},Gt}st.__dashjs_factory_name="ProtectionKeyController";var Xe=B.default.getSingletonFactory(st),Ze=t(445),We=class{constructor(Gt,Ht){this.initData=Gt,this.initDataType=Ht}},rt=class{constructor(Gt,Ht,Mt,Lt){this.sessionToken=Gt,this.message=Ht,this.defaultURL=Mt,this.messageType=Lt||r.default.MEDIA_KEY_MESSAGE_TYPES.LICENSE_REQUEST}},vt=class{constructor(Gt,Ht){this.keySystem=Gt,this.ksConfiguration=Ht,this.nativeMediaKeySystemAccessObject=null,this.selectedSystemString=null}};const yt={};function ht(Gt){Gt=Gt||{};const Ht=this.context,Mt=Gt.eventBus,Lt=Gt.events,on=Gt.debug;let fn,mn,_n,Xt,Ft,en,Tn,Jt;function wn(Rt,gt,yn,Rn){if(navigator.requestMediaKeySystemAccess===void 0||typeof navigator.requestMediaKeySystemAccess!="function"){const Sr="Insecure origins are not allowed";return Mt.trigger(Lt.KEY_SYSTEM_ACCESS_COMPLETE,{error:Sr}),void Rn({error:Sr})}const Hn=Rt[gt].protData&&Rt[gt].protData.systemStringPriority?Rt[gt].protData.systemStringPriority:null,fr=Rt[gt].configs,br=Rt[gt].ks;let ti=br.systemString;(function(Sr,Pr){return new Promise((De,Yr)=>{Wn(Sr,Pr,0,De,Yr)})})(Hn||(yt[ti]?yt[ti]:[ti]),fr).then(Sr=>{const Pr=Sr&&Sr.nativeMediaKeySystemAccessObject&&typeof Sr.nativeMediaKeySystemAccessObject.getConfiguration=="function"?Sr.nativeMediaKeySystemAccessObject.getConfiguration():null,De=new vt(br,Pr);De.selectedSystemString=Sr.selectedSystemString,De.nativeMediaKeySystemAccessObject=Sr.nativeMediaKeySystemAccessObject,Mt.trigger(Lt.KEY_SYSTEM_ACCESS_COMPLETE,{data:De}),yn({data:De})}).catch(Sr=>{if(gt+1<Rt.length)wn(Rt,gt+1,yn,Rn);else{const Pr="Key system access denied! ";Mt.trigger(Lt.KEY_SYSTEM_ACCESS_COMPLETE,{error:Pr+Sr.message}),Rn({error:Pr+Sr.message})}})}function Wn(Rt,gt,yn,Rn,Hn){const fr=Rt[yn];mn.debug(`Requesting key system access for system string ${fr}`),navigator.requestMediaKeySystemAccess(fr,gt).then(br=>{Rn({nativeMediaKeySystemAccessObject:br,selectedSystemString:fr})}).catch(br=>{yn+1<Rt.length?Wn(Rt,gt,yn+1,Rn,Hn):Hn(br)})}function Un(Rt){if(!Rt||!Rt.session)return Promise.resolve;const gt=Rt.session;return gt.removeEventListener("keystatuseschange",Rt),gt.removeEventListener("message",Rt),gt.close()}function qn(Rt){for(let gt=0;gt<en.length;gt++)if(en[gt]===Rt){en.splice(gt,1);break}}function rr(Rt,gt){const yn={session:Rt,keyId:gt.keyId,normalizedKeyId:gt&&gt.keyId&&typeof gt.keyId=="string"?gt.keyId.replace(/-/g,"").toLowerCase():"",initData:gt.initData,sessionId:gt.sessionId,sessionType:gt.sessionType,hasTriggeredKeyStatusMapUpdate:!1,handleEvent:function(Rn){switch(Rn.type){case"keystatuseschange":this._onKeyStatusesChange(Rn);break;case"message":this._onKeyMessage(Rn)}},_onKeyStatusesChange:function(Rn){Mt.trigger(Lt.KEY_STATUSES_CHANGED,{data:this});const Hn=[];Rn.target.keyStatuses.forEach(function(){Hn.push(ln(arguments))}),Mt.trigger(Lt.INTERNAL_KEY_STATUSES_CHANGED,{parsedKeyStatuses:Hn,sessionToken:yn})},_onKeyMessage:function(Rn){let Hn=ArrayBuffer.isView(Rn.message)?Rn.message.buffer:Rn.message;Mt.trigger(Lt.INTERNAL_KEY_MESSAGE,{data:new rt(this,Hn,void 0,Rn.messageType)})},getKeyId:function(){return this.keyId},getSessionId:function(){return Rt.sessionId},getSessionType:function(){return this.sessionType},getExpirationTime:function(){return Rt.expiration},getKeyStatuses:function(){return Rt.keyStatuses},getUsable:function(){let Rn=!1;return Rt.keyStatuses.forEach(function(){ln(arguments).status===r.default.MEDIA_KEY_STATUSES.USABLE&&(Rn=!0)}),Rn}};return Rt.addEventListener("keystatuseschange",yn),Rt.addEventListener("message",yn),Rt.closed.then(()=>{qn(yn),mn.debug("DRM: Session closed.  SessionID = "+yn.getSessionId()),Mt.trigger(Lt.KEY_SESSION_CLOSED,{data:yn.getSessionId()})}),en.push(yn),yn}function ln(Rt){let gt,yn;return Rt&&Rt.length>0&&(Rt[0]&&(typeof Rt[0]=="string"?gt=Rt[0]:yn=Rt[0]),Rt[1]&&(typeof Rt[1]=="string"?gt=Rt[1]:yn=Rt[1])),{status:gt,keyId:yn}}return fn={closeKeySession:function(Rt){Un(Rt).catch(function(gt){qn(Rt),Mt.trigger(Lt.KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+Rt.getSessionId()+") "+gt.name})})},createKeySession:function(Rt){if(!_n||!Ft)throw new Error("Can not create sessions until you have selected a key system");const gt=Ft.createSession(Rt.sessionType),yn=rr(gt,Rt),Rn=_n.systemString===r.default.CLEARKEY_KEYSTEM_STRING&&(Rt.initData||Rt.protData&&Rt.protData.clearkeys)?r.default.INITIALIZATION_DATA_TYPE_KEYIDS:r.default.INITIALIZATION_DATA_TYPE_CENC;gt.generateRequest(Rn,Rt.initData).then(function(){mn.debug("DRM: Session created.  SessionID = "+yn.getSessionId()),Mt.trigger(Lt.KEY_SESSION_CREATED,{data:yn})}).catch(function(Hn){qn(yn),Mt.trigger(Lt.KEY_SESSION_CREATED,{data:null,error:new m.default(y.default.KEY_SESSION_CREATED_ERROR_CODE,y.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Error generating key request -- "+Hn.name)})})},getAllInitData:function(){const Rt=[];for(let gt=0;gt<en.length;gt++)en[gt].initData&&Rt.push(en[gt].initData);return Rt},getSessionTokens:function(){return en},loadKeySession:function(Rt){if(!_n||!Ft)throw new Error("Can not load sessions until you have selected a key system");const gt=Rt.sessionId;for(let Hn=0;Hn<en.length;Hn++)if(gt===en[Hn].sessionId)return void mn.warn("DRM: Ignoring session ID because we have already seen it!");const yn=Ft.createSession(Rt.sessionType),Rn=rr(yn,Rt);Rn.hasTriggeredKeyStatusMapUpdate=!0,yn.load(gt).then(function(Hn){Hn?(mn.debug("DRM: Session loaded.  SessionID = "+Rn.getSessionId()),Mt.trigger(Lt.KEY_SESSION_CREATED,{data:Rn})):(qn(Rn),Mt.trigger(Lt.KEY_SESSION_CREATED,{data:null,error:new m.default(y.default.KEY_SESSION_CREATED_ERROR_CODE,y.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Could not load session! Invalid Session ID ("+gt+")")}))}).catch(function(Hn){qn(Rn),Mt.trigger(Lt.KEY_SESSION_CREATED,{data:null,error:new m.default(y.default.KEY_SESSION_CREATED_ERROR_CODE,y.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Could not load session ("+gt+")! "+Hn.name)})})},removeKeySession:function(Rt){Rt.session.remove().then(function(){mn.debug("DRM: Session removed.  SessionID = "+Rt.getSessionId()),Mt.trigger(Lt.KEY_SESSION_REMOVED,{data:Rt.getSessionId()})},function(gt){Mt.trigger(Lt.KEY_SESSION_REMOVED,{data:null,error:"Error removing session ("+Rt.getSessionId()+"). "+gt.name})})},requestKeySystemAccess:function(Rt){return new Promise((gt,yn)=>{wn(Rt,0,gt,yn)})},reset:function(){const Rt=en.length;let gt;if(Rt!==0){const yn=function(Rn){qn(Rn),en.length===0&&(Xt?(Xt.removeEventListener("encrypted",Tn),Xt.setMediaKeys(null).then(function(){Mt.trigger(Lt.TEARDOWN_COMPLETE)})):Mt.trigger(Lt.TEARDOWN_COMPLETE))};for(let Rn=0;Rn<Rt;Rn++)gt=en[Rn],function(Hn){Un(gt),yn(Hn)}(gt)}else Mt.trigger(Lt.TEARDOWN_COMPLETE)},selectKeySystem:function(Rt){return new Promise((gt,yn)=>{Rt.nativeMediaKeySystemAccessObject.createMediaKeys().then(Rn=>(_n=Rt.keySystem,Ft=Rn,Xt?Xt.setMediaKeys(Ft):Promise.resolve())).then(()=>{gt(_n)}).catch(function(){yn({error:"Error selecting keys system ("+Rt.keySystem.systemString+")! Could not create MediaKeys -- TODO"})})})},setMediaElement:function(Rt){Xt!==Rt&&(Xt&&(Xt.removeEventListener("encrypted",Tn),Xt.setMediaKeys&&Xt.setMediaKeys(null)),Xt=Rt,Xt&&(Xt.addEventListener("encrypted",Tn),Xt.setMediaKeys&&Ft&&Xt.setMediaKeys(Ft)))},setServerCertificate:function(Rt){return new Promise(gt=>{Ft.setServerCertificate(Rt).then(function(){mn.info("DRM: License server certificate successfully updated."),Mt.trigger(Lt.SERVER_CERTIFICATE_UPDATED),gt()}).catch(yn=>{Mt.trigger(Lt.SERVER_CERTIFICATE_UPDATED,{error:new m.default(y.default.SERVER_CERTIFICATE_UPDATED_ERROR_CODE,y.default.SERVER_CERTIFICATE_UPDATED_ERROR_MESSAGE+yn.name)}),gt()})})},stop:function(){let Rt;for(let gt=0;gt<en.length;gt++)Rt=en[gt],Rt.getUsable()||(Un(Rt),qn(Rt))},updateKeySession:function(Rt,gt){const yn=Rt.session;Jt.isClearKey(_n)&&(gt=gt.toJWK()),yn.update(gt).then(()=>{Mt.trigger(Lt.KEY_SESSION_UPDATED)}).catch(function(Rn){Mt.trigger(Lt.KEY_ERROR,{error:new m.default(y.default.MEDIA_KEYERR_CODE,"Error sending update() message! "+Rn.name,Rt)})})}},mn=on.getLogger(fn),_n=null,Xt=null,Ft=null,en=[],Jt=Xe(Ht).getInstance(),Tn={handleEvent:function(Rt){if(Rt.type==="encrypted"&&Rt.initData){let gt=ArrayBuffer.isView(Rt.initData)?Rt.initData.buffer:Rt.initData;Mt.trigger(Lt.NEED_KEY,{key:new We(gt,Rt.initDataType)})}}},fn}yt[r.default.PLAYREADY_KEYSTEM_STRING]=[r.default.PLAYREADY_KEYSTEM_STRING,r.default.PLAYREADY_RECOMMENDATION_KEYSTEM_STRING],yt[r.default.WIDEVINE_KEYSTEM_STRING]=[r.default.WIDEVINE_KEYSTEM_STRING],yt[r.default.CLEARKEY_KEYSTEM_STRING]=[r.default.CLEARKEY_KEYSTEM_STRING],ht.__dashjs_factory_name="DefaultProtectionModel";var Sn=B.default.getClassFactory(ht);function tn(Gt){Gt=Gt||{};const Ht=this.context,Mt=Gt.eventBus,Lt=Gt.events,on=Gt.debug,fn=Gt.api;let mn,_n,Xt,Ft,en,Tn,Jt,wn,Wn;function Un(){try{for(let ln=0;ln<Jt.length;ln++)qn(Jt[ln]);Xt&&Xt.removeEventListener(fn.needkey,wn),Mt.trigger(Lt.TEARDOWN_COMPLETE)}catch(ln){Mt.trigger(Lt.TEARDOWN_COMPLETE,{error:"Error tearing down key sessions and MediaKeys! -- "+ln.message})}}function qn(ln){const Rt=ln.session;Rt.removeEventListener(fn.error,ln),Rt.removeEventListener(fn.message,ln),Rt.removeEventListener(fn.ready,ln),Rt.removeEventListener(fn.close,ln);for(let gt=0;gt<Jt.length;gt++)if(Jt[gt]===ln){Jt.splice(gt,1);break}Rt[fn.release]()}function rr(){let ln=null;const Rt=function(){Xt.removeEventListener("loadedmetadata",ln),Xt[fn.setMediaKeys](en),Mt.trigger(Lt.VIDEO_ELEMENT_SELECTED)};Xt.readyState>=1?Rt():(ln=Rt.bind(this),Xt.addEventListener("loadedmetadata",ln))}return mn={getAllInitData:function(){const ln=[];for(let Rt=0;Rt<Jt.length;Rt++)ln.push(Jt[Rt].initData);return ln},getSessionTokens:function(){return Jt},requestKeySystemAccess:function(ln){return new Promise((Rt,gt)=>{let yn=!1;for(let Rn=0;Rn<ln.length;Rn++){const Hn=ln[Rn].ks.systemString,fr=ln[Rn].configs;let br=null,ti=null;for(let Sr=0;Sr<fr.length;Sr++){const Pr=fr[Sr].audioCapabilities,De=fr[Sr].videoCapabilities;if(Pr&&Pr.length!==0){br=[];for(let Ii=0;Ii<Pr.length;Ii++)window[fn.MediaKeys].isTypeSupported(Hn,Pr[Ii].contentType)&&br.push(Pr[Ii])}if(De&&De.length!==0){ti=[];for(let Ii=0;Ii<De.length;Ii++)window[fn.MediaKeys].isTypeSupported(Hn,De[Ii].contentType)&&ti.push(De[Ii])}if(!br&&!ti||br&&br.length===0||ti&&ti.length===0)continue;yn=!0;const Yr=new f(br,ti),Lr=Wn.getKeySystemBySystemString(Hn),Wa=new vt(Lr,Yr);Mt.trigger(Lt.KEY_SYSTEM_ACCESS_COMPLETE,{data:Wa}),Rt({data:Wa});break}}if(!yn){const Rn="Key system access denied! -- No valid audio/video content configurations detected!";Mt.trigger(Lt.KEY_SYSTEM_ACCESS_COMPLETE,{error:Rn}),gt({error:Rn})}})},selectKeySystem:function(ln){return new Promise((Rt,gt)=>{try{en=ln.mediaKeys=new window[fn.MediaKeys](ln.keySystem.systemString),Ft=ln.keySystem,Tn=ln,Xt&&rr(),Rt(Ft)}catch{gt({error:"Error selecting keys system ("+Ft.systemString+")! Could not create MediaKeys -- TODO"})}})},setMediaElement:function(ln){Xt!==ln&&(Xt&&Xt.removeEventListener(fn.needkey,wn),Xt=ln,Xt&&(Xt.addEventListener(fn.needkey,wn),en&&rr()))},createKeySession:function(ln){if(!Ft||!en||!Tn)throw new Error("Can not create sessions until you have selected a key system");let Rt=null;if(Tn.ksConfiguration.videoCapabilities&&Tn.ksConfiguration.videoCapabilities.length>0&&(Rt=Tn.ksConfiguration.videoCapabilities[0]),Rt===null&&Tn.ksConfiguration.audioCapabilities&&Tn.ksConfiguration.audioCapabilities.length>0&&(Rt=Tn.ksConfiguration.audioCapabilities[0]),Rt===null)throw new Error("Can not create sessions for unknown content types.");const gt=Rt.contentType,yn=en.createSession(gt,new Uint8Array(ln.initData),ln.cdmData?new Uint8Array(ln.cdmData):null),Rn=function(Hn,fr){return{session:Hn,keyId:fr.keyId,normalizedKeyId:fr&&fr.keyId&&typeof fr.keyId=="string"?fr.keyId.replace(/-/g,"").toLowerCase():"",initData:fr.initData,hasTriggeredKeyStatusMapUpdate:!1,getKeyId:function(){return this.keyId},getSessionId:function(){return this.session.sessionId},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"},getKeyStatuses:function(){return{size:0,has:()=>!1,get:()=>{}}},handleEvent:function(br){switch(br.type){case fn.error:let ti="KeyError";Mt.trigger(Lt.KEY_ERROR,{error:new m.default(y.default.MEDIA_KEYERR_CODE,ti,this)});break;case fn.message:let Sr=ArrayBuffer.isView(br.message)?br.message.buffer:br.message;Mt.trigger(Lt.INTERNAL_KEY_MESSAGE,{data:new rt(this,Sr,br.destinationURL)});break;case fn.ready:_n.debug("DRM: Key added."),Mt.trigger(Lt.KEY_ADDED);break;case fn.close:_n.debug("DRM: Session closed.  SessionID = "+this.getSessionId()),Mt.trigger(Lt.KEY_SESSION_CLOSED,{data:this.getSessionId()})}}}}(yn,ln);yn.addEventListener(fn.error,Rn),yn.addEventListener(fn.message,Rn),yn.addEventListener(fn.ready,Rn),yn.addEventListener(fn.close,Rn),Jt.push(Rn),_n.debug("DRM: Session created.  SessionID = "+Rn.getSessionId()),Mt.trigger(Lt.KEY_SESSION_CREATED,{data:Rn})},updateKeySession:function(ln,Rt){const gt=ln.session;Wn.isClearKey(Ft)?gt.update(new Uint8Array(Rt.toJWK())):gt.update(new Uint8Array(Rt)),Mt.trigger(Lt.KEY_SESSION_UPDATED)},closeKeySession:qn,setServerCertificate:function(){return Promise.resolve()},loadKeySession:function(){},removeKeySession:function(){},stop:Un,reset:Un},_n=on.getLogger(mn),Xt=null,Ft=null,en=null,Tn=null,Jt=[],Wn=Xe(Ht).getInstance(),wn={handleEvent:function(ln){if(ln.type===fn.needkey&&ln.initData){const Rt=ArrayBuffer.isView(ln.initData)?ln.initData.buffer:ln.initData;Mt.trigger(Lt.NEED_KEY,{key:new We(Rt,r.default.INITIALIZATION_DATA_TYPE_CENC)})}}},mn}tn.__dashjs_factory_name="ProtectionModel_3Feb2014";var ft=B.default.getClassFactory(tn);function dt(Gt){Gt=Gt||{};const Ht=this.context,Mt=Gt.eventBus,Lt=Gt.events,on=Gt.debug,fn=Gt.api,mn=Gt.errHandler;let _n,Xt,Ft,en,Tn,Jt,wn,Wn,Un;function qn(){Ft&&Rt();for(let gt=0;gt<wn.length;gt++)rr(wn[gt]);Mt.trigger(Lt.TEARDOWN_COMPLETE)}function rr(gt){try{Ft[fn.cancelKeyRequest](en.systemString,gt.sessionId)}catch(yn){Mt.trigger(Lt.KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+gt.sessionId+") "+yn.message})}}function ln(gt,yn){if(yn&&gt){const Rn=gt.length;for(let Hn=0;Hn<Rn;Hn++)if(gt[Hn].sessionId==yn)return gt[Hn];return null}return null}function Rt(){Ft.removeEventListener(fn.keyerror,Un),Ft.removeEventListener(fn.needkey,Un),Ft.removeEventListener(fn.keymessage,Un),Ft.removeEventListener(fn.keyadded,Un)}return _n={getAllInitData:function(){const gt=[];for(let yn=0;yn<Jt.length;yn++)gt.push(Jt[yn].initData);for(let yn=0;yn<wn.length;yn++)gt.push(wn[yn].initData);return gt},getSessionTokens:function(){return wn.concat(Jt)},requestKeySystemAccess:function(gt){return new Promise((yn,Rn)=>{let Hn=Ft;Hn||(Hn=document.createElement("video"));let fr=!1;for(let br=0;br<gt.length;br++){const ti=gt[br].ks.systemString,Sr=gt[br].configs;let Pr=null,De=null;for(let Yr=0;Yr<Sr.length;Yr++){const Lr=Sr[Yr].videoCapabilities;if(Lr&&Lr.length!==0){De=[];for(let si=0;si<Lr.length;si++)Hn.canPlayType(Lr[si].contentType,ti)!==""&&De.push(Lr[si])}if(!De||Pr||De&&De.length===0)continue;fr=!0;const Wa=new f(Pr,De),Ii=Tn.getKeySystemBySystemString(ti),da=new vt(Ii,Wa);Mt.trigger(Lt.KEY_SYSTEM_ACCESS_COMPLETE,{data:da}),yn({data:da});break}}if(!fr){const br="Key system access denied! -- No valid audio/video content configurations detected!";Mt.trigger(Lt.KEY_SYSTEM_ACCESS_COMPLETE,{error:br}),Rn({error:br})}})},selectKeySystem:function(gt){return en=gt.keySystem,Promise.resolve(en)},setMediaElement:function(gt){if(Ft!==gt){if(Ft){Rt();for(var yn=0;yn<wn.length;yn++)rr(wn[yn]);wn=[]}Ft=gt,Ft&&(Ft.addEventListener(fn.keyerror,Un),Ft.addEventListener(fn.needkey,Un),Ft.addEventListener(fn.keymessage,Un),Ft.addEventListener(fn.keyadded,Un),Mt.trigger(Lt.VIDEO_ELEMENT_SELECTED))}},createKeySession:function(gt){if(!en)throw new Error("Can not create sessions until you have selected a key system");if(Wn||wn.length===0){const yn={sessionId:null,keyId:gt.keyId,normalizedKeyId:gt&&gt.keyId&&typeof gt.keyId=="string"?gt.keyId.replace(/-/g,"").toLowerCase():"",initData:gt.initData,hasTriggeredKeyStatusMapUpdate:!1,getKeyId:function(){return this.keyId},getSessionId:function(){return this.sessionId},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"},getKeyStatuses:function(){return{size:0,has:()=>!1,get:()=>{}}}};return Jt.push(yn),Ft[fn.generateKeyRequest](en.systemString,new Uint8Array(gt.initData)),yn}throw new Error("Multiple sessions not allowed!")},updateKeySession:function(gt,yn){const Rn=gt.sessionId;if(Tn.isClearKey(en))for(let Hn=0;Hn<yn.keyPairs.length;Hn++)Ft[fn.addKey](en.systemString,yn.keyPairs[Hn].key,yn.keyPairs[Hn].keyID,Rn);else Ft[fn.addKey](en.systemString,new Uint8Array(yn),new Uint8Array(gt.initData),Rn);Mt.trigger(Lt.KEY_SESSION_UPDATED)},closeKeySession:rr,setServerCertificate:function(){return Promise.resolve()},loadKeySession:function(){},removeKeySession:function(){},stop:qn,reset:qn},Xt=on.getLogger(_n),Ft=null,en=null,Jt=[],wn=[],Tn=Xe(Ht).getInstance(),Un={handleEvent:function(gt){let yn=null;switch(gt.type){case fn.needkey:let Rn=ArrayBuffer.isView(gt.initData)?gt.initData.buffer:gt.initData;Mt.trigger(Lt.NEED_KEY,{key:new We(Rn,r.default.INITIALIZATION_DATA_TYPE_CENC)});break;case fn.keyerror:if(yn=ln(wn,gt.sessionId),yn||(yn=ln(Jt,gt.sessionId)),yn){let Hn=y.default.MEDIA_KEYERR_CODE,fr="";switch(gt.errorCode.code){case 1:Hn=y.default.MEDIA_KEYERR_UNKNOWN_CODE,fr+="MEDIA_KEYERR_UNKNOWN - "+y.default.MEDIA_KEYERR_UNKNOWN_MESSAGE;break;case 2:Hn=y.default.MEDIA_KEYERR_CLIENT_CODE,fr+="MEDIA_KEYERR_CLIENT - "+y.default.MEDIA_KEYERR_CLIENT_MESSAGE;break;case 3:Hn=y.default.MEDIA_KEYERR_SERVICE_CODE,fr+="MEDIA_KEYERR_SERVICE - "+y.default.MEDIA_KEYERR_SERVICE_MESSAGE;break;case 4:Hn=y.default.MEDIA_KEYERR_OUTPUT_CODE,fr+="MEDIA_KEYERR_OUTPUT - "+y.default.MEDIA_KEYERR_OUTPUT_MESSAGE;break;case 5:Hn=y.default.MEDIA_KEYERR_HARDWARECHANGE_CODE,fr+="MEDIA_KEYERR_HARDWARECHANGE - "+y.default.MEDIA_KEYERR_HARDWARECHANGE_MESSAGE;break;case 6:Hn=y.default.MEDIA_KEYERR_DOMAIN_CODE,fr+="MEDIA_KEYERR_DOMAIN - "+y.default.MEDIA_KEYERR_DOMAIN_MESSAGE}fr+="  System Code = "+gt.systemCode,Mt.trigger(Lt.KEY_ERROR,{error:new m.default(Hn,fr,yn)})}else Xt.error("No session token found for key error");break;case fn.keyadded:yn=ln(wn,gt.sessionId),yn||(yn=ln(Jt,gt.sessionId)),yn?(Xt.debug("DRM: Key added."),Mt.trigger(Lt.KEY_ADDED,{data:yn})):Xt.debug("No session token found for key added");break;case fn.keymessage:if(Wn=gt.sessionId!==null&&gt.sessionId!==void 0,Wn?(yn=ln(wn,gt.sessionId),!yn&&Jt.length>0&&(yn=Jt.shift(),wn.push(yn),yn.sessionId=gt.sessionId,Mt.trigger(Lt.KEY_SESSION_CREATED,{data:yn}))):Jt.length>0&&(yn=Jt.shift(),wn.push(yn),Jt.length!==0&&mn.error(new m.default(y.default.MEDIA_KEY_MESSAGE_ERROR_CODE,y.default.MEDIA_KEY_MESSAGE_ERROR_MESSAGE))),yn){let Hn=ArrayBuffer.isView(gt.message)?gt.message.buffer:gt.message;yn.keyMessage=Hn,Mt.trigger(Lt.INTERNAL_KEY_MESSAGE,{data:new rt(yn,Hn,gt.defaultURL)})}else Xt.warn("No session token found for key message")}}},_n}dt.__dashjs_factory_name="ProtectionModel_01b";var nn=B.default.getClassFactory(dt);const Cn=[{generateKeyRequest:"generateKeyRequest",addKey:"addKey",cancelKeyRequest:"cancelKeyRequest",needkey:"needkey",keyerror:"keyerror",keyadded:"keyadded",keymessage:"keymessage"},{generateKeyRequest:"webkitGenerateKeyRequest",addKey:"webkitAddKey",cancelKeyRequest:"webkitCancelKeyRequest",needkey:"webkitneedkey",keyerror:"webkitkeyerror",keyadded:"webkitkeyadded",keymessage:"webkitkeymessage"}],Pn=[{setMediaKeys:"setMediaKeys",MediaKeys:"MediaKeys",release:"close",needkey:"needkey",error:"keyerror",message:"keymessage",ready:"keyadded",close:"keyclose"},{setMediaKeys:"msSetMediaKeys",MediaKeys:"MSMediaKeys",release:"close",needkey:"msneedkey",error:"mskeyerror",message:"mskeymessage",ready:"mskeyadded",close:"mskeyclose"}];function Dn(){let Gt;const Ht=this.context;function Mt(Lt,on){for(let fn=0;fn<on.length;fn++){const mn=on[fn];if(typeof Lt[mn[Object.keys(mn)[0]]]=="function")return mn}return null}return Gt={createProtectionSystem:function(Lt){let on=null;const fn=Xe(Ht).getInstance();fn.setConfig({debug:Lt.debug,BASE64:Lt.BASE64,settings:Lt.settings}),fn.initialize();let mn=function(_n){const Xt=_n.debug,Ft=Xt.getLogger(Gt),en=_n.eventBus,Tn=_n.errHandler,Jt=_n.videoModel?_n.videoModel.getElement():null;return Jt&&Jt.onencrypted===void 0||Jt&&Jt.mediaKeys===void 0?Mt(Jt,Pn)?(Ft.info("EME detected on this user agent! (ProtectionModel_3Feb2014)"),ft(Ht).create({debug:Xt,eventBus:en,events:_n.events,api:Mt(Jt,Pn)})):Mt(Jt,Cn)?(Ft.info("EME detected on this user agent! (ProtectionModel_01b)"),nn(Ht).create({debug:Xt,eventBus:en,errHandler:Tn,events:_n.events,api:Mt(Jt,Cn)})):(Ft.warn("No supported version of EME detected on this user agent! - Attempts to play encrypted content will fail!"),null):(Ft.info("EME detected on this user agent! (DefaultProtectionModel"),Sn(Ht).create({debug:Xt,eventBus:en,events:_n.events}))}(Lt);return mn&&(on=K(Ht).create({BASE64:Lt.BASE64,cmcdModel:Lt.cmcdModel,constants:Lt.constants,customParametersModel:Lt.customParametersModel,debug:Lt.debug,eventBus:Lt.eventBus,events:Lt.events,protectionKeyController:fn,protectionModel:mn,settings:Lt.settings}),Lt.capabilities.setEncryptedMediaSupported(!0)),on}},Gt}Dn.__dashjs_factory_name="Protection";const Kn=B.default.getClassFactory(Dn);Kn.events=Ze.default,Kn.errors=y.default,B.default.updateClassFactory(Dn.__dashjs_factory_name,Kn);var cr=Kn},445:function(i,e,t){t.r(e);var n=t(7252);class r extends n.default{constructor(){super(),this.INTERNAL_KEY_MESSAGE="internalKeyMessage",this.INTERNAL_KEY_STATUSES_CHANGED="internalkeyStatusesChanged",this.KEY_ADDED="public_keyAdded",this.KEY_ERROR="public_keyError",this.KEY_MESSAGE="public_keyMessage",this.KEY_SESSION_CLOSED="public_keySessionClosed",this.KEY_SESSION_CREATED="public_keySessionCreated",this.KEY_SESSION_REMOVED="public_keySessionRemoved",this.KEY_STATUSES_CHANGED="public_keyStatusesChanged",this.KEY_STATUSES_MAP_UPDATED="keyStatusesMapUpdated",this.KEY_SYSTEM_ACCESS_COMPLETE="public_keySystemAccessComplete",this.KEY_SYSTEM_SELECTED="public_keySystemSelected",this.LICENSE_REQUEST_COMPLETE="public_licenseRequestComplete",this.LICENSE_REQUEST_SENDING="public_licenseRequestSending",this.NEED_KEY="needkey",this.PROTECTION_CREATED="public_protectioncreated",this.PROTECTION_DESTROYED="public_protectiondestroyed",this.SERVER_CERTIFICATE_UPDATED="serverCertificateUpdated",this.TEARDOWN_COMPLETE="protectionTeardownComplete",this.VIDEO_ELEMENT_SELECTED="videoElementSelected",this.KEY_SESSION_UPDATED="public_keySessionUpdated"}}let o=new r;e.default=o},1923:function(i,e,t){t.r(e);var n=t(8748);class r extends n.default{constructor(){super(),this.MEDIA_KEYERR_CODE=100,this.MEDIA_KEYERR_UNKNOWN_CODE=101,this.MEDIA_KEYERR_CLIENT_CODE=102,this.MEDIA_KEYERR_SERVICE_CODE=103,this.MEDIA_KEYERR_OUTPUT_CODE=104,this.MEDIA_KEYERR_HARDWARECHANGE_CODE=105,this.MEDIA_KEYERR_DOMAIN_CODE=106,this.MEDIA_KEY_MESSAGE_ERROR_CODE=107,this.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE=108,this.SERVER_CERTIFICATE_UPDATED_ERROR_CODE=109,this.KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE=110,this.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE=111,this.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE=112,this.KEY_SESSION_CREATED_ERROR_CODE=113,this.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE=114,this.MEDIA_KEYERR_UNKNOWN_MESSAGE="An unspecified error occurred. This value is used for errors that don't match any of the other codes.",this.MEDIA_KEYERR_CLIENT_MESSAGE="The Key System could not be installed or updated.",this.MEDIA_KEYERR_SERVICE_MESSAGE="The message passed into update indicated an error from the license service.",this.MEDIA_KEYERR_OUTPUT_MESSAGE="There is no available output device with the required characteristics for the content protection system.",this.MEDIA_KEYERR_HARDWARECHANGE_MESSAGE="A hardware configuration change caused a content protection error.",this.MEDIA_KEYERR_DOMAIN_MESSAGE="An error occurred in a multi-device domain licensing configuration. The most common error is a failure to join the domain.",this.MEDIA_KEY_MESSAGE_ERROR_MESSAGE="Multiple key sessions were creates with a user-agent that does not support sessionIDs!! Unpredictable behavior ahead!",this.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_MESSAGE="DRM: Empty key message from CDM",this.SERVER_CERTIFICATE_UPDATED_ERROR_MESSAGE="Error updating server certificate -- ",this.KEY_STATUS_CHANGED_EXPIRED_ERROR_MESSAGE="DRM: KeyStatusChange error! -- License has expired",this.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_MESSAGE="DRM: No license server URL specified!",this.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE="DRM: KeySystem Access Denied! -- ",this.KEY_SESSION_CREATED_ERROR_MESSAGE="DRM: unable to create session! --",this.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE="DRM: licenser error! --"}}let o=new r;e.default=o},4246:function(i,e,t){t.r(e);var n=t(138);const r={DEFAULT:.5,STRONG:1,WEAK:0};function o(d,h,f,y){let m,p,T,v,A;return p=d===void 0?null:d,T=function(k){let B=r.DEFAULT;return k!==r.DEFAULT&&k!==r.STRONG&&k!==r.WEAK||(B=k),B}(f),v=h===void 0?null:h,A=y===void 0?null:y,m={representation:p,reason:v,rule:A,priority:T},m}o.__dashjs_factory_name="SwitchRequest";const u=n.default.getClassFactory(o);u.NO_CHANGE=null,u.PRIORITY=r,n.default.updateClassFactory(o.__dashjs_factory_name,u),e.default=u},559:function(i,e,t){t.r(e),t.d(e,{supportsMediaSource:function(){return h}});var n=t(138),r=t(5212),o=t(2861),u=t(7393),d=t(649);function h(){let y="ManagedMediaSource"in window,m="WebKitMediaSource"in window,p="MediaSource"in window;return y||m||p}function f(){let y,m,p,T,v,A;const k=this.context,B=(0,u.default)(k).getInstance();function $(Te,X){let Q;X===r.default.VIDEO?Q=function(F){const ke={video:{}};return F&&(F.width&&(ke.video.width=F.width),F.height&&(ke.video.height=F.height),F.framerate&&(ke.video.framerate=parseFloat(F.framerate)),F.hdrMetadataType&&(ke.video.hdrMetadataType=F.hdrMetadataType),F.colorGamut&&(ke.video.colorGamut=F.colorGamut),F.transferFunction&&(ke.video.transferFunction=F.transferFunction)),ke}(Te):X===r.default.AUDIO&&(Q=function(F){const ke={audio:{}};return F.samplerate&&(ke.audio.samplerate=F.samplerate),ke}(Te)),Q[X].contentType=Te.codec,Q[X].bitrate=parseInt(Te.bitrate),Q.type="media-source";let be=Te.codec;return Te.width&&Te.height&&(be+=';width="'+Te.width+'";height="'+Te.height+'"'),Q.mediaSourceCodecString=be,function(F,ke,Qe){if(!ke||!ke.keySystemsMetadata||ke.keySystemsMetadata.length===0)return[F];const xe=[];return ke.keySystemsMetadata.forEach(Ye=>{if(!Ye.ks)return void xe.push({...F});const Ge=Ye.protData&&Ye.protData.systemStringPriority?Ye.protData.systemStringPriority:null;let _e=Ye.ks.systemString;(Ge||[_e]).forEach($e=>{const Je={...F};Je.keySystemConfiguration={},$e&&(Je.keySystemConfiguration.keySystem=$e);let tt="";Ye.ks.systemString===o.default.WIDEVINE_KEYSTEM_STRING&&(tt=o.default.ROBUSTNESS_STRINGS.WIDEVINE.SW_SECURE_CRYPTO);const Pe=Ye.protData,qe=Pe&&Pe.audioRobustness&&Pe.audioRobustness.length>0?Pe.audioRobustness:tt,et=Pe&&Pe.videoRobustness&&Pe.videoRobustness.length>0?Pe.videoRobustness:tt;Qe===r.default.AUDIO?Je.keySystemConfiguration[Qe]={robustness:qe}:Qe===r.default.VIDEO&&(Je.keySystemConfiguration[Qe]={robustness:et}),xe.push(Je)})}),xe}(Q,Te,X)}function K(Te){if(T&&T.length!==0&&Te)return T.find(X=>{const Q=ue(Te,X,r.default.AUDIO),be=ue(Te,X,r.default.VIDEO),F=ue(Te,X,"keySystemConfiguration");return Q&&be&&F})}function ue(Te,X,Q){return!Te[Q]&&!X[Q]||!(!Te[Q]||!X[Q])&&B.areEqual(Te[Q],X[Q])}function me(Te,X){return(Te=Te.filter(Q=>!(Q.schemeIdUri&&X.some(be=>be.schemeIdUri===Q.schemeIdUri)))).push(...X),Te}return y={areKeyIdsExpired:function(Te){return!!(p&&Te&&Te.normalizedKeyIds&&Te.normalizedKeyIds.size!==0)&&p.areKeyIdsExpired(Te.normalizedKeyIds)},areKeyIdsUsable:function(Te){return!(p&&Te&&Te.normalizedKeyIds&&Te.normalizedKeyIds.size!==0)||p.areKeyIdsUsable(Te.normalizedKeyIds)},isCodecSupportedBasedOnTestedConfigurations:function(Te,X){if(!Te||!Te.codec||Te.isSupported===!1)return!1;const Q=$(Te,X).map(be=>K(be)).filter(be=>be!=null);return!(Q&&Q.length>0)||function(be){return be.some(F=>F&&F.decodingInfo&&F.decodingInfo.supported)}(Q)},isProtectionCompatible:function(Te,X){return!X||!(!Te.isEncrypted&&X.isEncrypted)},runCodecSupportCheck:function(Te,X){if(X!==r.default.AUDIO&&X!==r.default.VIDEO)return Promise.resolve();const Q=m.get().streaming.enhancement.codecs;if(m.get().streaming.enhancement.enabled&&Q.some(F=>Te.codec.includes(F)))return Promise.resolve(!0);const be=$(Te,X);return function(F,ke){return m.get().streaming.capabilities.useMediaCapabilitiesApi&&navigator.mediaCapabilities&&navigator.mediaCapabilities.decodingInfo&&(F.codec&&ke===r.default.AUDIO||ke===r.default.VIDEO&&F.codec&&F.width&&F.height&&F.bitrate&&F.framerate)}(Te,X)?function(F){return new Promise(ke=>{if(!F||F.length===0)return void ke();const Qe=F.map(xe=>function(Ye){return new Promise(Ge=>{K(Ye)?Ge():navigator.mediaCapabilities.decodingInfo(Ye).then(_e=>{Ye.decodingInfo=_e,T.push(Ye),Ge()}).catch(_e=>{Ye.decodingInfo={supported:!1},T.push(Ye),A.error(_e),Ge()})})}(xe));Promise.allSettled(Qe).then(()=>{ke()}).catch(xe=>{A.error(xe),ke()})})}(be):(function(F){if(!F||!F.length)return;const ke=F[0];if(K(ke))return;let Qe={supported:!1};("ManagedMediaSource"in window&&ManagedMediaSource.isTypeSupported(ke.mediaSourceCodecString)||"MediaSource"in window&&MediaSource.isTypeSupported(ke.mediaSourceCodecString)||"WebKitMediaSource"in window&&WebKitMediaSource.isTypeSupported(ke.mediaSourceCodecString))&&(Qe.supported=!0),ke.decodingInfo=Qe,T.push(ke)}(be),Promise.resolve())},setConfig:function(Te){Te&&(Te.settings&&(m=Te.settings),Te.protectionController&&(p=Te.protectionController))},setEncryptedMediaSupported:function(Te){v=Te},setProtectionController:function(Te){p=Te},supportsChangeType:function(){return!!window.SourceBuffer&&!!SourceBuffer.prototype&&!!SourceBuffer.prototype.changeType},supportsEncryptedMedia:function(){return v},supportsEssentialProperty:function(Te){let X=m.get().streaming.capabilities.supportedEssentialProperties;m.get().streaming.capabilities.useMediaCapabilitiesApi&&m.get().streaming.capabilities.filterVideoColorimetryEssentialProperties&&(X=me(X,[{schemeIdUri:r.default.COLOUR_PRIMARIES_SCHEME_ID_URI},{schemeIdUri:r.default.MATRIX_COEFFICIENTS_SCHEME_ID_URI},{schemeIdUri:r.default.TRANSFER_CHARACTERISTICS_SCHEME_ID_URI}])),m.get().streaming.capabilities.useMediaCapabilitiesApi&&m.get().streaming.capabilities.filterHDRMetadataFormatEssentialProperties&&(X=me(X,[{schemeIdUri:r.default.HDR_METADATA_FORMAT_SCHEME_ID_URI}]));try{return Te.inArray(X)}catch{return!0}},supportsMediaSource:h},v=!1,T=[],A=(0,d.default)(k).getInstance().getLogger(y),y}f.__dashjs_factory_name="Capabilities",e.default=n.default.getSingletonFactory(f)},7377:function(i,e,t){t.r(e);var n=t(138),r=t(656);function o(){return{customTimeRangeArray:[],length:0,add:function(u,d){let h;for(h=0;h<this.customTimeRangeArray.length&&u>this.customTimeRangeArray[h].start;h++);for(this.customTimeRangeArray.splice(h,0,{start:u,end:d}),h=0;h<this.customTimeRangeArray.length-1;h++)this.mergeRanges(h,h+1)&&h--;this.length=this.customTimeRangeArray.length},clear:function(){this.customTimeRangeArray=[],this.length=0},remove:function(u,d){for(let h=0;h<this.customTimeRangeArray.length;h++)if(u<=this.customTimeRangeArray[h].start&&d>=this.customTimeRangeArray[h].end)this.customTimeRangeArray.splice(h,1),h--;else{if(u>this.customTimeRangeArray[h].start&&d<this.customTimeRangeArray[h].end){this.customTimeRangeArray.splice(h+1,0,{start:d,end:this.customTimeRangeArray[h].end}),this.customTimeRangeArray[h].end=u;break}u>this.customTimeRangeArray[h].start&&u<this.customTimeRangeArray[h].end?this.customTimeRangeArray[h].end=u:d>this.customTimeRangeArray[h].start&&d<this.customTimeRangeArray[h].end&&(this.customTimeRangeArray[h].start=d)}this.length=this.customTimeRangeArray.length},mergeRanges:function(u,d){let h=this.customTimeRangeArray[u],f=this.customTimeRangeArray[d];return h.start<=f.start&&f.start<=h.end&&h.end<=f.end?(h.end=f.end,this.customTimeRangeArray.splice(d,1),!0):f.start<=h.start&&h.start<=f.end&&f.end<=h.end?(h.start=f.start,this.customTimeRangeArray.splice(d,1),!0):f.start<=h.start&&h.start<=f.end&&h.end<=f.end?(this.customTimeRangeArray.splice(u,1),!0):h.start<=f.start&&f.start<=h.end&&f.end<=h.end&&(this.customTimeRangeArray.splice(d,1),!0)},start:function(u){return(0,r.checkInteger)(u),u>=this.customTimeRangeArray.length||u<0?NaN:this.customTimeRangeArray[u].start},end:function(u){return(0,r.checkInteger)(u),u>=this.customTimeRangeArray.length||u<0?NaN:this.customTimeRangeArray[u].end}}}o.__dashjs_factory_name="CustomTimeRanges",e.default=n.default.getClassFactory(o)},7393:function(i,e,t){t.r(e);var n=t(138),r=t(7316);function o(){let u;return u={areEqual:function(d,h){return r(d,h)}},u}o.__dashjs_factory_name="ObjectUtils",e.default=n.default.getSingletonFactory(o)},656:function(i,e,t){t.r(e),t.d(e,{checkInteger:function(){return o},checkIsVideoOrAudioType:function(){return d},checkParameterType:function(){return r},checkRange:function(){return u}});var n=t(5212);function r(h,f){if(typeof h!==f)throw n.default.BAD_ARGUMENT_ERROR}function o(h){if(h===null||isNaN(h)||h%1!=0)throw n.default.BAD_ARGUMENT_ERROR+" : argument is not an integer"}function u(h,f,y){if(h<f||h>y)throw n.default.BAD_ARGUMENT_ERROR+" : argument out of range"}function d(h){if(typeof h!="string"||h!==n.default.AUDIO&&h!==n.default.VIDEO)throw n.default.BAD_ARGUMENT_ERROR}},1944:function(i,e,t){t.r(e),e.default=class{constructor(n,r,o){this.code=n||null,this.message=r||null,this.data=o||null}}},5560:function(i,e,t){t.r(e);var n=t(8854);e.default=class{constructor(r){this.id=r.id,this.url=r.url,this.language=r.language,this.mimeType=r.mimeType,this.bandwidth=r.bandwidth,this.periodId=r.periodId||null}serializeToMpdParserFormat(){return{tagName:n.default.ADAPTATION_SET,mimeType:this.mimeType,lang:this.language,Representation:[{tagName:n.default.REPRESENTATION,id:this.id,bandwidth:this.bandwidth,BaseURL:[{tagName:n.default.BASE_URL,__text:this.url}],mimeType:this.mimeType}]}}}},7568:function(i,e,t){t.r(e),t.d(e,{HTTPRequest:function(){return n},HTTPRequestTrace:function(){return r}});class n{constructor(){this.tcpid=null,this.type=null,this.url=null,this.actualurl=null,this.range=null,this.trequest=null,this.tresponse=null,this.responsecode=null,this.interval=null,this.trace=[],this.cmsd=null,this._stream=null,this._tfinish=null,this._mediaduration=null,this._responseHeaders=null,this._serviceLocation=null,this._fileLoaderType=null,this._resourceTimingValues=null}}class r{constructor(){this.s=null,this.d=null,this.b=[]}}n.GET="GET",n.HEAD="HEAD",n.MPD_TYPE="MPD",n.XLINK_EXPANSION_TYPE="XLinkExpansion",n.INIT_SEGMENT_TYPE="InitializationSegment",n.INDEX_SEGMENT_TYPE="IndexSegment",n.MEDIA_SEGMENT_TYPE="MediaSegment",n.BITSTREAM_SWITCHING_SEGMENT_TYPE="BitstreamSwitchingSegment",n.MSS_FRAGMENT_INFO_SEGMENT_TYPE="FragmentInfoSegment",n.DVB_REPORTING_TYPE="DVBReporting",n.LICENSE="license",n.CONTENT_STEERING_TYPE="ContentSteering",n.OTHER_TYPE="other"}},dS={};function ji(i){var e=dS[i];if(e!==void 0)return e.exports;var t=dS[i]={exports:{}};return SM[i].call(t.exports,t,t.exports,ji),t.exports}ji.amdO={},ji.d=function(i,e){for(var t in e)ji.o(e,t)&&!ji.o(i,t)&&Object.defineProperty(i,t,{enumerable:!0,get:e[t]})},ji.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),ji.o=function(i,e){return Object.prototype.hasOwnProperty.call(i,e)},ji.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})};var ds={};ji.r(ds),ji.d(ds,{Constants:function(){return yR.default},Debug:function(){return pR.default},ExternalSubtitle:function(){return ER.default},MediaPlayer:function(){return _M.MediaPlayer},MediaPlayerFactory:function(){return mR},MetricsReporting:function(){return hR.default},Protection:function(){return gR.default},default:function(){return RM},supportsMediaSource:function(){return bR.supportsMediaSource}});var _M=ji(5393),hR=ji(4469),gR=ji(3888),AM=ji(1152);let fS,ap=function(){const i="application/dash+xml";let e;function t(r,o,u){if(!r||!/^VIDEO$/i.test(r.nodeName))return null;if(r._dashjs_player)return r._dashjs_player;let d,h=r.id||r.name||"video element";if(!(o=o||[].slice.call(r.querySelectorAll("source")).filter(function(f){return f.type==i})[0])&&r.src)(o=document.createElement("source")).src=r.src;else if(!o&&!r.src)return null;return u=u||{},d=(0,AM.default)(u).create(),d.initialize(r,o.src,r.autoplay),e||(e=d.getDebug().getLogger()),e.debug("Converted "+h+" to dash.js player and added content: "+o.src),r._dashjs_player=d,d}function n(r){return/^VIDEO$/i.test(r.nodeName)?r:n(r.parentNode)}return{create:t,createAll:function(r,o){let u=[];r=r||"[data-dashjs-player]";let d=(o=o||document).querySelectorAll(r);for(let f=0;f<d.length;f++){let y=t(d[f],null);u.push(y)}let h=o.querySelectorAll('source[type="'+i+'"]');for(let f=0;f<h.length;f++){let y=t(n(h[f]),null);u.push(y)}return u}}}();!(typeof window<"u"&&window&&window.dashjs&&window.dashjs.skipAutoCreate)&&typeof window<"u"&&window&&window.addEventListener&&(window.document.readyState==="complete"?window.dashjs?ap.createAll():fS=window.setInterval(function(){window.dashjs&&(window.clearInterval(fS),ap.createAll())},500):window.addEventListener("load",function i(){window.removeEventListener("load",i),ap.createAll()}));var mR=ap,pR=ji(649),yR=ji(5212),bR=ji(559),ER=ji(5560);dashjs.Protection=gR.default,dashjs.MetricsReporting=hR.default,dashjs.MediaPlayerFactory=mR,dashjs.Debug=pR.default,dashjs.supportsMediaSource=bR.supportsMediaSource,dashjs.Constants=yR.default,dashjs.ExternalSubtitle=ER.default;var RM=dashjs;(ds=ds.default).Constants;ds.Debug;ds.ExternalSubtitle;var xM=ds.MediaPlayer;ds.MediaPlayerFactory;ds.MetricsReporting;ds.Protection;ds.default;ds.supportsMediaSource;function IM(i){const e=Et.useRef(null),t=Et.useRef(null),n=Et.useRef(null),[r,o]=Et.useState("idle"),[u,d]=Et.useState(!1),[h,f]=Et.useState(1),y=Et.useCallback(()=>{t.current&&(t.current.destroy(),t.current=null),n.current&&(n.current.reset(),n.current=null)},[]),m=Et.useCallback(async()=>{if(!e.current)return;const v=e.current;try{if(d(!0),v.src===i&&r!=="error"){v.paused&&(await v.play(),o("playing"));return}y();const A=i.endsWith(".m3u8"),k=i.endsWith(".mpd");if(A&&ws.isSupported()){const B=new ws;t.current=B,B.loadSource(i),B.attachMedia(v),B.on(ws.Events.MANIFEST_PARSED,()=>{v.play().catch(()=>o("error"))}),B.on(ws.Events.ERROR,($,K)=>{K.fatal&&o("error")})}else if(k){const B=xM().create();n.current=B,B.initialize(v,i,!0),B.on("error",()=>o("error"))}else v.src=i,v.crossOrigin="anonymous",v.load(),await v.play();o("playing")}catch{o("error")}finally{d(!1)}},[i,y,r]),p=Et.useCallback(()=>{var v;(v=e.current)==null||v.pause(),o("paused")},[]),T=Et.useCallback(v=>{e.current&&(e.current.volume=v,f(v))},[]);return Et.useEffect(()=>{const v=e.current;if(!v)return;v.volume=h;const A=()=>o("playing"),k=()=>o("paused"),B=()=>o("error"),$=()=>{(r==="idle"||r==="error")&&d(!1)},K=()=>d(!0),ue=()=>d(!1);return v.addEventListener("playing",A),v.addEventListener("pause",k),v.addEventListener("error",B),v.addEventListener("canplay",$),v.addEventListener("waiting",K),v.addEventListener("playing",ue),()=>{v.removeEventListener("playing",A),v.removeEventListener("pause",k),v.removeEventListener("error",B),v.removeEventListener("canplay",$),v.removeEventListener("waiting",K),v.removeEventListener("playing",ue)}},[h]),Et.useEffect(()=>()=>{y()},[y]),{audioRef:e,status:r,loading:u,play:m,pause:p,volume:h,handleVolumeChange:T}}const wM=(i,e,t,n,r)=>{t.width=n,t.height=r;const o=r/2,u="#1a82d6";i.clearRect(0,0,n,r),i.strokeStyle="#555",i.lineWidth=1,i.beginPath(),i.moveTo(0,o),i.lineTo(n,o),i.stroke(),i.strokeStyle=u,i.lineWidth=2,i.beginPath();const d=n/e.length;for(let h=0;h<e.length;h++){const f=h*d;let y=o-(e[h]-128)/128*(r/2);y=Math.min(r,Math.max(0,Math.round(y))),h===0?i.moveTo(f,y):i.lineTo(f,y)}i.stroke()};function kM(i,e,t,n,r){const o=Et.useRef(null),u=Et.useRef(null),d=Et.useRef(null),h=Et.useRef(0);Et.useEffect(()=>{if(!e)return;if(t!=="playing"){h.current&&cancelAnimationFrame(h.current);return}if(!i.current||!e.current)return;const f=e.current,y=f.getContext("2d",{willReadFrequently:!0});if(y){y.imageSmoothingEnabled=!1;try{o.current||(o.current=new AudioContext);const m=o.current;u.current||(u.current=m.createAnalyser(),u.current.fftSize=256),d.current||(d.current=m.createMediaElementSource(i.current),d.current.connect(u.current),u.current.connect(m.destination));const p=u.current,T=p.frequencyBinCount,v=new Uint8Array(T),A=()=>{h.current=requestAnimationFrame(A),p.getByteTimeDomainData(v),y.clearRect(0,0,f.width,f.height),wM(y,v,f,n,r)};A()}catch(m){console.warn("Visualization not supported:",m)}return()=>{h.current&&cancelAnimationFrame(h.current)}}},[t,i,e,n,r])}const CM=i=>i.scrollTop;function Rp(i,e){const{timeout:t,easing:n,style:r={}}=i;return{duration:r.transitionDuration??(typeof t=="number"?t:t[e.mode]||0),easing:r.transitionTimingFunction??(typeof n=="object"?n[e.mode]:n),delay:r.transitionDelay}}function DM(i){return Ka("MuiCollapse",i)}Ya("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const LM=i=>{const{orientation:e,classes:t}=i,n={root:["root",`${e}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${e}`],wrapperInner:["wrapperInner",`${e}`]};return hs(n,DM,t)},NM=Ur("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(i,e)=>{const{ownerState:t}=i;return[e.root,e[t.orientation],t.state==="entered"&&e.entered,t.state==="exited"&&!t.in&&t.collapsedSize==="0px"&&e.hidden]}})(ta(({theme:i})=>({height:0,overflow:"hidden",transition:i.transitions.create("height"),variants:[{props:{orientation:"horizontal"},style:{height:"auto",width:0,transition:i.transitions.create("width")}},{props:{state:"entered"},style:{height:"auto",overflow:"visible"}},{props:{state:"entered",orientation:"horizontal"},style:{width:"auto"}},{props:({ownerState:e})=>e.state==="exited"&&!e.in&&e.collapsedSize==="0px",style:{visibility:"hidden"}}]}))),OM=Ur("div",{name:"MuiCollapse",slot:"Wrapper"})({display:"flex",width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),MM=Ur("div",{name:"MuiCollapse",slot:"WrapperInner"})({width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),aE=Et.forwardRef(function(e,t){const n=Oa({props:e,name:"MuiCollapse"}),{addEndListener:r,children:o,className:u,collapsedSize:d="0px",component:h,easing:f,in:y,onEnter:m,onEntered:p,onEntering:T,onExit:v,onExited:A,onExiting:k,orientation:B="vertical",style:$,timeout:K=R_.standard,TransitionComponent:ue=fo,...me}=n,Te={...n,orientation:B,collapsedSize:d},X=LM(Te),Q=Hp(),be=Vp(),F=Et.useRef(null),ke=Et.useRef(),Qe=typeof d=="number"?`${d}px`:d,xe=B==="horizontal",Ye=xe?"width":"height",Ge=Et.useRef(null),_e=Dl(t,Ge),$e=Ne=>bt=>{if(Ne){const Z=Ge.current;bt===void 0?Ne(Z):Ne(Z,bt)}},Je=()=>F.current?F.current[xe?"clientWidth":"clientHeight"]:0,tt=$e((Ne,bt)=>{F.current&&xe&&(F.current.style.position="absolute"),Ne.style[Ye]=Qe,m&&m(Ne,bt)}),Pe=$e((Ne,bt)=>{const Z=Je();F.current&&xe&&(F.current.style.position="");const{duration:ne,easing:L}=Rp({style:$,timeout:K,easing:f},{mode:"enter"});if(K==="auto"){const j=Q.transitions.getAutoHeightDuration(Z);Ne.style.transitionDuration=`${j}ms`,ke.current=j}else Ne.style.transitionDuration=typeof ne=="string"?ne:`${ne}ms`;Ne.style[Ye]=`${Z}px`,Ne.style.transitionTimingFunction=L,T&&T(Ne,bt)}),qe=$e((Ne,bt)=>{Ne.style[Ye]="auto",p&&p(Ne,bt)}),et=$e(Ne=>{Ne.style[Ye]=`${Je()}px`,v&&v(Ne)}),pt=$e(A),jt=$e(Ne=>{const bt=Je(),{duration:Z,easing:ne}=Rp({style:$,timeout:K,easing:f},{mode:"exit"});if(K==="auto"){const L=Q.transitions.getAutoHeightDuration(bt);Ne.style.transitionDuration=`${L}ms`,ke.current=L}else Ne.style.transitionDuration=typeof Z=="string"?Z:`${Z}ms`;Ne.style[Ye]=Qe,Ne.style.transitionTimingFunction=ne,k&&k(Ne)}),Fe=Ne=>{K==="auto"&&be.start(ke.current||0,Ne),r&&r(Ge.current,Ne)};return bn.jsx(ue,{in:y,onEnter:tt,onEntered:qe,onEntering:Pe,onExit:et,onExited:pt,onExiting:jt,addEndListener:Fe,nodeRef:Ge,timeout:K==="auto"?null:K,...me,children:(Ne,{ownerState:bt,...Z})=>bn.jsx(NM,{as:h,className:Zr(X.root,u,{entered:X.entered,exited:!y&&Qe==="0px"&&X.hidden}[Ne]),style:{[xe?"minWidth":"minHeight"]:Qe,...$},ref:_e,ownerState:{...Te,state:Ne},...Z,children:bn.jsx(OM,{ownerState:{...Te,state:Ne},className:X.wrapper,ref:F,children:bn.jsx(MM,{ownerState:{...Te,state:Ne},className:X.wrapperInner,children:o})})})})});aE&&(aE.muiSupportAuto=!0);function bd(i,e=[]){if(i===void 0)return{};const t={};return Object.keys(i).filter(n=>n.match(/^on[A-Z]/)&&typeof i[n]=="function"&&!e.includes(n)).forEach(n=>{t[n]=i[n]}),t}function PM(i={}){const{autoHideDuration:e=null,disableWindowBlurListener:t=!1,onClose:n,open:r,resumeHideDuration:o}=i,u=Vp();Et.useEffect(()=>{if(!r)return;function B($){$.defaultPrevented||$.key==="Escape"&&(n==null||n($,"escapeKeyDown"))}return document.addEventListener("keydown",B),()=>{document.removeEventListener("keydown",B)}},[r,n]);const d=so((B,$)=>{n==null||n(B,$)}),h=so(B=>{!n||B==null||u.start(B,()=>{d(null,"timeout")})});Et.useEffect(()=>(r&&h(e),u.clear),[r,e,h,u]);const f=B=>{n==null||n(B,"clickaway")},y=u.clear,m=Et.useCallback(()=>{e!=null&&h(o??e*.5)},[e,o,h]),p=B=>$=>{const K=B.onBlur;K==null||K($),m()},T=B=>$=>{const K=B.onFocus;K==null||K($),y()},v=B=>$=>{const K=B.onMouseEnter;K==null||K($),y()},A=B=>$=>{const K=B.onMouseLeave;K==null||K($),m()};return Et.useEffect(()=>{if(!t&&r)return window.addEventListener("focus",m),window.addEventListener("blur",y),()=>{window.removeEventListener("focus",m),window.removeEventListener("blur",y)}},[t,r,m,y]),{getRootProps:(B={})=>{const $={...bd(i),...bd(B)};return{role:"presentation",...B,...$,onBlur:p($),onFocus:T($),onMouseEnter:v($),onMouseLeave:A($)}},onClickAway:f}}function vR(i){var e;return parseInt(Et.version,10)>=19?((e=i==null?void 0:i.props)==null?void 0:e.ref)||null:(i==null?void 0:i.ref)||null}function hS(i){return i.substring(2).toLowerCase()}function zM(i,e){return e.documentElement.clientWidth<i.clientX||e.documentElement.clientHeight<i.clientY}function FM(i){const{children:e,disableReactTree:t=!1,mouseEvent:n="onClick",onClickAway:r,touchEvent:o="onTouchEnd"}=i,u=Et.useRef(!1),d=Et.useRef(null),h=Et.useRef(!1),f=Et.useRef(!1);Et.useEffect(()=>(setTimeout(()=>{h.current=!0},0),()=>{h.current=!1}),[]);const y=Dl(vR(e),d),m=so(v=>{const A=f.current;f.current=!1;const k=wu(d.current);if(!h.current||!d.current||"clientX"in v&&zM(v,k))return;if(u.current){u.current=!1;return}let B;v.composedPath?B=v.composedPath().includes(d.current):B=!k.documentElement.contains(v.target)||d.current.contains(v.target),!B&&(t||!A)&&r(v)}),p=v=>A=>{f.current=!0;const k=e.props[v];k&&k(A)},T={ref:y};return o!==!1&&(T[o]=p(o)),Et.useEffect(()=>{if(o!==!1){const v=hS(o),A=wu(d.current),k=()=>{u.current=!0};return A.addEventListener(v,m),A.addEventListener("touchmove",k),()=>{A.removeEventListener(v,m),A.removeEventListener("touchmove",k)}}},[m,o]),n!==!1&&(T[n]=p(n)),Et.useEffect(()=>{if(n!==!1){const v=hS(n),A=wu(d.current);return A.addEventListener(v,m),()=>{A.removeEventListener(v,m)}}},[m,n]),Et.cloneElement(e,T)}function sE(i){return`scale(${i}, ${i**2})`}const UM={entering:{opacity:1,transform:sE(1)},entered:{opacity:1,transform:"none"}},Tb=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),oE=Et.forwardRef(function(e,t){const{addEndListener:n,appear:r=!0,children:o,easing:u,in:d,onEnter:h,onEntered:f,onEntering:y,onExit:m,onExited:p,onExiting:T,style:v,timeout:A="auto",TransitionComponent:k=fo,...B}=e,$=Vp(),K=Et.useRef(),ue=Hp(),me=Et.useRef(null),Te=Dl(me,vR(o),t),X=Ge=>_e=>{if(Ge){const $e=me.current;_e===void 0?Ge($e):Ge($e,_e)}},Q=X(y),be=X((Ge,_e)=>{CM(Ge);const{duration:$e,delay:Je,easing:tt}=Rp({style:v,timeout:A,easing:u},{mode:"enter"});let Pe;A==="auto"?(Pe=ue.transitions.getAutoHeightDuration(Ge.clientHeight),K.current=Pe):Pe=$e,Ge.style.transition=[ue.transitions.create("opacity",{duration:Pe,delay:Je}),ue.transitions.create("transform",{duration:Tb?Pe:Pe*.666,delay:Je,easing:tt})].join(","),h&&h(Ge,_e)}),F=X(f),ke=X(T),Qe=X(Ge=>{const{duration:_e,delay:$e,easing:Je}=Rp({style:v,timeout:A,easing:u},{mode:"exit"});let tt;A==="auto"?(tt=ue.transitions.getAutoHeightDuration(Ge.clientHeight),K.current=tt):tt=_e,Ge.style.transition=[ue.transitions.create("opacity",{duration:tt,delay:$e}),ue.transitions.create("transform",{duration:Tb?tt:tt*.666,delay:Tb?$e:$e||tt*.333,easing:Je})].join(","),Ge.style.opacity=0,Ge.style.transform=sE(.75),m&&m(Ge)}),xe=X(p),Ye=Ge=>{A==="auto"&&$.start(K.current||0,Ge),n&&n(me.current,Ge)};return bn.jsx(k,{appear:r,in:d,nodeRef:me,onEnter:be,onEntered:F,onEntering:Q,onExit:Qe,onExited:xe,onExiting:ke,addEndListener:Ye,timeout:A==="auto"?null:A,...B,children:(Ge,{ownerState:_e,...$e})=>Et.cloneElement(o,{style:{opacity:0,transform:sE(.75),visibility:Ge==="exited"&&!d?"hidden":void 0,...UM[Ge],...v,...o.props.style},ref:Te,...$e})})});oE&&(oE.muiSupportAuto=!0);function BM(i){return Ka("MuiPaper",i)}Ya("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const jM=i=>{const{square:e,elevation:t,variant:n,classes:r}=i,o={root:["root",n,!e&&"rounded",n==="elevation"&&`elevation${t}`]};return hs(o,BM,r)},qM=Ur("div",{name:"MuiPaper",slot:"Root",overridesResolver:(i,e)=>{const{ownerState:t}=i;return[e.root,e[t.variant],!t.square&&e.rounded,t.variant==="elevation"&&e[`elevation${t.elevation}`]]}})(ta(({theme:i})=>({backgroundColor:(i.vars||i).palette.background.paper,color:(i.vars||i).palette.text.primary,transition:i.transitions.create("box-shadow"),variants:[{props:({ownerState:e})=>!e.square,style:{borderRadius:i.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(i.vars||i).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),TR=Et.forwardRef(function(e,t){var T;const n=Oa({props:e,name:"MuiPaper"}),r=Hp(),{className:o,component:u="div",elevation:d=1,square:h=!1,variant:f="elevation",...y}=n,m={...n,component:u,elevation:d,square:h,variant:f},p=jM(m);return bn.jsx(qM,{as:u,ownerState:m,className:Zr(p.root,o),ref:t,...y,style:{...f==="elevation"&&{"--Paper-shadow":(r.vars||r).shadows[d],...r.vars&&{"--Paper-overlay":(T=r.vars.overlays)==null?void 0:T[d]},...!r.vars&&r.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${Nu("#fff",Db(d))}, ${Nu("#fff",Db(d))})`}},...y.style}})});function GM(i){return Ka("MuiSnackbarContent",i)}Ya("MuiSnackbarContent",["root","message","action"]);const $M=i=>{const{classes:e}=i;return hs({root:["root"],action:["action"],message:["message"]},GM,e)},HM=Ur(TR,{name:"MuiSnackbarContent",slot:"Root"})(ta(({theme:i})=>{const e=i.palette.mode==="light"?.8:.98;return{...i.typography.body2,color:i.vars?i.vars.palette.SnackbarContent.color:i.palette.getContrastText(kb(i.palette.background.default,e)),backgroundColor:i.vars?i.vars.palette.SnackbarContent.bg:kb(i.palette.background.default,e),display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",flexGrow:1,[i.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}}})),VM=Ur("div",{name:"MuiSnackbarContent",slot:"Message"})({padding:"8px 0"}),KM=Ur("div",{name:"MuiSnackbarContent",slot:"Action"})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),YM=Et.forwardRef(function(e,t){const n=Oa({props:e,name:"MuiSnackbarContent"}),{action:r,className:o,message:u,role:d="alert",...h}=n,f=n,y=$M(f);return bn.jsxs(HM,{role:d,elevation:6,className:Zr(y.root,o),ownerState:f,ref:t,...h,children:[bn.jsx(VM,{className:y.message,ownerState:f,children:u}),r?bn.jsx(KM,{className:y.action,ownerState:f,children:r}):null]})});function WM(i){return Ka("MuiSnackbar",i)}Ya("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);function XM(i){return typeof i=="string"}function SR(i,e,t){return i===void 0||XM(i)?e:{...e,ownerState:{...e.ownerState,...t}}}function _R(i,e,t){return typeof i=="function"?i(e,t):i}function gS(i){if(i===void 0)return{};const e={};return Object.keys(i).filter(t=>!(t.match(/^on[A-Z]/)&&typeof i[t]=="function")).forEach(t=>{e[t]=i[t]}),e}function AR(i){const{getSlotProps:e,additionalProps:t,externalSlotProps:n,externalForwardedProps:r,className:o}=i;if(!e){const T=Zr(t==null?void 0:t.className,o,r==null?void 0:r.className,n==null?void 0:n.className),v={...t==null?void 0:t.style,...r==null?void 0:r.style,...n==null?void 0:n.style},A={...t,...r,...n};return T.length>0&&(A.className=T),Object.keys(v).length>0&&(A.style=v),{props:A,internalRef:void 0}}const u=bd({...r,...n}),d=gS(n),h=gS(r),f=e(u),y=Zr(f==null?void 0:f.className,t==null?void 0:t.className,o,r==null?void 0:r.className,n==null?void 0:n.className),m={...f==null?void 0:f.style,...t==null?void 0:t.style,...r==null?void 0:r.style,...n==null?void 0:n.style},p={...f,...t,...h,...d};return y.length>0&&(p.className=y),Object.keys(m).length>0&&(p.style=m),{props:p,internalRef:f.ref}}function Zs(i,e){const{className:t,elementType:n,ownerState:r,externalForwardedProps:o,internalForwardedProps:u,shouldForwardComponentProp:d=!1,...h}=e,{component:f,slots:y={[i]:void 0},slotProps:m={[i]:void 0},...p}=o,T=y[i]||n,v=_R(m[i],r),{props:{component:A,...k},internalRef:B}=AR({className:t,...h,externalForwardedProps:i==="root"?p:void 0,externalSlotProps:v}),$=Dl(B,v==null?void 0:v.ref,e.ref),K=i==="root"?A||f:A,ue=SR(T,{...i==="root"&&!f&&!y[i]&&u,...i!=="root"&&!y[i]&&u,...k,...K&&!d&&{as:K},...K&&d&&{component:K},ref:$},r);return[T,ue]}const QM=i=>{const{classes:e,anchorOrigin:t}=i,n={root:["root",`anchorOrigin${xr(t.vertical)}${xr(t.horizontal)}`]};return hs(n,WM,e)},ZM=Ur("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(i,e)=>{const{ownerState:t}=i;return[e.root,e[`anchorOrigin${xr(t.anchorOrigin.vertical)}${xr(t.anchorOrigin.horizontal)}`]]}})(ta(({theme:i})=>({zIndex:(i.vars||i).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center",variants:[{props:({ownerState:e})=>e.anchorOrigin.vertical==="top",style:{top:8,[i.breakpoints.up("sm")]:{top:24}}},{props:({ownerState:e})=>e.anchorOrigin.vertical!=="top",style:{bottom:8,[i.breakpoints.up("sm")]:{bottom:24}}},{props:({ownerState:e})=>e.anchorOrigin.horizontal==="left",style:{justifyContent:"flex-start",[i.breakpoints.up("sm")]:{left:24,right:"auto"}}},{props:({ownerState:e})=>e.anchorOrigin.horizontal==="right",style:{justifyContent:"flex-end",[i.breakpoints.up("sm")]:{right:24,left:"auto"}}},{props:({ownerState:e})=>e.anchorOrigin.horizontal==="center",style:{[i.breakpoints.up("sm")]:{left:"50%",right:"auto",transform:"translateX(-50%)"}}}]}))),JM=Et.forwardRef(function(e,t){const n=Oa({props:e,name:"MuiSnackbar"}),r=Hp(),o={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{action:u,anchorOrigin:{vertical:d,horizontal:h}={vertical:"bottom",horizontal:"left"},autoHideDuration:f=null,children:y,className:m,ClickAwayListenerProps:p,ContentProps:T,disableWindowBlurListener:v=!1,message:A,onBlur:k,onClose:B,onFocus:$,onMouseEnter:K,onMouseLeave:ue,open:me,resumeHideDuration:Te,slots:X={},slotProps:Q={},TransitionComponent:be,transitionDuration:F=o,TransitionProps:{onEnter:ke,onExited:Qe,...xe}={},...Ye}=n,Ge={...n,anchorOrigin:{vertical:d,horizontal:h},autoHideDuration:f,disableWindowBlurListener:v,TransitionComponent:be,transitionDuration:F},_e=QM(Ge),{getRootProps:$e,onClickAway:Je}=PM({...Ge}),[tt,Pe]=Et.useState(!0),qe=ie=>{Pe(!0),Qe&&Qe(ie)},et=(ie,He)=>{Pe(!1),ke&&ke(ie,He)},pt={slots:{transition:be,...X},slotProps:{content:T,clickAwayListener:p,transition:xe,...Q}},[jt,Fe]=Zs("root",{ref:t,className:[_e.root,m],elementType:ZM,getSlotProps:$e,externalForwardedProps:{...pt,...Ye},ownerState:Ge}),[Ne,{ownerState:bt,...Z}]=Zs("clickAwayListener",{elementType:FM,externalForwardedProps:pt,getSlotProps:ie=>({onClickAway:(...He)=>{var Xe;const st=He[0];(Xe=ie.onClickAway)==null||Xe.call(ie,...He),!(st!=null&&st.defaultMuiPrevented)&&Je(...He)}}),ownerState:Ge}),[ne,L]=Zs("content",{elementType:YM,shouldForwardComponentProp:!0,externalForwardedProps:pt,additionalProps:{message:A,action:u},ownerState:Ge}),[j,pe]=Zs("transition",{elementType:oE,externalForwardedProps:pt,getSlotProps:ie=>({onEnter:(...He)=>{var st;(st=ie.onEnter)==null||st.call(ie,...He),et(...He)},onExited:(...He)=>{var st;(st=ie.onExited)==null||st.call(ie,...He),qe(...He)}}),additionalProps:{appear:!0,in:me,timeout:F,direction:d==="top"?"down":"up"},ownerState:Ge});return!me&&tt?null:bn.jsx(Ne,{...Z,...X.clickAwayListener&&{ownerState:bt},children:bn.jsx(jt,{...Fe,children:bn.jsx(j,{...pe,children:y||bn.jsx(ne,{...L})})})})});function eP(i){return Ka("MuiAlert",i)}const mS=Ya("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]),tP=co(bn.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"})),nP=co(bn.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"})),rP=co(bn.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"})),iP=co(bn.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"})),aP=co(bn.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),sP=i=>{const{variant:e,color:t,severity:n,classes:r}=i,o={root:["root",`color${xr(t||n)}`,`${e}${xr(t||n)}`,`${e}`],icon:["icon"],message:["message"],action:["action"]};return hs(o,eP,r)},oP=Ur(TR,{name:"MuiAlert",slot:"Root",overridesResolver:(i,e)=>{const{ownerState:t}=i;return[e.root,e[t.variant],e[`${t.variant}${xr(t.color||t.severity)}`]]}})(ta(({theme:i})=>{const e=i.palette.mode==="light"?Ou:Mu,t=i.palette.mode==="light"?Mu:Ou;return{...i.typography.body2,backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(i.palette).filter(oo(["light"])).map(([n])=>({props:{colorSeverity:n,variant:"standard"},style:{color:i.vars?i.vars.palette.Alert[`${n}Color`]:e(i.palette[n].light,.6),backgroundColor:i.vars?i.vars.palette.Alert[`${n}StandardBg`]:t(i.palette[n].light,.9),[`& .${mS.icon}`]:i.vars?{color:i.vars.palette.Alert[`${n}IconColor`]}:{color:i.palette[n].main}}})),...Object.entries(i.palette).filter(oo(["light"])).map(([n])=>({props:{colorSeverity:n,variant:"outlined"},style:{color:i.vars?i.vars.palette.Alert[`${n}Color`]:e(i.palette[n].light,.6),border:`1px solid ${(i.vars||i).palette[n].light}`,[`& .${mS.icon}`]:i.vars?{color:i.vars.palette.Alert[`${n}IconColor`]}:{color:i.palette[n].main}}})),...Object.entries(i.palette).filter(oo(["dark"])).map(([n])=>({props:{colorSeverity:n,variant:"filled"},style:{fontWeight:i.typography.fontWeightMedium,...i.vars?{color:i.vars.palette.Alert[`${n}FilledColor`],backgroundColor:i.vars.palette.Alert[`${n}FilledBg`]}:{backgroundColor:i.palette.mode==="dark"?i.palette[n].dark:i.palette[n].main,color:i.palette.getContrastText(i.palette[n].main)}}}))]}})),lP=Ur("div",{name:"MuiAlert",slot:"Icon"})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),uP=Ur("div",{name:"MuiAlert",slot:"Message"})({padding:"8px 0",minWidth:0,overflow:"auto"}),cP=Ur("div",{name:"MuiAlert",slot:"Action"})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),pS={success:bn.jsx(tP,{fontSize:"inherit"}),warning:bn.jsx(nP,{fontSize:"inherit"}),error:bn.jsx(rP,{fontSize:"inherit"}),info:bn.jsx(iP,{fontSize:"inherit"})},dP=Et.forwardRef(function(e,t){const n=Oa({props:e,name:"MuiAlert"}),{action:r,children:o,className:u,closeText:d="Close",color:h,components:f={},componentsProps:y={},icon:m,iconMapping:p=pS,onClose:T,role:v="alert",severity:A="success",slotProps:k={},slots:B={},variant:$="standard",...K}=n,ue={...n,color:h,severity:A,variant:$,colorSeverity:h||A},me=sP(ue),Te={slots:{closeButton:f.CloseButton,closeIcon:f.CloseIcon,...B},slotProps:{...y,...k}},[X,Q]=Zs("root",{ref:t,shouldForwardComponentProp:!0,className:Zr(me.root,u),elementType:oP,externalForwardedProps:{...Te,...K},ownerState:ue,additionalProps:{role:v,elevation:0}}),[be,F]=Zs("icon",{className:me.icon,elementType:lP,externalForwardedProps:Te,ownerState:ue}),[ke,Qe]=Zs("message",{className:me.message,elementType:uP,externalForwardedProps:Te,ownerState:ue}),[xe,Ye]=Zs("action",{className:me.action,elementType:cP,externalForwardedProps:Te,ownerState:ue}),[Ge,_e]=Zs("closeButton",{elementType:Ub,externalForwardedProps:Te,ownerState:ue}),[$e,Je]=Zs("closeIcon",{elementType:aP,externalForwardedProps:Te,ownerState:ue});return bn.jsxs(X,{...Q,children:[m!==!1?bn.jsx(be,{...F,children:m||p[A]||pS[A]}):null,bn.jsx(ke,{...Qe,children:o}),r!=null?bn.jsx(xe,{...Ye,children:r}):null,r==null&&T?bn.jsx(xe,{...Ye,children:bn.jsx(Ge,{size:"small","aria-label":d,title:d,color:"inherit",onClick:T,..._e,children:bn.jsx($e,{fontSize:"small",...Je})})}):null]})});function fP(i){const[e,t]=Et.useState(!1);return Et.useEffect(()=>{const n=i.current;if(!n)return;const r=/AppleWebKit/.test(navigator.userAgent)&&!/Chrome|Chromium|Edg|OPR/.test(navigator.userAgent),o=n.src.startsWith(window.location.origin);t(!(r&&!o))},[i]),e}const hP=(i,e,t,n)=>{var o,u,d,h;const r=[t,{code:e,...n||{}}];if((u=(o=i==null?void 0:i.services)==null?void 0:o.logger)!=null&&u.forward)return i.services.logger.forward(r,"warn","react-i18next::",!0);Cu(r[0])&&(r[0]=`react-i18next:: ${r[0]}`),(h=(d=i==null?void 0:i.services)==null?void 0:d.logger)!=null&&h.warn?i.services.logger.warn(...r):console!=null&&console.warn&&console.warn(...r)},yS={},lE=(i,e,t,n)=>{Cu(t)&&yS[t]||(Cu(t)&&(yS[t]=new Date),hP(i,e,t,n))},RR=(i,e)=>()=>{if(i.isInitialized)e();else{const t=()=>{setTimeout(()=>{i.off("initialized",t)},0),e()};i.on("initialized",t)}},uE=(i,e,t)=>{i.loadNamespaces(e,RR(i,t))},bS=(i,e,t,n)=>{if(Cu(t)&&(t=[t]),i.options.preload&&i.options.preload.indexOf(e)>-1)return uE(i,t,n);t.forEach(r=>{i.options.ns.indexOf(r)<0&&i.options.ns.push(r)}),i.loadLanguages(e,RR(i,n))},gP=(i,e,t={})=>!e.languages||!e.languages.length?(lE(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(i,{lng:t.lng,precheck:(n,r)=>{if(t.bindI18n&&t.bindI18n.indexOf("languageChanging")>-1&&n.services.backendConnector.backend&&n.isLanguageChangingTo&&!r(n.isLanguageChangingTo,i))return!1}}),Cu=i=>typeof i=="string",mP=i=>typeof i=="object"&&i!==null,pP=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,yP={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},bP=i=>yP[i],EP=i=>i.replace(pP,bP);let cE={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:EP};const vP=(i={})=>{cE={...cE,...i}},TP=()=>cE;let xR;const SP=i=>{xR=i},_P=()=>xR,AP={type:"3rdParty",init(i){vP(i.options.react),SP(i)}},RP=Et.createContext();class xP{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(t=>{this.usedNamespaces[t]||(this.usedNamespaces[t]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const IP=(i,e)=>{const t=Et.useRef();return Et.useEffect(()=>{t.current=i},[i,e]),t.current},IR=(i,e,t,n)=>i.getFixedT(e,t,n),wP=(i,e,t,n)=>Et.useCallback(IR(i,e,t,n),[i,e,t,n]),kP=(i,e={})=>{var ue,me,Te,X;const{i18n:t}=e,{i18n:n,defaultNS:r}=Et.useContext(RP)||{},o=t||n||_P();if(o&&!o.reportNamespaces&&(o.reportNamespaces=new xP),!o){lE(o,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const Q=(F,ke)=>Cu(ke)?ke:mP(ke)&&Cu(ke.defaultValue)?ke.defaultValue:Array.isArray(F)?F[F.length-1]:F,be=[Q,{},!1];return be.t=Q,be.i18n={},be.ready=!1,be}(ue=o.options.react)!=null&&ue.wait&&lE(o,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const u={...TP(),...o.options.react,...e},{useSuspense:d,keyPrefix:h}=u;let f=r||((me=o.options)==null?void 0:me.defaultNS);f=Cu(f)?[f]:f||["translation"],(X=(Te=o.reportNamespaces).addUsedNamespaces)==null||X.call(Te,f);const y=(o.isInitialized||o.initializedStoreOnce)&&f.every(Q=>gP(Q,o,u)),m=wP(o,e.lng||null,u.nsMode==="fallback"?f:f[0],h),p=()=>m,T=()=>IR(o,e.lng||null,u.nsMode==="fallback"?f:f[0],h),[v,A]=Et.useState(p);let k=f.join();e.lng&&(k=`${e.lng}${k}`);const B=IP(k),$=Et.useRef(!0);Et.useEffect(()=>{const{bindI18n:Q,bindI18nStore:be}=u;$.current=!0,!y&&!d&&(e.lng?bS(o,e.lng,f,()=>{$.current&&A(T)}):uE(o,f,()=>{$.current&&A(T)})),y&&B&&B!==k&&$.current&&A(T);const F=()=>{$.current&&A(T)};return Q&&(o==null||o.on(Q,F)),be&&(o==null||o.store.on(be,F)),()=>{$.current=!1,o&&Q&&(Q==null||Q.split(" ").forEach(ke=>o.off(ke,F))),be&&o&&be.split(" ").forEach(ke=>o.store.off(ke,F))}},[o,k]),Et.useEffect(()=>{$.current&&y&&A(p)},[o,h,y]);const K=[v,o,y];if(K.t=v,K.i18n=o,K.ready=y,y||!y&&!d)return K;throw new Promise(Q=>{e.lng?bS(o,e.lng,f,()=>Q()):uE(o,f,()=>Q())})},CP=co(bn.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2"})),DP=co(bn.jsx("path",{d:"M7 9v6h4l5 5V4l-5 5z"})),LP=co(bn.jsx("path",{d:"M3 9v6h4l5 5V4L7 9zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02M14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77"}));function Rl(i){var m;const{elementType:e,externalSlotProps:t,ownerState:n,skipResolvingSlotProps:r=!1,...o}=i,u=r?{}:_R(t,n),{props:d,internalRef:h}=AR({...o,externalSlotProps:u}),f=Dl(h,u==null?void 0:u.ref,(m=i.additionalProps)==null?void 0:m.ref);return SR(e,{...d,ref:f},n)}const NP={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function OP(i,e,t=(n,r)=>n===r){return i.length===e.length&&i.every((n,r)=>t(n,e[r]))}const MP=2;function rd(i,e,t,n,r){return t===1?Math.min(i+e,r):Math.max(i-e,n)}function wR(i,e){return i-e}function ES(i,e){const{index:t}=i.reduce((n,r,o)=>{const u=Math.abs(e-r);return n===null||u<n.distance||u===n.distance?{distance:u,index:o}:n},null)??{};return t}function jm(i,e){if(e.current!==void 0&&i.changedTouches){const t=i;for(let n=0;n<t.changedTouches.length;n+=1){const r=t.changedTouches[n];if(r.identifier===e.current)return{x:r.clientX,y:r.clientY}}return!1}return{x:i.clientX,y:i.clientY}}function xp(i,e,t){return(i-e)*100/(t-e)}function PP(i,e,t){return(t-e)*i+e}function zP(i){if(Math.abs(i)<1){const t=i.toExponential().split("e-"),n=t[0].split(".")[1];return(n?n.length:0)+parseInt(t[1],10)}const e=i.toString().split(".")[1];return e?e.length:0}function FP(i,e,t){const n=Math.round((i-t)/e)*e+t;return Number(n.toFixed(zP(e)))}function vS({values:i,newValue:e,index:t}){const n=i.slice();return n[t]=e,n.sort(wR)}function qm({sliderRef:i,activeIndex:e,setActive:t}){var r,o,u;const n=wu(i.current);(!((r=i.current)!=null&&r.contains(n.activeElement))||Number((o=n==null?void 0:n.activeElement)==null?void 0:o.getAttribute("data-index"))!==e)&&((u=i.current)==null||u.querySelector(`[type="range"][data-index="${e}"]`).focus()),t&&t(e)}function Gm(i,e){return typeof i=="number"&&typeof e=="number"?i===e:typeof i=="object"&&typeof e=="object"?OP(i,e):!1}const UP={horizontal:{offset:i=>({left:`${i}%`}),leap:i=>({width:`${i}%`})},"horizontal-reverse":{offset:i=>({right:`${i}%`}),leap:i=>({width:`${i}%`})},vertical:{offset:i=>({bottom:`${i}%`}),leap:i=>({height:`${i}%`})}},BP=i=>i;let $m;function TS(){return $m===void 0&&(typeof CSS<"u"&&typeof CSS.supports=="function"?$m=CSS.supports("touch-action","none"):$m=!0),$m}function jP(i){const{"aria-labelledby":e,defaultValue:t,disabled:n=!1,disableSwap:r=!1,isRtl:o=!1,marks:u=!1,max:d=100,min:h=0,name:f,onChange:y,onChangeCommitted:m,orientation:p="horizontal",rootRef:T,scale:v=BP,step:A=1,shiftStep:k=10,tabIndex:B,value:$}=i,K=Et.useRef(void 0),[ue,me]=Et.useState(-1),[Te,X]=Et.useState(-1),[Q,be]=Et.useState(!1),F=Et.useRef(0),ke=Et.useRef(null),[Qe,xe]=AC({controlled:$,default:t??h}),Ye=y&&((ft,dt,nn)=>{const Cn=ft.nativeEvent||ft,Pn=new Cn.constructor(Cn.type,Cn);Object.defineProperty(Pn,"target",{writable:!0,value:{value:dt,name:f}}),ke.current=dt,y(Pn,dt,nn)}),Ge=Array.isArray(Qe);let _e=Ge?Qe.slice().sort(wR):[Qe];_e=_e.map(ft=>ft==null?h:od(ft,h,d));const $e=u===!0&&A!==null?[...Array(Math.floor((d-h)/A)+1)].map((ft,dt)=>({value:h+A*dt})):u||[],Je=$e.map(ft=>ft.value),[tt,Pe]=Et.useState(-1),qe=Et.useRef(null),et=Dl(T,qe),pt=ft=>dt=>{var Cn;const nn=Number(dt.currentTarget.getAttribute("data-index"));dp(dt.target)&&Pe(nn),X(nn),(Cn=ft==null?void 0:ft.onFocus)==null||Cn.call(ft,dt)},jt=ft=>dt=>{var nn;dp(dt.target)||Pe(-1),X(-1),(nn=ft==null?void 0:ft.onBlur)==null||nn.call(ft,dt)},Fe=(ft,dt)=>{const nn=Number(ft.currentTarget.getAttribute("data-index")),Cn=_e[nn],Pn=Je.indexOf(Cn);let Dn=dt;if($e&&A==null){const Kn=Je[Je.length-1];Dn>=Kn?Dn=Kn:Dn<=Je[0]?Dn=Je[0]:Dn=Dn<Cn?Je[Pn-1]:Je[Pn+1]}if(Dn=od(Dn,h,d),Ge){r&&(Dn=od(Dn,_e[nn-1]||-1/0,_e[nn+1]||1/0));const Kn=Dn;Dn=vS({values:_e,newValue:Dn,index:nn});let cr=nn;r||(cr=Dn.indexOf(Kn)),qm({sliderRef:qe,activeIndex:cr})}xe(Dn),Pe(nn),Ye&&!Gm(Dn,Qe)&&Ye(ft,Dn,nn),m&&m(ft,ke.current??Dn)},Ne=ft=>dt=>{var nn;if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","PageUp","PageDown","Home","End"].includes(dt.key)){dt.preventDefault();const Cn=Number(dt.currentTarget.getAttribute("data-index")),Pn=_e[Cn];let Dn=null;if(A!=null){const Kn=dt.shiftKey?k:A;switch(dt.key){case"ArrowUp":Dn=rd(Pn,Kn,1,h,d);break;case"ArrowRight":Dn=rd(Pn,Kn,o?-1:1,h,d);break;case"ArrowDown":Dn=rd(Pn,Kn,-1,h,d);break;case"ArrowLeft":Dn=rd(Pn,Kn,o?1:-1,h,d);break;case"PageUp":Dn=rd(Pn,k,1,h,d);break;case"PageDown":Dn=rd(Pn,k,-1,h,d);break;case"Home":Dn=h;break;case"End":Dn=d;break}}else if($e){const Kn=Je[Je.length-1],cr=Je.indexOf(Pn),Gt=[o?"ArrowRight":"ArrowLeft","ArrowDown","PageDown","Home"],Ht=[o?"ArrowLeft":"ArrowRight","ArrowUp","PageUp","End"];Gt.includes(dt.key)?cr===0?Dn=Je[0]:Dn=Je[cr-1]:Ht.includes(dt.key)&&(cr===Je.length-1?Dn=Kn:Dn=Je[cr+1])}Dn!=null&&Fe(dt,Dn)}(nn=ft==null?void 0:ft.onKeyDown)==null||nn.call(ft,dt)};RE(()=>{var ft;n&&qe.current.contains(document.activeElement)&&((ft=document.activeElement)==null||ft.blur())},[n]),n&&ue!==-1&&me(-1),n&&tt!==-1&&Pe(-1);const bt=ft=>dt=>{var nn;(nn=ft.onChange)==null||nn.call(ft,dt),Fe(dt,dt.target.valueAsNumber)},Z=Et.useRef(void 0);let ne=p;o&&p==="horizontal"&&(ne+="-reverse");const L=({finger:ft,move:dt=!1})=>{const{current:nn}=qe,{width:Cn,height:Pn,bottom:Dn,left:Kn}=nn.getBoundingClientRect();let cr;ne.startsWith("vertical")?cr=(Dn-ft.y)/Pn:cr=(ft.x-Kn)/Cn,ne.includes("-reverse")&&(cr=1-cr);let Gt;if(Gt=PP(cr,h,d),A)Gt=FP(Gt,A,h);else{const Mt=ES(Je,Gt);Gt=Je[Mt]}Gt=od(Gt,h,d);let Ht=0;if(Ge){dt?Ht=Z.current:Ht=ES(_e,Gt),r&&(Gt=od(Gt,_e[Ht-1]||-1/0,_e[Ht+1]||1/0));const Mt=Gt;Gt=vS({values:_e,newValue:Gt,index:Ht}),r&&dt||(Ht=Gt.indexOf(Mt),Z.current=Ht)}return{newValue:Gt,activeIndex:Ht}},j=so(ft=>{const dt=jm(ft,K);if(!dt)return;if(F.current+=1,ft.type==="mousemove"&&ft.buttons===0){pe(ft);return}const{newValue:nn,activeIndex:Cn}=L({finger:dt,move:!0});qm({sliderRef:qe,activeIndex:Cn,setActive:me}),xe(nn),!Q&&F.current>MP&&be(!0),Ye&&!Gm(nn,Qe)&&Ye(ft,nn,Cn)}),pe=so(ft=>{const dt=jm(ft,K);if(be(!1),!dt)return;const{newValue:nn}=L({finger:dt,move:!0});me(-1),ft.type==="touchend"&&X(-1),m&&m(ft,ke.current??nn),K.current=void 0,He()}),ie=so(ft=>{if(n)return;TS()||ft.preventDefault();const dt=ft.changedTouches[0];dt!=null&&(K.current=dt.identifier);const nn=jm(ft,K);if(nn!==!1){const{newValue:Pn,activeIndex:Dn}=L({finger:nn});qm({sliderRef:qe,activeIndex:Dn,setActive:me}),xe(Pn),Ye&&!Gm(Pn,Qe)&&Ye(ft,Pn,Dn)}F.current=0;const Cn=wu(qe.current);Cn.addEventListener("touchmove",j,{passive:!0}),Cn.addEventListener("touchend",pe,{passive:!0})}),He=Et.useCallback(()=>{const ft=wu(qe.current);ft.removeEventListener("mousemove",j),ft.removeEventListener("mouseup",pe),ft.removeEventListener("touchmove",j),ft.removeEventListener("touchend",pe)},[pe,j]);Et.useEffect(()=>{const{current:ft}=qe;return ft.addEventListener("touchstart",ie,{passive:TS()}),()=>{ft.removeEventListener("touchstart",ie),He()}},[He,ie]),Et.useEffect(()=>{n&&He()},[n,He]);const st=ft=>dt=>{var Pn;if((Pn=ft.onMouseDown)==null||Pn.call(ft,dt),n||dt.defaultPrevented||dt.button!==0)return;dt.preventDefault();const nn=jm(dt,K);if(nn!==!1){const{newValue:Dn,activeIndex:Kn}=L({finger:nn});qm({sliderRef:qe,activeIndex:Kn,setActive:me}),xe(Dn),Ye&&!Gm(Dn,Qe)&&Ye(dt,Dn,Kn)}F.current=0;const Cn=wu(qe.current);Cn.addEventListener("mousemove",j,{passive:!0}),Cn.addEventListener("mouseup",pe)},Xe=xp(Ge?_e[0]:h,h,d),Ze=xp(_e[_e.length-1],h,d)-Xe,We=(ft={})=>{const dt=bd(ft),nn={onMouseDown:st(dt||{})},Cn={...dt,...nn};return{...ft,ref:et,...Cn}},rt=ft=>dt=>{var Cn;(Cn=ft.onMouseOver)==null||Cn.call(ft,dt);const nn=Number(dt.currentTarget.getAttribute("data-index"));X(nn)},vt=ft=>dt=>{var nn;(nn=ft.onMouseLeave)==null||nn.call(ft,dt),X(-1)},yt=(ft={})=>{const dt=bd(ft),nn={onMouseOver:rt(dt||{}),onMouseLeave:vt(dt||{})};return{...ft,...dt,...nn}},ht=ft=>({pointerEvents:ue!==-1&&ue!==ft?"none":void 0});let Sn;return p==="vertical"&&(Sn=o?"vertical-rl":"vertical-lr"),{active:ue,axis:ne,axisProps:UP,dragging:Q,focusedThumbIndex:tt,getHiddenInputProps:(ft={})=>{const dt=bd(ft),nn={onChange:bt(dt||{}),onFocus:pt(dt||{}),onBlur:jt(dt||{}),onKeyDown:Ne(dt||{})},Cn={...dt,...nn};return{tabIndex:B,"aria-labelledby":e,"aria-orientation":p,"aria-valuemax":v(d),"aria-valuemin":v(h),name:f,type:"range",min:i.min,max:i.max,step:i.step===null&&i.marks?"any":i.step??void 0,disabled:n,...ft,...Cn,style:{...NP,direction:o?"rtl":"ltr",width:"100%",height:"100%",writingMode:Sn}}},getRootProps:We,getThumbProps:yt,marks:$e,open:Te,range:Ge,rootRef:et,trackLeap:Ze,trackOffset:Xe,values:_e,getThumbStyle:ht}}function sp(i){return typeof i=="string"}const qP=i=>!i||!sp(i);function GP(i){return Ka("MuiSlider",i)}const us=Ya("MuiSlider",["root","active","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","disabled","dragging","focusVisible","mark","markActive","marked","markLabel","markLabelActive","rail","sizeSmall","thumb","thumbColorPrimary","thumbColorSecondary","thumbColorError","thumbColorSuccess","thumbColorInfo","thumbColorWarning","track","trackInverted","trackFalse","thumbSizeSmall","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel","vertical"]),$P=i=>{const{open:e}=i;return{offset:Zr(e&&us.valueLabelOpen),circle:us.valueLabelCircle,label:us.valueLabelLabel}};function HP(i){const{children:e,className:t,value:n}=i,r=$P(i);return e?Et.cloneElement(e,{className:e.props.className},bn.jsxs(Et.Fragment,{children:[e.props.children,bn.jsx("span",{className:Zr(r.offset,t),"aria-hidden":!0,children:bn.jsx("span",{className:r.circle,children:bn.jsx("span",{className:r.label,children:n})})})]})):null}function SS(i){return i}const VP=Ur("span",{name:"MuiSlider",slot:"Root",overridesResolver:(i,e)=>{const{ownerState:t}=i;return[e.root,e[`color${xr(t.color)}`],t.size!=="medium"&&e[`size${xr(t.size)}`],t.marked&&e.marked,t.orientation==="vertical"&&e.vertical,t.track==="inverted"&&e.trackInverted,t.track===!1&&e.trackFalse]}})(ta(({theme:i})=>({borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",WebkitTapHighlightColor:"transparent","@media print":{colorAdjust:"exact"},[`&.${us.disabled}`]:{pointerEvents:"none",cursor:"default",color:(i.vars||i).palette.grey[400]},[`&.${us.dragging}`]:{[`& .${us.thumb}, & .${us.track}`]:{transition:"none"}},variants:[...Object.entries(i.palette).filter(oo()).map(([e])=>({props:{color:e},style:{color:(i.vars||i).palette[e].main}})),{props:{orientation:"horizontal"},style:{height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}}},{props:{orientation:"horizontal",size:"small"},style:{height:2}},{props:{orientation:"horizontal",marked:!0},style:{marginBottom:20}},{props:{orientation:"vertical"},style:{height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}}},{props:{orientation:"vertical",size:"small"},style:{width:2}},{props:{orientation:"vertical",marked:!0},style:{marginRight:44}}]}))),KP=Ur("span",{name:"MuiSlider",slot:"Rail"})({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38,variants:[{props:{orientation:"horizontal"},style:{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:"inverted"},style:{opacity:1}}]}),YP=Ur("span",{name:"MuiSlider",slot:"Track"})(ta(({theme:i})=>({display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:i.transitions.create(["left","width","bottom","height"],{duration:i.transitions.duration.shortest}),variants:[{props:{size:"small"},style:{border:"none"}},{props:{orientation:"horizontal"},style:{height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:!1},style:{display:"none"}},...Object.entries(i.palette).filter(oo()).map(([e])=>({props:{color:e,track:"inverted"},style:{...i.vars?{backgroundColor:i.vars.palette.Slider[`${e}Track`],borderColor:i.vars.palette.Slider[`${e}Track`]}:{backgroundColor:Mu(i.palette[e].main,.62),borderColor:Mu(i.palette[e].main,.62),...i.applyStyles("dark",{backgroundColor:Ou(i.palette[e].main,.5)}),...i.applyStyles("dark",{borderColor:Ou(i.palette[e].main,.5)})}}}))]}))),WP=Ur("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(i,e)=>{const{ownerState:t}=i;return[e.thumb,e[`thumbColor${xr(t.color)}`],t.size!=="medium"&&e[`thumbSize${xr(t.size)}`]]}})(ta(({theme:i})=>({position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:i.transitions.create(["box-shadow","left","bottom"],{duration:i.transitions.duration.shortest}),"&::before":{position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(i.vars||i).shadows[2]},"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},[`&.${us.disabled}`]:{"&:hover":{boxShadow:"none"}},variants:[{props:{size:"small"},style:{width:12,height:12,"&::before":{boxShadow:"none"}}},{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-50%, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 50%)"}},...Object.entries(i.palette).filter(oo()).map(([e])=>({props:{color:e},style:{[`&:hover, &.${us.focusVisible}`]:{...i.vars?{boxShadow:`0px 0px 0px 8px rgba(${i.vars.palette[e].mainChannel} / 0.16)`}:{boxShadow:`0px 0px 0px 8px ${Nu(i.palette[e].main,.16)}`},"@media (hover: none)":{boxShadow:"none"}},[`&.${us.active}`]:{...i.vars?{boxShadow:`0px 0px 0px 14px rgba(${i.vars.palette[e].mainChannel} / 0.16)`}:{boxShadow:`0px 0px 0px 14px ${Nu(i.palette[e].main,.16)}`}}}}))]}))),XP=Ur(HP,{name:"MuiSlider",slot:"ValueLabel"})(ta(({theme:i})=>({zIndex:1,whiteSpace:"nowrap",...i.typography.body2,fontWeight:500,transition:i.transitions.create(["transform"],{duration:i.transitions.duration.shortest}),position:"absolute",backgroundColor:(i.vars||i).palette.grey[600],borderRadius:2,color:(i.vars||i).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem",variants:[{props:{orientation:"horizontal"},style:{transform:"translateY(-100%) scale(0)",top:"-10px",transformOrigin:"bottom center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"},[`&.${us.valueLabelOpen}`]:{transform:"translateY(-100%) scale(1)"}}},{props:{orientation:"vertical"},style:{transform:"translateY(-50%) scale(0)",right:"30px",top:"50%",transformOrigin:"right center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, -50%) rotate(45deg)",backgroundColor:"inherit",right:-8,top:"50%"},[`&.${us.valueLabelOpen}`]:{transform:"translateY(-50%) scale(1)"}}},{props:{size:"small"},style:{fontSize:i.typography.pxToRem(12),padding:"0.25rem 0.5rem"}},{props:{orientation:"vertical",size:"small"},style:{right:"20px"}}]}))),QP=Ur("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:i=>LE(i)&&i!=="markActive",overridesResolver:(i,e)=>{const{markActive:t}=i;return[e.mark,t&&e.markActive]}})(ta(({theme:i})=>({position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor",variants:[{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-1px, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 1px)"}},{props:{markActive:!0},style:{backgroundColor:(i.vars||i).palette.background.paper,opacity:.8}}]}))),ZP=Ur("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:i=>LE(i)&&i!=="markLabelActive"})(ta(({theme:i})=>({...i.typography.body2,color:(i.vars||i).palette.text.secondary,position:"absolute",whiteSpace:"nowrap",variants:[{props:{orientation:"horizontal"},style:{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}}},{props:{orientation:"vertical"},style:{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}}},{props:{markLabelActive:!0},style:{color:(i.vars||i).palette.text.primary}}]}))),JP=i=>{const{disabled:e,dragging:t,marked:n,orientation:r,track:o,classes:u,color:d,size:h}=i,f={root:["root",e&&"disabled",t&&"dragging",n&&"marked",r==="vertical"&&"vertical",o==="inverted"&&"trackInverted",o===!1&&"trackFalse",d&&`color${xr(d)}`,h&&`size${xr(h)}`],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",e&&"disabled",h&&`thumbSize${xr(h)}`,d&&`thumbColor${xr(d)}`],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]};return hs(f,GP,u)},ez=({children:i})=>i,tz=Et.forwardRef(function(e,t){const n=Oa({props:e,name:"MuiSlider"}),r=ak(),{"aria-label":o,"aria-valuetext":u,"aria-labelledby":d,component:h="span",components:f={},componentsProps:y={},color:m="primary",classes:p,className:T,disableSwap:v=!1,disabled:A=!1,getAriaLabel:k,getAriaValueText:B,marks:$=!1,max:K=100,min:ue=0,name:me,onChange:Te,onChangeCommitted:X,orientation:Q="horizontal",shiftStep:be=10,size:F="medium",step:ke=1,scale:Qe=SS,slotProps:xe,slots:Ye,tabIndex:Ge,track:_e="normal",value:$e,valueLabelDisplay:Je="off",valueLabelFormat:tt=SS,...Pe}=n,qe={...n,isRtl:r,max:K,min:ue,classes:p,disabled:A,disableSwap:v,orientation:Q,marks:$,color:m,size:F,step:ke,shiftStep:be,scale:Qe,track:_e,valueLabelDisplay:Je,valueLabelFormat:tt},{axisProps:et,getRootProps:pt,getHiddenInputProps:jt,getThumbProps:Fe,open:Ne,active:bt,axis:Z,focusedThumbIndex:ne,range:L,dragging:j,marks:pe,values:ie,trackOffset:He,trackLeap:st,getThumbStyle:Xe}=jP({...qe,rootRef:t});qe.marked=pe.length>0&&pe.some(Ft=>Ft.label),qe.dragging=j,qe.focusedThumbIndex=ne;const Ze=JP(qe),We=(Ye==null?void 0:Ye.root)??f.Root??VP,rt=(Ye==null?void 0:Ye.rail)??f.Rail??KP,vt=(Ye==null?void 0:Ye.track)??f.Track??YP,yt=(Ye==null?void 0:Ye.thumb)??f.Thumb??WP,ht=(Ye==null?void 0:Ye.valueLabel)??f.ValueLabel??XP,Sn=(Ye==null?void 0:Ye.mark)??f.Mark??QP,tn=(Ye==null?void 0:Ye.markLabel)??f.MarkLabel??ZP,ft=(Ye==null?void 0:Ye.input)??f.Input??"input",dt=(xe==null?void 0:xe.root)??y.root,nn=(xe==null?void 0:xe.rail)??y.rail,Cn=(xe==null?void 0:xe.track)??y.track,Pn=(xe==null?void 0:xe.thumb)??y.thumb,Dn=(xe==null?void 0:xe.valueLabel)??y.valueLabel,Kn=(xe==null?void 0:xe.mark)??y.mark,cr=(xe==null?void 0:xe.markLabel)??y.markLabel,Gt=(xe==null?void 0:xe.input)??y.input,Ht=Rl({elementType:We,getSlotProps:pt,externalSlotProps:dt,externalForwardedProps:Pe,additionalProps:{...qP(We)&&{as:h}},ownerState:{...qe,...dt==null?void 0:dt.ownerState},className:[Ze.root,T]}),Mt=Rl({elementType:rt,externalSlotProps:nn,ownerState:qe,className:Ze.rail}),Lt=Rl({elementType:vt,externalSlotProps:Cn,additionalProps:{style:{...et[Z].offset(He),...et[Z].leap(st)}},ownerState:{...qe,...Cn==null?void 0:Cn.ownerState},className:Ze.track}),on=Rl({elementType:yt,getSlotProps:Fe,externalSlotProps:Pn,ownerState:{...qe,...Pn==null?void 0:Pn.ownerState},className:Ze.thumb}),fn=Rl({elementType:ht,externalSlotProps:Dn,ownerState:{...qe,...Dn==null?void 0:Dn.ownerState},className:Ze.valueLabel}),mn=Rl({elementType:Sn,externalSlotProps:Kn,ownerState:qe,className:Ze.mark}),_n=Rl({elementType:tn,externalSlotProps:cr,ownerState:qe,className:Ze.markLabel}),Xt=Rl({elementType:ft,getSlotProps:jt,externalSlotProps:Gt,ownerState:qe});return bn.jsxs(We,{...Ht,children:[bn.jsx(rt,{...Mt}),bn.jsx(vt,{...Lt}),pe.filter(Ft=>Ft.value>=ue&&Ft.value<=K).map((Ft,en)=>{const Tn=xp(Ft.value,ue,K),Jt=et[Z].offset(Tn);let wn;return _e===!1?wn=ie.includes(Ft.value):wn=_e==="normal"&&(L?Ft.value>=ie[0]&&Ft.value<=ie[ie.length-1]:Ft.value<=ie[0])||_e==="inverted"&&(L?Ft.value<=ie[0]||Ft.value>=ie[ie.length-1]:Ft.value>=ie[0]),bn.jsxs(Et.Fragment,{children:[bn.jsx(Sn,{"data-index":en,...mn,...!sp(Sn)&&{markActive:wn},style:{...Jt,...mn.style},className:Zr(mn.className,wn&&Ze.markActive)}),Ft.label!=null?bn.jsx(tn,{"aria-hidden":!0,"data-index":en,..._n,...!sp(tn)&&{markLabelActive:wn},style:{...Jt,..._n.style},className:Zr(Ze.markLabel,_n.className,wn&&Ze.markLabelActive),children:Ft.label}):null]},en)}),ie.map((Ft,en)=>{const Tn=xp(Ft,ue,K),Jt=et[Z].offset(Tn),wn=Je==="off"?ez:ht;return bn.jsx(wn,{...!sp(wn)&&{valueLabelFormat:tt,valueLabelDisplay:Je,value:typeof tt=="function"?tt(Qe(Ft),en):tt,index:en,open:Ne===en||bt===en||Je==="on",disabled:A},...fn,children:bn.jsx(yt,{"data-index":en,...on,className:Zr(Ze.thumb,on.className,bt===en&&Ze.active,ne===en&&Ze.focusVisible),style:{...Jt,...Xe(en),...on.style},children:bn.jsx(ft,{"data-index":en,"aria-label":k?k(en):o,"aria-valuenow":Qe(Ft),"aria-labelledby":d,"aria-valuetext":B?B(Qe(Ft),en):u,value:ie[en],...Xt})})},en)})]})}),nz=()=>{const i=window.STREAM_URL||"",e=window.SITE_TITLE||"",[t,n]=Et.useState({width:window.innerWidth,height:window.innerHeight}),[r,o]=Et.useState(!1),u=Et.useRef(document.createElement("canvas")),{t:d}=kP(),{audioRef:h,status:f,loading:y,play:m,pause:p,volume:T,handleVolumeChange:v}=IM(i),A=fP(h);return kM(h,u,f,t.width,t.height),Et.useEffect(()=>{const k=()=>{n({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",k),()=>{window.removeEventListener("resize",k)}},[]),Et.useEffect(()=>{u.current&&(u.current.width=t.width,u.current.height=t.height)},[t]),Et.useEffect(()=>{o(f==="error")},[f]),bn.jsxs(uh,{justifyContent:"center",alignItems:"center",width:"100vw",height:"100vh",position:"relative",children:[bn.jsxs(uh,{position:"absolute",top:A&&f==="playing"?16:"calc(50% - 2rem)",textAlign:"center",sx:{transition:"all 0.8s ease"},zIndex:D_.zIndex.tooltip,gap:1,px:2,py:1,alignItems:"center",justifyContent:"center",children:[bn.jsx(Kv,{variant:"h1",component:"h1",sx:{textWrap:"balance",hyphens:"auto"},children:e}),bn.jsx(aE,{in:f==="playing"&&!A,timeout:2e3,collapsedSize:0,orientation:"horizontal",children:bn.jsxs(uh,{direction:"row",alignItems:"center",gap:1,children:[bn.jsx(Kv,{variant:"h5",whiteSpace:"nowrap",children:d("dashboard.isOnLive")}),bn.jsx(CP,{color:"error",fontSize:"small",sx:{animation:"blink 1s infinite","@keyframes blink":{"0%, 100%":{opacity:1},"50%":{opacity:0}}}})]})})]}),bn.jsx(hD,{component:"canvas",ref:u,role:"img","aria-label":d("dashboard.audioVisualizer"),sx:{opacity:A?1:0,width:"100%",height:"100%",display:"block"}}),bn.jsxs(uh,{alignItems:"center",gap:2,position:"absolute",bottom:18,children:[y&&!r?bn.jsx(M_,{size:64}):f!=="playing"?bn.jsx(Ub,{onClick:m,size:"large","aria-label":d("dashboard.play"),children:bn.jsx(uD,{sx:{width:64,height:64,"& > svg":{width:64,height:64}}})}):bn.jsx(Ub,{onClick:p,size:"large","aria-label":d("dashboard.stop"),children:bn.jsx(cD,{sx:{width:64,height:64,"& > svg":{width:64,height:64}}})}),bn.jsxs(uh,{spacing:2,direction:"row",justifyContent:"center",width:"100%",sx:{alignItems:"center",mb:1},children:[bn.jsx(DP,{fontSize:"small"}),bn.jsx(tz,{"aria-label":d("dashboard.volume"),valueLabelDisplay:"auto",valueLabelFormat:k=>`${(Number(k??0)*100).toFixed(0)}%`,value:T,onChange:(k,B)=>v(B),min:0,max:1,step:.01,sx:{width:200},size:"small"}),bn.jsx(LP,{fontSize:"small"})]})]}),bn.jsx("audio",{ref:h,hidden:!0,preload:"none"}),bn.jsx(JM,{open:r,anchorOrigin:{vertical:"bottom",horizontal:"center"},children:bn.jsx(dP,{severity:"error",sx:{width:"100%"},children:d("dashboard.playStreamError")})})]})};function rz(){return bn.jsx(nz,{})}const ur=i=>typeof i=="string",dh=()=>{let i,e;const t=new Promise((n,r)=>{i=n,e=r});return t.resolve=i,t.reject=e,t},_S=i=>i==null?"":""+i,iz=(i,e,t)=>{i.forEach(n=>{e[n]&&(t[n]=e[n])})},az=/###/g,AS=i=>i&&i.indexOf("###")>-1?i.replace(az,"."):i,RS=i=>!i||ur(i),vh=(i,e,t)=>{const n=ur(e)?e.split("."):e;let r=0;for(;r<n.length-1;){if(RS(i))return{};const o=AS(n[r]);!i[o]&&t&&(i[o]=new t),Object.prototype.hasOwnProperty.call(i,o)?i=i[o]:i={},++r}return RS(i)?{}:{obj:i,k:AS(n[r])}},xS=(i,e,t)=>{const{obj:n,k:r}=vh(i,e,Object);if(n!==void 0||e.length===1){n[r]=t;return}let o=e[e.length-1],u=e.slice(0,e.length-1),d=vh(i,u,Object);for(;d.obj===void 0&&u.length;)o=`${u[u.length-1]}.${o}`,u=u.slice(0,u.length-1),d=vh(i,u,Object),d!=null&&d.obj&&typeof d.obj[`${d.k}.${o}`]<"u"&&(d.obj=void 0);d.obj[`${d.k}.${o}`]=t},sz=(i,e,t,n)=>{const{obj:r,k:o}=vh(i,e,Object);r[o]=r[o]||[],r[o].push(t)},Ip=(i,e)=>{const{obj:t,k:n}=vh(i,e);if(t&&Object.prototype.hasOwnProperty.call(t,n))return t[n]},oz=(i,e,t)=>{const n=Ip(i,t);return n!==void 0?n:Ip(e,t)},kR=(i,e,t)=>{for(const n in e)n!=="__proto__"&&n!=="constructor"&&(n in i?ur(i[n])||i[n]instanceof String||ur(e[n])||e[n]instanceof String?t&&(i[n]=e[n]):kR(i[n],e[n],t):i[n]=e[n]);return i},id=i=>i.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var lz={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const uz=i=>ur(i)?i.replace(/[&<>"'\/]/g,e=>lz[e]):i;class cz{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(t!==void 0)return t;const n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}}const dz=[" ",",","?","!",";"],fz=new cz(20),hz=(i,e,t)=>{e=e||"",t=t||"";const n=dz.filter(u=>e.indexOf(u)<0&&t.indexOf(u)<0);if(n.length===0)return!0;const r=fz.getRegExp(`(${n.map(u=>u==="?"?"\\?":u).join("|")})`);let o=!r.test(i);if(!o){const u=i.indexOf(t);u>0&&!r.test(i.substring(0,u))&&(o=!0)}return o},dE=(i,e,t=".")=>{if(!i)return;if(i[e])return Object.prototype.hasOwnProperty.call(i,e)?i[e]:void 0;const n=e.split(t);let r=i;for(let o=0;o<n.length;){if(!r||typeof r!="object")return;let u,d="";for(let h=o;h<n.length;++h)if(h!==o&&(d+=t),d+=n[h],u=r[d],u!==void 0){if(["string","number","boolean"].indexOf(typeof u)>-1&&h<n.length-1)continue;o+=h-o+1;break}r=u}return r},Lh=i=>i==null?void 0:i.replace("_","-"),gz={type:"logger",log(i){this.output("log",i)},warn(i){this.output("warn",i)},error(i){this.output("error",i)},output(i,e){var t,n;(n=(t=console==null?void 0:console[i])==null?void 0:t.apply)==null||n.call(t,console,e)}};class wp{constructor(e,t={}){this.init(e,t)}init(e,t={}){this.prefix=t.prefix||"i18next:",this.logger=e||gz,this.options=t,this.debug=t.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,n,r){return r&&!this.debug?null:(ur(e[0])&&(e[0]=`${n}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new wp(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new wp(this.logger,e)}}var ro=new wp;class Xp{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(n=>{this.observers[n]||(this.observers[n]=new Map);const r=this.observers[n].get(t)||0;this.observers[n].set(t,r+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e,...t){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([r,o])=>{for(let u=0;u<o;u++)r(...t)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([r,o])=>{for(let u=0;u<o;u++)r.apply(r,[e,...t])})}}class IS extends Xp{constructor(e,t={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,n,r={}){var f,y;const o=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,u=r.ignoreJSONStructure!==void 0?r.ignoreJSONStructure:this.options.ignoreJSONStructure;let d;e.indexOf(".")>-1?d=e.split("."):(d=[e,t],n&&(Array.isArray(n)?d.push(...n):ur(n)&&o?d.push(...n.split(o)):d.push(n)));const h=Ip(this.data,d);return!h&&!t&&!n&&e.indexOf(".")>-1&&(e=d[0],t=d[1],n=d.slice(2).join(".")),h||!u||!ur(n)?h:dE((y=(f=this.data)==null?void 0:f[e])==null?void 0:y[t],n,o)}addResource(e,t,n,r,o={silent:!1}){const u=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator;let d=[e,t];n&&(d=d.concat(u?n.split(u):n)),e.indexOf(".")>-1&&(d=e.split("."),r=t,t=d[1]),this.addNamespaces(t),xS(this.data,d,r),o.silent||this.emit("added",e,t,n,r)}addResources(e,t,n,r={silent:!1}){for(const o in n)(ur(n[o])||Array.isArray(n[o]))&&this.addResource(e,t,o,n[o],{silent:!0});r.silent||this.emit("added",e,t,n)}addResourceBundle(e,t,n,r,o,u={silent:!1,skipCopy:!1}){let d=[e,t];e.indexOf(".")>-1&&(d=e.split("."),r=n,n=t,t=d[1]),this.addNamespaces(t);let h=Ip(this.data,d)||{};u.skipCopy||(n=JSON.parse(JSON.stringify(n))),r?kR(h,n,o):h={...h,...n},xS(this.data,d,h),u.silent||this.emit("added",e,t,n)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return this.getResource(e,t)!==void 0}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(r=>t[r]&&Object.keys(t[r]).length>0)}toJSON(){return this.data}}var CR={processors:{},addPostProcessor(i){this.processors[i.name]=i},handle(i,e,t,n,r){return i.forEach(o=>{var u;e=((u=this.processors[o])==null?void 0:u.process(e,t,n,r))??e}),e}};const wS={},kS=i=>!ur(i)&&typeof i!="boolean"&&typeof i!="number";class kp extends Xp{constructor(e,t={}){super(),iz(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=ro.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,t={interpolation:{}}){const n={...t};if(e==null)return!1;const r=this.resolve(e,n);return(r==null?void 0:r.res)!==void 0}extractFromKey(e,t){let n=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");const r=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator;let o=t.ns||this.options.defaultNS||[];const u=n&&e.indexOf(n)>-1,d=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!hz(e,n,r);if(u&&!d){const h=e.match(this.interpolator.nestingRegexp);if(h&&h.length>0)return{key:e,namespaces:ur(o)?[o]:o};const f=e.split(n);(n!==r||n===r&&this.options.ns.indexOf(f[0])>-1)&&(o=f.shift()),e=f.join(r)}return{key:e,namespaces:ur(o)?[o]:o}}translate(e,t,n){let r=typeof t=="object"?{...t}:t;if(typeof r!="object"&&this.options.overloadTranslationOptionHandler&&(r=this.options.overloadTranslationOptionHandler(arguments)),typeof options=="object"&&(r={...r}),r||(r={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const o=r.returnDetails!==void 0?r.returnDetails:this.options.returnDetails,u=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,{key:d,namespaces:h}=this.extractFromKey(e[e.length-1],r),f=h[h.length-1];let y=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;y===void 0&&(y=":");const m=r.lng||this.language,p=r.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((m==null?void 0:m.toLowerCase())==="cimode")return p?o?{res:`${f}${y}${d}`,usedKey:d,exactUsedKey:d,usedLng:m,usedNS:f,usedParams:this.getUsedParamsDetails(r)}:`${f}${y}${d}`:o?{res:d,usedKey:d,exactUsedKey:d,usedLng:m,usedNS:f,usedParams:this.getUsedParamsDetails(r)}:d;const T=this.resolve(e,r);let v=T==null?void 0:T.res;const A=(T==null?void 0:T.usedKey)||d,k=(T==null?void 0:T.exactUsedKey)||d,B=["[object Number]","[object Function]","[object RegExp]"],$=r.joinArrays!==void 0?r.joinArrays:this.options.joinArrays,K=!this.i18nFormat||this.i18nFormat.handleAsObject,ue=r.count!==void 0&&!ur(r.count),me=kp.hasDefaultValue(r),Te=ue?this.pluralResolver.getSuffix(m,r.count,r):"",X=r.ordinal&&ue?this.pluralResolver.getSuffix(m,r.count,{ordinal:!1}):"",Q=ue&&!r.ordinal&&r.count===0,be=Q&&r[`defaultValue${this.options.pluralSeparator}zero`]||r[`defaultValue${Te}`]||r[`defaultValue${X}`]||r.defaultValue;let F=v;K&&!v&&me&&(F=be);const ke=kS(F),Qe=Object.prototype.toString.apply(F);if(K&&F&&ke&&B.indexOf(Qe)<0&&!(ur($)&&Array.isArray(F))){if(!r.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const xe=this.options.returnedObjectHandler?this.options.returnedObjectHandler(A,F,{...r,ns:h}):`key '${d} (${this.language})' returned an object instead of string.`;return o?(T.res=xe,T.usedParams=this.getUsedParamsDetails(r),T):xe}if(u){const xe=Array.isArray(F),Ye=xe?[]:{},Ge=xe?k:A;for(const _e in F)if(Object.prototype.hasOwnProperty.call(F,_e)){const $e=`${Ge}${u}${_e}`;me&&!v?Ye[_e]=this.translate($e,{...r,defaultValue:kS(be)?be[_e]:void 0,joinArrays:!1,ns:h}):Ye[_e]=this.translate($e,{...r,joinArrays:!1,ns:h}),Ye[_e]===$e&&(Ye[_e]=F[_e])}v=Ye}}else if(K&&ur($)&&Array.isArray(v))v=v.join($),v&&(v=this.extendTranslation(v,e,r,n));else{let xe=!1,Ye=!1;!this.isValidLookup(v)&&me&&(xe=!0,v=be),this.isValidLookup(v)||(Ye=!0,v=d);const _e=(r.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&Ye?void 0:v,$e=me&&be!==v&&this.options.updateMissing;if(Ye||xe||$e){if(this.logger.log($e?"updateKey":"missingKey",m,f,d,$e?be:v),u){const qe=this.resolve(d,{...r,keySeparator:!1});qe&&qe.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let Je=[];const tt=this.languageUtils.getFallbackCodes(this.options.fallbackLng,r.lng||this.language);if(this.options.saveMissingTo==="fallback"&&tt&&tt[0])for(let qe=0;qe<tt.length;qe++)Je.push(tt[qe]);else this.options.saveMissingTo==="all"?Je=this.languageUtils.toResolveHierarchy(r.lng||this.language):Je.push(r.lng||this.language);const Pe=(qe,et,pt)=>{var Fe;const jt=me&&pt!==v?pt:_e;this.options.missingKeyHandler?this.options.missingKeyHandler(qe,f,et,jt,$e,r):(Fe=this.backendConnector)!=null&&Fe.saveMissing&&this.backendConnector.saveMissing(qe,f,et,jt,$e,r),this.emit("missingKey",qe,f,et,v)};this.options.saveMissing&&(this.options.saveMissingPlurals&&ue?Je.forEach(qe=>{const et=this.pluralResolver.getSuffixes(qe,r);Q&&r[`defaultValue${this.options.pluralSeparator}zero`]&&et.indexOf(`${this.options.pluralSeparator}zero`)<0&&et.push(`${this.options.pluralSeparator}zero`),et.forEach(pt=>{Pe([qe],d+pt,r[`defaultValue${pt}`]||be)})}):Pe(Je,d,be))}v=this.extendTranslation(v,e,r,T,n),Ye&&v===d&&this.options.appendNamespaceToMissingKey&&(v=`${f}${y}${d}`),(Ye||xe)&&this.options.parseMissingKeyHandler&&(v=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${f}${y}${d}`:d,xe?v:void 0,r))}return o?(T.res=v,T.usedParams=this.getUsedParamsDetails(r),T):v}extendTranslation(e,t,n,r,o){var h,f;if((h=this.i18nFormat)!=null&&h.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const y=ur(e)&&(((f=n==null?void 0:n.interpolation)==null?void 0:f.skipOnVariables)!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let m;if(y){const T=e.match(this.interpolator.nestingRegexp);m=T&&T.length}let p=n.replace&&!ur(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(p={...this.options.interpolation.defaultVariables,...p}),e=this.interpolator.interpolate(e,p,n.lng||this.language||r.usedLng,n),y){const T=e.match(this.interpolator.nestingRegexp),v=T&&T.length;m<v&&(n.nest=!1)}!n.lng&&r&&r.res&&(n.lng=this.language||r.usedLng),n.nest!==!1&&(e=this.interpolator.nest(e,(...T)=>(o==null?void 0:o[0])===T[0]&&!n.context?(this.logger.warn(`It seems you are nesting recursively key: ${T[0]} in key: ${t[0]}`),null):this.translate(...T,t),n)),n.interpolation&&this.interpolator.reset()}const u=n.postProcess||this.options.postProcess,d=ur(u)?[u]:u;return e!=null&&(d!=null&&d.length)&&n.applyPostProcessor!==!1&&(e=CR.handle(d,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...r,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),e}resolve(e,t={}){let n,r,o,u,d;return ur(e)&&(e=[e]),e.forEach(h=>{if(this.isValidLookup(n))return;const f=this.extractFromKey(h,t),y=f.key;r=y;let m=f.namespaces;this.options.fallbackNS&&(m=m.concat(this.options.fallbackNS));const p=t.count!==void 0&&!ur(t.count),T=p&&!t.ordinal&&t.count===0,v=t.context!==void 0&&(ur(t.context)||typeof t.context=="number")&&t.context!=="",A=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);m.forEach(k=>{var B,$;this.isValidLookup(n)||(d=k,!wS[`${A[0]}-${k}`]&&((B=this.utils)!=null&&B.hasLoadedNamespace)&&!(($=this.utils)!=null&&$.hasLoadedNamespace(d))&&(wS[`${A[0]}-${k}`]=!0,this.logger.warn(`key "${r}" for languages "${A.join(", ")}" won't get resolved as namespace "${d}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),A.forEach(K=>{var Te;if(this.isValidLookup(n))return;u=K;const ue=[y];if((Te=this.i18nFormat)!=null&&Te.addLookupKeys)this.i18nFormat.addLookupKeys(ue,y,K,k,t);else{let X;p&&(X=this.pluralResolver.getSuffix(K,t.count,t));const Q=`${this.options.pluralSeparator}zero`,be=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(p&&(ue.push(y+X),t.ordinal&&X.indexOf(be)===0&&ue.push(y+X.replace(be,this.options.pluralSeparator)),T&&ue.push(y+Q)),v){const F=`${y}${this.options.contextSeparator}${t.context}`;ue.push(F),p&&(ue.push(F+X),t.ordinal&&X.indexOf(be)===0&&ue.push(F+X.replace(be,this.options.pluralSeparator)),T&&ue.push(F+Q))}}let me;for(;me=ue.pop();)this.isValidLookup(n)||(o=me,n=this.getResource(K,k,me,t))}))})}),{res:n,usedKey:r,exactUsedKey:o,usedLng:u,usedNS:d}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,t,n,r={}){var o;return(o=this.i18nFormat)!=null&&o.getResource?this.i18nFormat.getResource(e,t,n,r):this.resourceStore.getResource(e,t,n,r)}getUsedParamsDetails(e={}){const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&!ur(e.replace);let r=n?e.replace:e;if(n&&typeof e.count<"u"&&(r.count=e.count),this.options.interpolation.defaultVariables&&(r={...this.options.interpolation.defaultVariables,...r}),!n){r={...r};for(const o of t)delete r[o]}return r}static hasDefaultValue(e){const t="defaultValue";for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t===n.substring(0,t.length)&&e[n]!==void 0)return!0;return!1}}class CS{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=ro.create("languageUtils")}getScriptPartFromCode(e){if(e=Lh(e),!e||e.indexOf("-")<0)return null;const t=e.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(e=Lh(e),!e||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(ur(e)&&e.indexOf("-")>-1){let t;try{t=Intl.getCanonicalLocales(e)[0]}catch{}return t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(n=>{if(t)return;const r=this.formatLanguageCode(n);(!this.options.supportedLngs||this.isSupportedCode(r))&&(t=r)}),!t&&this.options.supportedLngs&&e.forEach(n=>{if(t)return;const r=this.getScriptPartFromCode(n);if(this.isSupportedCode(r))return t=r;const o=this.getLanguagePartFromCode(n);if(this.isSupportedCode(o))return t=o;t=this.options.supportedLngs.find(u=>{if(u===o)return u;if(!(u.indexOf("-")<0&&o.indexOf("-")<0)&&(u.indexOf("-")>0&&o.indexOf("-")<0&&u.substring(0,u.indexOf("-"))===o||u.indexOf(o)===0&&o.length>1))return u})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if(typeof e=="function"&&(e=e(t)),ur(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}toResolveHierarchy(e,t){const n=this.getFallbackCodes((t===!1?[]:t)||this.options.fallbackLng||[],e),r=[],o=u=>{u&&(this.isSupportedCode(u)?r.push(u):this.logger.warn(`rejecting language code not found in supportedLngs: ${u}`))};return ur(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&o(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&o(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&o(this.getLanguagePartFromCode(e))):ur(e)&&o(this.formatLanguageCode(e)),n.forEach(u=>{r.indexOf(u)<0&&o(this.formatLanguageCode(u))}),r}}const DS={zero:0,one:1,two:2,few:3,many:4,other:5},LS={select:i=>i===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class mz{constructor(e,t={}){this.languageUtils=e,this.options=t,this.logger=ro.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e,t={}){const n=Lh(e==="dev"?"en":e),r=t.ordinal?"ordinal":"cardinal",o=JSON.stringify({cleanedCode:n,type:r});if(o in this.pluralRulesCache)return this.pluralRulesCache[o];let u;try{u=new Intl.PluralRules(n,{type:r})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),LS;if(!e.match(/-|_/))return LS;const h=this.languageUtils.getLanguagePartFromCode(e);u=this.getRule(h,t)}return this.pluralRulesCache[o]=u,u}needsPlural(e,t={}){let n=this.getRule(e,t);return n||(n=this.getRule("dev",t)),(n==null?void 0:n.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,t,n={}){return this.getSuffixes(e,n).map(r=>`${t}${r}`)}getSuffixes(e,t={}){let n=this.getRule(e,t);return n||(n=this.getRule("dev",t)),n?n.resolvedOptions().pluralCategories.sort((r,o)=>DS[r]-DS[o]).map(r=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${r}`):[]}getSuffix(e,t,n={}){const r=this.getRule(e,n);return r?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${r.select(t)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",t,n))}}const NS=(i,e,t,n=".",r=!0)=>{let o=oz(i,e,t);return!o&&r&&ur(t)&&(o=dE(i,t,n),o===void 0&&(o=dE(e,t,n))),o},Sb=i=>i.replace(/\$/g,"$$$$");class pz{constructor(e={}){var t;this.logger=ro.create("interpolator"),this.options=e,this.format=((t=e==null?void 0:e.interpolation)==null?void 0:t.format)||(n=>n),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:n,useRawValueToEscape:r,prefix:o,prefixEscaped:u,suffix:d,suffixEscaped:h,formatSeparator:f,unescapeSuffix:y,unescapePrefix:m,nestingPrefix:p,nestingPrefixEscaped:T,nestingSuffix:v,nestingSuffixEscaped:A,nestingOptionsSeparator:k,maxReplaces:B,alwaysFormat:$}=e.interpolation;this.escape=t!==void 0?t:uz,this.escapeValue=n!==void 0?n:!0,this.useRawValueToEscape=r!==void 0?r:!1,this.prefix=o?id(o):u||"{{",this.suffix=d?id(d):h||"}}",this.formatSeparator=f||",",this.unescapePrefix=y?"":m||"-",this.unescapeSuffix=this.unescapePrefix?"":y||"",this.nestingPrefix=p?id(p):T||id("$t("),this.nestingSuffix=v?id(v):A||id(")"),this.nestingOptionsSeparator=k||",",this.maxReplaces=B||1e3,this.alwaysFormat=$!==void 0?$:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(t,n)=>(t==null?void 0:t.source)===n?(t.lastIndex=0,t):new RegExp(n,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,t,n,r){var T;let o,u,d;const h=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},f=v=>{if(v.indexOf(this.formatSeparator)<0){const $=NS(t,h,v,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format($,void 0,n,{...r,...t,interpolationkey:v}):$}const A=v.split(this.formatSeparator),k=A.shift().trim(),B=A.join(this.formatSeparator).trim();return this.format(NS(t,h,k,this.options.keySeparator,this.options.ignoreJSONStructure),B,n,{...r,...t,interpolationkey:k})};this.resetRegExp();const y=(r==null?void 0:r.missingInterpolationHandler)||this.options.missingInterpolationHandler,m=((T=r==null?void 0:r.interpolation)==null?void 0:T.skipOnVariables)!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:v=>Sb(v)},{regex:this.regexp,safeValue:v=>this.escapeValue?Sb(this.escape(v)):Sb(v)}].forEach(v=>{for(d=0;o=v.regex.exec(e);){const A=o[1].trim();if(u=f(A),u===void 0)if(typeof y=="function"){const B=y(e,o,r);u=ur(B)?B:""}else if(r&&Object.prototype.hasOwnProperty.call(r,A))u="";else if(m){u=o[0];continue}else this.logger.warn(`missed to pass in variable ${A} for interpolating ${e}`),u="";else!ur(u)&&!this.useRawValueToEscape&&(u=_S(u));const k=v.safeValue(u);if(e=e.replace(o[0],k),m?(v.regex.lastIndex+=u.length,v.regex.lastIndex-=o[0].length):v.regex.lastIndex=0,d++,d>=this.maxReplaces)break}}),e}nest(e,t,n={}){let r,o,u;const d=(h,f)=>{const y=this.nestingOptionsSeparator;if(h.indexOf(y)<0)return h;const m=h.split(new RegExp(`${y}[ ]*{`));let p=`{${m[1]}`;h=m[0],p=this.interpolate(p,u);const T=p.match(/'/g),v=p.match(/"/g);(((T==null?void 0:T.length)??0)%2===0&&!v||v.length%2!==0)&&(p=p.replace(/'/g,'"'));try{u=JSON.parse(p),f&&(u={...f,...u})}catch(A){return this.logger.warn(`failed parsing options string in nesting for key ${h}`,A),`${h}${y}${p}`}return u.defaultValue&&u.defaultValue.indexOf(this.prefix)>-1&&delete u.defaultValue,h};for(;r=this.nestingRegexp.exec(e);){let h=[];u={...n},u=u.replace&&!ur(u.replace)?u.replace:u,u.applyPostProcessor=!1,delete u.defaultValue;const f=/{.*}/.test(r[1])?r[1].lastIndexOf("}")+1:r[1].indexOf(this.formatSeparator);if(f!==-1&&(h=r[1].slice(f).split(this.formatSeparator).map(y=>y.trim()).filter(Boolean),r[1]=r[1].slice(0,f)),o=t(d.call(this,r[1].trim(),u),u),o&&r[0]===e&&!ur(o))return o;ur(o)||(o=_S(o)),o||(this.logger.warn(`missed to resolve ${r[1]} for nesting ${e}`),o=""),h.length&&(o=h.reduce((y,m)=>this.format(y,m,n.lng,{...n,interpolationkey:r[1].trim()}),o.trim())),e=e.replace(r[0],o),this.regexp.lastIndex=0}return e}}const yz=i=>{let e=i.toLowerCase().trim();const t={};if(i.indexOf("(")>-1){const n=i.split("(");e=n[0].toLowerCase().trim();const r=n[1].substring(0,n[1].length-1);e==="currency"&&r.indexOf(":")<0?t.currency||(t.currency=r.trim()):e==="relativetime"&&r.indexOf(":")<0?t.range||(t.range=r.trim()):r.split(";").forEach(u=>{if(u){const[d,...h]=u.split(":"),f=h.join(":").trim().replace(/^'+|'+$/g,""),y=d.trim();t[y]||(t[y]=f),f==="false"&&(t[y]=!1),f==="true"&&(t[y]=!0),isNaN(f)||(t[y]=parseInt(f,10))}})}return{formatName:e,formatOptions:t}},OS=i=>{const e={};return(t,n,r)=>{let o=r;r&&r.interpolationkey&&r.formatParams&&r.formatParams[r.interpolationkey]&&r[r.interpolationkey]&&(o={...o,[r.interpolationkey]:void 0});const u=n+JSON.stringify(o);let d=e[u];return d||(d=i(Lh(n),r),e[u]=d),d(t)}},bz=i=>(e,t,n)=>i(Lh(t),n)(e);class Ez{constructor(e={}){this.logger=ro.create("formatter"),this.options=e,this.init(e)}init(e,t={interpolation:{}}){this.formatSeparator=t.interpolation.formatSeparator||",";const n=t.cacheInBuiltFormats?OS:bz;this.formats={number:n((r,o)=>{const u=new Intl.NumberFormat(r,{...o});return d=>u.format(d)}),currency:n((r,o)=>{const u=new Intl.NumberFormat(r,{...o,style:"currency"});return d=>u.format(d)}),datetime:n((r,o)=>{const u=new Intl.DateTimeFormat(r,{...o});return d=>u.format(d)}),relativetime:n((r,o)=>{const u=new Intl.RelativeTimeFormat(r,{...o});return d=>u.format(d,o.range||"day")}),list:n((r,o)=>{const u=new Intl.ListFormat(r,{...o});return d=>u.format(d)})}}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=OS(t)}format(e,t,n,r={}){const o=t.split(this.formatSeparator);if(o.length>1&&o[0].indexOf("(")>1&&o[0].indexOf(")")<0&&o.find(d=>d.indexOf(")")>-1)){const d=o.findIndex(h=>h.indexOf(")")>-1);o[0]=[o[0],...o.splice(1,d)].join(this.formatSeparator)}return o.reduce((d,h)=>{var m;const{formatName:f,formatOptions:y}=yz(h);if(this.formats[f]){let p=d;try{const T=((m=r==null?void 0:r.formatParams)==null?void 0:m[r.interpolationkey])||{},v=T.locale||T.lng||r.locale||r.lng||n;p=this.formats[f](d,v,{...y,...r,...T})}catch(T){this.logger.warn(T)}return p}else this.logger.warn(`there was no format function for ${f}`);return d},e)}}const vz=(i,e)=>{i.pending[e]!==void 0&&(delete i.pending[e],i.pendingCount--)};class Tz extends Xp{constructor(e,t,n,r={}){var o,u;super(),this.backend=e,this.store=t,this.services=n,this.languageUtils=n.languageUtils,this.options=r,this.logger=ro.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=r.maxParallelReads||10,this.readingCalls=0,this.maxRetries=r.maxRetries>=0?r.maxRetries:5,this.retryTimeout=r.retryTimeout>=1?r.retryTimeout:350,this.state={},this.queue=[],(u=(o=this.backend)==null?void 0:o.init)==null||u.call(o,n,r.backend,r)}queueLoad(e,t,n,r){const o={},u={},d={},h={};return e.forEach(f=>{let y=!0;t.forEach(m=>{const p=`${f}|${m}`;!n.reload&&this.store.hasResourceBundle(f,m)?this.state[p]=2:this.state[p]<0||(this.state[p]===1?u[p]===void 0&&(u[p]=!0):(this.state[p]=1,y=!1,u[p]===void 0&&(u[p]=!0),o[p]===void 0&&(o[p]=!0),h[m]===void 0&&(h[m]=!0)))}),y||(d[f]=!0)}),(Object.keys(o).length||Object.keys(u).length)&&this.queue.push({pending:u,pendingCount:Object.keys(u).length,loaded:{},errors:[],callback:r}),{toLoad:Object.keys(o),pending:Object.keys(u),toLoadLanguages:Object.keys(d),toLoadNamespaces:Object.keys(h)}}loaded(e,t,n){const r=e.split("|"),o=r[0],u=r[1];t&&this.emit("failedLoading",o,u,t),!t&&n&&this.store.addResourceBundle(o,u,n,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&n&&(this.state[e]=0);const d={};this.queue.forEach(h=>{sz(h.loaded,[o],u),vz(h,e),t&&h.errors.push(t),h.pendingCount===0&&!h.done&&(Object.keys(h.loaded).forEach(f=>{d[f]||(d[f]={});const y=h.loaded[f];y.length&&y.forEach(m=>{d[f][m]===void 0&&(d[f][m]=!0)})}),h.done=!0,h.errors.length?h.callback(h.errors):h.callback())}),this.emit("loaded",d),this.queue=this.queue.filter(h=>!h.done)}read(e,t,n,r=0,o=this.retryTimeout,u){if(!e.length)return u(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:n,tried:r,wait:o,callback:u});return}this.readingCalls++;const d=(f,y)=>{if(this.readingCalls--,this.waitingReads.length>0){const m=this.waitingReads.shift();this.read(m.lng,m.ns,m.fcName,m.tried,m.wait,m.callback)}if(f&&y&&r<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,n,r+1,o*2,u)},o);return}u(f,y)},h=this.backend[n].bind(this.backend);if(h.length===2){try{const f=h(e,t);f&&typeof f.then=="function"?f.then(y=>d(null,y)).catch(d):d(null,f)}catch(f){d(f)}return}return h(e,t,d)}prepareLoading(e,t,n={},r){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),r&&r();ur(e)&&(e=this.languageUtils.toResolveHierarchy(e)),ur(t)&&(t=[t]);const o=this.queueLoad(e,t,n,r);if(!o.toLoad.length)return o.pending.length||r(),null;o.toLoad.forEach(u=>{this.loadOne(u)})}load(e,t,n){this.prepareLoading(e,t,{},n)}reload(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}loadOne(e,t=""){const n=e.split("|"),r=n[0],o=n[1];this.read(r,o,"read",void 0,void 0,(u,d)=>{u&&this.logger.warn(`${t}loading namespace ${o} for language ${r} failed`,u),!u&&d&&this.logger.log(`${t}loaded namespace ${o} for language ${r}`,d),this.loaded(e,u,d)})}saveMissing(e,t,n,r,o,u={},d=()=>{}){var h,f,y,m,p;if((f=(h=this.services)==null?void 0:h.utils)!=null&&f.hasLoadedNamespace&&!((m=(y=this.services)==null?void 0:y.utils)!=null&&m.hasLoadedNamespace(t))){this.logger.warn(`did not save key "${n}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(n==null||n==="")){if((p=this.backend)!=null&&p.create){const T={...u,isUpdate:o},v=this.backend.create.bind(this.backend);if(v.length<6)try{let A;v.length===5?A=v(e,t,n,r,T):A=v(e,t,n,r),A&&typeof A.then=="function"?A.then(k=>d(null,k)).catch(d):d(null,A)}catch(A){d(A)}else v(e,t,n,r,d,T)}!e||!e[0]||this.store.addResource(e[0],t,n,r)}}}const MS=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:i=>{let e={};if(typeof i[1]=="object"&&(e=i[1]),ur(i[1])&&(e.defaultValue=i[1]),ur(i[2])&&(e.tDescription=i[2]),typeof i[2]=="object"||typeof i[3]=="object"){const t=i[3]||i[2];Object.keys(t).forEach(n=>{e[n]=t[n]})}return e},interpolation:{escapeValue:!0,format:i=>i,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),PS=i=>{var e,t;return ur(i.ns)&&(i.ns=[i.ns]),ur(i.fallbackLng)&&(i.fallbackLng=[i.fallbackLng]),ur(i.fallbackNS)&&(i.fallbackNS=[i.fallbackNS]),((t=(e=i.supportedLngs)==null?void 0:e.indexOf)==null?void 0:t.call(e,"cimode"))<0&&(i.supportedLngs=i.supportedLngs.concat(["cimode"])),typeof i.initImmediate=="boolean"&&(i.initAsync=i.initImmediate),i},Hm=()=>{},Sz=i=>{Object.getOwnPropertyNames(Object.getPrototypeOf(i)).forEach(t=>{typeof i[t]=="function"&&(i[t]=i[t].bind(i))})};class Nh extends Xp{constructor(e={},t){if(super(),this.options=PS(e),this.services={},this.logger=ro,this.modules={external:[]},Sz(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(e={},t){this.isInitializing=!0,typeof e=="function"&&(t=e,e={}),e.defaultNS==null&&e.ns&&(ur(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const n=MS();this.options={...n,...this.options,...PS(e)},this.options.interpolation={...n.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const r=f=>f?typeof f=="function"?new f:f:null;if(!this.options.isClone){this.modules.logger?ro.init(r(this.modules.logger),this.options):ro.init(null,this.options);let f;this.modules.formatter?f=this.modules.formatter:f=Ez;const y=new CS(this.options);this.store=new IS(this.options.resources,this.options);const m=this.services;m.logger=ro,m.resourceStore=this.store,m.languageUtils=y,m.pluralResolver=new mz(y,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==n.interpolation.format&&this.logger.warn("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),f&&(!this.options.interpolation.format||this.options.interpolation.format===n.interpolation.format)&&(m.formatter=r(f),m.formatter.init&&m.formatter.init(m,this.options),this.options.interpolation.format=m.formatter.format.bind(m.formatter)),m.interpolator=new pz(this.options),m.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},m.backendConnector=new Tz(r(this.modules.backend),m.resourceStore,m,this.options),m.backendConnector.on("*",(T,...v)=>{this.emit(T,...v)}),this.modules.languageDetector&&(m.languageDetector=r(this.modules.languageDetector),m.languageDetector.init&&m.languageDetector.init(m,this.options.detection,this.options)),this.modules.i18nFormat&&(m.i18nFormat=r(this.modules.i18nFormat),m.i18nFormat.init&&m.i18nFormat.init(this)),this.translator=new kp(this.services,this.options),this.translator.on("*",(T,...v)=>{this.emit(T,...v)}),this.modules.external.forEach(T=>{T.init&&T.init(this)})}if(this.format=this.options.interpolation.format,t||(t=Hm),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const f=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);f.length>0&&f[0]!=="dev"&&(this.options.lng=f[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(f=>{this[f]=(...y)=>this.store[f](...y)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(f=>{this[f]=(...y)=>(this.store[f](...y),this)});const d=dh(),h=()=>{const f=(y,m)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),d.resolve(m),t(y,m)};if(this.languages&&!this.isInitialized)return f(null,this.t.bind(this));this.changeLanguage(this.options.lng,f)};return this.options.resources||!this.options.initAsync?h():setTimeout(h,0),d}loadResources(e,t=Hm){var o,u;let n=t;const r=ur(e)?e:this.language;if(typeof e=="function"&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if((r==null?void 0:r.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();const d=[],h=f=>{if(!f||f==="cimode")return;this.services.languageUtils.toResolveHierarchy(f).forEach(m=>{m!=="cimode"&&d.indexOf(m)<0&&d.push(m)})};r?h(r):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(y=>h(y)),(u=(o=this.options.preload)==null?void 0:o.forEach)==null||u.call(o,f=>h(f)),this.services.backendConnector.load(d,this.options.ns,f=>{!f&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n(f)})}else n(null)}reloadResources(e,t,n){const r=dh();return typeof e=="function"&&(n=e,e=void 0),typeof t=="function"&&(n=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),n||(n=Hm),this.services.backendConnector.reload(e,t,o=>{r.resolve(),n(o)}),r}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&CR.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let t=0;t<this.languages.length;t++){const n=this.languages[t];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,t){this.isLanguageChangingTo=e;const n=dh();this.emit("languageChanging",e);const r=d=>{this.language=d,this.languages=this.services.languageUtils.toResolveHierarchy(d),this.resolvedLanguage=void 0,this.setResolvedLanguage(d)},o=(d,h)=>{h?this.isLanguageChangingTo===e&&(r(h),this.translator.changeLanguage(h),this.isLanguageChangingTo=void 0,this.emit("languageChanged",h),this.logger.log("languageChanged",h)):this.isLanguageChangingTo=void 0,n.resolve((...f)=>this.t(...f)),t&&t(d,(...f)=>this.t(...f))},u=d=>{var y,m;!e&&!d&&this.services.languageDetector&&(d=[]);const h=ur(d)?d:d&&d[0],f=this.store.hasLanguageSomeTranslations(h)?h:this.services.languageUtils.getBestMatchFromCodes(ur(d)?[d]:d);f&&(this.language||r(f),this.translator.language||this.translator.changeLanguage(f),(m=(y=this.services.languageDetector)==null?void 0:y.cacheUserLanguage)==null||m.call(y,f)),this.loadResources(f,p=>{o(p,f)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?u(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(u):this.services.languageDetector.detect(u):u(e),n}getFixedT(e,t,n){const r=(o,u,...d)=>{let h;typeof u!="object"?h=this.options.overloadTranslationOptionHandler([o,u].concat(d)):h={...u},h.lng=h.lng||r.lng,h.lngs=h.lngs||r.lngs,h.ns=h.ns||r.ns,h.keyPrefix!==""&&(h.keyPrefix=h.keyPrefix||n||r.keyPrefix);const f=this.options.keySeparator||".";let y;return h.keyPrefix&&Array.isArray(o)?y=o.map(m=>`${h.keyPrefix}${f}${m}`):y=h.keyPrefix?`${h.keyPrefix}${f}${o}`:o,this.t(y,h)};return ur(e)?r.lng=e:r.lngs=e,r.ns=t,r.keyPrefix=n,r}t(...e){var t;return(t=this.translator)==null?void 0:t.translate(...e)}exists(...e){var t;return(t=this.translator)==null?void 0:t.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,t={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=t.lng||this.resolvedLanguage||this.languages[0],r=this.options?this.options.fallbackLng:!1,o=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const u=(d,h)=>{const f=this.services.backendConnector.state[`${d}|${h}`];return f===-1||f===0||f===2};if(t.precheck){const d=t.precheck(this,u);if(d!==void 0)return d}return!!(this.hasResourceBundle(n,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||u(n,e)&&(!r||u(o,e)))}loadNamespaces(e,t){const n=dh();return this.options.ns?(ur(e)&&(e=[e]),e.forEach(r=>{this.options.ns.indexOf(r)<0&&this.options.ns.push(r)}),this.loadResources(r=>{n.resolve(),t&&t(r)}),n):(t&&t(),Promise.resolve())}loadLanguages(e,t){const n=dh();ur(e)&&(e=[e]);const r=this.options.preload||[],o=e.filter(u=>r.indexOf(u)<0&&this.services.languageUtils.isSupportedCode(u));return o.length?(this.options.preload=r.concat(o),this.loadResources(u=>{n.resolve(),t&&t(u)}),n):(t&&t(),Promise.resolve())}dir(e){var r,o;if(e||(e=this.resolvedLanguage||(((r=this.languages)==null?void 0:r.length)>0?this.languages[0]:this.language)),!e)return"rtl";try{const u=new Intl.Locale(e);if(u&&u.getTextInfo){const d=u.getTextInfo();if(d&&d.direction)return d.direction}}catch{}const t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],n=((o=this.services)==null?void 0:o.languageUtils)||new CS(MS());return e.toLowerCase().indexOf("-latn")>1?"ltr":t.indexOf(n.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},t){return new Nh(e,t)}cloneInstance(e={},t=Hm){const n=e.forkResourceStore;n&&delete e.forkResourceStore;const r={...this.options,...e,isClone:!0},o=new Nh(r);if((e.debug!==void 0||e.prefix!==void 0)&&(o.logger=o.logger.clone(e)),["store","services","language"].forEach(d=>{o[d]=this[d]}),o.services={...this.services},o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},n){const d=Object.keys(this.store.data).reduce((h,f)=>(h[f]={...this.store.data[f]},h[f]=Object.keys(h[f]).reduce((y,m)=>(y[m]={...h[f][m]},y),h[f]),h),{});o.store=new IS(d,r),o.services.resourceStore=o.store}return o.translator=new kp(o.services,r),o.translator.on("*",(d,...h)=>{o.emit(d,...h)}),o.init(r,t),o.translator.options=r,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const ca=Nh.createInstance();ca.createInstance=Nh.createInstance;ca.createInstance;ca.dir;ca.init;ca.loadResources;ca.reloadResources;ca.use;ca.changeLanguage;ca.getFixedT;ca.t;ca.exists;ca.setDefaultNamespace;ca.hasLoadedNamespace;ca.loadNamespaces;ca.loadLanguages;const{slice:_z,forEach:Az}=[];function Rz(i){return Az.call(_z.call(arguments,1),e=>{if(e)for(const t in e)i[t]===void 0&&(i[t]=e[t])}),i}function xz(i){return typeof i!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(t=>t.test(i))}const zS=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,Iz=function(i,e){const n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},r=encodeURIComponent(e);let o=`${i}=${r}`;if(n.maxAge>0){const u=n.maxAge-0;if(Number.isNaN(u))throw new Error("maxAge should be a Number");o+=`; Max-Age=${Math.floor(u)}`}if(n.domain){if(!zS.test(n.domain))throw new TypeError("option domain is invalid");o+=`; Domain=${n.domain}`}if(n.path){if(!zS.test(n.path))throw new TypeError("option path is invalid");o+=`; Path=${n.path}`}if(n.expires){if(typeof n.expires.toUTCString!="function")throw new TypeError("option expires is invalid");o+=`; Expires=${n.expires.toUTCString()}`}if(n.httpOnly&&(o+="; HttpOnly"),n.secure&&(o+="; Secure"),n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return n.partitioned&&(o+="; Partitioned"),o},FS={create(i,e,t,n){let r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};t&&(r.expires=new Date,r.expires.setTime(r.expires.getTime()+t*60*1e3)),n&&(r.domain=n),document.cookie=Iz(i,e,r)},read(i){const e=`${i}=`,t=document.cookie.split(";");for(let n=0;n<t.length;n++){let r=t[n];for(;r.charAt(0)===" ";)r=r.substring(1,r.length);if(r.indexOf(e)===0)return r.substring(e.length,r.length)}return null},remove(i,e){this.create(i,"",-1,e)}};var wz={name:"cookie",lookup(i){let{lookupCookie:e}=i;if(e&&typeof document<"u")return FS.read(e)||void 0},cacheUserLanguage(i,e){let{lookupCookie:t,cookieMinutes:n,cookieDomain:r,cookieOptions:o}=e;t&&typeof document<"u"&&FS.create(t,i,n,r,o)}},kz={name:"querystring",lookup(i){var n;let{lookupQuerystring:e}=i,t;if(typeof window<"u"){let{search:r}=window.location;!window.location.search&&((n=window.location.hash)==null?void 0:n.indexOf("?"))>-1&&(r=window.location.hash.substring(window.location.hash.indexOf("?")));const u=r.substring(1).split("&");for(let d=0;d<u.length;d++){const h=u[d].indexOf("=");h>0&&u[d].substring(0,h)===e&&(t=u[d].substring(h+1))}}return t}},Cz={name:"hash",lookup(i){var r;let{lookupHash:e,lookupFromHashIndex:t}=i,n;if(typeof window<"u"){const{hash:o}=window.location;if(o&&o.length>2){const u=o.substring(1);if(e){const d=u.split("&");for(let h=0;h<d.length;h++){const f=d[h].indexOf("=");f>0&&d[h].substring(0,f)===e&&(n=d[h].substring(f+1))}}if(n)return n;if(!n&&t>-1){const d=o.match(/\/([a-zA-Z-]*)/g);return Array.isArray(d)?(r=d[typeof t=="number"?t:0])==null?void 0:r.replace("/",""):void 0}}}return n}};let ad=null;const US=()=>{if(ad!==null)return ad;try{if(ad=typeof window<"u"&&window.localStorage!==null,!ad)return!1;const i="i18next.translate.boo";window.localStorage.setItem(i,"foo"),window.localStorage.removeItem(i)}catch{ad=!1}return ad};var Dz={name:"localStorage",lookup(i){let{lookupLocalStorage:e}=i;if(e&&US())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(i,e){let{lookupLocalStorage:t}=e;t&&US()&&window.localStorage.setItem(t,i)}};let sd=null;const BS=()=>{if(sd!==null)return sd;try{if(sd=typeof window<"u"&&window.sessionStorage!==null,!sd)return!1;const i="i18next.translate.boo";window.sessionStorage.setItem(i,"foo"),window.sessionStorage.removeItem(i)}catch{sd=!1}return sd};var Lz={name:"sessionStorage",lookup(i){let{lookupSessionStorage:e}=i;if(e&&BS())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(i,e){let{lookupSessionStorage:t}=e;t&&BS()&&window.sessionStorage.setItem(t,i)}},Nz={name:"navigator",lookup(i){const e=[];if(typeof navigator<"u"){const{languages:t,userLanguage:n,language:r}=navigator;if(t)for(let o=0;o<t.length;o++)e.push(t[o]);n&&e.push(n),r&&e.push(r)}return e.length>0?e:void 0}},Oz={name:"htmlTag",lookup(i){let{htmlTag:e}=i,t;const n=e||(typeof document<"u"?document.documentElement:null);return n&&typeof n.getAttribute=="function"&&(t=n.getAttribute("lang")),t}},Mz={name:"path",lookup(i){var r;let{lookupFromPathIndex:e}=i;if(typeof window>"u")return;const t=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(t)?(r=t[typeof e=="number"?e:0])==null?void 0:r.replace("/",""):void 0}},Pz={name:"subdomain",lookup(i){var r,o;let{lookupFromSubdomainIndex:e}=i;const t=typeof e=="number"?e+1:1,n=typeof window<"u"&&((o=(r=window.location)==null?void 0:r.hostname)==null?void 0:o.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(n)return n[t]}};let DR=!1;try{document.cookie,DR=!0}catch{}const LR=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];DR||LR.splice(1,1);const zz=()=>({order:LR,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:i=>i});class NR{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,t)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=Rz(t,this.options||{},zz()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=r=>r.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=n,this.addDetector(wz),this.addDetector(kz),this.addDetector(Dz),this.addDetector(Lz),this.addDetector(Nz),this.addDetector(Oz),this.addDetector(Mz),this.addDetector(Pz),this.addDetector(Cz)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,t=[];return e.forEach(n=>{if(this.detectors[n]){let r=this.detectors[n].lookup(this.options);r&&typeof r=="string"&&(r=[r]),r&&(t=t.concat(r))}}),t=t.filter(n=>n!=null&&!xz(n)).map(n=>this.options.convertDetectedLanguage(n)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?t:t.length>0?t[0]:null}cacheUserLanguage(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;t&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||t.forEach(n=>{this.detectors[n]&&this.detectors[n].cacheUserLanguage(e,this.options)}))}}NR.type="languageDetector";const Fz={volume:"Volume",isOnLive:"is on live!",playStreamError:"Unable to play the stream. Please check the URL or try again later.",audioVisualizer:"Audio Visualizer",play:"Play",stop:"Stop"},Uz={dashboard:Fz},Bz={volume:"Volumen",isOnLive:"est en directo",playStreamError:"No es posible conectar con la emisin en directo. Por favor, comprueba la URL o intentalo de nuevo mas tarde.",audioVisualizer:"Visualizador de audio",play:"Reproducir",stop:"Detener"},jz={dashboard:Bz},qz={volume:"",isOnLive:"  ",playStreamError:"    .  URL-    .",audioVisualizer:"",play:"",stop:""},Gz={dashboard:qz};ca.use(NR).use(AP).init({resources:{"en-US":{translation:Uz},"ru-RU":{translation:Gz},es:{translation:jz}},fallbackLng:"en-US",detection:{order:["htmlTag","localStorage","navigator"],caches:["localStorage"]},interpolation:{escapeValue:!1}});Px.createRoot(document.getElementById("root")).render(bn.jsx(Et.StrictMode,{children:bn.jsxs(uC,{theme:D_,children:[bn.jsx(pC,{}),bn.jsx(rz,{})]})}))});export default $z();
